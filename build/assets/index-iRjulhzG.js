(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();function bM(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Lv={exports:{}},xc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lb;function SM(){if(lb)return xc;lb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,s,o){var l=null;if(o!==void 0&&(l=""+o),s.key!==void 0&&(l=""+s.key),"key"in s){o={};for(var c in s)c!=="key"&&(o[c]=s[c])}else o=s;return s=o.ref,{$$typeof:n,type:i,key:l,ref:s!==void 0?s:null,props:o}}return xc.Fragment=e,xc.jsx=t,xc.jsxs=t,xc}var ub;function xM(){return ub||(ub=1,Lv.exports=SM()),Lv.exports}var w=xM(),Vv={exports:{}},ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cb;function CM(){if(cb)return ke;cb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function _(F){return F===null||typeof F!="object"?null:(F=y&&F[y]||F["@@iterator"],typeof F=="function"?F:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,D={};function j(F,ne,ge){this.props=F,this.context=ne,this.refs=D,this.updater=ge||T}j.prototype.isReactComponent={},j.prototype.setState=function(F,ne){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,ne,"setState")},j.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function P(){}P.prototype=j.prototype;function I(F,ne,ge){this.props=F,this.context=ne,this.refs=D,this.updater=ge||T}var L=I.prototype=new P;L.constructor=I,x(L,j.prototype),L.isPureReactComponent=!0;var q=Array.isArray,H={H:null,A:null,T:null,S:null},Z=Object.prototype.hasOwnProperty;function O(F,ne,ge,fe,pe,Oe){return ge=Oe.ref,{$$typeof:n,type:F,key:ne,ref:ge!==void 0?ge:null,props:Oe}}function A(F,ne){return O(F.type,ne,void 0,void 0,void 0,F.props)}function C(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function R(F){var ne={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ge){return ne[ge]})}var k=/\/+/g;function B(F,ne){return typeof F=="object"&&F!==null&&F.key!=null?R(""+F.key):ne.toString(36)}function V(){}function he(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(V,V):(F.status="pending",F.then(function(ne){F.status==="pending"&&(F.status="fulfilled",F.value=ne)},function(ne){F.status==="pending"&&(F.status="rejected",F.reason=ne)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function ye(F,ne,ge,fe,pe){var Oe=typeof F;(Oe==="undefined"||Oe==="boolean")&&(F=null);var Me=!1;if(F===null)Me=!0;else switch(Oe){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(F.$$typeof){case n:case e:Me=!0;break;case g:return Me=F._init,ye(Me(F._payload),ne,ge,fe,pe)}}if(Me)return pe=pe(F),Me=fe===""?"."+B(F,0):fe,q(pe)?(ge="",Me!=null&&(ge=Me.replace(k,"$&/")+"/"),ye(pe,ne,ge,"",function(vt){return vt})):pe!=null&&(C(pe)&&(pe=A(pe,ge+(pe.key==null||F&&F.key===pe.key?"":(""+pe.key).replace(k,"$&/")+"/")+Me)),ne.push(pe)),1;Me=0;var Ct=fe===""?".":fe+":";if(q(F))for(var Ye=0;Ye<F.length;Ye++)fe=F[Ye],Oe=Ct+B(fe,Ye),Me+=ye(fe,ne,ge,Oe,pe);else if(Ye=_(F),typeof Ye=="function")for(F=Ye.call(F),Ye=0;!(fe=F.next()).done;)fe=fe.value,Oe=Ct+B(fe,Ye++),Me+=ye(fe,ne,ge,Oe,pe);else if(Oe==="object"){if(typeof F.then=="function")return ye(he(F),ne,ge,fe,pe);throw ne=String(F),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Me}function ae(F,ne,ge){if(F==null)return F;var fe=[],pe=0;return ye(F,fe,"","",function(Oe){return ne.call(ge,Oe,pe++)}),fe}function de(F){if(F._status===-1){var ne=F._result;ne=ne(),ne.then(function(ge){(F._status===0||F._status===-1)&&(F._status=1,F._result=ge)},function(ge){(F._status===0||F._status===-1)&&(F._status=2,F._result=ge)}),F._status===-1&&(F._status=0,F._result=ne)}if(F._status===1)return F._result.default;throw F._result}var re=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function ve(){}return ke.Children={map:ae,forEach:function(F,ne,ge){ae(F,function(){ne.apply(this,arguments)},ge)},count:function(F){var ne=0;return ae(F,function(){ne++}),ne},toArray:function(F){return ae(F,function(ne){return ne})||[]},only:function(F){if(!C(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},ke.Component=j,ke.Fragment=t,ke.Profiler=s,ke.PureComponent=I,ke.StrictMode=i,ke.Suspense=h,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,ke.act=function(){throw Error("act(...) is not supported in production builds of React.")},ke.cache=function(F){return function(){return F.apply(null,arguments)}},ke.cloneElement=function(F,ne,ge){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var fe=x({},F.props),pe=F.key,Oe=void 0;if(ne!=null)for(Me in ne.ref!==void 0&&(Oe=void 0),ne.key!==void 0&&(pe=""+ne.key),ne)!Z.call(ne,Me)||Me==="key"||Me==="__self"||Me==="__source"||Me==="ref"&&ne.ref===void 0||(fe[Me]=ne[Me]);var Me=arguments.length-2;if(Me===1)fe.children=ge;else if(1<Me){for(var Ct=Array(Me),Ye=0;Ye<Me;Ye++)Ct[Ye]=arguments[Ye+2];fe.children=Ct}return O(F.type,pe,void 0,void 0,Oe,fe)},ke.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:o,_context:F},F},ke.createElement=function(F,ne,ge){var fe,pe={},Oe=null;if(ne!=null)for(fe in ne.key!==void 0&&(Oe=""+ne.key),ne)Z.call(ne,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(pe[fe]=ne[fe]);var Me=arguments.length-2;if(Me===1)pe.children=ge;else if(1<Me){for(var Ct=Array(Me),Ye=0;Ye<Me;Ye++)Ct[Ye]=arguments[Ye+2];pe.children=Ct}if(F&&F.defaultProps)for(fe in Me=F.defaultProps,Me)pe[fe]===void 0&&(pe[fe]=Me[fe]);return O(F,Oe,void 0,void 0,null,pe)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(F){return{$$typeof:c,render:F}},ke.isValidElement=C,ke.lazy=function(F){return{$$typeof:g,_payload:{_status:-1,_result:F},_init:de}},ke.memo=function(F,ne){return{$$typeof:f,type:F,compare:ne===void 0?null:ne}},ke.startTransition=function(F){var ne=H.T,ge={};H.T=ge;try{var fe=F(),pe=H.S;pe!==null&&pe(ge,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(ve,re)}catch(Oe){re(Oe)}finally{H.T=ne}},ke.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},ke.use=function(F){return H.H.use(F)},ke.useActionState=function(F,ne,ge){return H.H.useActionState(F,ne,ge)},ke.useCallback=function(F,ne){return H.H.useCallback(F,ne)},ke.useContext=function(F){return H.H.useContext(F)},ke.useDebugValue=function(){},ke.useDeferredValue=function(F,ne){return H.H.useDeferredValue(F,ne)},ke.useEffect=function(F,ne){return H.H.useEffect(F,ne)},ke.useId=function(){return H.H.useId()},ke.useImperativeHandle=function(F,ne,ge){return H.H.useImperativeHandle(F,ne,ge)},ke.useInsertionEffect=function(F,ne){return H.H.useInsertionEffect(F,ne)},ke.useLayoutEffect=function(F,ne){return H.H.useLayoutEffect(F,ne)},ke.useMemo=function(F,ne){return H.H.useMemo(F,ne)},ke.useOptimistic=function(F,ne){return H.H.useOptimistic(F,ne)},ke.useReducer=function(F,ne,ge){return H.H.useReducer(F,ne,ge)},ke.useRef=function(F){return H.H.useRef(F)},ke.useState=function(F){return H.H.useState(F)},ke.useSyncExternalStore=function(F,ne,ge){return H.H.useSyncExternalStore(F,ne,ge)},ke.useTransition=function(){return H.H.useTransition()},ke.version="19.0.0",ke}var hb;function V_(){return hb||(hb=1,Vv.exports=CM()),Vv.exports}var U=V_();const ht=bM(U);var jv={exports:{}},Cc={},Uv={exports:{}},Bv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var db;function AM(){return db||(db=1,function(n){function e(ae,de){var re=ae.length;ae.push(de);e:for(;0<re;){var ve=re-1>>>1,F=ae[ve];if(0<s(F,de))ae[ve]=de,ae[re]=F,re=ve;else break e}}function t(ae){return ae.length===0?null:ae[0]}function i(ae){if(ae.length===0)return null;var de=ae[0],re=ae.pop();if(re!==de){ae[0]=re;e:for(var ve=0,F=ae.length,ne=F>>>1;ve<ne;){var ge=2*(ve+1)-1,fe=ae[ge],pe=ge+1,Oe=ae[pe];if(0>s(fe,re))pe<F&&0>s(Oe,fe)?(ae[ve]=Oe,ae[pe]=re,ve=pe):(ae[ve]=fe,ae[ge]=re,ve=ge);else if(pe<F&&0>s(Oe,re))ae[ve]=Oe,ae[pe]=re,ve=pe;else break e}}return de}function s(ae,de){var re=ae.sortIndex-de.sortIndex;return re!==0?re:ae.id-de.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var h=[],f=[],g=1,y=null,_=3,T=!1,x=!1,D=!1,j=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function L(ae){for(var de=t(f);de!==null;){if(de.callback===null)i(f);else if(de.startTime<=ae)i(f),de.sortIndex=de.expirationTime,e(h,de);else break;de=t(f)}}function q(ae){if(D=!1,L(ae),!x)if(t(h)!==null)x=!0,he();else{var de=t(f);de!==null&&ye(q,de.startTime-ae)}}var H=!1,Z=-1,O=5,A=-1;function C(){return!(n.unstable_now()-A<O)}function R(){if(H){var ae=n.unstable_now();A=ae;var de=!0;try{e:{x=!1,D&&(D=!1,P(Z),Z=-1),T=!0;var re=_;try{t:{for(L(ae),y=t(h);y!==null&&!(y.expirationTime>ae&&C());){var ve=y.callback;if(typeof ve=="function"){y.callback=null,_=y.priorityLevel;var F=ve(y.expirationTime<=ae);if(ae=n.unstable_now(),typeof F=="function"){y.callback=F,L(ae),de=!0;break t}y===t(h)&&i(h),L(ae)}else i(h);y=t(h)}if(y!==null)de=!0;else{var ne=t(f);ne!==null&&ye(q,ne.startTime-ae),de=!1}}break e}finally{y=null,_=re,T=!1}de=void 0}}finally{de?k():H=!1}}}var k;if(typeof I=="function")k=function(){I(R)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,V=B.port2;B.port1.onmessage=R,k=function(){V.postMessage(null)}}else k=function(){j(R,0)};function he(){H||(H=!0,k())}function ye(ae,de){Z=j(function(){ae(n.unstable_now())},de)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ae){ae.callback=null},n.unstable_continueExecution=function(){x||T||(x=!0,he())},n.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<ae?Math.floor(1e3/ae):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(ae){switch(_){case 1:case 2:case 3:var de=3;break;default:de=_}var re=_;_=de;try{return ae()}finally{_=re}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ae,de){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var re=_;_=ae;try{return de()}finally{_=re}},n.unstable_scheduleCallback=function(ae,de,re){var ve=n.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ve+re:ve):re=ve,ae){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=re+F,ae={id:g++,callback:de,priorityLevel:ae,startTime:re,expirationTime:F,sortIndex:-1},re>ve?(ae.sortIndex=re,e(f,ae),t(h)===null&&ae===t(f)&&(D?(P(Z),Z=-1):D=!0,ye(q,re-ve))):(ae.sortIndex=F,e(h,ae),x||T||(x=!0,he())),ae},n.unstable_shouldYield=C,n.unstable_wrapCallback=function(ae){var de=_;return function(){var re=_;_=de;try{return ae.apply(this,arguments)}finally{_=re}}}}(Bv)),Bv}var fb;function RM(){return fb||(fb=1,Uv.exports=AM()),Uv.exports}var zv={exports:{}},Cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pb;function IM(){if(pb)return Cn;pb=1;var n=V_();function e(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(h,f,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:h,containerInfo:f,implementation:g}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Cn.createPortal=function(h,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(h,f,null,g)},Cn.flushSync=function(h){var f=l.T,g=i.p;try{if(l.T=null,i.p=2,h)return h()}finally{l.T=f,i.p=g,i.d.f()}},Cn.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(h,f))},Cn.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},Cn.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var g=f.as,y=c(g,f.crossOrigin),_=typeof f.integrity=="string"?f.integrity:void 0,T=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?i.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:T}):g==="script"&&i.d.X(h,{crossOrigin:y,integrity:_,fetchPriority:T,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Cn.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=c(f.as,f.crossOrigin);i.d.M(h,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(h)},Cn.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,y=c(g,f.crossOrigin);i.d.L(h,g,{crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Cn.preloadModule=function(h,f){if(typeof h=="string")if(f){var g=c(f.as,f.crossOrigin);i.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(h)},Cn.requestFormReset=function(h){i.d.r(h)},Cn.unstable_batchedUpdates=function(h,f){return h(f)},Cn.useFormState=function(h,f,g){return l.H.useFormState(h,f,g)},Cn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Cn.version="19.0.0",Cn}var mb;function NM(){if(mb)return zv.exports;mb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),zv.exports=IM(),zv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gb;function PM(){if(gb)return Cc;gb=1;var n=RM(),e=V_(),t=NM();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}var o=Symbol.for("react.element"),l=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),_=Symbol.for("react.consumer"),T=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),L=Symbol.for("react.offscreen"),q=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function Z(r){return r===null||typeof r!="object"?null:(r=H&&r[H]||r["@@iterator"],typeof r=="function"?r:null)}var O=Symbol.for("react.client.reference");function A(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===O?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case h:return"Fragment";case c:return"Portal";case g:return"Profiler";case f:return"StrictMode";case D:return"Suspense";case j:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case T:return(r.displayName||"Context")+".Provider";case _:return(r._context.displayName||"Context")+".Consumer";case x:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case P:return a=r.displayName||null,a!==null?a:A(r.type)||"Memo";case I:a=r._payload,r=r._init;try{return A(r(a))}catch{}}return null}var C=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R=Object.assign,k,B;function V(r){if(k===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);k=a&&a[1]||"",B=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+k+r+B}var he=!1;function ye(r,a){if(!r||he)return"";he=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(a){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(J){var Q=J}Reflect.construct(r,[],se)}else{try{se.call()}catch(J){Q=J}r.call(se.prototype)}}else{try{throw Error()}catch(J){Q=J}(se=r())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(J){if(J&&Q&&typeof J.stack=="string")return[J.stack,Q.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=d.DetermineComponentFrameRoot(),S=v[0],N=v[1];if(S&&N){var z=S.split(`
`),$=N.split(`
`);for(m=d=0;d<z.length&&!z[d].includes("DetermineComponentFrameRoot");)d++;for(;m<$.length&&!$[m].includes("DetermineComponentFrameRoot");)m++;if(d===z.length||m===$.length)for(d=z.length-1,m=$.length-1;1<=d&&0<=m&&z[d]!==$[m];)m--;for(;1<=d&&0<=m;d--,m--)if(z[d]!==$[m]){if(d!==1||m!==1)do if(d--,m--,0>m||z[d]!==$[m]){var ee=`
`+z[d].replace(" at new "," at ");return r.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",r.displayName)),ee}while(1<=d&&0<=m);break}}}finally{he=!1,Error.prepareStackTrace=u}return(u=r?r.displayName||r.name:"")?V(u):""}function ae(r){switch(r.tag){case 26:case 27:case 5:return V(r.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 15:return r=ye(r.type,!1),r;case 11:return r=ye(r.type.render,!1),r;case 1:return r=ye(r.type,!0),r;default:return""}}function de(r){try{var a="";do a+=ae(r),r=r.return;while(r);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function re(r){var a=r,u=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,a.flags&4098&&(u=a.return),r=a.return;while(r)}return a.tag===3?u:null}function ve(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function F(r){if(re(r)!==r)throw Error(i(188))}function ne(r){var a=r.alternate;if(!a){if(a=re(r),a===null)throw Error(i(188));return a!==r?null:r}for(var u=r,d=a;;){var m=u.return;if(m===null)break;var v=m.alternate;if(v===null){if(d=m.return,d!==null){u=d;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===u)return F(m),r;if(v===d)return F(m),a;v=v.sibling}throw Error(i(188))}if(u.return!==d.return)u=m,d=v;else{for(var S=!1,N=m.child;N;){if(N===u){S=!0,u=m,d=v;break}if(N===d){S=!0,d=m,u=v;break}N=N.sibling}if(!S){for(N=v.child;N;){if(N===u){S=!0,u=v,d=m;break}if(N===d){S=!0,d=v,u=m;break}N=N.sibling}if(!S)throw Error(i(189))}}if(u.alternate!==d)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?r:a}function ge(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=ge(r),a!==null)return a;r=r.sibling}return null}var fe=Array.isArray,pe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Oe={pending:!1,data:null,method:null,action:null},Me=[],Ct=-1;function Ye(r){return{current:r}}function vt(r){0>Ct||(r.current=Me[Ct],Me[Ct]=null,Ct--)}function Qe(r,a){Ct++,Me[Ct]=r.current,r.current=a}var dn=Ye(null),ai=Ye(null),On=Ye(null),qi=Ye(null);function Gi(r,a){switch(Qe(On,a),Qe(ai,r),Qe(dn,null),r=a.nodeType,r){case 9:case 11:a=(a=a.documentElement)&&(a=a.namespaceURI)?V1(a):0;break;default:if(r=r===8?a.parentNode:a,a=r.tagName,r=r.namespaceURI)r=V1(r),a=j1(r,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}vt(dn),Qe(dn,a)}function oe(){vt(dn),vt(ai),vt(On)}function we(r){r.memoizedState!==null&&Qe(qi,r);var a=dn.current,u=j1(a,r.type);a!==u&&(Qe(ai,r),Qe(dn,u))}function He(r){ai.current===r&&(vt(dn),vt(ai)),qi.current===r&&(vt(qi),Ec._currentValue=Oe)}var qe=Object.prototype.hasOwnProperty,Ut=n.unstable_scheduleCallback,qt=n.unstable_cancelCallback,$i=n.unstable_shouldYield,Ri=n.unstable_requestPaint,Gt=n.unstable_now,wu=n.unstable_getCurrentPriorityLevel,Ot=n.unstable_ImmediatePriority,en=n.unstable_UserBlockingPriority,Cs=n.unstable_NormalPriority,Qh=n.unstable_LowPriority,Tu=n.unstable_IdlePriority,Um=n.log,Pa=n.unstable_setDisableYieldValue,vr=null,Sn=null;function bu(r){if(Sn&&typeof Sn.onCommitFiberRoot=="function")try{Sn.onCommitFiberRoot(vr,r,void 0,(r.current.flags&128)===128)}catch{}}function Ki(r){if(typeof Um=="function"&&Pa(r),Sn&&typeof Sn.setStrictMode=="function")try{Sn.setStrictMode(vr,r)}catch{}}var kn=Math.clz32?Math.clz32:Zh,Su=Math.log,Xh=Math.LN2;function Zh(r){return r>>>=0,r===0?32:31-(Su(r)/Xh|0)|0}var Wi=128,yr=4194304;function Ii(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function oi(r,a){var u=r.pendingLanes;if(u===0)return 0;var d=0,m=r.suspendedLanes,v=r.pingedLanes,S=r.warmLanes;r=r.finishedLanes!==0;var N=u&134217727;return N!==0?(u=N&~m,u!==0?d=Ii(u):(v&=N,v!==0?d=Ii(v):r||(S=N&~S,S!==0&&(d=Ii(S))))):(N=u&~m,N!==0?d=Ii(N):v!==0?d=Ii(v):r||(S=u&~S,S!==0&&(d=Ii(S)))),d===0?0:a!==0&&a!==d&&!(a&m)&&(m=d&-d,S=a&-a,m>=S||m===32&&(S&4194176)!==0)?a:d}function _r(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function Oo(r,a){switch(r){case 1:case 2:case 4:case 8:return a+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xu(){var r=Wi;return Wi<<=1,!(Wi&4194176)&&(Wi=128),r}function Er(){var r=yr;return yr<<=1,!(yr&62914560)&&(yr=4194304),r}function ko(r){for(var a=[],u=0;31>u;u++)a.push(r);return a}function kt(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Jh(r,a,u,d,m,v){var S=r.pendingLanes;r.pendingLanes=u,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=u,r.entangledLanes&=u,r.errorRecoveryDisabledLanes&=u,r.shellSuspendCounter=0;var N=r.entanglements,z=r.expirationTimes,$=r.hiddenUpdates;for(u=S&~u;0<u;){var ee=31-kn(u),se=1<<ee;N[ee]=0,z[ee]=-1;var Q=$[ee];if(Q!==null)for($[ee]=null,ee=0;ee<Q.length;ee++){var J=Q[ee];J!==null&&(J.lane&=-536870913)}u&=~se}d!==0&&wr(r,d,0),v!==0&&m===0&&r.tag!==0&&(r.suspendedLanes|=v&~(S&~a))}function wr(r,a,u){r.pendingLanes|=a,r.suspendedLanes&=~a;var d=31-kn(a);r.entangledLanes|=a,r.entanglements[d]=r.entanglements[d]|1073741824|u&4194218}function Tr(r,a){var u=r.entangledLanes|=a;for(r=r.entanglements;u;){var d=31-kn(u),m=1<<d;m&a|r[d]&a&&(r[d]|=a),u&=~m}}function ed(r){return r&=-r,2<r?8<r?r&134217727?32:268435456:8:2}function td(){var r=pe.p;return r!==0?r:(r=window.event,r===void 0?32:nb(r.type))}function br(r,a){var u=pe.p;try{return pe.p=r,a()}finally{pe.p=u}}var Yi=Math.random().toString(36).slice(2),tn="__reactFiber$"+Yi,$t="__reactProps$"+Yi,As="__reactContainer$"+Yi,Da="__reactEvents$"+Yi,Lo="__reactListeners$"+Yi,Qi="__reactHandles$"+Yi,Cu="__reactResources$"+Yi,Sr="__reactMarker$"+Yi;function Ma(r){delete r[tn],delete r[$t],delete r[Da],delete r[Lo],delete r[Qi]}function Ni(r){var a=r[tn];if(a)return a;for(var u=r.parentNode;u;){if(a=u[As]||u[tn]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(r=z1(r);r!==null;){if(u=r[tn])return u;r=z1(r)}return a}r=u,u=r.parentNode}return null}function Rs(r){if(r=r[tn]||r[As]){var a=r.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return r}return null}function xr(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function Cr(r){var a=r[Cu];return a||(a=r[Cu]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Et(r){r[Sr]=!0}var Au=new Set,Vo={};function Wn(r,a){Hn(r,a),Hn(r+"Capture",a)}function Hn(r,a){for(Vo[r]=a,r=0;r<a.length;r++)Au.add(a[r])}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bm=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ru={},Iu={};function nd(r){return qe.call(Iu,r)?!0:qe.call(Ru,r)?!1:Bm.test(r)?Iu[r]=!0:(Ru[r]=!0,!1)}function Ar(r,a,u){if(nd(a))if(u===null)r.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var d=a.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+u)}}function Rr(r,a,u){if(u===null)r.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+u)}}function li(r,a,u,d){if(d===null)r.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(u);return}r.setAttributeNS(a,u,""+d)}}function Ln(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function id(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function zm(r){var a=id(r)?"checked":"value",u=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),d=""+r[a];if(!r.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,v=u.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return m.call(this)},set:function(S){d=""+S,v.call(this,S)}}),Object.defineProperty(r,a,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(S){d=""+S},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function Oa(r){r._valueTracker||(r._valueTracker=zm(r))}function Nu(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var u=a.getValue(),d="";return r&&(d=id(r)?r.checked?"true":"false":r.value),r=d,r!==u?(a.setValue(r),!0):!1}function jo(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Is=/[\n"\\]/g;function At(r){return r.replace(Is,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Ir(r,a,u,d,m,v,S,N){r.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.type=S:r.removeAttribute("type"),a!=null?S==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+Ln(a)):r.value!==""+Ln(a)&&(r.value=""+Ln(a)):S!=="submit"&&S!=="reset"||r.removeAttribute("value"),a!=null?Uo(r,S,Ln(a)):u!=null?Uo(r,S,Ln(u)):d!=null&&r.removeAttribute("value"),m==null&&v!=null&&(r.defaultChecked=!!v),m!=null&&(r.checked=m&&typeof m!="function"&&typeof m!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?r.name=""+Ln(N):r.removeAttribute("name")}function ka(r,a,u,d,m,v,S,N){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(r.type=v),a!=null||u!=null){if(!(v!=="submit"&&v!=="reset"||a!=null))return;u=u!=null?""+Ln(u):"",a=a!=null?""+Ln(a):u,N||a===r.value||(r.value=a),r.defaultValue=a}d=d??m,d=typeof d!="function"&&typeof d!="symbol"&&!!d,r.checked=N?r.checked:!!d,r.defaultChecked=!!d,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(r.name=S)}function Uo(r,a,u){a==="number"&&jo(r.ownerDocument)===r||r.defaultValue===""+u||(r.defaultValue=""+u)}function tt(r,a,u,d){if(r=r.options,a){a={};for(var m=0;m<u.length;m++)a["$"+u[m]]=!0;for(u=0;u<r.length;u++)m=a.hasOwnProperty("$"+r[u].value),r[u].selected!==m&&(r[u].selected=m),m&&d&&(r[u].defaultSelected=!0)}else{for(u=""+Ln(u),a=null,m=0;m<r.length;m++){if(r[m].value===u){r[m].selected=!0,d&&(r[m].defaultSelected=!0);return}a!==null||r[m].disabled||(a=r[m])}a!==null&&(a.selected=!0)}}function La(r,a,u){if(a!=null&&(a=""+Ln(a),a!==r.value&&(r.value=a),u==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=u!=null?""+Ln(u):""}function Nr(r,a,u,d){if(a==null){if(d!=null){if(u!=null)throw Error(i(92));if(fe(d)){if(1<d.length)throw Error(i(93));d=d[0]}u=d}u==null&&(u=""),a=u}u=Ln(a),r.defaultValue=u,d=r.textContent,d===u&&d!==""&&d!==null&&(r.value=d)}function ui(r,a){if(a){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=a;return}}r.textContent=a}var Fm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pu(r,a,u){var d=a.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?d?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":d?r.setProperty(a,u):typeof u!="number"||u===0||Fm.has(a)?a==="float"?r.cssFloat=u:r[a]=(""+u).trim():r[a]=u+"px"}function sd(r,a,u){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,u!=null){for(var d in u)!u.hasOwnProperty(d)||a!=null&&a.hasOwnProperty(d)||(d.indexOf("--")===0?r.setProperty(d,""):d==="float"?r.cssFloat="":r[d]="");for(var m in a)d=a[m],a.hasOwnProperty(m)&&u[m]!==d&&Pu(r,m,d)}else for(var v in a)a.hasOwnProperty(v)&&Pu(r,v,a[v])}function Du(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xi(r){return qm.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var ci=null;function Bo(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ns=null,Ps=null;function Ds(r){var a=Rs(r);if(a&&(r=a.stateNode)){var u=r[$t]||null;e:switch(r=a.stateNode,a.type){case"input":if(Ir(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),a=u.name,u.type==="radio"&&a!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+At(""+a)+'"][type="radio"]'),a=0;a<u.length;a++){var d=u[a];if(d!==r&&d.form===r.form){var m=d[$t]||null;if(!m)throw Error(i(90));Ir(d,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<u.length;a++)d=u[a],d.form===r.form&&Nu(d)}break e;case"textarea":La(r,u.value,u.defaultValue);break e;case"select":a=u.value,a!=null&&tt(r,!!u.multiple,a,!1)}}}var Mu=!1;function rd(r,a,u){if(Mu)return r(a,u);Mu=!0;try{var d=r(a);return d}finally{if(Mu=!1,(Ns!==null||Ps!==null)&&(Qd(),Ns&&(a=Ns,r=Ps,Ps=Ns=null,Ds(a),r)))for(a=0;a<r.length;a++)Ds(r[a])}}function Va(r,a){var u=r.stateNode;if(u===null)return null;var d=u[$t]||null;if(d===null)return null;u=d[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(i(231,a,typeof u));return u}var hi=!1;if(Yn)try{var ja={};Object.defineProperty(ja,"passive",{get:function(){hi=!0}}),window.addEventListener("test",ja,ja),window.removeEventListener("test",ja,ja)}catch{hi=!1}var Zi=null,Pr=null,Ms=null;function Ou(){if(Ms)return Ms;var r,a=Pr,u=a.length,d,m="value"in Zi?Zi.value:Zi.textContent,v=m.length;for(r=0;r<u&&a[r]===m[r];r++);var S=u-r;for(d=1;d<=S&&a[u-d]===m[v-d];d++);return Ms=m.slice(r,1<d?1-d:void 0)}function Ji(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function es(){return!0}function ku(){return!1}function nn(r){function a(u,d,m,v,S){this._reactName=u,this._targetInst=m,this.type=d,this.nativeEvent=v,this.target=S,this.currentTarget=null;for(var N in r)r.hasOwnProperty(N)&&(u=r[N],this[N]=u?u(v):v[N]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?es:ku,this.isPropagationStopped=ku,this}return R(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=es)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=es)},persist:function(){},isPersistent:es}),a}var rt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zo=nn(rt),Ua=R({},rt,{view:0,detail:0}),ad=nn(Ua),Fo,Ho,ts,Ba=R({},Ua,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ha,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ts&&(ts&&r.type==="mousemove"?(Fo=r.screenX-ts.screenX,Ho=r.screenY-ts.screenY):Ho=Fo=0,ts=r),Fo)},movementY:function(r){return"movementY"in r?r.movementY:Ho}}),di=nn(Ba),od=R({},Ba,{dataTransfer:0}),Gm=nn(od),za=R({},Ua,{relatedTarget:0}),qo=nn(za),Lu=R({},rt,{animationName:0,elapsedTime:0,pseudoElement:0}),Go=nn(Lu),ld=R({},rt,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),$o=nn(ld),$m=R({},rt,{data:0}),Vu=nn($m),Fa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ud={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ju(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=cd[r])?!!a[r]:!1}function Ha(){return ju}var hd=R({},Ua,{key:function(r){if(r.key){var a=Fa[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=Ji(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?ud[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ha,charCode:function(r){return r.type==="keypress"?Ji(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ji(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Ko=nn(hd),dd=R({},Ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uu=nn(dd),Os=R({},Ua,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ha}),fd=nn(Os),pd=R({},rt,{propertyName:0,elapsedTime:0,pseudoElement:0}),md=nn(pd),gd=R({},Ba,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Wo=nn(gd),Vn=R({},rt,{newState:0,oldState:0}),vd=nn(Vn),yd=[9,13,27,32],ns=Yn&&"CompositionEvent"in window,p=null;Yn&&"documentMode"in document&&(p=document.documentMode);var E=Yn&&"TextEvent"in window&&!p,b=Yn&&(!ns||p&&8<p&&11>=p),M=" ",W=!1;function X(r,a){switch(r){case"keyup":return yd.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ce(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Xe=!1;function Kt(r,a){switch(r){case"compositionend":return ce(a);case"keypress":return a.which!==32?null:(W=!0,M);case"textInput":return r=a.data,r===M&&W?null:r;default:return null}}function Ze(r,a){if(Xe)return r==="compositionend"||!ns&&X(r,a)?(r=Ou(),Ms=Pr=Zi=null,Xe=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return b&&a.locale!=="ko"?null:a.data;default:return null}}var sn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wt(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!sn[r.type]:a==="textarea"}function ks(r,a,u,d){Ns?Ps?Ps.push(d):Ps=[d]:Ns=d,a=tf(a,"onChange"),0<a.length&&(u=new zo("onChange","change",null,u,d),r.push({event:u,listeners:a}))}var fn=null,is=null;function Bu(r){D1(r,0)}function _d(r){var a=xr(r);if(Nu(a))return r}function ow(r,a){if(r==="change")return a}var lw=!1;if(Yn){var Km;if(Yn){var Wm="oninput"in document;if(!Wm){var uw=document.createElement("div");uw.setAttribute("oninput","return;"),Wm=typeof uw.oninput=="function"}Km=Wm}else Km=!1;lw=Km&&(!document.documentMode||9<document.documentMode)}function cw(){fn&&(fn.detachEvent("onpropertychange",hw),is=fn=null)}function hw(r){if(r.propertyName==="value"&&_d(is)){var a=[];ks(a,is,r,Bo(r)),rd(Bu,a)}}function JP(r,a,u){r==="focusin"?(cw(),fn=a,is=u,fn.attachEvent("onpropertychange",hw)):r==="focusout"&&cw()}function eD(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return _d(is)}function tD(r,a){if(r==="click")return _d(a)}function nD(r,a){if(r==="input"||r==="change")return _d(a)}function iD(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var Qn=typeof Object.is=="function"?Object.is:iD;function zu(r,a){if(Qn(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var u=Object.keys(r),d=Object.keys(a);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var m=u[d];if(!qe.call(a,m)||!Qn(r[m],a[m]))return!1}return!0}function dw(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function fw(r,a){var u=dw(r);r=0;for(var d;u;){if(u.nodeType===3){if(d=r+u.textContent.length,r<=a&&d>=a)return{node:u,offset:a-r};r=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=dw(u)}}function pw(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?pw(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function mw(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=jo(r.document);a instanceof r.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)r=a.contentWindow;else break;a=jo(r.document)}return a}function Ym(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}function sD(r,a){var u=mw(a);a=r.focusedElem;var d=r.selectionRange;if(u!==a&&a&&a.ownerDocument&&pw(a.ownerDocument.documentElement,a)){if(d!==null&&Ym(a)){if(r=d.start,u=d.end,u===void 0&&(u=r),"selectionStart"in a)a.selectionStart=r,a.selectionEnd=Math.min(u,a.value.length);else if(u=(r=a.ownerDocument||document)&&r.defaultView||window,u.getSelection){u=u.getSelection();var m=a.textContent.length,v=Math.min(d.start,m);d=d.end===void 0?v:Math.min(d.end,m),!u.extend&&v>d&&(m=d,d=v,v=m),m=fw(a,v);var S=fw(a,d);m&&S&&(u.rangeCount!==1||u.anchorNode!==m.node||u.anchorOffset!==m.offset||u.focusNode!==S.node||u.focusOffset!==S.offset)&&(r=r.createRange(),r.setStart(m.node,m.offset),u.removeAllRanges(),v>d?(u.addRange(r),u.extend(S.node,S.offset)):(r.setEnd(S.node,S.offset),u.addRange(r)))}}for(r=[],u=a;u=u.parentNode;)u.nodeType===1&&r.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<r.length;a++)u=r[a],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var rD=Yn&&"documentMode"in document&&11>=document.documentMode,Yo=null,Qm=null,Fu=null,Xm=!1;function gw(r,a,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Xm||Yo==null||Yo!==jo(d)||(d=Yo,"selectionStart"in d&&Ym(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Fu&&zu(Fu,d)||(Fu=d,d=tf(Qm,"onSelect"),0<d.length&&(a=new zo("onSelect","select",null,a,u),r.push({event:a,listeners:d}),a.target=Yo)))}function qa(r,a){var u={};return u[r.toLowerCase()]=a.toLowerCase(),u["Webkit"+r]="webkit"+a,u["Moz"+r]="moz"+a,u}var Qo={animationend:qa("Animation","AnimationEnd"),animationiteration:qa("Animation","AnimationIteration"),animationstart:qa("Animation","AnimationStart"),transitionrun:qa("Transition","TransitionRun"),transitionstart:qa("Transition","TransitionStart"),transitioncancel:qa("Transition","TransitionCancel"),transitionend:qa("Transition","TransitionEnd")},Zm={},vw={};Yn&&(vw=document.createElement("div").style,"AnimationEvent"in window||(delete Qo.animationend.animation,delete Qo.animationiteration.animation,delete Qo.animationstart.animation),"TransitionEvent"in window||delete Qo.transitionend.transition);function Ga(r){if(Zm[r])return Zm[r];if(!Qo[r])return r;var a=Qo[r],u;for(u in a)if(a.hasOwnProperty(u)&&u in vw)return Zm[r]=a[u];return r}var yw=Ga("animationend"),_w=Ga("animationiteration"),Ew=Ga("animationstart"),aD=Ga("transitionrun"),oD=Ga("transitionstart"),lD=Ga("transitioncancel"),ww=Ga("transitionend"),Tw=new Map,bw="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Pi(r,a){Tw.set(r,a),Wn(a,[r])}var fi=[],Xo=0,Jm=0;function Ed(){for(var r=Xo,a=Jm=Xo=0;a<r;){var u=fi[a];fi[a++]=null;var d=fi[a];fi[a++]=null;var m=fi[a];fi[a++]=null;var v=fi[a];if(fi[a++]=null,d!==null&&m!==null){var S=d.pending;S===null?m.next=m:(m.next=S.next,S.next=m),d.pending=m}v!==0&&Sw(u,m,v)}}function wd(r,a,u,d){fi[Xo++]=r,fi[Xo++]=a,fi[Xo++]=u,fi[Xo++]=d,Jm|=d,r.lanes|=d,r=r.alternate,r!==null&&(r.lanes|=d)}function eg(r,a,u,d){return wd(r,a,u,d),Td(r)}function Dr(r,a){return wd(r,null,null,a),Td(r)}function Sw(r,a,u){r.lanes|=u;var d=r.alternate;d!==null&&(d.lanes|=u);for(var m=!1,v=r.return;v!==null;)v.childLanes|=u,d=v.alternate,d!==null&&(d.childLanes|=u),v.tag===22&&(r=v.stateNode,r===null||r._visibility&1||(m=!0)),r=v,v=v.return;m&&a!==null&&r.tag===3&&(v=r.stateNode,m=31-kn(u),v=v.hiddenUpdates,r=v[m],r===null?v[m]=[a]:r.push(a),a.lane=u|536870912)}function Td(r){if(50<fc)throw fc=0,av=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var Zo={},xw=new WeakMap;function pi(r,a){if(typeof r=="object"&&r!==null){var u=xw.get(r);return u!==void 0?u:(a={value:r,source:a,stack:de(a)},xw.set(r,a),a)}return{value:r,source:a,stack:de(a)}}var Jo=[],el=0,bd=null,Sd=0,mi=[],gi=0,$a=null,Ls=1,Vs="";function Ka(r,a){Jo[el++]=Sd,Jo[el++]=bd,bd=r,Sd=a}function Cw(r,a,u){mi[gi++]=Ls,mi[gi++]=Vs,mi[gi++]=$a,$a=r;var d=Ls;r=Vs;var m=32-kn(d)-1;d&=~(1<<m),u+=1;var v=32-kn(a)+m;if(30<v){var S=m-m%5;v=(d&(1<<S)-1).toString(32),d>>=S,m-=S,Ls=1<<32-kn(a)+m|u<<m|d,Vs=v+r}else Ls=1<<v|u<<m|d,Vs=r}function tg(r){r.return!==null&&(Ka(r,1),Cw(r,1,0))}function ng(r){for(;r===bd;)bd=Jo[--el],Jo[el]=null,Sd=Jo[--el],Jo[el]=null;for(;r===$a;)$a=mi[--gi],mi[gi]=null,Vs=mi[--gi],mi[gi]=null,Ls=mi[--gi],mi[gi]=null}var jn=null,pn=null,nt=!1,Di=null,ss=!1,ig=Error(i(519));function Wa(r){var a=Error(i(418,""));throw Gu(pi(a,r)),ig}function Aw(r){var a=r.stateNode,u=r.type,d=r.memoizedProps;switch(a[tn]=r,a[$t]=d,u){case"dialog":$e("cancel",a),$e("close",a);break;case"iframe":case"object":case"embed":$e("load",a);break;case"video":case"audio":for(u=0;u<mc.length;u++)$e(mc[u],a);break;case"source":$e("error",a);break;case"img":case"image":case"link":$e("error",a),$e("load",a);break;case"details":$e("toggle",a);break;case"input":$e("invalid",a),ka(a,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),Oa(a);break;case"select":$e("invalid",a);break;case"textarea":$e("invalid",a),Nr(a,d.value,d.defaultValue,d.children),Oa(a)}u=d.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||a.textContent===""+u||d.suppressHydrationWarning===!0||L1(a.textContent,u)?(d.popover!=null&&($e("beforetoggle",a),$e("toggle",a)),d.onScroll!=null&&$e("scroll",a),d.onScrollEnd!=null&&$e("scrollend",a),d.onClick!=null&&(a.onclick=nf),a=!0):a=!1,a||Wa(r)}function Rw(r){for(jn=r.return;jn;)switch(jn.tag){case 3:case 27:ss=!0;return;case 5:case 13:ss=!1;return;default:jn=jn.return}}function Hu(r){if(r!==jn)return!1;if(!nt)return Rw(r),nt=!0,!1;var a=!1,u;if((u=r.tag!==3&&r.tag!==27)&&((u=r.tag===5)&&(u=r.type,u=!(u!=="form"&&u!=="button")||bv(r.type,r.memoizedProps)),u=!u),u&&(a=!0),a&&pn&&Wa(r),Rw(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8)if(u=r.data,u==="/$"){if(a===0){pn=Oi(r.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++;r=r.nextSibling}pn=null}}else pn=jn?Oi(r.stateNode.nextSibling):null;return!0}function qu(){pn=jn=null,nt=!1}function Gu(r){Di===null?Di=[r]:Di.push(r)}var $u=Error(i(460)),Iw=Error(i(474)),sg={then:function(){}};function Nw(r){return r=r.status,r==="fulfilled"||r==="rejected"}function xd(){}function Pw(r,a,u){switch(u=r[u],u===void 0?r.push(a):u!==a&&(a.then(xd,xd),a=u),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,r===$u?Error(i(483)):r;default:if(typeof a.status=="string")a.then(xd,xd);else{if(r=dt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(d){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=d}},function(d){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=d}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,r===$u?Error(i(483)):r}throw Ku=a,$u}}var Ku=null;function Dw(){if(Ku===null)throw Error(i(459));var r=Ku;return Ku=null,r}var tl=null,Wu=0;function Cd(r){var a=Wu;return Wu+=1,tl===null&&(tl=[]),Pw(tl,r,a)}function Yu(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function Ad(r,a){throw a.$$typeof===o?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function Mw(r){var a=r._init;return a(r._payload)}function Ow(r){function a(K,G){if(r){var Y=K.deletions;Y===null?(K.deletions=[G],K.flags|=16):Y.push(G)}}function u(K,G){if(!r)return null;for(;G!==null;)a(K,G),G=G.sibling;return null}function d(K){for(var G=new Map;K!==null;)K.key!==null?G.set(K.key,K):G.set(K.index,K),K=K.sibling;return G}function m(K,G){return K=qr(K,G),K.index=0,K.sibling=null,K}function v(K,G,Y){return K.index=Y,r?(Y=K.alternate,Y!==null?(Y=Y.index,Y<G?(K.flags|=33554434,G):Y):(K.flags|=33554434,G)):(K.flags|=1048576,G)}function S(K){return r&&K.alternate===null&&(K.flags|=33554434),K}function N(K,G,Y,te){return G===null||G.tag!==6?(G=Zg(Y,K.mode,te),G.return=K,G):(G=m(G,Y),G.return=K,G)}function z(K,G,Y,te){var _e=Y.type;return _e===h?ee(K,G,Y.props.children,te,Y.key):G!==null&&(G.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===I&&Mw(_e)===G.type)?(G=m(G,Y.props),Yu(G,Y),G.return=K,G):(G=Gd(Y.type,Y.key,Y.props,null,K.mode,te),Yu(G,Y),G.return=K,G)}function $(K,G,Y,te){return G===null||G.tag!==4||G.stateNode.containerInfo!==Y.containerInfo||G.stateNode.implementation!==Y.implementation?(G=Jg(Y,K.mode,te),G.return=K,G):(G=m(G,Y.children||[]),G.return=K,G)}function ee(K,G,Y,te,_e){return G===null||G.tag!==7?(G=so(Y,K.mode,te,_e),G.return=K,G):(G=m(G,Y),G.return=K,G)}function se(K,G,Y){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Zg(""+G,K.mode,Y),G.return=K,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case l:return Y=Gd(G.type,G.key,G.props,null,K.mode,Y),Yu(Y,G),Y.return=K,Y;case c:return G=Jg(G,K.mode,Y),G.return=K,G;case I:var te=G._init;return G=te(G._payload),se(K,G,Y)}if(fe(G)||Z(G))return G=so(G,K.mode,Y,null),G.return=K,G;if(typeof G.then=="function")return se(K,Cd(G),Y);if(G.$$typeof===T)return se(K,Fd(K,G),Y);Ad(K,G)}return null}function Q(K,G,Y,te){var _e=G!==null?G.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return _e!==null?null:N(K,G,""+Y,te);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case l:return Y.key===_e?z(K,G,Y,te):null;case c:return Y.key===_e?$(K,G,Y,te):null;case I:return _e=Y._init,Y=_e(Y._payload),Q(K,G,Y,te)}if(fe(Y)||Z(Y))return _e!==null?null:ee(K,G,Y,te,null);if(typeof Y.then=="function")return Q(K,G,Cd(Y),te);if(Y.$$typeof===T)return Q(K,G,Fd(K,Y),te);Ad(K,Y)}return null}function J(K,G,Y,te,_e){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return K=K.get(Y)||null,N(G,K,""+te,_e);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case l:return K=K.get(te.key===null?Y:te.key)||null,z(G,K,te,_e);case c:return K=K.get(te.key===null?Y:te.key)||null,$(G,K,te,_e);case I:var Ve=te._init;return te=Ve(te._payload),J(K,G,Y,te,_e)}if(fe(te)||Z(te))return K=K.get(Y)||null,ee(G,K,te,_e,null);if(typeof te.then=="function")return J(K,G,Y,Cd(te),_e);if(te.$$typeof===T)return J(K,G,Y,Fd(G,te),_e);Ad(G,te)}return null}function Ee(K,G,Y,te){for(var _e=null,Ve=null,Te=G,xe=G=0,on=null;Te!==null&&xe<Y.length;xe++){Te.index>xe?(on=Te,Te=null):on=Te.sibling;var it=Q(K,Te,Y[xe],te);if(it===null){Te===null&&(Te=on);break}r&&Te&&it.alternate===null&&a(K,Te),G=v(it,G,xe),Ve===null?_e=it:Ve.sibling=it,Ve=it,Te=on}if(xe===Y.length)return u(K,Te),nt&&Ka(K,xe),_e;if(Te===null){for(;xe<Y.length;xe++)Te=se(K,Y[xe],te),Te!==null&&(G=v(Te,G,xe),Ve===null?_e=Te:Ve.sibling=Te,Ve=Te);return nt&&Ka(K,xe),_e}for(Te=d(Te);xe<Y.length;xe++)on=J(Te,K,xe,Y[xe],te),on!==null&&(r&&on.alternate!==null&&Te.delete(on.key===null?xe:on.key),G=v(on,G,xe),Ve===null?_e=on:Ve.sibling=on,Ve=on);return r&&Te.forEach(function(Xr){return a(K,Xr)}),nt&&Ka(K,xe),_e}function Pe(K,G,Y,te){if(Y==null)throw Error(i(151));for(var _e=null,Ve=null,Te=G,xe=G=0,on=null,it=Y.next();Te!==null&&!it.done;xe++,it=Y.next()){Te.index>xe?(on=Te,Te=null):on=Te.sibling;var Xr=Q(K,Te,it.value,te);if(Xr===null){Te===null&&(Te=on);break}r&&Te&&Xr.alternate===null&&a(K,Te),G=v(Xr,G,xe),Ve===null?_e=Xr:Ve.sibling=Xr,Ve=Xr,Te=on}if(it.done)return u(K,Te),nt&&Ka(K,xe),_e;if(Te===null){for(;!it.done;xe++,it=Y.next())it=se(K,it.value,te),it!==null&&(G=v(it,G,xe),Ve===null?_e=it:Ve.sibling=it,Ve=it);return nt&&Ka(K,xe),_e}for(Te=d(Te);!it.done;xe++,it=Y.next())it=J(Te,K,xe,it.value,te),it!==null&&(r&&it.alternate!==null&&Te.delete(it.key===null?xe:it.key),G=v(it,G,xe),Ve===null?_e=it:Ve.sibling=it,Ve=it);return r&&Te.forEach(function(TM){return a(K,TM)}),nt&&Ka(K,xe),_e}function Nt(K,G,Y,te){if(typeof Y=="object"&&Y!==null&&Y.type===h&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case l:e:{for(var _e=Y.key;G!==null;){if(G.key===_e){if(_e=Y.type,_e===h){if(G.tag===7){u(K,G.sibling),te=m(G,Y.props.children),te.return=K,K=te;break e}}else if(G.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===I&&Mw(_e)===G.type){u(K,G.sibling),te=m(G,Y.props),Yu(te,Y),te.return=K,K=te;break e}u(K,G);break}else a(K,G);G=G.sibling}Y.type===h?(te=so(Y.props.children,K.mode,te,Y.key),te.return=K,K=te):(te=Gd(Y.type,Y.key,Y.props,null,K.mode,te),Yu(te,Y),te.return=K,K=te)}return S(K);case c:e:{for(_e=Y.key;G!==null;){if(G.key===_e)if(G.tag===4&&G.stateNode.containerInfo===Y.containerInfo&&G.stateNode.implementation===Y.implementation){u(K,G.sibling),te=m(G,Y.children||[]),te.return=K,K=te;break e}else{u(K,G);break}else a(K,G);G=G.sibling}te=Jg(Y,K.mode,te),te.return=K,K=te}return S(K);case I:return _e=Y._init,Y=_e(Y._payload),Nt(K,G,Y,te)}if(fe(Y))return Ee(K,G,Y,te);if(Z(Y)){if(_e=Z(Y),typeof _e!="function")throw Error(i(150));return Y=_e.call(Y),Pe(K,G,Y,te)}if(typeof Y.then=="function")return Nt(K,G,Cd(Y),te);if(Y.$$typeof===T)return Nt(K,G,Fd(K,Y),te);Ad(K,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,G!==null&&G.tag===6?(u(K,G.sibling),te=m(G,Y),te.return=K,K=te):(u(K,G),te=Zg(Y,K.mode,te),te.return=K,K=te),S(K)):u(K,G)}return function(K,G,Y,te){try{Wu=0;var _e=Nt(K,G,Y,te);return tl=null,_e}catch(Te){if(Te===$u)throw Te;var Ve=Ei(29,Te,null,K.mode);return Ve.lanes=te,Ve.return=K,Ve}finally{}}}var Ya=Ow(!0),kw=Ow(!1),nl=Ye(null),Rd=Ye(0);function Lw(r,a){r=Ws,Qe(Rd,r),Qe(nl,a),Ws=r|a.baseLanes}function rg(){Qe(Rd,Ws),Qe(nl,nl.current)}function ag(){Ws=Rd.current,vt(nl),vt(Rd)}var vi=Ye(null),rs=null;function Mr(r){var a=r.alternate;Qe(Yt,Yt.current&1),Qe(vi,r),rs===null&&(a===null||nl.current!==null||a.memoizedState!==null)&&(rs=r)}function Vw(r){if(r.tag===22){if(Qe(Yt,Yt.current),Qe(vi,r),rs===null){var a=r.alternate;a!==null&&a.memoizedState!==null&&(rs=r)}}else Or()}function Or(){Qe(Yt,Yt.current),Qe(vi,vi.current)}function js(r){vt(vi),rs===r&&(rs=null),vt(Yt)}var Yt=Ye(0);function Id(r){for(var a=r;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var uD=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(u,d){r.push(d)}};this.abort=function(){a.aborted=!0,r.forEach(function(u){return u()})}},cD=n.unstable_scheduleCallback,hD=n.unstable_NormalPriority,Qt={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function og(){return{controller:new uD,data:new Map,refCount:0}}function Qu(r){r.refCount--,r.refCount===0&&cD(hD,function(){r.controller.abort()})}var Xu=null,lg=0,il=0,sl=null;function dD(r,a){if(Xu===null){var u=Xu=[];lg=0,il=pv(),sl={status:"pending",value:void 0,then:function(d){u.push(d)}}}return lg++,a.then(jw,jw),a}function jw(){if(--lg===0&&Xu!==null){sl!==null&&(sl.status="fulfilled");var r=Xu;Xu=null,il=0,sl=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function fD(r,a){var u=[],d={status:"pending",value:null,reason:null,then:function(m){u.push(m)}};return r.then(function(){d.status="fulfilled",d.value=a;for(var m=0;m<u.length;m++)(0,u[m])(a)},function(m){for(d.status="rejected",d.reason=m,m=0;m<u.length;m++)(0,u[m])(void 0)}),d}var Uw=C.S;C.S=function(r,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&dD(r,a),Uw!==null&&Uw(r,a)};var Qa=Ye(null);function ug(){var r=Qa.current;return r!==null?r:dt.pooledCache}function Nd(r,a){a===null?Qe(Qa,Qa.current):Qe(Qa,a.pool)}function Bw(){var r=ug();return r===null?null:{parent:Qt._currentValue,pool:r}}var kr=0,Le=null,ot=null,Bt=null,Pd=!1,rl=!1,Xa=!1,Dd=0,Zu=0,al=null,pD=0;function Lt(){throw Error(i(321))}function cg(r,a){if(a===null)return!1;for(var u=0;u<a.length&&u<r.length;u++)if(!Qn(r[u],a[u]))return!1;return!0}function hg(r,a,u,d,m,v){return kr=v,Le=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,C.H=r===null||r.memoizedState===null?Za:Lr,Xa=!1,v=u(d,m),Xa=!1,rl&&(v=Fw(a,u,d,m)),zw(r),v}function zw(r){C.H=as;var a=ot!==null&&ot.next!==null;if(kr=0,Bt=ot=Le=null,Pd=!1,Zu=0,al=null,a)throw Error(i(300));r===null||rn||(r=r.dependencies,r!==null&&zd(r)&&(rn=!0))}function Fw(r,a,u,d){Le=r;var m=0;do{if(rl&&(al=null),Zu=0,rl=!1,25<=m)throw Error(i(301));if(m+=1,Bt=ot=null,r.updateQueue!=null){var v=r.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}C.H=Ja,v=a(u,d)}while(rl);return v}function mD(){var r=C.H,a=r.useState()[0];return a=typeof a.then=="function"?Ju(a):a,r=r.useState()[0],(ot!==null?ot.memoizedState:null)!==r&&(Le.flags|=1024),a}function dg(){var r=Dd!==0;return Dd=0,r}function fg(r,a,u){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~u}function pg(r){if(Pd){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Pd=!1}kr=0,Bt=ot=Le=null,rl=!1,Zu=Dd=0,al=null}function qn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?Le.memoizedState=Bt=r:Bt=Bt.next=r,Bt}function zt(){if(ot===null){var r=Le.alternate;r=r!==null?r.memoizedState:null}else r=ot.next;var a=Bt===null?Le.memoizedState:Bt.next;if(a!==null)Bt=a,ot=r;else{if(r===null)throw Le.alternate===null?Error(i(467)):Error(i(310));ot=r,r={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},Bt===null?Le.memoizedState=Bt=r:Bt=Bt.next=r}return Bt}var Md;Md=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Ju(r){var a=Zu;return Zu+=1,al===null&&(al=[]),r=Pw(al,r,a),a=Le,(Bt===null?a.memoizedState:Bt.next)===null&&(a=a.alternate,C.H=a===null||a.memoizedState===null?Za:Lr),r}function Od(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Ju(r);if(r.$$typeof===T)return xn(r)}throw Error(i(438,String(r)))}function mg(r){var a=null,u=Le.updateQueue;if(u!==null&&(a=u.memoCache),a==null){var d=Le.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(a={data:d.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),u===null&&(u=Md(),Le.updateQueue=u),u.memoCache=a,u=a.data[a.index],u===void 0)for(u=a.data[a.index]=Array(r),d=0;d<r;d++)u[d]=q;return a.index++,u}function Us(r,a){return typeof a=="function"?a(r):a}function kd(r){var a=zt();return gg(a,ot,r)}function gg(r,a,u){var d=r.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=u;var m=r.baseQueue,v=d.pending;if(v!==null){if(m!==null){var S=m.next;m.next=v.next,v.next=S}a.baseQueue=m=v,d.pending=null}if(v=r.baseState,m===null)r.memoizedState=v;else{a=m.next;var N=S=null,z=null,$=a,ee=!1;do{var se=$.lane&-536870913;if(se!==$.lane?(Je&se)===se:(kr&se)===se){var Q=$.revertLane;if(Q===0)z!==null&&(z=z.next={lane:0,revertLane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),se===il&&(ee=!0);else if((kr&Q)===Q){$=$.next,Q===il&&(ee=!0);continue}else se={lane:0,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},z===null?(N=z=se,S=v):z=z.next=se,Le.lanes|=Q,Gr|=Q;se=$.action,Xa&&u(v,se),v=$.hasEagerState?$.eagerState:u(v,se)}else Q={lane:se,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},z===null?(N=z=Q,S=v):z=z.next=Q,Le.lanes|=se,Gr|=se;$=$.next}while($!==null&&$!==a);if(z===null?S=v:z.next=N,!Qn(v,r.memoizedState)&&(rn=!0,ee&&(u=sl,u!==null)))throw u;r.memoizedState=v,r.baseState=S,r.baseQueue=z,d.lastRenderedState=v}return m===null&&(d.lanes=0),[r.memoizedState,d.dispatch]}function vg(r){var a=zt(),u=a.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=r;var d=u.dispatch,m=u.pending,v=a.memoizedState;if(m!==null){u.pending=null;var S=m=m.next;do v=r(v,S.action),S=S.next;while(S!==m);Qn(v,a.memoizedState)||(rn=!0),a.memoizedState=v,a.baseQueue===null&&(a.baseState=v),u.lastRenderedState=v}return[v,d]}function Hw(r,a,u){var d=Le,m=zt(),v=nt;if(v){if(u===void 0)throw Error(i(407));u=u()}else u=a();var S=!Qn((ot||m).memoizedState,u);if(S&&(m.memoizedState=u,rn=!0),m=m.queue,Eg($w.bind(null,d,m,r),[r]),m.getSnapshot!==a||S||Bt!==null&&Bt.memoizedState.tag&1){if(d.flags|=2048,ol(9,Gw.bind(null,d,m,u,a),{destroy:void 0},null),dt===null)throw Error(i(349));v||kr&60||qw(d,a,u)}return u}function qw(r,a,u){r.flags|=16384,r={getSnapshot:a,value:u},a=Le.updateQueue,a===null?(a=Md(),Le.updateQueue=a,a.stores=[r]):(u=a.stores,u===null?a.stores=[r]:u.push(r))}function Gw(r,a,u,d){a.value=u,a.getSnapshot=d,Kw(a)&&Ww(r)}function $w(r,a,u){return u(function(){Kw(a)&&Ww(r)})}function Kw(r){var a=r.getSnapshot;r=r.value;try{var u=a();return!Qn(r,u)}catch{return!0}}function Ww(r){var a=Dr(r,2);a!==null&&Un(a,r,2)}function yg(r){var a=qn();if(typeof r=="function"){var u=r;if(r=u(),Xa){Ki(!0);try{u()}finally{Ki(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Us,lastRenderedState:r},a}function Yw(r,a,u,d){return r.baseState=u,gg(r,ot,typeof d=="function"?d:Us)}function gD(r,a,u,d,m){if(jd(r))throw Error(i(485));if(r=a.action,r!==null){var v={payload:m,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){v.listeners.push(S)}};C.T!==null?u(!0):v.isTransition=!1,d(v),u=a.pending,u===null?(v.next=a.pending=v,Qw(a,v)):(v.next=u.next,a.pending=u.next=v)}}function Qw(r,a){var u=a.action,d=a.payload,m=r.state;if(a.isTransition){var v=C.T,S={};C.T=S;try{var N=u(m,d),z=C.S;z!==null&&z(S,N),Xw(r,a,N)}catch($){_g(r,a,$)}finally{C.T=v}}else try{v=u(m,d),Xw(r,a,v)}catch($){_g(r,a,$)}}function Xw(r,a,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(d){Zw(r,a,d)},function(d){return _g(r,a,d)}):Zw(r,a,u)}function Zw(r,a,u){a.status="fulfilled",a.value=u,Jw(a),r.state=u,a=r.pending,a!==null&&(u=a.next,u===a?r.pending=null:(u=u.next,a.next=u,Qw(r,u)))}function _g(r,a,u){var d=r.pending;if(r.pending=null,d!==null){d=d.next;do a.status="rejected",a.reason=u,Jw(a),a=a.next;while(a!==d)}r.action=null}function Jw(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function eT(r,a){return a}function tT(r,a){if(nt){var u=dt.formState;if(u!==null){e:{var d=Le;if(nt){if(pn){t:{for(var m=pn,v=ss;m.nodeType!==8;){if(!v){m=null;break t}if(m=Oi(m.nextSibling),m===null){m=null;break t}}v=m.data,m=v==="F!"||v==="F"?m:null}if(m){pn=Oi(m.nextSibling),d=m.data==="F!";break e}}Wa(d)}d=!1}d&&(a=u[0])}}return u=qn(),u.memoizedState=u.baseState=a,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:eT,lastRenderedState:a},u.queue=d,u=_T.bind(null,Le,d),d.dispatch=u,d=yg(!1),v=xg.bind(null,Le,!1,d.queue),d=qn(),m={state:a,dispatch:null,action:r,pending:null},d.queue=m,u=gD.bind(null,Le,m,v,u),m.dispatch=u,d.memoizedState=r,[a,u,!1]}function nT(r){var a=zt();return iT(a,ot,r)}function iT(r,a,u){a=gg(r,a,eT)[0],r=kd(Us)[0],a=typeof a=="object"&&a!==null&&typeof a.then=="function"?Ju(a):a;var d=zt(),m=d.queue,v=m.dispatch;return u!==d.memoizedState&&(Le.flags|=2048,ol(9,vD.bind(null,m,u),{destroy:void 0},null)),[a,v,r]}function vD(r,a){r.action=a}function sT(r){var a=zt(),u=ot;if(u!==null)return iT(a,u,r);zt(),a=a.memoizedState,u=zt();var d=u.queue.dispatch;return u.memoizedState=r,[a,d,!1]}function ol(r,a,u,d){return r={tag:r,create:a,inst:u,deps:d,next:null},a=Le.updateQueue,a===null&&(a=Md(),Le.updateQueue=a),u=a.lastEffect,u===null?a.lastEffect=r.next=r:(d=u.next,u.next=r,r.next=d,a.lastEffect=r),r}function rT(){return zt().memoizedState}function Ld(r,a,u,d){var m=qn();Le.flags|=r,m.memoizedState=ol(1|a,u,{destroy:void 0},d===void 0?null:d)}function Vd(r,a,u,d){var m=zt();d=d===void 0?null:d;var v=m.memoizedState.inst;ot!==null&&d!==null&&cg(d,ot.memoizedState.deps)?m.memoizedState=ol(a,u,v,d):(Le.flags|=r,m.memoizedState=ol(1|a,u,v,d))}function aT(r,a){Ld(8390656,8,r,a)}function Eg(r,a){Vd(2048,8,r,a)}function oT(r,a){return Vd(4,2,r,a)}function lT(r,a){return Vd(4,4,r,a)}function uT(r,a){if(typeof a=="function"){r=r();var u=a(r);return function(){typeof u=="function"?u():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function cT(r,a,u){u=u!=null?u.concat([r]):null,Vd(4,4,uT.bind(null,a,r),u)}function wg(){}function hT(r,a){var u=zt();a=a===void 0?null:a;var d=u.memoizedState;return a!==null&&cg(a,d[1])?d[0]:(u.memoizedState=[r,a],r)}function dT(r,a){var u=zt();a=a===void 0?null:a;var d=u.memoizedState;if(a!==null&&cg(a,d[1]))return d[0];if(d=r(),Xa){Ki(!0);try{r()}finally{Ki(!1)}}return u.memoizedState=[d,a],d}function Tg(r,a,u){return u===void 0||kr&1073741824?r.memoizedState=a:(r.memoizedState=u,r=p1(),Le.lanes|=r,Gr|=r,u)}function fT(r,a,u,d){return Qn(u,a)?u:nl.current!==null?(r=Tg(r,u,d),Qn(r,a)||(rn=!0),r):kr&42?(r=p1(),Le.lanes|=r,Gr|=r,a):(rn=!0,r.memoizedState=u)}function pT(r,a,u,d,m){var v=pe.p;pe.p=v!==0&&8>v?v:8;var S=C.T,N={};C.T=N,xg(r,!1,a,u);try{var z=m(),$=C.S;if($!==null&&$(N,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var ee=fD(z,d);ec(r,a,ee,ei(r))}else ec(r,a,d,ei(r))}catch(se){ec(r,a,{then:function(){},status:"rejected",reason:se},ei())}finally{pe.p=v,C.T=S}}function yD(){}function bg(r,a,u,d){if(r.tag!==5)throw Error(i(476));var m=mT(r).queue;pT(r,m,a,Oe,u===null?yD:function(){return gT(r),u(d)})}function mT(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:Oe,baseState:Oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Us,lastRenderedState:Oe},next:null};var u={};return a.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Us,lastRenderedState:u},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function gT(r){var a=mT(r).next.queue;ec(r,a,{},ei())}function Sg(){return xn(Ec)}function vT(){return zt().memoizedState}function yT(){return zt().memoizedState}function _D(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var u=ei();r=Ur(u);var d=Br(a,r,u);d!==null&&(Un(d,a,u),ic(d,a,u)),a={cache:og()},r.payload=a;return}a=a.return}}function ED(r,a,u){var d=ei();u={lane:d,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},jd(r)?ET(a,u):(u=eg(r,a,u,d),u!==null&&(Un(u,r,d),wT(u,a,d)))}function _T(r,a,u){var d=ei();ec(r,a,u,d)}function ec(r,a,u,d){var m={lane:d,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(jd(r))ET(a,m);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=a.lastRenderedReducer,v!==null))try{var S=a.lastRenderedState,N=v(S,u);if(m.hasEagerState=!0,m.eagerState=N,Qn(N,S))return wd(r,a,m,0),dt===null&&Ed(),!1}catch{}finally{}if(u=eg(r,a,m,d),u!==null)return Un(u,r,d),wT(u,a,d),!0}return!1}function xg(r,a,u,d){if(d={lane:2,revertLane:pv(),action:d,hasEagerState:!1,eagerState:null,next:null},jd(r)){if(a)throw Error(i(479))}else a=eg(r,u,d,2),a!==null&&Un(a,r,2)}function jd(r){var a=r.alternate;return r===Le||a!==null&&a===Le}function ET(r,a){rl=Pd=!0;var u=r.pending;u===null?a.next=a:(a.next=u.next,u.next=a),r.pending=a}function wT(r,a,u){if(u&4194176){var d=a.lanes;d&=r.pendingLanes,u|=d,a.lanes=u,Tr(r,u)}}var as={readContext:xn,use:Od,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useLayoutEffect:Lt,useInsertionEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useSyncExternalStore:Lt,useId:Lt};as.useCacheRefresh=Lt,as.useMemoCache=Lt,as.useHostTransitionStatus=Lt,as.useFormState=Lt,as.useActionState=Lt,as.useOptimistic=Lt;var Za={readContext:xn,use:Od,useCallback:function(r,a){return qn().memoizedState=[r,a===void 0?null:a],r},useContext:xn,useEffect:aT,useImperativeHandle:function(r,a,u){u=u!=null?u.concat([r]):null,Ld(4194308,4,uT.bind(null,a,r),u)},useLayoutEffect:function(r,a){return Ld(4194308,4,r,a)},useInsertionEffect:function(r,a){Ld(4,2,r,a)},useMemo:function(r,a){var u=qn();a=a===void 0?null:a;var d=r();if(Xa){Ki(!0);try{r()}finally{Ki(!1)}}return u.memoizedState=[d,a],d},useReducer:function(r,a,u){var d=qn();if(u!==void 0){var m=u(a);if(Xa){Ki(!0);try{u(a)}finally{Ki(!1)}}}else m=a;return d.memoizedState=d.baseState=m,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:m},d.queue=r,r=r.dispatch=ED.bind(null,Le,r),[d.memoizedState,r]},useRef:function(r){var a=qn();return r={current:r},a.memoizedState=r},useState:function(r){r=yg(r);var a=r.queue,u=_T.bind(null,Le,a);return a.dispatch=u,[r.memoizedState,u]},useDebugValue:wg,useDeferredValue:function(r,a){var u=qn();return Tg(u,r,a)},useTransition:function(){var r=yg(!1);return r=pT.bind(null,Le,r.queue,!0,!1),qn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,u){var d=Le,m=qn();if(nt){if(u===void 0)throw Error(i(407));u=u()}else{if(u=a(),dt===null)throw Error(i(349));Je&60||qw(d,a,u)}m.memoizedState=u;var v={value:u,getSnapshot:a};return m.queue=v,aT($w.bind(null,d,v,r),[r]),d.flags|=2048,ol(9,Gw.bind(null,d,v,u,a),{destroy:void 0},null),u},useId:function(){var r=qn(),a=dt.identifierPrefix;if(nt){var u=Vs,d=Ls;u=(d&~(1<<32-kn(d)-1)).toString(32)+u,a=":"+a+"R"+u,u=Dd++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=pD++,a=":"+a+"r"+u.toString(32)+":";return r.memoizedState=a},useCacheRefresh:function(){return qn().memoizedState=_D.bind(null,Le)}};Za.useMemoCache=mg,Za.useHostTransitionStatus=Sg,Za.useFormState=tT,Za.useActionState=tT,Za.useOptimistic=function(r){var a=qn();a.memoizedState=a.baseState=r;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=u,a=xg.bind(null,Le,!0,u),u.dispatch=a,[r,a]};var Lr={readContext:xn,use:Od,useCallback:hT,useContext:xn,useEffect:Eg,useImperativeHandle:cT,useInsertionEffect:oT,useLayoutEffect:lT,useMemo:dT,useReducer:kd,useRef:rT,useState:function(){return kd(Us)},useDebugValue:wg,useDeferredValue:function(r,a){var u=zt();return fT(u,ot.memoizedState,r,a)},useTransition:function(){var r=kd(Us)[0],a=zt().memoizedState;return[typeof r=="boolean"?r:Ju(r),a]},useSyncExternalStore:Hw,useId:vT};Lr.useCacheRefresh=yT,Lr.useMemoCache=mg,Lr.useHostTransitionStatus=Sg,Lr.useFormState=nT,Lr.useActionState=nT,Lr.useOptimistic=function(r,a){var u=zt();return Yw(u,ot,r,a)};var Ja={readContext:xn,use:Od,useCallback:hT,useContext:xn,useEffect:Eg,useImperativeHandle:cT,useInsertionEffect:oT,useLayoutEffect:lT,useMemo:dT,useReducer:vg,useRef:rT,useState:function(){return vg(Us)},useDebugValue:wg,useDeferredValue:function(r,a){var u=zt();return ot===null?Tg(u,r,a):fT(u,ot.memoizedState,r,a)},useTransition:function(){var r=vg(Us)[0],a=zt().memoizedState;return[typeof r=="boolean"?r:Ju(r),a]},useSyncExternalStore:Hw,useId:vT};Ja.useCacheRefresh=yT,Ja.useMemoCache=mg,Ja.useHostTransitionStatus=Sg,Ja.useFormState=sT,Ja.useActionState=sT,Ja.useOptimistic=function(r,a){var u=zt();return ot!==null?Yw(u,ot,r,a):(u.baseState=r,[r,u.queue.dispatch])};function Cg(r,a,u,d){a=r.memoizedState,u=u(d,a),u=u==null?a:R({},a,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var Ag={isMounted:function(r){return(r=r._reactInternals)?re(r)===r:!1},enqueueSetState:function(r,a,u){r=r._reactInternals;var d=ei(),m=Ur(d);m.payload=a,u!=null&&(m.callback=u),a=Br(r,m,d),a!==null&&(Un(a,r,d),ic(a,r,d))},enqueueReplaceState:function(r,a,u){r=r._reactInternals;var d=ei(),m=Ur(d);m.tag=1,m.payload=a,u!=null&&(m.callback=u),a=Br(r,m,d),a!==null&&(Un(a,r,d),ic(a,r,d))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var u=ei(),d=Ur(u);d.tag=2,a!=null&&(d.callback=a),a=Br(r,d,u),a!==null&&(Un(a,r,u),ic(a,r,u))}};function TT(r,a,u,d,m,v,S){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,v,S):a.prototype&&a.prototype.isPureReactComponent?!zu(u,d)||!zu(m,v):!0}function bT(r,a,u,d){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,d),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,d),a.state!==r&&Ag.enqueueReplaceState(a,a.state,null)}function eo(r,a){var u=a;if("ref"in a){u={};for(var d in a)d!=="ref"&&(u[d]=a[d])}if(r=r.defaultProps){u===a&&(u=R({},u));for(var m in r)u[m]===void 0&&(u[m]=r[m])}return u}var Ud=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function ST(r){Ud(r)}function xT(r){console.error(r)}function CT(r){Ud(r)}function Bd(r,a){try{var u=r.onUncaughtError;u(a.value,{componentStack:a.stack})}catch(d){setTimeout(function(){throw d})}}function AT(r,a,u){try{var d=r.onCaughtError;d(u.value,{componentStack:u.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Rg(r,a,u){return u=Ur(u),u.tag=3,u.payload={element:null},u.callback=function(){Bd(r,a)},u}function RT(r){return r=Ur(r),r.tag=3,r}function IT(r,a,u,d){var m=u.type.getDerivedStateFromError;if(typeof m=="function"){var v=d.value;r.payload=function(){return m(v)},r.callback=function(){AT(a,u,d)}}var S=u.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(r.callback=function(){AT(a,u,d),typeof m!="function"&&($r===null?$r=new Set([this]):$r.add(this));var N=d.stack;this.componentDidCatch(d.value,{componentStack:N!==null?N:""})})}function wD(r,a,u,d,m){if(u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(a=u.alternate,a!==null&&nc(a,u,m,!0),u=vi.current,u!==null){switch(u.tag){case 13:return rs===null?uv():u.alternate===null&&It===0&&(It=3),u.flags&=-257,u.flags|=65536,u.lanes=m,d===sg?u.flags|=16384:(a=u.updateQueue,a===null?u.updateQueue=new Set([d]):a.add(d),hv(r,d,m)),!1;case 22:return u.flags|=65536,d===sg?u.flags|=16384:(a=u.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([d])},u.updateQueue=a):(u=a.retryQueue,u===null?a.retryQueue=new Set([d]):u.add(d)),hv(r,d,m)),!1}throw Error(i(435,u.tag))}return hv(r,d,m),uv(),!1}if(nt)return a=vi.current,a!==null?(!(a.flags&65536)&&(a.flags|=256),a.flags|=65536,a.lanes=m,d!==ig&&(r=Error(i(422),{cause:d}),Gu(pi(r,u)))):(d!==ig&&(a=Error(i(423),{cause:d}),Gu(pi(a,u))),r=r.current.alternate,r.flags|=65536,m&=-m,r.lanes|=m,d=pi(d,u),m=Rg(r.stateNode,d,m),Hg(r,m),It!==4&&(It=2)),!1;var v=Error(i(520),{cause:d});if(v=pi(v,u),hc===null?hc=[v]:hc.push(v),It!==4&&(It=2),a===null)return!0;d=pi(d,u),u=a;do{switch(u.tag){case 3:return u.flags|=65536,r=m&-m,u.lanes|=r,r=Rg(u.stateNode,d,r),Hg(u,r),!1;case 1:if(a=u.type,v=u.stateNode,(u.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&($r===null||!$r.has(v))))return u.flags|=65536,m&=-m,u.lanes|=m,m=RT(m),IT(m,r,u,d),Hg(u,m),!1}u=u.return}while(u!==null);return!1}var NT=Error(i(461)),rn=!1;function mn(r,a,u,d){a.child=r===null?kw(a,null,u,d):Ya(a,r.child,u,d)}function PT(r,a,u,d,m){u=u.render;var v=a.ref;if("ref"in d){var S={};for(var N in d)N!=="ref"&&(S[N]=d[N])}else S=d;return no(a),d=hg(r,a,u,S,v,m),N=dg(),r!==null&&!rn?(fg(r,a,m),Bs(r,a,m)):(nt&&N&&tg(a),a.flags|=1,mn(r,a,d,m),a.child)}function DT(r,a,u,d,m){if(r===null){var v=u.type;return typeof v=="function"&&!Xg(v)&&v.defaultProps===void 0&&u.compare===null?(a.tag=15,a.type=v,MT(r,a,v,d,m)):(r=Gd(u.type,null,d,a,a.mode,m),r.ref=a.ref,r.return=a,a.child=r)}if(v=r.child,!Vg(r,m)){var S=v.memoizedProps;if(u=u.compare,u=u!==null?u:zu,u(S,d)&&r.ref===a.ref)return Bs(r,a,m)}return a.flags|=1,r=qr(v,d),r.ref=a.ref,r.return=a,a.child=r}function MT(r,a,u,d,m){if(r!==null){var v=r.memoizedProps;if(zu(v,d)&&r.ref===a.ref)if(rn=!1,a.pendingProps=d=v,Vg(r,m))r.flags&131072&&(rn=!0);else return a.lanes=r.lanes,Bs(r,a,m)}return Ig(r,a,u,d,m)}function OT(r,a,u){var d=a.pendingProps,m=d.children,v=(a.stateNode._pendingVisibility&2)!==0,S=r!==null?r.memoizedState:null;if(tc(r,a),d.mode==="hidden"||v){if(a.flags&128){if(d=S!==null?S.baseLanes|u:u,r!==null){for(m=a.child=r.child,v=0;m!==null;)v=v|m.lanes|m.childLanes,m=m.sibling;a.childLanes=v&~d}else a.childLanes=0,a.child=null;return kT(r,a,d,u)}if(u&536870912)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&Nd(a,S!==null?S.cachePool:null),S!==null?Lw(a,S):rg(),Vw(a);else return a.lanes=a.childLanes=536870912,kT(r,a,S!==null?S.baseLanes|u:u,u)}else S!==null?(Nd(a,S.cachePool),Lw(a,S),Or(),a.memoizedState=null):(r!==null&&Nd(a,null),rg(),Or());return mn(r,a,m,u),a.child}function kT(r,a,u,d){var m=ug();return m=m===null?null:{parent:Qt._currentValue,pool:m},a.memoizedState={baseLanes:u,cachePool:m},r!==null&&Nd(a,null),rg(),Vw(a),r!==null&&nc(r,a,d,!0),null}function tc(r,a){var u=a.ref;if(u===null)r!==null&&r.ref!==null&&(a.flags|=2097664);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(r===null||r.ref!==u)&&(a.flags|=2097664)}}function Ig(r,a,u,d,m){return no(a),u=hg(r,a,u,d,void 0,m),d=dg(),r!==null&&!rn?(fg(r,a,m),Bs(r,a,m)):(nt&&d&&tg(a),a.flags|=1,mn(r,a,u,m),a.child)}function LT(r,a,u,d,m,v){return no(a),a.updateQueue=null,u=Fw(a,d,u,m),zw(r),d=dg(),r!==null&&!rn?(fg(r,a,v),Bs(r,a,v)):(nt&&d&&tg(a),a.flags|=1,mn(r,a,u,v),a.child)}function VT(r,a,u,d,m){if(no(a),a.stateNode===null){var v=Zo,S=u.contextType;typeof S=="object"&&S!==null&&(v=xn(S)),v=new u(d,v),a.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Ag,a.stateNode=v,v._reactInternals=a,v=a.stateNode,v.props=d,v.state=a.memoizedState,v.refs={},zg(a),S=u.contextType,v.context=typeof S=="object"&&S!==null?xn(S):Zo,v.state=a.memoizedState,S=u.getDerivedStateFromProps,typeof S=="function"&&(Cg(a,u,S,d),v.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(S=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),S!==v.state&&Ag.enqueueReplaceState(v,v.state,null),rc(a,d,v,m),sc(),v.state=a.memoizedState),typeof v.componentDidMount=="function"&&(a.flags|=4194308),d=!0}else if(r===null){v=a.stateNode;var N=a.memoizedProps,z=eo(u,N);v.props=z;var $=v.context,ee=u.contextType;S=Zo,typeof ee=="object"&&ee!==null&&(S=xn(ee));var se=u.getDerivedStateFromProps;ee=typeof se=="function"||typeof v.getSnapshotBeforeUpdate=="function",N=a.pendingProps!==N,ee||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(N||$!==S)&&bT(a,v,d,S),jr=!1;var Q=a.memoizedState;v.state=Q,rc(a,d,v,m),sc(),$=a.memoizedState,N||Q!==$||jr?(typeof se=="function"&&(Cg(a,u,se,d),$=a.memoizedState),(z=jr||TT(a,u,z,d,Q,$,S))?(ee||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(a.flags|=4194308)):(typeof v.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=d,a.memoizedState=$),v.props=d,v.state=$,v.context=S,d=z):(typeof v.componentDidMount=="function"&&(a.flags|=4194308),d=!1)}else{v=a.stateNode,Fg(r,a),S=a.memoizedProps,ee=eo(u,S),v.props=ee,se=a.pendingProps,Q=v.context,$=u.contextType,z=Zo,typeof $=="object"&&$!==null&&(z=xn($)),N=u.getDerivedStateFromProps,($=typeof N=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==se||Q!==z)&&bT(a,v,d,z),jr=!1,Q=a.memoizedState,v.state=Q,rc(a,d,v,m),sc();var J=a.memoizedState;S!==se||Q!==J||jr||r!==null&&r.dependencies!==null&&zd(r.dependencies)?(typeof N=="function"&&(Cg(a,u,N,d),J=a.memoizedState),(ee=jr||TT(a,u,ee,d,Q,J,z)||r!==null&&r.dependencies!==null&&zd(r.dependencies))?($||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(d,J,z),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(d,J,z)),typeof v.componentDidUpdate=="function"&&(a.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof v.componentDidUpdate!="function"||S===r.memoizedProps&&Q===r.memoizedState||(a.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&Q===r.memoizedState||(a.flags|=1024),a.memoizedProps=d,a.memoizedState=J),v.props=d,v.state=J,v.context=z,d=ee):(typeof v.componentDidUpdate!="function"||S===r.memoizedProps&&Q===r.memoizedState||(a.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&Q===r.memoizedState||(a.flags|=1024),d=!1)}return v=d,tc(r,a),d=(a.flags&128)!==0,v||d?(v=a.stateNode,u=d&&typeof u.getDerivedStateFromError!="function"?null:v.render(),a.flags|=1,r!==null&&d?(a.child=Ya(a,r.child,null,m),a.child=Ya(a,null,u,m)):mn(r,a,u,m),a.memoizedState=v.state,r=a.child):r=Bs(r,a,m),r}function jT(r,a,u,d){return qu(),a.flags|=256,mn(r,a,u,d),a.child}var Ng={dehydrated:null,treeContext:null,retryLane:0};function Pg(r){return{baseLanes:r,cachePool:Bw()}}function Dg(r,a,u){return r=r!==null?r.childLanes&~u:0,a&&(r|=wi),r}function UT(r,a,u){var d=a.pendingProps,m=!1,v=(a.flags&128)!==0,S;if((S=v)||(S=r!==null&&r.memoizedState===null?!1:(Yt.current&2)!==0),S&&(m=!0,a.flags&=-129),S=(a.flags&32)!==0,a.flags&=-33,r===null){if(nt){if(m?Mr(a):Or(),nt){var N=pn,z;if(z=N){e:{for(z=N,N=ss;z.nodeType!==8;){if(!N){N=null;break e}if(z=Oi(z.nextSibling),z===null){N=null;break e}}N=z}N!==null?(a.memoizedState={dehydrated:N,treeContext:$a!==null?{id:Ls,overflow:Vs}:null,retryLane:536870912},z=Ei(18,null,null,0),z.stateNode=N,z.return=a,a.child=z,jn=a,pn=null,z=!0):z=!1}z||Wa(a)}if(N=a.memoizedState,N!==null&&(N=N.dehydrated,N!==null))return N.data==="$!"?a.lanes=16:a.lanes=536870912,null;js(a)}return N=d.children,d=d.fallback,m?(Or(),m=a.mode,N=Og({mode:"hidden",children:N},m),d=so(d,m,u,null),N.return=a,d.return=a,N.sibling=d,a.child=N,m=a.child,m.memoizedState=Pg(u),m.childLanes=Dg(r,S,u),a.memoizedState=Ng,d):(Mr(a),Mg(a,N))}if(z=r.memoizedState,z!==null&&(N=z.dehydrated,N!==null)){if(v)a.flags&256?(Mr(a),a.flags&=-257,a=kg(r,a,u)):a.memoizedState!==null?(Or(),a.child=r.child,a.flags|=128,a=null):(Or(),m=d.fallback,N=a.mode,d=Og({mode:"visible",children:d.children},N),m=so(m,N,u,null),m.flags|=2,d.return=a,m.return=a,d.sibling=m,a.child=d,Ya(a,r.child,null,u),d=a.child,d.memoizedState=Pg(u),d.childLanes=Dg(r,S,u),a.memoizedState=Ng,a=m);else if(Mr(a),N.data==="$!"){if(S=N.nextSibling&&N.nextSibling.dataset,S)var $=S.dgst;S=$,d=Error(i(419)),d.stack="",d.digest=S,Gu({value:d,source:null,stack:null}),a=kg(r,a,u)}else if(rn||nc(r,a,u,!1),S=(u&r.childLanes)!==0,rn||S){if(S=dt,S!==null){if(d=u&-u,d&42)d=1;else switch(d){case 2:d=1;break;case 8:d=4;break;case 32:d=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:d=64;break;case 268435456:d=134217728;break;default:d=0}if(d=d&(S.suspendedLanes|u)?0:d,d!==0&&d!==z.retryLane)throw z.retryLane=d,Dr(r,d),Un(S,r,d),NT}N.data==="$?"||uv(),a=kg(r,a,u)}else N.data==="$?"?(a.flags|=128,a.child=r.child,a=LD.bind(null,r),N._reactRetry=a,a=null):(r=z.treeContext,pn=Oi(N.nextSibling),jn=a,nt=!0,Di=null,ss=!1,r!==null&&(mi[gi++]=Ls,mi[gi++]=Vs,mi[gi++]=$a,Ls=r.id,Vs=r.overflow,$a=a),a=Mg(a,d.children),a.flags|=4096);return a}return m?(Or(),m=d.fallback,N=a.mode,z=r.child,$=z.sibling,d=qr(z,{mode:"hidden",children:d.children}),d.subtreeFlags=z.subtreeFlags&31457280,$!==null?m=qr($,m):(m=so(m,N,u,null),m.flags|=2),m.return=a,d.return=a,d.sibling=m,a.child=d,d=m,m=a.child,N=r.child.memoizedState,N===null?N=Pg(u):(z=N.cachePool,z!==null?($=Qt._currentValue,z=z.parent!==$?{parent:$,pool:$}:z):z=Bw(),N={baseLanes:N.baseLanes|u,cachePool:z}),m.memoizedState=N,m.childLanes=Dg(r,S,u),a.memoizedState=Ng,d):(Mr(a),u=r.child,r=u.sibling,u=qr(u,{mode:"visible",children:d.children}),u.return=a,u.sibling=null,r!==null&&(S=a.deletions,S===null?(a.deletions=[r],a.flags|=16):S.push(r)),a.child=u,a.memoizedState=null,u)}function Mg(r,a){return a=Og({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function Og(r,a){return h1(r,a,0,null)}function kg(r,a,u){return Ya(a,r.child,null,u),r=Mg(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function BT(r,a,u){r.lanes|=a;var d=r.alternate;d!==null&&(d.lanes|=a),Ug(r.return,a,u)}function Lg(r,a,u,d,m){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:m}:(v.isBackwards=a,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=u,v.tailMode=m)}function zT(r,a,u){var d=a.pendingProps,m=d.revealOrder,v=d.tail;if(mn(r,a,d.children,u),d=Yt.current,d&2)d=d&1|2,a.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&BT(r,u,a);else if(r.tag===19)BT(r,u,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}switch(Qe(Yt,d),m){case"forwards":for(u=a.child,m=null;u!==null;)r=u.alternate,r!==null&&Id(r)===null&&(m=u),u=u.sibling;u=m,u===null?(m=a.child,a.child=null):(m=u.sibling,u.sibling=null),Lg(a,!1,m,u,v);break;case"backwards":for(u=null,m=a.child,a.child=null;m!==null;){if(r=m.alternate,r!==null&&Id(r)===null){a.child=m;break}r=m.sibling,m.sibling=u,u=m,m=r}Lg(a,!0,u,null,v);break;case"together":Lg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Bs(r,a,u){if(r!==null&&(a.dependencies=r.dependencies),Gr|=a.lanes,!(u&a.childLanes))if(r!==null){if(nc(r,a,u,!1),(u&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,u=qr(r,r.pendingProps),a.child=u,u.return=a;r.sibling!==null;)r=r.sibling,u=u.sibling=qr(r,r.pendingProps),u.return=a;u.sibling=null}return a.child}function Vg(r,a){return r.lanes&a?!0:(r=r.dependencies,!!(r!==null&&zd(r)))}function TD(r,a,u){switch(a.tag){case 3:Gi(a,a.stateNode.containerInfo),Vr(a,Qt,r.memoizedState.cache),qu();break;case 27:case 5:we(a);break;case 4:Gi(a,a.stateNode.containerInfo);break;case 10:Vr(a,a.type,a.memoizedProps.value);break;case 13:var d=a.memoizedState;if(d!==null)return d.dehydrated!==null?(Mr(a),a.flags|=128,null):u&a.child.childLanes?UT(r,a,u):(Mr(a),r=Bs(r,a,u),r!==null?r.sibling:null);Mr(a);break;case 19:var m=(r.flags&128)!==0;if(d=(u&a.childLanes)!==0,d||(nc(r,a,u,!1),d=(u&a.childLanes)!==0),m){if(d)return zT(r,a,u);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Qe(Yt,Yt.current),d)break;return null;case 22:case 23:return a.lanes=0,OT(r,a,u);case 24:Vr(a,Qt,r.memoizedState.cache)}return Bs(r,a,u)}function FT(r,a,u){if(r!==null)if(r.memoizedProps!==a.pendingProps)rn=!0;else{if(!Vg(r,u)&&!(a.flags&128))return rn=!1,TD(r,a,u);rn=!!(r.flags&131072)}else rn=!1,nt&&a.flags&1048576&&Cw(a,Sd,a.index);switch(a.lanes=0,a.tag){case 16:e:{r=a.pendingProps;var d=a.elementType,m=d._init;if(d=m(d._payload),a.type=d,typeof d=="function")Xg(d)?(r=eo(d,r),a.tag=1,a=VT(null,a,d,r,u)):(a.tag=0,a=Ig(null,a,d,r,u));else{if(d!=null){if(m=d.$$typeof,m===x){a.tag=11,a=PT(null,a,d,r,u);break e}else if(m===P){a.tag=14,a=DT(null,a,d,r,u);break e}}throw a=A(d)||d,Error(i(306,a,""))}}return a;case 0:return Ig(r,a,a.type,a.pendingProps,u);case 1:return d=a.type,m=eo(d,a.pendingProps),VT(r,a,d,m,u);case 3:e:{if(Gi(a,a.stateNode.containerInfo),r===null)throw Error(i(387));var v=a.pendingProps;m=a.memoizedState,d=m.element,Fg(r,a),rc(a,v,null,u);var S=a.memoizedState;if(v=S.cache,Vr(a,Qt,v),v!==m.cache&&Bg(a,[Qt],u,!0),sc(),v=S.element,m.isDehydrated)if(m={element:v,isDehydrated:!1,cache:S.cache},a.updateQueue.baseState=m,a.memoizedState=m,a.flags&256){a=jT(r,a,v,u);break e}else if(v!==d){d=pi(Error(i(424)),a),Gu(d),a=jT(r,a,v,u);break e}else for(pn=Oi(a.stateNode.containerInfo.firstChild),jn=a,nt=!0,Di=null,ss=!0,u=kw(a,null,v,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(qu(),v===d){a=Bs(r,a,u);break e}mn(r,a,v,u)}a=a.child}return a;case 26:return tc(r,a),r===null?(u=G1(a.type,null,a.pendingProps,null))?a.memoizedState=u:nt||(u=a.type,r=a.pendingProps,d=sf(On.current).createElement(u),d[tn]=a,d[$t]=r,gn(d,u,r),Et(d),a.stateNode=d):a.memoizedState=G1(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return we(a),r===null&&nt&&(d=a.stateNode=F1(a.type,a.pendingProps,On.current),jn=a,ss=!0,pn=Oi(d.firstChild)),d=a.pendingProps.children,r!==null||nt?mn(r,a,d,u):a.child=Ya(a,null,d,u),tc(r,a),a.child;case 5:return r===null&&nt&&((m=d=pn)&&(d=ZD(d,a.type,a.pendingProps,ss),d!==null?(a.stateNode=d,jn=a,pn=Oi(d.firstChild),ss=!1,m=!0):m=!1),m||Wa(a)),we(a),m=a.type,v=a.pendingProps,S=r!==null?r.memoizedProps:null,d=v.children,bv(m,v)?d=null:S!==null&&bv(m,S)&&(a.flags|=32),a.memoizedState!==null&&(m=hg(r,a,mD,null,null,u),Ec._currentValue=m),tc(r,a),mn(r,a,d,u),a.child;case 6:return r===null&&nt&&((r=u=pn)&&(u=JD(u,a.pendingProps,ss),u!==null?(a.stateNode=u,jn=a,pn=null,r=!0):r=!1),r||Wa(a)),null;case 13:return UT(r,a,u);case 4:return Gi(a,a.stateNode.containerInfo),d=a.pendingProps,r===null?a.child=Ya(a,null,d,u):mn(r,a,d,u),a.child;case 11:return PT(r,a,a.type,a.pendingProps,u);case 7:return mn(r,a,a.pendingProps,u),a.child;case 8:return mn(r,a,a.pendingProps.children,u),a.child;case 12:return mn(r,a,a.pendingProps.children,u),a.child;case 10:return d=a.pendingProps,Vr(a,a.type,d.value),mn(r,a,d.children,u),a.child;case 9:return m=a.type._context,d=a.pendingProps.children,no(a),m=xn(m),d=d(m),a.flags|=1,mn(r,a,d,u),a.child;case 14:return DT(r,a,a.type,a.pendingProps,u);case 15:return MT(r,a,a.type,a.pendingProps,u);case 19:return zT(r,a,u);case 22:return OT(r,a,u);case 24:return no(a),d=xn(Qt),r===null?(m=ug(),m===null&&(m=dt,v=og(),m.pooledCache=v,v.refCount++,v!==null&&(m.pooledCacheLanes|=u),m=v),a.memoizedState={parent:d,cache:m},zg(a),Vr(a,Qt,m)):(r.lanes&u&&(Fg(r,a),rc(a,null,null,u),sc()),m=r.memoizedState,v=a.memoizedState,m.parent!==d?(m={parent:d,cache:d},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),Vr(a,Qt,d)):(d=v.cache,Vr(a,Qt,d),d!==m.cache&&Bg(a,[Qt],u,!0))),mn(r,a,a.pendingProps.children,u),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}var jg=Ye(null),to=null,zs=null;function Vr(r,a,u){Qe(jg,a._currentValue),a._currentValue=u}function Fs(r){r._currentValue=jg.current,vt(jg)}function Ug(r,a,u){for(;r!==null;){var d=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,d!==null&&(d.childLanes|=a)):d!==null&&(d.childLanes&a)!==a&&(d.childLanes|=a),r===u)break;r=r.return}}function Bg(r,a,u,d){var m=r.child;for(m!==null&&(m.return=r);m!==null;){var v=m.dependencies;if(v!==null){var S=m.child;v=v.firstContext;e:for(;v!==null;){var N=v;v=m;for(var z=0;z<a.length;z++)if(N.context===a[z]){v.lanes|=u,N=v.alternate,N!==null&&(N.lanes|=u),Ug(v.return,u,r),d||(S=null);break e}v=N.next}}else if(m.tag===18){if(S=m.return,S===null)throw Error(i(341));S.lanes|=u,v=S.alternate,v!==null&&(v.lanes|=u),Ug(S,u,r),S=null}else S=m.child;if(S!==null)S.return=m;else for(S=m;S!==null;){if(S===r){S=null;break}if(m=S.sibling,m!==null){m.return=S.return,S=m;break}S=S.return}m=S}}function nc(r,a,u,d){r=null;for(var m=a,v=!1;m!==null;){if(!v){if(m.flags&524288)v=!0;else if(m.flags&262144)break}if(m.tag===10){var S=m.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var N=m.type;Qn(m.pendingProps.value,S.value)||(r!==null?r.push(N):r=[N])}}else if(m===qi.current){if(S=m.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(r!==null?r.push(Ec):r=[Ec])}m=m.return}r!==null&&Bg(a,r,u,d),a.flags|=262144}function zd(r){for(r=r.firstContext;r!==null;){if(!Qn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function no(r){to=r,zs=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function xn(r){return HT(to,r)}function Fd(r,a){return to===null&&no(r),HT(r,a)}function HT(r,a){var u=a._currentValue;if(a={context:a,memoizedValue:u,next:null},zs===null){if(r===null)throw Error(i(308));zs=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else zs=zs.next=a;return u}var jr=!1;function zg(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fg(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ur(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Br(r,a,u){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,Tt&2){var m=d.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),d.pending=a,a=Td(r),Sw(r,null,u),a}return wd(r,d,a,u),Td(r)}function ic(r,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194176)!==0)){var d=a.lanes;d&=r.pendingLanes,u|=d,a.lanes=u,Tr(r,u)}}function Hg(r,a){var u=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var m=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var S={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};v===null?m=v=S:v=v.next=S,u=u.next}while(u!==null);v===null?m=v=a:v=v.next=a}else m=v=a;u={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:d.shared,callbacks:d.callbacks},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=a:r.next=a,u.lastBaseUpdate=a}var qg=!1;function sc(){if(qg){var r=sl;if(r!==null)throw r}}function rc(r,a,u,d){qg=!1;var m=r.updateQueue;jr=!1;var v=m.firstBaseUpdate,S=m.lastBaseUpdate,N=m.shared.pending;if(N!==null){m.shared.pending=null;var z=N,$=z.next;z.next=null,S===null?v=$:S.next=$,S=z;var ee=r.alternate;ee!==null&&(ee=ee.updateQueue,N=ee.lastBaseUpdate,N!==S&&(N===null?ee.firstBaseUpdate=$:N.next=$,ee.lastBaseUpdate=z))}if(v!==null){var se=m.baseState;S=0,ee=$=z=null,N=v;do{var Q=N.lane&-536870913,J=Q!==N.lane;if(J?(Je&Q)===Q:(d&Q)===Q){Q!==0&&Q===il&&(qg=!0),ee!==null&&(ee=ee.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var Ee=r,Pe=N;Q=a;var Nt=u;switch(Pe.tag){case 1:if(Ee=Pe.payload,typeof Ee=="function"){se=Ee.call(Nt,se,Q);break e}se=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Pe.payload,Q=typeof Ee=="function"?Ee.call(Nt,se,Q):Ee,Q==null)break e;se=R({},se,Q);break e;case 2:jr=!0}}Q=N.callback,Q!==null&&(r.flags|=64,J&&(r.flags|=8192),J=m.callbacks,J===null?m.callbacks=[Q]:J.push(Q))}else J={lane:Q,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ee===null?($=ee=J,z=se):ee=ee.next=J,S|=Q;if(N=N.next,N===null){if(N=m.shared.pending,N===null)break;J=N,N=J.next,J.next=null,m.lastBaseUpdate=J,m.shared.pending=null}}while(!0);ee===null&&(z=se),m.baseState=z,m.firstBaseUpdate=$,m.lastBaseUpdate=ee,v===null&&(m.shared.lanes=0),Gr|=S,r.lanes=S,r.memoizedState=se}}function qT(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function GT(r,a){var u=r.callbacks;if(u!==null)for(r.callbacks=null,r=0;r<u.length;r++)qT(u[r],a)}function ac(r,a){try{var u=a.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var m=d.next;u=m;do{if((u.tag&r)===r){d=void 0;var v=u.create,S=u.inst;d=v(),S.destroy=d}u=u.next}while(u!==m)}}catch(N){ct(a,a.return,N)}}function zr(r,a,u){try{var d=a.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var v=m.next;d=v;do{if((d.tag&r)===r){var S=d.inst,N=S.destroy;if(N!==void 0){S.destroy=void 0,m=a;var z=u;try{N()}catch($){ct(m,z,$)}}}d=d.next}while(d!==v)}}catch($){ct(a,a.return,$)}}function $T(r){var a=r.updateQueue;if(a!==null){var u=r.stateNode;try{GT(a,u)}catch(d){ct(r,r.return,d)}}}function KT(r,a,u){u.props=eo(r.type,r.memoizedProps),u.state=r.memoizedState;try{u.componentWillUnmount()}catch(d){ct(r,a,d)}}function io(r,a){try{var u=r.ref;if(u!==null){var d=r.stateNode;switch(r.tag){case 26:case 27:case 5:var m=d;break;default:m=d}typeof u=="function"?r.refCleanup=u(m):u.current=m}}catch(v){ct(r,a,v)}}function Xn(r,a){var u=r.ref,d=r.refCleanup;if(u!==null)if(typeof d=="function")try{d()}catch(m){ct(r,a,m)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(m){ct(r,a,m)}else u.current=null}function WT(r){var a=r.type,u=r.memoizedProps,d=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":u.autoFocus&&d.focus();break e;case"img":u.src?d.src=u.src:u.srcSet&&(d.srcset=u.srcSet)}}catch(m){ct(r,r.return,m)}}function YT(r,a,u){try{var d=r.stateNode;KD(d,r.type,u,a),d[$t]=a}catch(m){ct(r,r.return,m)}}function QT(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27||r.tag===4}function Gg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||QT(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==27&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function $g(r,a,u){var d=r.tag;if(d===5||d===6)r=r.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(r,a):u.insertBefore(r,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(r,u)):(a=u,a.appendChild(r)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=nf));else if(d!==4&&d!==27&&(r=r.child,r!==null))for($g(r,a,u),r=r.sibling;r!==null;)$g(r,a,u),r=r.sibling}function Hd(r,a,u){var d=r.tag;if(d===5||d===6)r=r.stateNode,a?u.insertBefore(r,a):u.appendChild(r);else if(d!==4&&d!==27&&(r=r.child,r!==null))for(Hd(r,a,u),r=r.sibling;r!==null;)Hd(r,a,u),r=r.sibling}var Hs=!1,Rt=!1,Kg=!1,XT=typeof WeakSet=="function"?WeakSet:Set,an=null,ZT=!1;function bD(r,a){if(r=r.containerInfo,wv=cf,r=mw(r),Ym(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else e:{u=(u=r.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var m=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var S=0,N=-1,z=-1,$=0,ee=0,se=r,Q=null;t:for(;;){for(var J;se!==u||m!==0&&se.nodeType!==3||(N=S+m),se!==v||d!==0&&se.nodeType!==3||(z=S+d),se.nodeType===3&&(S+=se.nodeValue.length),(J=se.firstChild)!==null;)Q=se,se=J;for(;;){if(se===r)break t;if(Q===u&&++$===m&&(N=S),Q===v&&++ee===d&&(z=S),(J=se.nextSibling)!==null)break;se=Q,Q=se.parentNode}se=J}u=N===-1||z===-1?null:{start:N,end:z}}else u=null}u=u||{start:0,end:0}}else u=null;for(Tv={focusedElem:r,selectionRange:u},cf=!1,an=a;an!==null;)if(a=an,r=a.child,(a.subtreeFlags&1028)!==0&&r!==null)r.return=a,an=r;else for(;an!==null;){switch(a=an,v=a.alternate,r=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if(r&1024&&v!==null){r=void 0,u=a,m=v.memoizedProps,v=v.memoizedState,d=u.stateNode;try{var Ee=eo(u.type,m,u.elementType===u.type);r=d.getSnapshotBeforeUpdate(Ee,v),d.__reactInternalSnapshotBeforeUpdate=r}catch(Pe){ct(u,u.return,Pe)}}break;case 3:if(r&1024){if(r=a.stateNode.containerInfo,u=r.nodeType,u===9)Cv(r);else if(u===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Cv(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(r&1024)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,an=r;break}an=a.return}return Ee=ZT,ZT=!1,Ee}function JT(r,a,u){var d=u.flags;switch(u.tag){case 0:case 11:case 15:Gs(r,u),d&4&&ac(5,u);break;case 1:if(Gs(r,u),d&4)if(r=u.stateNode,a===null)try{r.componentDidMount()}catch(N){ct(u,u.return,N)}else{var m=eo(u.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(m,a,r.__reactInternalSnapshotBeforeUpdate)}catch(N){ct(u,u.return,N)}}d&64&&$T(u),d&512&&io(u,u.return);break;case 3:if(Gs(r,u),d&64&&(d=u.updateQueue,d!==null)){if(r=null,u.child!==null)switch(u.child.tag){case 27:case 5:r=u.child.stateNode;break;case 1:r=u.child.stateNode}try{GT(d,r)}catch(N){ct(u,u.return,N)}}break;case 26:Gs(r,u),d&512&&io(u,u.return);break;case 27:case 5:Gs(r,u),a===null&&d&4&&WT(u),d&512&&io(u,u.return);break;case 12:Gs(r,u);break;case 13:Gs(r,u),d&4&&n1(r,u);break;case 22:if(m=u.memoizedState!==null||Hs,!m){a=a!==null&&a.memoizedState!==null||Rt;var v=Hs,S=Rt;Hs=m,(Rt=a)&&!S?Fr(r,u,(u.subtreeFlags&8772)!==0):Gs(r,u),Hs=v,Rt=S}d&512&&(u.memoizedProps.mode==="manual"?io(u,u.return):Xn(u,u.return));break;default:Gs(r,u)}}function e1(r){var a=r.alternate;a!==null&&(r.alternate=null,e1(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&Ma(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Ft=null,Zn=!1;function qs(r,a,u){for(u=u.child;u!==null;)t1(r,a,u),u=u.sibling}function t1(r,a,u){if(Sn&&typeof Sn.onCommitFiberUnmount=="function")try{Sn.onCommitFiberUnmount(vr,u)}catch{}switch(u.tag){case 26:Rt||Xn(u,a),qs(r,a,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Rt||Xn(u,a);var d=Ft,m=Zn;for(Ft=u.stateNode,qs(r,a,u),u=u.stateNode,a=u.attributes;a.length;)u.removeAttributeNode(a[0]);Ma(u),Ft=d,Zn=m;break;case 5:Rt||Xn(u,a);case 6:m=Ft;var v=Zn;if(Ft=null,qs(r,a,u),Ft=m,Zn=v,Ft!==null)if(Zn)try{r=Ft,d=u.stateNode,r.nodeType===8?r.parentNode.removeChild(d):r.removeChild(d)}catch(S){ct(u,a,S)}else try{Ft.removeChild(u.stateNode)}catch(S){ct(u,a,S)}break;case 18:Ft!==null&&(Zn?(a=Ft,u=u.stateNode,a.nodeType===8?xv(a.parentNode,u):a.nodeType===1&&xv(a,u),Sc(a)):xv(Ft,u.stateNode));break;case 4:d=Ft,m=Zn,Ft=u.stateNode.containerInfo,Zn=!0,qs(r,a,u),Ft=d,Zn=m;break;case 0:case 11:case 14:case 15:Rt||zr(2,u,a),Rt||zr(4,u,a),qs(r,a,u);break;case 1:Rt||(Xn(u,a),d=u.stateNode,typeof d.componentWillUnmount=="function"&&KT(u,a,d)),qs(r,a,u);break;case 21:qs(r,a,u);break;case 22:Rt||Xn(u,a),Rt=(d=Rt)||u.memoizedState!==null,qs(r,a,u),Rt=d;break;default:qs(r,a,u)}}function n1(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Sc(r)}catch(u){ct(a,a.return,u)}}function SD(r){switch(r.tag){case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new XT),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new XT),a;default:throw Error(i(435,r.tag))}}function Wg(r,a){var u=SD(r);a.forEach(function(d){var m=VD.bind(null,r,d);u.has(d)||(u.add(d),d.then(m,m))})}function yi(r,a){var u=a.deletions;if(u!==null)for(var d=0;d<u.length;d++){var m=u[d],v=r,S=a,N=S;e:for(;N!==null;){switch(N.tag){case 27:case 5:Ft=N.stateNode,Zn=!1;break e;case 3:Ft=N.stateNode.containerInfo,Zn=!0;break e;case 4:Ft=N.stateNode.containerInfo,Zn=!0;break e}N=N.return}if(Ft===null)throw Error(i(160));t1(v,S,m),Ft=null,Zn=!1,v=m.alternate,v!==null&&(v.return=null),m.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)i1(a,r),a=a.sibling}var Mi=null;function i1(r,a){var u=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:yi(a,r),_i(r),d&4&&(zr(3,r,r.return),ac(3,r),zr(5,r,r.return));break;case 1:yi(a,r),_i(r),d&512&&(Rt||u===null||Xn(u,u.return)),d&64&&Hs&&(r=r.updateQueue,r!==null&&(d=r.callbacks,d!==null&&(u=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=u===null?d:u.concat(d))));break;case 26:var m=Mi;if(yi(a,r),_i(r),d&512&&(Rt||u===null||Xn(u,u.return)),d&4){var v=u!==null?u.memoizedState:null;if(d=r.memoizedState,u===null)if(d===null)if(r.stateNode===null){e:{d=r.type,u=r.memoizedProps,m=m.ownerDocument||m;t:switch(d){case"title":v=m.getElementsByTagName("title")[0],(!v||v[Sr]||v[tn]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=m.createElement(d),m.head.insertBefore(v,m.querySelector("head > title"))),gn(v,d,u),v[tn]=r,Et(v),d=v;break e;case"link":var S=W1("link","href",m).get(d+(u.href||""));if(S){for(var N=0;N<S.length;N++)if(v=S[N],v.getAttribute("href")===(u.href==null?null:u.href)&&v.getAttribute("rel")===(u.rel==null?null:u.rel)&&v.getAttribute("title")===(u.title==null?null:u.title)&&v.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){S.splice(N,1);break t}}v=m.createElement(d),gn(v,d,u),m.head.appendChild(v);break;case"meta":if(S=W1("meta","content",m).get(d+(u.content||""))){for(N=0;N<S.length;N++)if(v=S[N],v.getAttribute("content")===(u.content==null?null:""+u.content)&&v.getAttribute("name")===(u.name==null?null:u.name)&&v.getAttribute("property")===(u.property==null?null:u.property)&&v.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&v.getAttribute("charset")===(u.charSet==null?null:u.charSet)){S.splice(N,1);break t}}v=m.createElement(d),gn(v,d,u),m.head.appendChild(v);break;default:throw Error(i(468,d))}v[tn]=r,Et(v),d=v}r.stateNode=d}else Y1(m,r.type,r.stateNode);else r.stateNode=K1(m,d,r.memoizedProps);else v!==d?(v===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):v.count--,d===null?Y1(m,r.type,r.stateNode):K1(m,d,r.memoizedProps)):d===null&&r.stateNode!==null&&YT(r,r.memoizedProps,u.memoizedProps)}break;case 27:if(d&4&&r.alternate===null){m=r.stateNode,v=r.memoizedProps;try{for(var z=m.firstChild;z;){var $=z.nextSibling,ee=z.nodeName;z[Sr]||ee==="HEAD"||ee==="BODY"||ee==="SCRIPT"||ee==="STYLE"||ee==="LINK"&&z.rel.toLowerCase()==="stylesheet"||m.removeChild(z),z=$}for(var se=r.type,Q=m.attributes;Q.length;)m.removeAttributeNode(Q[0]);gn(m,se,v),m[tn]=r,m[$t]=v}catch(Ee){ct(r,r.return,Ee)}}case 5:if(yi(a,r),_i(r),d&512&&(Rt||u===null||Xn(u,u.return)),r.flags&32){m=r.stateNode;try{ui(m,"")}catch(Ee){ct(r,r.return,Ee)}}d&4&&r.stateNode!=null&&(m=r.memoizedProps,YT(r,m,u!==null?u.memoizedProps:m)),d&1024&&(Kg=!0);break;case 6:if(yi(a,r),_i(r),d&4){if(r.stateNode===null)throw Error(i(162));d=r.memoizedProps,u=r.stateNode;try{u.nodeValue=d}catch(Ee){ct(r,r.return,Ee)}}break;case 3:if(of=null,m=Mi,Mi=rf(a.containerInfo),yi(a,r),Mi=m,_i(r),d&4&&u!==null&&u.memoizedState.isDehydrated)try{Sc(a.containerInfo)}catch(Ee){ct(r,r.return,Ee)}Kg&&(Kg=!1,s1(r));break;case 4:d=Mi,Mi=rf(r.stateNode.containerInfo),yi(a,r),_i(r),Mi=d;break;case 12:yi(a,r),_i(r);break;case 13:yi(a,r),_i(r),r.child.flags&8192&&r.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(iv=Gt()),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,Wg(r,d)));break;case 22:if(d&512&&(Rt||u===null||Xn(u,u.return)),z=r.memoizedState!==null,$=u!==null&&u.memoizedState!==null,ee=Hs,se=Rt,Hs=ee||z,Rt=se||$,yi(a,r),Rt=se,Hs=ee,_i(r),a=r.stateNode,a._current=r,a._visibility&=-3,a._visibility|=a._pendingVisibility&2,d&8192&&(a._visibility=z?a._visibility&-2:a._visibility|1,z&&(a=Hs||Rt,u===null||$||a||ll(r)),r.memoizedProps===null||r.memoizedProps.mode!=="manual"))e:for(u=null,a=r;;){if(a.tag===5||a.tag===26||a.tag===27){if(u===null){$=u=a;try{if(m=$.stateNode,z)v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=$.stateNode,N=$.memoizedProps.style;var J=N!=null&&N.hasOwnProperty("display")?N.display:null;S.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(Ee){ct($,$.return,Ee)}}}else if(a.tag===6){if(u===null){$=a;try{$.stateNode.nodeValue=z?"":$.memoizedProps}catch(Ee){ct($,$.return,Ee)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;u===a&&(u=null),a=a.return}u===a&&(u=null),a.sibling.return=a.return,a=a.sibling}d&4&&(d=r.updateQueue,d!==null&&(u=d.retryQueue,u!==null&&(d.retryQueue=null,Wg(r,u))));break;case 19:yi(a,r),_i(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,Wg(r,d)));break;case 21:break;default:yi(a,r),_i(r)}}function _i(r){var a=r.flags;if(a&2){try{if(r.tag!==27){e:{for(var u=r.return;u!==null;){if(QT(u)){var d=u;break e}u=u.return}throw Error(i(160))}switch(d.tag){case 27:var m=d.stateNode,v=Gg(r);Hd(r,v,m);break;case 5:var S=d.stateNode;d.flags&32&&(ui(S,""),d.flags&=-33);var N=Gg(r);Hd(r,N,S);break;case 3:case 4:var z=d.stateNode.containerInfo,$=Gg(r);$g(r,$,z);break;default:throw Error(i(161))}}}catch(ee){ct(r,r.return,ee)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function s1(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;s1(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function Gs(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)JT(r,a.alternate,a),a=a.sibling}function ll(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:zr(4,a,a.return),ll(a);break;case 1:Xn(a,a.return);var u=a.stateNode;typeof u.componentWillUnmount=="function"&&KT(a,a.return,u),ll(a);break;case 26:case 27:case 5:Xn(a,a.return),ll(a);break;case 22:Xn(a,a.return),a.memoizedState===null&&ll(a);break;default:ll(a)}r=r.sibling}}function Fr(r,a,u){for(u=u&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var d=a.alternate,m=r,v=a,S=v.flags;switch(v.tag){case 0:case 11:case 15:Fr(m,v,u),ac(4,v);break;case 1:if(Fr(m,v,u),d=v,m=d.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch($){ct(d,d.return,$)}if(d=v,m=d.updateQueue,m!==null){var N=d.stateNode;try{var z=m.shared.hiddenCallbacks;if(z!==null)for(m.shared.hiddenCallbacks=null,m=0;m<z.length;m++)qT(z[m],N)}catch($){ct(d,d.return,$)}}u&&S&64&&$T(v),io(v,v.return);break;case 26:case 27:case 5:Fr(m,v,u),u&&d===null&&S&4&&WT(v),io(v,v.return);break;case 12:Fr(m,v,u);break;case 13:Fr(m,v,u),u&&S&4&&n1(m,v);break;case 22:v.memoizedState===null&&Fr(m,v,u),io(v,v.return);break;default:Fr(m,v,u)}a=a.sibling}}function Yg(r,a){var u=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==u&&(r!=null&&r.refCount++,u!=null&&Qu(u))}function Qg(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Qu(r))}function Hr(r,a,u,d){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)r1(r,a,u,d),a=a.sibling}function r1(r,a,u,d){var m=a.flags;switch(a.tag){case 0:case 11:case 15:Hr(r,a,u,d),m&2048&&ac(9,a);break;case 3:Hr(r,a,u,d),m&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Qu(r)));break;case 12:if(m&2048){Hr(r,a,u,d),r=a.stateNode;try{var v=a.memoizedProps,S=v.id,N=v.onPostCommit;typeof N=="function"&&N(S,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(z){ct(a,a.return,z)}}else Hr(r,a,u,d);break;case 23:break;case 22:v=a.stateNode,a.memoizedState!==null?v._visibility&4?Hr(r,a,u,d):oc(r,a):v._visibility&4?Hr(r,a,u,d):(v._visibility|=4,ul(r,a,u,d,(a.subtreeFlags&10256)!==0)),m&2048&&Yg(a.alternate,a);break;case 24:Hr(r,a,u,d),m&2048&&Qg(a.alternate,a);break;default:Hr(r,a,u,d)}}function ul(r,a,u,d,m){for(m=m&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var v=r,S=a,N=u,z=d,$=S.flags;switch(S.tag){case 0:case 11:case 15:ul(v,S,N,z,m),ac(8,S);break;case 23:break;case 22:var ee=S.stateNode;S.memoizedState!==null?ee._visibility&4?ul(v,S,N,z,m):oc(v,S):(ee._visibility|=4,ul(v,S,N,z,m)),m&&$&2048&&Yg(S.alternate,S);break;case 24:ul(v,S,N,z,m),m&&$&2048&&Qg(S.alternate,S);break;default:ul(v,S,N,z,m)}a=a.sibling}}function oc(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var u=r,d=a,m=d.flags;switch(d.tag){case 22:oc(u,d),m&2048&&Yg(d.alternate,d);break;case 24:oc(u,d),m&2048&&Qg(d.alternate,d);break;default:oc(u,d)}a=a.sibling}}var lc=8192;function cl(r){if(r.subtreeFlags&lc)for(r=r.child;r!==null;)a1(r),r=r.sibling}function a1(r){switch(r.tag){case 26:cl(r),r.flags&lc&&r.memoizedState!==null&&dM(Mi,r.memoizedState,r.memoizedProps);break;case 5:cl(r);break;case 3:case 4:var a=Mi;Mi=rf(r.stateNode.containerInfo),cl(r),Mi=a;break;case 22:r.memoizedState===null&&(a=r.alternate,a!==null&&a.memoizedState!==null?(a=lc,lc=16777216,cl(r),lc=a):cl(r));break;default:cl(r)}}function o1(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function uc(r){var a=r.deletions;if(r.flags&16){if(a!==null)for(var u=0;u<a.length;u++){var d=a[u];an=d,u1(d,r)}o1(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)l1(r),r=r.sibling}function l1(r){switch(r.tag){case 0:case 11:case 15:uc(r),r.flags&2048&&zr(9,r,r.return);break;case 3:uc(r);break;case 12:uc(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&4&&(r.return===null||r.return.tag!==13)?(a._visibility&=-5,qd(r)):uc(r);break;default:uc(r)}}function qd(r){var a=r.deletions;if(r.flags&16){if(a!==null)for(var u=0;u<a.length;u++){var d=a[u];an=d,u1(d,r)}o1(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:zr(8,a,a.return),qd(a);break;case 22:u=a.stateNode,u._visibility&4&&(u._visibility&=-5,qd(a));break;default:qd(a)}r=r.sibling}}function u1(r,a){for(;an!==null;){var u=an;switch(u.tag){case 0:case 11:case 15:zr(8,u,a);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var d=u.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Qu(u.memoizedState.cache)}if(d=u.child,d!==null)d.return=u,an=d;else e:for(u=r;an!==null;){d=an;var m=d.sibling,v=d.return;if(e1(d),d===u){an=null;break e}if(m!==null){m.return=v,an=m;break e}an=v}}}function xD(r,a,u,d){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ei(r,a,u,d){return new xD(r,a,u,d)}function Xg(r){return r=r.prototype,!(!r||!r.isReactComponent)}function qr(r,a){var u=r.alternate;return u===null?(u=Ei(r.tag,a,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=a,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&31457280,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,a=r.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u.refCleanup=r.refCleanup,u}function c1(r,a){r.flags&=31457282;var u=r.alternate;return u===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=u.childLanes,r.lanes=u.lanes,r.child=u.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=u.memoizedProps,r.memoizedState=u.memoizedState,r.updateQueue=u.updateQueue,r.type=u.type,a=u.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function Gd(r,a,u,d,m,v){var S=0;if(d=r,typeof r=="function")Xg(r)&&(S=1);else if(typeof r=="string")S=cM(r,u,dn.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case h:return so(u.children,m,v,a);case f:S=8,m|=24;break;case g:return r=Ei(12,u,a,m|2),r.elementType=g,r.lanes=v,r;case D:return r=Ei(13,u,a,m),r.elementType=D,r.lanes=v,r;case j:return r=Ei(19,u,a,m),r.elementType=j,r.lanes=v,r;case L:return h1(u,m,v,a);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case y:case T:S=10;break e;case _:S=9;break e;case x:S=11;break e;case P:S=14;break e;case I:S=16,d=null;break e}S=29,u=Error(i(130,r===null?"null":typeof r,"")),d=null}return a=Ei(S,u,a,m),a.elementType=r,a.type=d,a.lanes=v,a}function so(r,a,u,d){return r=Ei(7,r,d,a),r.lanes=u,r}function h1(r,a,u,d){r=Ei(22,r,d,a),r.elementType=L,r.lanes=u;var m={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var v=m._current;if(v===null)throw Error(i(456));if(!(m._pendingVisibility&2)){var S=Dr(v,2);S!==null&&(m._pendingVisibility|=2,Un(S,v,2))}},attach:function(){var v=m._current;if(v===null)throw Error(i(456));if(m._pendingVisibility&2){var S=Dr(v,2);S!==null&&(m._pendingVisibility&=-3,Un(S,v,2))}}};return r.stateNode=m,r}function Zg(r,a,u){return r=Ei(6,r,null,a),r.lanes=u,r}function Jg(r,a,u){return a=Ei(4,r.children!==null?r.children:[],r.key,a),a.lanes=u,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}function $s(r){r.flags|=4}function d1(r,a){if(a.type!=="stylesheet"||a.state.loading&4)r.flags&=-16777217;else if(r.flags|=16777216,!Q1(a)){if(a=vi.current,a!==null&&((Je&4194176)===Je?rs!==null:(Je&62914560)!==Je&&!(Je&536870912)||a!==rs))throw Ku=sg,Iw;r.flags|=8192}}function $d(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?Er():536870912,r.lanes|=a,dl|=a)}function cc(r,a){if(!nt)switch(r.tailMode){case"hidden":a=r.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function wt(r){var a=r.alternate!==null&&r.alternate.child===r.child,u=0,d=0;if(a)for(var m=r.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags&31457280,d|=m.flags&31457280,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=d,r.childLanes=u,a}function CD(r,a,u){var d=a.pendingProps;switch(ng(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(a),null;case 1:return wt(a),null;case 3:return u=a.stateNode,d=null,r!==null&&(d=r.memoizedState.cache),a.memoizedState.cache!==d&&(a.flags|=2048),Fs(Qt),oe(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(Hu(a)?$s(a):r===null||r.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,Di!==null&&(ov(Di),Di=null))),wt(a),null;case 26:return u=a.memoizedState,r===null?($s(a),u!==null?(wt(a),d1(a,u)):(wt(a),a.flags&=-16777217)):u?u!==r.memoizedState?($s(a),wt(a),d1(a,u)):(wt(a),a.flags&=-16777217):(r.memoizedProps!==d&&$s(a),wt(a),a.flags&=-16777217),null;case 27:He(a),u=On.current;var m=a.type;if(r!==null&&a.stateNode!=null)r.memoizedProps!==d&&$s(a);else{if(!d){if(a.stateNode===null)throw Error(i(166));return wt(a),null}r=dn.current,Hu(a)?Aw(a):(r=F1(m,d,u),a.stateNode=r,$s(a))}return wt(a),null;case 5:if(He(a),u=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==d&&$s(a);else{if(!d){if(a.stateNode===null)throw Error(i(166));return wt(a),null}if(r=dn.current,Hu(a))Aw(a);else{switch(m=sf(On.current),r){case 1:r=m.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:r=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":r=m.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":r=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":r=m.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof d.is=="string"?m.createElement("select",{is:d.is}):m.createElement("select"),d.multiple?r.multiple=!0:d.size&&(r.size=d.size);break;default:r=typeof d.is=="string"?m.createElement(u,{is:d.is}):m.createElement(u)}}r[tn]=a,r[$t]=d;e:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)r.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break e;for(;m.sibling===null;){if(m.return===null||m.return===a)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=r;e:switch(gn(r,u,d),u){case"button":case"input":case"select":case"textarea":r=!!d.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&$s(a)}}return wt(a),a.flags&=-16777217,null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==d&&$s(a);else{if(typeof d!="string"&&a.stateNode===null)throw Error(i(166));if(r=On.current,Hu(a)){if(r=a.stateNode,u=a.memoizedProps,d=null,m=jn,m!==null)switch(m.tag){case 27:case 5:d=m.memoizedProps}r[tn]=a,r=!!(r.nodeValue===u||d!==null&&d.suppressHydrationWarning===!0||L1(r.nodeValue,u)),r||Wa(a)}else r=sf(r).createTextNode(d),r[tn]=a,a.stateNode=r}return wt(a),null;case 13:if(d=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(m=Hu(a),d!==null&&d.dehydrated!==null){if(r===null){if(!m)throw Error(i(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[tn]=a}else qu(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;wt(a),m=!1}else Di!==null&&(ov(Di),Di=null),m=!0;if(!m)return a.flags&256?(js(a),a):(js(a),null)}if(js(a),a.flags&128)return a.lanes=u,a;if(u=d!==null,r=r!==null&&r.memoizedState!==null,u){d=a.child,m=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(m=d.alternate.memoizedState.cachePool.pool);var v=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(v=d.memoizedState.cachePool.pool),v!==m&&(d.flags|=2048)}return u!==r&&u&&(a.child.flags|=8192),$d(a,a.updateQueue),wt(a),null;case 4:return oe(),r===null&&yv(a.stateNode.containerInfo),wt(a),null;case 10:return Fs(a.type),wt(a),null;case 19:if(vt(Yt),m=a.memoizedState,m===null)return wt(a),null;if(d=(a.flags&128)!==0,v=m.rendering,v===null)if(d)cc(m,!1);else{if(It!==0||r!==null&&r.flags&128)for(r=a.child;r!==null;){if(v=Id(r),v!==null){for(a.flags|=128,cc(m,!1),r=v.updateQueue,a.updateQueue=r,$d(a,r),a.subtreeFlags=0,r=u,u=a.child;u!==null;)c1(u,r),u=u.sibling;return Qe(Yt,Yt.current&1|2),a.child}r=r.sibling}m.tail!==null&&Gt()>Kd&&(a.flags|=128,d=!0,cc(m,!1),a.lanes=4194304)}else{if(!d)if(r=Id(v),r!==null){if(a.flags|=128,d=!0,r=r.updateQueue,a.updateQueue=r,$d(a,r),cc(m,!0),m.tail===null&&m.tailMode==="hidden"&&!v.alternate&&!nt)return wt(a),null}else 2*Gt()-m.renderingStartTime>Kd&&u!==536870912&&(a.flags|=128,d=!0,cc(m,!1),a.lanes=4194304);m.isBackwards?(v.sibling=a.child,a.child=v):(r=m.last,r!==null?r.sibling=v:a.child=v,m.last=v)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=Gt(),a.sibling=null,r=Yt.current,Qe(Yt,d?r&1|2:r&1),a):(wt(a),null);case 22:case 23:return js(a),ag(),d=a.memoizedState!==null,r!==null?r.memoizedState!==null!==d&&(a.flags|=8192):d&&(a.flags|=8192),d?u&536870912&&!(a.flags&128)&&(wt(a),a.subtreeFlags&6&&(a.flags|=8192)):wt(a),u=a.updateQueue,u!==null&&$d(a,u.retryQueue),u=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),d=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),d!==u&&(a.flags|=2048),r!==null&&vt(Qa),null;case 24:return u=null,r!==null&&(u=r.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Fs(Qt),wt(a),null;case 25:return null}throw Error(i(156,a.tag))}function AD(r,a){switch(ng(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return Fs(Qt),oe(),r=a.flags,r&65536&&!(r&128)?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return He(a),null;case 13:if(js(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));qu()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return vt(Yt),null;case 4:return oe(),null;case 10:return Fs(a.type),null;case 22:case 23:return js(a),ag(),r!==null&&vt(Qa),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return Fs(Qt),null;case 25:return null;default:return null}}function f1(r,a){switch(ng(a),a.tag){case 3:Fs(Qt),oe();break;case 26:case 27:case 5:He(a);break;case 4:oe();break;case 13:js(a);break;case 19:vt(Yt);break;case 10:Fs(a.type);break;case 22:case 23:js(a),ag(),r!==null&&vt(Qa);break;case 24:Fs(Qt)}}var RD={getCacheForType:function(r){var a=xn(Qt),u=a.data.get(r);return u===void 0&&(u=r(),a.data.set(r,u)),u}},ID=typeof WeakMap=="function"?WeakMap:Map,Tt=0,dt=null,Be=null,Je=0,ft=0,Jn=null,Ks=!1,hl=!1,ev=!1,Ws=0,It=0,Gr=0,ro=0,tv=0,wi=0,dl=0,hc=null,os=null,nv=!1,iv=0,Kd=1/0,Wd=null,$r=null,Yd=!1,ao=null,dc=0,sv=0,rv=null,fc=0,av=null;function ei(){if(Tt&2&&Je!==0)return Je&-Je;if(C.T!==null){var r=il;return r!==0?r:pv()}return td()}function p1(){wi===0&&(wi=!(Je&536870912)||nt?xu():536870912);var r=vi.current;return r!==null&&(r.flags|=32),wi}function Un(r,a,u){(r===dt&&ft===2||r.cancelPendingCommit!==null)&&(fl(r,0),Ys(r,Je,wi,!1)),kt(r,u),(!(Tt&2)||r!==dt)&&(r===dt&&(!(Tt&2)&&(ro|=u),It===4&&Ys(r,Je,wi,!1)),ls(r))}function m1(r,a,u){if(Tt&6)throw Error(i(327));var d=!u&&(a&60)===0&&(a&r.expiredLanes)===0||_r(r,a),m=d?DD(r,a):cv(r,a,!0),v=d;do{if(m===0){hl&&!d&&Ys(r,a,0,!1);break}else if(m===6)Ys(r,a,0,!Ks);else{if(u=r.current.alternate,v&&!ND(u)){m=cv(r,a,!1),v=!1;continue}if(m===2){if(v=a,r.errorRecoveryDisabledLanes&v)var S=0;else S=r.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){a=S;e:{var N=r;m=hc;var z=N.current.memoizedState.isDehydrated;if(z&&(fl(N,S).flags|=256),S=cv(N,S,!1),S!==2){if(ev&&!z){N.errorRecoveryDisabledLanes|=v,ro|=v,m=4;break e}v=os,os=m,v!==null&&ov(v)}m=S}if(v=!1,m!==2)continue}}if(m===1){fl(r,0),Ys(r,a,0,!0);break}e:{switch(d=r,m){case 0:case 1:throw Error(i(345));case 4:if((a&4194176)===a){Ys(d,a,wi,!Ks);break e}break;case 2:os=null;break;case 3:case 5:break;default:throw Error(i(329))}if(d.finishedWork=u,d.finishedLanes=a,(a&62914560)===a&&(v=iv+300-Gt(),10<v)){if(Ys(d,a,wi,!Ks),oi(d,0)!==0)break e;d.timeoutHandle=U1(g1.bind(null,d,u,os,Wd,nv,a,wi,ro,dl,Ks,2,-0,0),v);break e}g1(d,u,os,Wd,nv,a,wi,ro,dl,Ks,0,-0,0)}}break}while(!0);ls(r)}function ov(r){os===null?os=r:os.push.apply(os,r)}function g1(r,a,u,d,m,v,S,N,z,$,ee,se,Q){var J=a.subtreeFlags;if((J&8192||(J&16785408)===16785408)&&(_c={stylesheets:null,count:0,unsuspend:hM},a1(a),a=fM(),a!==null)){r.cancelPendingCommit=a(b1.bind(null,r,u,d,m,S,N,z,1,se,Q)),Ys(r,v,S,!$);return}b1(r,u,d,m,S,N,z,ee,se,Q)}function ND(r){for(var a=r;;){var u=a.tag;if((u===0||u===11||u===15)&&a.flags&16384&&(u=a.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var d=0;d<u.length;d++){var m=u[d],v=m.getSnapshot;m=m.value;try{if(!Qn(v(),m))return!1}catch{return!1}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ys(r,a,u,d){a&=~tv,a&=~ro,r.suspendedLanes|=a,r.pingedLanes&=~a,d&&(r.warmLanes|=a),d=r.expirationTimes;for(var m=a;0<m;){var v=31-kn(m),S=1<<v;d[v]=-1,m&=~S}u!==0&&wr(r,u,a)}function Qd(){return Tt&6?!0:(pc(0),!1)}function lv(){if(Be!==null){if(ft===0)var r=Be.return;else r=Be,zs=to=null,pg(r),tl=null,Wu=0,r=Be;for(;r!==null;)f1(r.alternate,r),r=r.return;Be=null}}function fl(r,a){r.finishedWork=null,r.finishedLanes=0;var u=r.timeoutHandle;u!==-1&&(r.timeoutHandle=-1,YD(u)),u=r.cancelPendingCommit,u!==null&&(r.cancelPendingCommit=null,u()),lv(),dt=r,Be=u=qr(r.current,null),Je=a,ft=0,Jn=null,Ks=!1,hl=_r(r,a),ev=!1,dl=wi=tv=ro=Gr=It=0,os=hc=null,nv=!1,a&8&&(a|=a&32);var d=r.entangledLanes;if(d!==0)for(r=r.entanglements,d&=a;0<d;){var m=31-kn(d),v=1<<m;a|=r[m],d&=~v}return Ws=a,Ed(),u}function v1(r,a){Le=null,C.H=as,a===$u?(a=Dw(),ft=3):a===Iw?(a=Dw(),ft=4):ft=a===NT?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Jn=a,Be===null&&(It=1,Bd(r,pi(a,r.current)))}function y1(){var r=C.H;return C.H=as,r===null?as:r}function _1(){var r=C.A;return C.A=RD,r}function uv(){It=4,Ks||(Je&4194176)!==Je&&vi.current!==null||(hl=!0),!(Gr&134217727)&&!(ro&134217727)||dt===null||Ys(dt,Je,wi,!1)}function cv(r,a,u){var d=Tt;Tt|=2;var m=y1(),v=_1();(dt!==r||Je!==a)&&(Wd=null,fl(r,a)),a=!1;var S=It;e:do try{if(ft!==0&&Be!==null){var N=Be,z=Jn;switch(ft){case 8:lv(),S=6;break e;case 3:case 2:case 6:vi.current===null&&(a=!0);var $=ft;if(ft=0,Jn=null,pl(r,N,z,$),u&&hl){S=0;break e}break;default:$=ft,ft=0,Jn=null,pl(r,N,z,$)}}PD(),S=It;break}catch(ee){v1(r,ee)}while(!0);return a&&r.shellSuspendCounter++,zs=to=null,Tt=d,C.H=m,C.A=v,Be===null&&(dt=null,Je=0,Ed()),S}function PD(){for(;Be!==null;)E1(Be)}function DD(r,a){var u=Tt;Tt|=2;var d=y1(),m=_1();dt!==r||Je!==a?(Wd=null,Kd=Gt()+500,fl(r,a)):hl=_r(r,a);e:do try{if(ft!==0&&Be!==null){a=Be;var v=Jn;t:switch(ft){case 1:ft=0,Jn=null,pl(r,a,v,1);break;case 2:if(Nw(v)){ft=0,Jn=null,w1(a);break}a=function(){ft===2&&dt===r&&(ft=7),ls(r)},v.then(a,a);break e;case 3:ft=7;break e;case 4:ft=5;break e;case 7:Nw(v)?(ft=0,Jn=null,w1(a)):(ft=0,Jn=null,pl(r,a,v,7));break;case 5:var S=null;switch(Be.tag){case 26:S=Be.memoizedState;case 5:case 27:var N=Be;if(!S||Q1(S)){ft=0,Jn=null;var z=N.sibling;if(z!==null)Be=z;else{var $=N.return;$!==null?(Be=$,Xd($)):Be=null}break t}}ft=0,Jn=null,pl(r,a,v,5);break;case 6:ft=0,Jn=null,pl(r,a,v,6);break;case 8:lv(),It=6;break e;default:throw Error(i(462))}}MD();break}catch(ee){v1(r,ee)}while(!0);return zs=to=null,C.H=d,C.A=m,Tt=u,Be!==null?0:(dt=null,Je=0,Ed(),It)}function MD(){for(;Be!==null&&!$i();)E1(Be)}function E1(r){var a=FT(r.alternate,r,Ws);r.memoizedProps=r.pendingProps,a===null?Xd(r):Be=a}function w1(r){var a=r,u=a.alternate;switch(a.tag){case 15:case 0:a=LT(u,a,a.pendingProps,a.type,void 0,Je);break;case 11:a=LT(u,a,a.pendingProps,a.type.render,a.ref,Je);break;case 5:pg(a);default:f1(u,a),a=Be=c1(a,Ws),a=FT(u,a,Ws)}r.memoizedProps=r.pendingProps,a===null?Xd(r):Be=a}function pl(r,a,u,d){zs=to=null,pg(a),tl=null,Wu=0;var m=a.return;try{if(wD(r,m,a,u,Je)){It=1,Bd(r,pi(u,r.current)),Be=null;return}}catch(v){if(m!==null)throw Be=m,v;It=1,Bd(r,pi(u,r.current)),Be=null;return}a.flags&32768?(nt||d===1?r=!0:hl||Je&536870912?r=!1:(Ks=r=!0,(d===2||d===3||d===6)&&(d=vi.current,d!==null&&d.tag===13&&(d.flags|=16384))),T1(a,r)):Xd(a)}function Xd(r){var a=r;do{if(a.flags&32768){T1(a,Ks);return}r=a.return;var u=CD(a.alternate,a,Ws);if(u!==null){Be=u;return}if(a=a.sibling,a!==null){Be=a;return}Be=a=r}while(a!==null);It===0&&(It=5)}function T1(r,a){do{var u=AD(r.alternate,r);if(u!==null){u.flags&=32767,Be=u;return}if(u=r.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!a&&(r=r.sibling,r!==null)){Be=r;return}Be=r=u}while(r!==null);It=6,Be=null}function b1(r,a,u,d,m,v,S,N,z,$){var ee=C.T,se=pe.p;try{pe.p=2,C.T=null,OD(r,a,u,d,se,m,v,S,N,z,$)}finally{C.T=ee,pe.p=se}}function OD(r,a,u,d,m,v,S,N){do ml();while(ao!==null);if(Tt&6)throw Error(i(327));var z=r.finishedWork;if(d=r.finishedLanes,z===null)return null;if(r.finishedWork=null,r.finishedLanes=0,z===r.current)throw Error(i(177));r.callbackNode=null,r.callbackPriority=0,r.cancelPendingCommit=null;var $=z.lanes|z.childLanes;if($|=Jm,Jh(r,d,$,v,S,N),r===dt&&(Be=dt=null,Je=0),!(z.subtreeFlags&10256)&&!(z.flags&10256)||Yd||(Yd=!0,sv=$,rv=u,jD(Cs,function(){return ml(),null})),u=(z.flags&15990)!==0,z.subtreeFlags&15990||u?(u=C.T,C.T=null,v=pe.p,pe.p=2,S=Tt,Tt|=4,bD(r,z),i1(z,r),sD(Tv,r.containerInfo),cf=!!wv,Tv=wv=null,r.current=z,JT(r,z.alternate,z),Ri(),Tt=S,pe.p=v,C.T=u):r.current=z,Yd?(Yd=!1,ao=r,dc=d):S1(r,$),$=r.pendingLanes,$===0&&($r=null),bu(z.stateNode),ls(r),a!==null)for(m=r.onRecoverableError,z=0;z<a.length;z++)$=a[z],m($.value,{componentStack:$.stack});return dc&3&&ml(),$=r.pendingLanes,d&4194218&&$&42?r===av?fc++:(fc=0,av=r):fc=0,pc(0),null}function S1(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,Qu(a)))}function ml(){if(ao!==null){var r=ao,a=sv;sv=0;var u=ed(dc),d=C.T,m=pe.p;try{if(pe.p=32>u?32:u,C.T=null,ao===null)var v=!1;else{u=rv,rv=null;var S=ao,N=dc;if(ao=null,dc=0,Tt&6)throw Error(i(331));var z=Tt;if(Tt|=4,l1(S.current),r1(S,S.current,N,u),Tt=z,pc(0,!1),Sn&&typeof Sn.onPostCommitFiberRoot=="function")try{Sn.onPostCommitFiberRoot(vr,S)}catch{}v=!0}return v}finally{pe.p=m,C.T=d,S1(r,a)}}return!1}function x1(r,a,u){a=pi(u,a),a=Rg(r.stateNode,a,2),r=Br(r,a,2),r!==null&&(kt(r,2),ls(r))}function ct(r,a,u){if(r.tag===3)x1(r,r,u);else for(;a!==null;){if(a.tag===3){x1(a,r,u);break}else if(a.tag===1){var d=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&($r===null||!$r.has(d))){r=pi(u,r),u=RT(2),d=Br(a,u,2),d!==null&&(IT(u,d,a,r),kt(d,2),ls(d));break}}a=a.return}}function hv(r,a,u){var d=r.pingCache;if(d===null){d=r.pingCache=new ID;var m=new Set;d.set(a,m)}else m=d.get(a),m===void 0&&(m=new Set,d.set(a,m));m.has(u)||(ev=!0,m.add(u),r=kD.bind(null,r,a,u),a.then(r,r))}function kD(r,a,u){var d=r.pingCache;d!==null&&d.delete(a),r.pingedLanes|=r.suspendedLanes&u,r.warmLanes&=~u,dt===r&&(Je&u)===u&&(It===4||It===3&&(Je&62914560)===Je&&300>Gt()-iv?!(Tt&2)&&fl(r,0):tv|=u,dl===Je&&(dl=0)),ls(r)}function C1(r,a){a===0&&(a=Er()),r=Dr(r,a),r!==null&&(kt(r,a),ls(r))}function LD(r){var a=r.memoizedState,u=0;a!==null&&(u=a.retryLane),C1(r,u)}function VD(r,a){var u=0;switch(r.tag){case 13:var d=r.stateNode,m=r.memoizedState;m!==null&&(u=m.retryLane);break;case 19:d=r.stateNode;break;case 22:d=r.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(a),C1(r,u)}function jD(r,a){return Ut(r,a)}var Zd=null,gl=null,dv=!1,Jd=!1,fv=!1,oo=0;function ls(r){r!==gl&&r.next===null&&(gl===null?Zd=gl=r:gl=gl.next=r),Jd=!0,dv||(dv=!0,BD(UD))}function pc(r,a){if(!fv&&Jd){fv=!0;do for(var u=!1,d=Zd;d!==null;){if(r!==0){var m=d.pendingLanes;if(m===0)var v=0;else{var S=d.suspendedLanes,N=d.pingedLanes;v=(1<<31-kn(42|r)+1)-1,v&=m&~(S&~N),v=v&201326677?v&201326677|1:v?v|2:0}v!==0&&(u=!0,I1(d,v))}else v=Je,v=oi(d,d===dt?v:0),!(v&3)||_r(d,v)||(u=!0,I1(d,v));d=d.next}while(u);fv=!1}}function UD(){Jd=dv=!1;var r=0;oo!==0&&(WD()&&(r=oo),oo=0);for(var a=Gt(),u=null,d=Zd;d!==null;){var m=d.next,v=A1(d,a);v===0?(d.next=null,u===null?Zd=m:u.next=m,m===null&&(gl=u)):(u=d,(r!==0||v&3)&&(Jd=!0)),d=m}pc(r)}function A1(r,a){for(var u=r.suspendedLanes,d=r.pingedLanes,m=r.expirationTimes,v=r.pendingLanes&-62914561;0<v;){var S=31-kn(v),N=1<<S,z=m[S];z===-1?(!(N&u)||N&d)&&(m[S]=Oo(N,a)):z<=a&&(r.expiredLanes|=N),v&=~N}if(a=dt,u=Je,u=oi(r,r===a?u:0),d=r.callbackNode,u===0||r===a&&ft===2||r.cancelPendingCommit!==null)return d!==null&&d!==null&&qt(d),r.callbackNode=null,r.callbackPriority=0;if(!(u&3)||_r(r,u)){if(a=u&-u,a===r.callbackPriority)return a;switch(d!==null&&qt(d),ed(u)){case 2:case 8:u=en;break;case 32:u=Cs;break;case 268435456:u=Tu;break;default:u=Cs}return d=R1.bind(null,r),u=Ut(u,d),r.callbackPriority=a,r.callbackNode=u,a}return d!==null&&d!==null&&qt(d),r.callbackPriority=2,r.callbackNode=null,2}function R1(r,a){var u=r.callbackNode;if(ml()&&r.callbackNode!==u)return null;var d=Je;return d=oi(r,r===dt?d:0),d===0?null:(m1(r,d,a),A1(r,Gt()),r.callbackNode!=null&&r.callbackNode===u?R1.bind(null,r):null)}function I1(r,a){if(ml())return null;m1(r,a,!0)}function BD(r){QD(function(){Tt&6?Ut(Ot,r):r()})}function pv(){return oo===0&&(oo=xu()),oo}function N1(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Xi(""+r)}function P1(r,a){var u=a.ownerDocument.createElement("input");return u.name=a.name,u.value=a.value,r.id&&u.setAttribute("form",r.id),a.parentNode.insertBefore(u,a),r=new FormData(r),u.parentNode.removeChild(u),r}function zD(r,a,u,d,m){if(a==="submit"&&u&&u.stateNode===m){var v=N1((m[$t]||null).action),S=d.submitter;S&&(a=(a=S[$t]||null)?N1(a.formAction):S.getAttribute("formAction"),a!==null&&(v=a,S=null));var N=new zo("action","action",null,d,m);r.push({event:N,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(oo!==0){var z=S?P1(m,S):new FormData(m);bg(u,{pending:!0,data:z,method:m.method,action:v},null,z)}}else typeof v=="function"&&(N.preventDefault(),z=S?P1(m,S):new FormData(m),bg(u,{pending:!0,data:z,method:m.method,action:v},v,z))},currentTarget:m}]})}}for(var mv=0;mv<bw.length;mv++){var gv=bw[mv],FD=gv.toLowerCase(),HD=gv[0].toUpperCase()+gv.slice(1);Pi(FD,"on"+HD)}Pi(yw,"onAnimationEnd"),Pi(_w,"onAnimationIteration"),Pi(Ew,"onAnimationStart"),Pi("dblclick","onDoubleClick"),Pi("focusin","onFocus"),Pi("focusout","onBlur"),Pi(aD,"onTransitionRun"),Pi(oD,"onTransitionStart"),Pi(lD,"onTransitionCancel"),Pi(ww,"onTransitionEnd"),Hn("onMouseEnter",["mouseout","mouseover"]),Hn("onMouseLeave",["mouseout","mouseover"]),Hn("onPointerEnter",["pointerout","pointerover"]),Hn("onPointerLeave",["pointerout","pointerover"]),Wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mc));function D1(r,a){a=(a&4)!==0;for(var u=0;u<r.length;u++){var d=r[u],m=d.event;d=d.listeners;e:{var v=void 0;if(a)for(var S=d.length-1;0<=S;S--){var N=d[S],z=N.instance,$=N.currentTarget;if(N=N.listener,z!==v&&m.isPropagationStopped())break e;v=N,m.currentTarget=$;try{v(m)}catch(ee){Ud(ee)}m.currentTarget=null,v=z}else for(S=0;S<d.length;S++){if(N=d[S],z=N.instance,$=N.currentTarget,N=N.listener,z!==v&&m.isPropagationStopped())break e;v=N,m.currentTarget=$;try{v(m)}catch(ee){Ud(ee)}m.currentTarget=null,v=z}}}}function $e(r,a){var u=a[Da];u===void 0&&(u=a[Da]=new Set);var d=r+"__bubble";u.has(d)||(M1(a,r,2,!1),u.add(d))}function vv(r,a,u){var d=0;a&&(d|=4),M1(u,r,d,a)}var ef="_reactListening"+Math.random().toString(36).slice(2);function yv(r){if(!r[ef]){r[ef]=!0,Au.forEach(function(u){u!=="selectionchange"&&(qD.has(u)||vv(u,!1,r),vv(u,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[ef]||(a[ef]=!0,vv("selectionchange",!1,a))}}function M1(r,a,u,d){switch(nb(a)){case 2:var m=gM;break;case 8:m=vM;break;default:m=Pv}u=m.bind(null,a,u,r),m=void 0,!hi||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),d?m!==void 0?r.addEventListener(a,u,{capture:!0,passive:m}):r.addEventListener(a,u,!0):m!==void 0?r.addEventListener(a,u,{passive:m}):r.addEventListener(a,u,!1)}function _v(r,a,u,d,m){var v=d;if(!(a&1)&&!(a&2)&&d!==null)e:for(;;){if(d===null)return;var S=d.tag;if(S===3||S===4){var N=d.stateNode.containerInfo;if(N===m||N.nodeType===8&&N.parentNode===m)break;if(S===4)for(S=d.return;S!==null;){var z=S.tag;if((z===3||z===4)&&(z=S.stateNode.containerInfo,z===m||z.nodeType===8&&z.parentNode===m))return;S=S.return}for(;N!==null;){if(S=Ni(N),S===null)return;if(z=S.tag,z===5||z===6||z===26||z===27){d=v=S;continue e}N=N.parentNode}}d=d.return}rd(function(){var $=v,ee=Bo(u),se=[];e:{var Q=Tw.get(r);if(Q!==void 0){var J=zo,Ee=r;switch(r){case"keypress":if(Ji(u)===0)break e;case"keydown":case"keyup":J=Ko;break;case"focusin":Ee="focus",J=qo;break;case"focusout":Ee="blur",J=qo;break;case"beforeblur":case"afterblur":J=qo;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=di;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Gm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=fd;break;case yw:case _w:case Ew:J=Go;break;case ww:J=md;break;case"scroll":case"scrollend":J=ad;break;case"wheel":J=Wo;break;case"copy":case"cut":case"paste":J=$o;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Uu;break;case"toggle":case"beforetoggle":J=vd}var Pe=(a&4)!==0,Nt=!Pe&&(r==="scroll"||r==="scrollend"),K=Pe?Q!==null?Q+"Capture":null:Q;Pe=[];for(var G=$,Y;G!==null;){var te=G;if(Y=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||Y===null||K===null||(te=Va(G,K),te!=null&&Pe.push(gc(G,te,Y))),Nt)break;G=G.return}0<Pe.length&&(Q=new J(Q,Ee,null,u,ee),se.push({event:Q,listeners:Pe}))}}if(!(a&7)){e:{if(Q=r==="mouseover"||r==="pointerover",J=r==="mouseout"||r==="pointerout",Q&&u!==ci&&(Ee=u.relatedTarget||u.fromElement)&&(Ni(Ee)||Ee[As]))break e;if((J||Q)&&(Q=ee.window===ee?ee:(Q=ee.ownerDocument)?Q.defaultView||Q.parentWindow:window,J?(Ee=u.relatedTarget||u.toElement,J=$,Ee=Ee?Ni(Ee):null,Ee!==null&&(Nt=re(Ee),Pe=Ee.tag,Ee!==Nt||Pe!==5&&Pe!==27&&Pe!==6)&&(Ee=null)):(J=null,Ee=$),J!==Ee)){if(Pe=di,te="onMouseLeave",K="onMouseEnter",G="mouse",(r==="pointerout"||r==="pointerover")&&(Pe=Uu,te="onPointerLeave",K="onPointerEnter",G="pointer"),Nt=J==null?Q:xr(J),Y=Ee==null?Q:xr(Ee),Q=new Pe(te,G+"leave",J,u,ee),Q.target=Nt,Q.relatedTarget=Y,te=null,Ni(ee)===$&&(Pe=new Pe(K,G+"enter",Ee,u,ee),Pe.target=Y,Pe.relatedTarget=Nt,te=Pe),Nt=te,J&&Ee)t:{for(Pe=J,K=Ee,G=0,Y=Pe;Y;Y=vl(Y))G++;for(Y=0,te=K;te;te=vl(te))Y++;for(;0<G-Y;)Pe=vl(Pe),G--;for(;0<Y-G;)K=vl(K),Y--;for(;G--;){if(Pe===K||K!==null&&Pe===K.alternate)break t;Pe=vl(Pe),K=vl(K)}Pe=null}else Pe=null;J!==null&&O1(se,Q,J,Pe,!1),Ee!==null&&Nt!==null&&O1(se,Nt,Ee,Pe,!0)}}e:{if(Q=$?xr($):window,J=Q.nodeName&&Q.nodeName.toLowerCase(),J==="select"||J==="input"&&Q.type==="file")var _e=ow;else if(Wt(Q))if(lw)_e=nD;else{_e=eD;var Ve=JP}else J=Q.nodeName,!J||J.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?$&&Du($.elementType)&&(_e=ow):_e=tD;if(_e&&(_e=_e(r,$))){ks(se,_e,u,ee);break e}Ve&&Ve(r,Q,$),r==="focusout"&&$&&Q.type==="number"&&$.memoizedProps.value!=null&&Uo(Q,"number",Q.value)}switch(Ve=$?xr($):window,r){case"focusin":(Wt(Ve)||Ve.contentEditable==="true")&&(Yo=Ve,Qm=$,Fu=null);break;case"focusout":Fu=Qm=Yo=null;break;case"mousedown":Xm=!0;break;case"contextmenu":case"mouseup":case"dragend":Xm=!1,gw(se,u,ee);break;case"selectionchange":if(rD)break;case"keydown":case"keyup":gw(se,u,ee)}var Te;if(ns)e:{switch(r){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else Xe?X(r,u)&&(xe="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(xe="onCompositionStart");xe&&(b&&u.locale!=="ko"&&(Xe||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&Xe&&(Te=Ou()):(Zi=ee,Pr="value"in Zi?Zi.value:Zi.textContent,Xe=!0)),Ve=tf($,xe),0<Ve.length&&(xe=new Vu(xe,r,null,u,ee),se.push({event:xe,listeners:Ve}),Te?xe.data=Te:(Te=ce(u),Te!==null&&(xe.data=Te)))),(Te=E?Kt(r,u):Ze(r,u))&&(xe=tf($,"onBeforeInput"),0<xe.length&&(Ve=new Vu("onBeforeInput","beforeinput",null,u,ee),se.push({event:Ve,listeners:xe}),Ve.data=Te)),zD(se,r,$,u,ee)}D1(se,a)})}function gc(r,a,u){return{instance:r,listener:a,currentTarget:u}}function tf(r,a){for(var u=a+"Capture",d=[];r!==null;){var m=r,v=m.stateNode;m=m.tag,m!==5&&m!==26&&m!==27||v===null||(m=Va(r,u),m!=null&&d.unshift(gc(r,m,v)),m=Va(r,a),m!=null&&d.push(gc(r,m,v))),r=r.return}return d}function vl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function O1(r,a,u,d,m){for(var v=a._reactName,S=[];u!==null&&u!==d;){var N=u,z=N.alternate,$=N.stateNode;if(N=N.tag,z!==null&&z===d)break;N!==5&&N!==26&&N!==27||$===null||(z=$,m?($=Va(u,v),$!=null&&S.unshift(gc(u,$,z))):m||($=Va(u,v),$!=null&&S.push(gc(u,$,z)))),u=u.return}S.length!==0&&r.push({event:a,listeners:S})}var GD=/\r\n?/g,$D=/\u0000|\uFFFD/g;function k1(r){return(typeof r=="string"?r:""+r).replace(GD,`
`).replace($D,"")}function L1(r,a){return a=k1(a),k1(r)===a}function nf(){}function lt(r,a,u,d,m,v){switch(u){case"children":typeof d=="string"?a==="body"||a==="textarea"&&d===""||ui(r,d):(typeof d=="number"||typeof d=="bigint")&&a!=="body"&&ui(r,""+d);break;case"className":Rr(r,"class",d);break;case"tabIndex":Rr(r,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Rr(r,u,d);break;case"style":sd(r,d,v);break;case"data":if(a!=="object"){Rr(r,"data",d);break}case"src":case"href":if(d===""&&(a!=="a"||u!=="href")){r.removeAttribute(u);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(u);break}d=Xi(""+d),r.setAttribute(u,d);break;case"action":case"formAction":if(typeof d=="function"){r.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(u==="formAction"?(a!=="input"&&lt(r,a,"name",m.name,m,null),lt(r,a,"formEncType",m.formEncType,m,null),lt(r,a,"formMethod",m.formMethod,m,null),lt(r,a,"formTarget",m.formTarget,m,null)):(lt(r,a,"encType",m.encType,m,null),lt(r,a,"method",m.method,m,null),lt(r,a,"target",m.target,m,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(u);break}d=Xi(""+d),r.setAttribute(u,d);break;case"onClick":d!=null&&(r.onclick=nf);break;case"onScroll":d!=null&&$e("scroll",r);break;case"onScrollEnd":d!=null&&$e("scrollend",r);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(u=d.__html,u!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"multiple":r.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":r.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){r.removeAttribute("xlink:href");break}u=Xi(""+d),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(u,""+d):r.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(u,""):r.removeAttribute(u);break;case"capture":case"download":d===!0?r.setAttribute(u,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(u,d):r.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?r.setAttribute(u,d):r.removeAttribute(u);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?r.removeAttribute(u):r.setAttribute(u,d);break;case"popover":$e("beforetoggle",r),$e("toggle",r),Ar(r,"popover",d);break;case"xlinkActuate":li(r,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":li(r,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":li(r,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":li(r,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":li(r,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":li(r,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":li(r,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":li(r,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":li(r,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Ar(r,"is",d);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Hm.get(u)||u,Ar(r,u,d))}}function Ev(r,a,u,d,m,v){switch(u){case"style":sd(r,d,v);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(u=d.__html,u!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"children":typeof d=="string"?ui(r,d):(typeof d=="number"||typeof d=="bigint")&&ui(r,""+d);break;case"onScroll":d!=null&&$e("scroll",r);break;case"onScrollEnd":d!=null&&$e("scrollend",r);break;case"onClick":d!=null&&(r.onclick=nf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vo.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(m=u.endsWith("Capture"),a=u.slice(2,m?u.length-7:void 0),v=r[$t]||null,v=v!=null?v[u]:null,typeof v=="function"&&r.removeEventListener(a,v,m),typeof d=="function")){typeof v!="function"&&v!==null&&(u in r?r[u]=null:r.hasAttribute(u)&&r.removeAttribute(u)),r.addEventListener(a,d,m);break e}u in r?r[u]=d:d===!0?r.setAttribute(u,""):Ar(r,u,d)}}}function gn(r,a,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$e("error",r),$e("load",r);var d=!1,m=!1,v;for(v in u)if(u.hasOwnProperty(v)){var S=u[v];if(S!=null)switch(v){case"src":d=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:lt(r,a,v,S,u,null)}}m&&lt(r,a,"srcSet",u.srcSet,u,null),d&&lt(r,a,"src",u.src,u,null);return;case"input":$e("invalid",r);var N=v=S=m=null,z=null,$=null;for(d in u)if(u.hasOwnProperty(d)){var ee=u[d];if(ee!=null)switch(d){case"name":m=ee;break;case"type":S=ee;break;case"checked":z=ee;break;case"defaultChecked":$=ee;break;case"value":v=ee;break;case"defaultValue":N=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,a));break;default:lt(r,a,d,ee,u,null)}}ka(r,v,N,z,$,S,m,!1),Oa(r);return;case"select":$e("invalid",r),d=S=v=null;for(m in u)if(u.hasOwnProperty(m)&&(N=u[m],N!=null))switch(m){case"value":v=N;break;case"defaultValue":S=N;break;case"multiple":d=N;default:lt(r,a,m,N,u,null)}a=v,u=S,r.multiple=!!d,a!=null?tt(r,!!d,a,!1):u!=null&&tt(r,!!d,u,!0);return;case"textarea":$e("invalid",r),v=m=d=null;for(S in u)if(u.hasOwnProperty(S)&&(N=u[S],N!=null))switch(S){case"value":d=N;break;case"defaultValue":m=N;break;case"children":v=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(i(91));break;default:lt(r,a,S,N,u,null)}Nr(r,d,m,v),Oa(r);return;case"option":for(z in u)if(u.hasOwnProperty(z)&&(d=u[z],d!=null))switch(z){case"selected":r.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:lt(r,a,z,d,u,null)}return;case"dialog":$e("cancel",r),$e("close",r);break;case"iframe":case"object":$e("load",r);break;case"video":case"audio":for(d=0;d<mc.length;d++)$e(mc[d],r);break;case"image":$e("error",r),$e("load",r);break;case"details":$e("toggle",r);break;case"embed":case"source":case"link":$e("error",r),$e("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in u)if(u.hasOwnProperty($)&&(d=u[$],d!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:lt(r,a,$,d,u,null)}return;default:if(Du(a)){for(ee in u)u.hasOwnProperty(ee)&&(d=u[ee],d!==void 0&&Ev(r,a,ee,d,u,void 0));return}}for(N in u)u.hasOwnProperty(N)&&(d=u[N],d!=null&&lt(r,a,N,d,u,null))}function KD(r,a,u,d){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,v=null,S=null,N=null,z=null,$=null,ee=null;for(J in u){var se=u[J];if(u.hasOwnProperty(J)&&se!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":z=se;default:d.hasOwnProperty(J)||lt(r,a,J,null,d,se)}}for(var Q in d){var J=d[Q];if(se=u[Q],d.hasOwnProperty(Q)&&(J!=null||se!=null))switch(Q){case"type":v=J;break;case"name":m=J;break;case"checked":$=J;break;case"defaultChecked":ee=J;break;case"value":S=J;break;case"defaultValue":N=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,a));break;default:J!==se&&lt(r,a,Q,J,d,se)}}Ir(r,S,N,z,$,ee,v,m);return;case"select":J=S=N=Q=null;for(v in u)if(z=u[v],u.hasOwnProperty(v)&&z!=null)switch(v){case"value":break;case"multiple":J=z;default:d.hasOwnProperty(v)||lt(r,a,v,null,d,z)}for(m in d)if(v=d[m],z=u[m],d.hasOwnProperty(m)&&(v!=null||z!=null))switch(m){case"value":Q=v;break;case"defaultValue":N=v;break;case"multiple":S=v;default:v!==z&&lt(r,a,m,v,d,z)}a=N,u=S,d=J,Q!=null?tt(r,!!u,Q,!1):!!d!=!!u&&(a!=null?tt(r,!!u,a,!0):tt(r,!!u,u?[]:"",!1));return;case"textarea":J=Q=null;for(N in u)if(m=u[N],u.hasOwnProperty(N)&&m!=null&&!d.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:lt(r,a,N,null,d,m)}for(S in d)if(m=d[S],v=u[S],d.hasOwnProperty(S)&&(m!=null||v!=null))switch(S){case"value":Q=m;break;case"defaultValue":J=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==v&&lt(r,a,S,m,d,v)}La(r,Q,J);return;case"option":for(var Ee in u)if(Q=u[Ee],u.hasOwnProperty(Ee)&&Q!=null&&!d.hasOwnProperty(Ee))switch(Ee){case"selected":r.selected=!1;break;default:lt(r,a,Ee,null,d,Q)}for(z in d)if(Q=d[z],J=u[z],d.hasOwnProperty(z)&&Q!==J&&(Q!=null||J!=null))switch(z){case"selected":r.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:lt(r,a,z,Q,d,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in u)Q=u[Pe],u.hasOwnProperty(Pe)&&Q!=null&&!d.hasOwnProperty(Pe)&&lt(r,a,Pe,null,d,Q);for($ in d)if(Q=d[$],J=u[$],d.hasOwnProperty($)&&Q!==J&&(Q!=null||J!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,a));break;default:lt(r,a,$,Q,d,J)}return;default:if(Du(a)){for(var Nt in u)Q=u[Nt],u.hasOwnProperty(Nt)&&Q!==void 0&&!d.hasOwnProperty(Nt)&&Ev(r,a,Nt,void 0,d,Q);for(ee in d)Q=d[ee],J=u[ee],!d.hasOwnProperty(ee)||Q===J||Q===void 0&&J===void 0||Ev(r,a,ee,Q,d,J);return}}for(var K in u)Q=u[K],u.hasOwnProperty(K)&&Q!=null&&!d.hasOwnProperty(K)&&lt(r,a,K,null,d,Q);for(se in d)Q=d[se],J=u[se],!d.hasOwnProperty(se)||Q===J||Q==null&&J==null||lt(r,a,se,Q,d,J)}var wv=null,Tv=null;function sf(r){return r.nodeType===9?r:r.ownerDocument}function V1(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function j1(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function bv(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Sv=null;function WD(){var r=window.event;return r&&r.type==="popstate"?r===Sv?!1:(Sv=r,!0):(Sv=null,!1)}var U1=typeof setTimeout=="function"?setTimeout:void 0,YD=typeof clearTimeout=="function"?clearTimeout:void 0,B1=typeof Promise=="function"?Promise:void 0,QD=typeof queueMicrotask=="function"?queueMicrotask:typeof B1<"u"?function(r){return B1.resolve(null).then(r).catch(XD)}:U1;function XD(r){setTimeout(function(){throw r})}function xv(r,a){var u=a,d=0;do{var m=u.nextSibling;if(r.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(d===0){r.removeChild(m),Sc(a);return}d--}else u!=="$"&&u!=="$?"&&u!=="$!"||d++;u=m}while(u);Sc(a)}function Cv(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var u=a;switch(a=a.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Cv(u),Ma(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}r.removeChild(u)}}function ZD(r,a,u,d){for(;r.nodeType===1;){var m=u;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!d&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(d){if(!r[Sr])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(v=r.getAttribute("rel"),v==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(v!==m.rel||r.getAttribute("href")!==(m.href==null?null:m.href)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||r.getAttribute("title")!==(m.title==null?null:m.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(v=r.getAttribute("src"),(v!==(m.src==null?null:m.src)||r.getAttribute("type")!==(m.type==null?null:m.type)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&v&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var v=m.name==null?null:""+m.name;if(m.type==="hidden"&&r.getAttribute("name")===v)return r}else return r;if(r=Oi(r.nextSibling),r===null)break}return null}function JD(r,a,u){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!u||(r=Oi(r.nextSibling),r===null))return null;return r}function Oi(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return r}function z1(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return r;a--}else u==="/$"&&a++}r=r.previousSibling}return null}function F1(r,a,u){switch(a=sf(u),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}var Ti=new Map,H1=new Set;function rf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.ownerDocument}var Qs=pe.d;pe.d={f:eM,r:tM,D:nM,C:iM,L:sM,m:rM,X:oM,S:aM,M:lM};function eM(){var r=Qs.f(),a=Qd();return r||a}function tM(r){var a=Rs(r);a!==null&&a.tag===5&&a.type==="form"?gT(a):Qs.r(r)}var yl=typeof document>"u"?null:document;function q1(r,a,u){var d=yl;if(d&&typeof a=="string"&&a){var m=At(a);m='link[rel="'+r+'"][href="'+m+'"]',typeof u=="string"&&(m+='[crossorigin="'+u+'"]'),H1.has(m)||(H1.add(m),r={rel:r,crossOrigin:u,href:a},d.querySelector(m)===null&&(a=d.createElement("link"),gn(a,"link",r),Et(a),d.head.appendChild(a)))}}function nM(r){Qs.D(r),q1("dns-prefetch",r,null)}function iM(r,a){Qs.C(r,a),q1("preconnect",r,a)}function sM(r,a,u){Qs.L(r,a,u);var d=yl;if(d&&r&&a){var m='link[rel="preload"][as="'+At(a)+'"]';a==="image"&&u&&u.imageSrcSet?(m+='[imagesrcset="'+At(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(m+='[imagesizes="'+At(u.imageSizes)+'"]')):m+='[href="'+At(r)+'"]';var v=m;switch(a){case"style":v=_l(r);break;case"script":v=El(r)}Ti.has(v)||(r=R({rel:"preload",href:a==="image"&&u&&u.imageSrcSet?void 0:r,as:a},u),Ti.set(v,r),d.querySelector(m)!==null||a==="style"&&d.querySelector(vc(v))||a==="script"&&d.querySelector(yc(v))||(a=d.createElement("link"),gn(a,"link",r),Et(a),d.head.appendChild(a)))}}function rM(r,a){Qs.m(r,a);var u=yl;if(u&&r){var d=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+At(d)+'"][href="'+At(r)+'"]',v=m;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=El(r)}if(!Ti.has(v)&&(r=R({rel:"modulepreload",href:r},a),Ti.set(v,r),u.querySelector(m)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(yc(v)))return}d=u.createElement("link"),gn(d,"link",r),Et(d),u.head.appendChild(d)}}}function aM(r,a,u){Qs.S(r,a,u);var d=yl;if(d&&r){var m=Cr(d).hoistableStyles,v=_l(r);a=a||"default";var S=m.get(v);if(!S){var N={loading:0,preload:null};if(S=d.querySelector(vc(v)))N.loading=5;else{r=R({rel:"stylesheet",href:r,"data-precedence":a},u),(u=Ti.get(v))&&Av(r,u);var z=S=d.createElement("link");Et(z),gn(z,"link",r),z._p=new Promise(function($,ee){z.onload=$,z.onerror=ee}),z.addEventListener("load",function(){N.loading|=1}),z.addEventListener("error",function(){N.loading|=2}),N.loading|=4,af(S,a,d)}S={type:"stylesheet",instance:S,count:1,state:N},m.set(v,S)}}}function oM(r,a){Qs.X(r,a);var u=yl;if(u&&r){var d=Cr(u).hoistableScripts,m=El(r),v=d.get(m);v||(v=u.querySelector(yc(m)),v||(r=R({src:r,async:!0},a),(a=Ti.get(m))&&Rv(r,a),v=u.createElement("script"),Et(v),gn(v,"link",r),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(m,v))}}function lM(r,a){Qs.M(r,a);var u=yl;if(u&&r){var d=Cr(u).hoistableScripts,m=El(r),v=d.get(m);v||(v=u.querySelector(yc(m)),v||(r=R({src:r,async:!0,type:"module"},a),(a=Ti.get(m))&&Rv(r,a),v=u.createElement("script"),Et(v),gn(v,"link",r),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(m,v))}}function G1(r,a,u,d){var m=(m=On.current)?rf(m):null;if(!m)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(a=_l(u.href),u=Cr(m).hoistableStyles,d=u.get(a),d||(d={type:"style",instance:null,count:0,state:null},u.set(a,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){r=_l(u.href);var v=Cr(m).hoistableStyles,S=v.get(r);if(S||(m=m.ownerDocument||m,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(r,S),(v=m.querySelector(vc(r)))&&!v._p&&(S.instance=v,S.state.loading=5),Ti.has(r)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Ti.set(r,u),v||uM(m,r,u,S.state))),a&&d===null)throw Error(i(528,""));return S}if(a&&d!==null)throw Error(i(529,""));return null;case"script":return a=u.async,u=u.src,typeof u=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=El(u),u=Cr(m).hoistableScripts,d=u.get(a),d||(d={type:"script",instance:null,count:0,state:null},u.set(a,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function _l(r){return'href="'+At(r)+'"'}function vc(r){return'link[rel="stylesheet"]['+r+"]"}function $1(r){return R({},r,{"data-precedence":r.precedence,precedence:null})}function uM(r,a,u,d){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?d.loading=1:(a=r.createElement("link"),d.preload=a,a.addEventListener("load",function(){return d.loading|=1}),a.addEventListener("error",function(){return d.loading|=2}),gn(a,"link",u),Et(a),r.head.appendChild(a))}function El(r){return'[src="'+At(r)+'"]'}function yc(r){return"script[async]"+r}function K1(r,a,u){if(a.count++,a.instance===null)switch(a.type){case"style":var d=r.querySelector('style[data-href~="'+At(u.href)+'"]');if(d)return a.instance=d,Et(d),d;var m=R({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return d=(r.ownerDocument||r).createElement("style"),Et(d),gn(d,"style",m),af(d,u.precedence,r),a.instance=d;case"stylesheet":m=_l(u.href);var v=r.querySelector(vc(m));if(v)return a.state.loading|=4,a.instance=v,Et(v),v;d=$1(u),(m=Ti.get(m))&&Av(d,m),v=(r.ownerDocument||r).createElement("link"),Et(v);var S=v;return S._p=new Promise(function(N,z){S.onload=N,S.onerror=z}),gn(v,"link",d),a.state.loading|=4,af(v,u.precedence,r),a.instance=v;case"script":return v=El(u.src),(m=r.querySelector(yc(v)))?(a.instance=m,Et(m),m):(d=u,(m=Ti.get(v))&&(d=R({},u),Rv(d,m)),r=r.ownerDocument||r,m=r.createElement("script"),Et(m),gn(m,"link",d),r.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&!(a.state.loading&4)&&(d=a.instance,a.state.loading|=4,af(d,u.precedence,r));return a.instance}function af(r,a,u){for(var d=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=d.length?d[d.length-1]:null,v=m,S=0;S<d.length;S++){var N=d[S];if(N.dataset.precedence===a)v=N;else if(v!==m)break}v?v.parentNode.insertBefore(r,v.nextSibling):(a=u.nodeType===9?u.head:u,a.insertBefore(r,a.firstChild))}function Av(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function Rv(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var of=null;function W1(r,a,u){if(of===null){var d=new Map,m=of=new Map;m.set(u,d)}else m=of,d=m.get(u),d||(d=new Map,m.set(u,d));if(d.has(r))return d;for(d.set(r,null),u=u.getElementsByTagName(r),m=0;m<u.length;m++){var v=u[m];if(!(v[Sr]||v[tn]||r==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var S=v.getAttribute(a)||"";S=r+S;var N=d.get(S);N?N.push(v):d.set(S,[v])}}return d}function Y1(r,a,u){r=r.ownerDocument||r,r.head.insertBefore(u,a==="title"?r.querySelector("head > title"):null)}function cM(r,a,u){if(u===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Q1(r){return!(r.type==="stylesheet"&&!(r.state.loading&3))}var _c=null;function hM(){}function dM(r,a,u){if(_c===null)throw Error(i(475));var d=_c;if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&!(a.state.loading&4)){if(a.instance===null){var m=_l(u.href),v=r.querySelector(vc(m));if(v){r=v._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(d.count++,d=lf.bind(d),r.then(d,d)),a.state.loading|=4,a.instance=v,Et(v);return}v=r.ownerDocument||r,u=$1(u),(m=Ti.get(m))&&Av(u,m),v=v.createElement("link"),Et(v);var S=v;S._p=new Promise(function(N,z){S.onload=N,S.onerror=z}),gn(v,"link",u),a.instance=v}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(a,r),(r=a.state.preload)&&!(a.state.loading&3)&&(d.count++,a=lf.bind(d),r.addEventListener("load",a),r.addEventListener("error",a))}}function fM(){if(_c===null)throw Error(i(475));var r=_c;return r.stylesheets&&r.count===0&&Iv(r,r.stylesheets),0<r.count?function(a){var u=setTimeout(function(){if(r.stylesheets&&Iv(r,r.stylesheets),r.unsuspend){var d=r.unsuspend;r.unsuspend=null,d()}},6e4);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(u)}}:null}function lf(){if(this.count--,this.count===0){if(this.stylesheets)Iv(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var uf=null;function Iv(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,uf=new Map,a.forEach(pM,r),uf=null,lf.call(r))}function pM(r,a){if(!(a.state.loading&4)){var u=uf.get(r);if(u)var d=u.get(null);else{u=new Map,uf.set(r,u);for(var m=r.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<m.length;v++){var S=m[v];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(u.set(S.dataset.precedence,S),d=S)}d&&u.set(null,d)}m=a.instance,S=m.getAttribute("data-precedence"),v=u.get(S)||d,v===d&&u.set(null,m),u.set(S,m),this.count++,d=lf.bind(this),m.addEventListener("load",d),m.addEventListener("error",d),v?v.parentNode.insertBefore(m,v.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(m,r.firstChild)),a.state.loading|=4}}var Ec={$$typeof:T,Provider:null,Consumer:null,_currentValue:Oe,_currentValue2:Oe,_threadCount:0};function mM(r,a,u,d,m,v,S,N){this.tag=1,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ko(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ko(0),this.hiddenUpdates=ko(null),this.identifierPrefix=d,this.onUncaughtError=m,this.onCaughtError=v,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function X1(r,a,u,d,m,v,S,N,z,$,ee,se){return r=new mM(r,a,u,S,N,z,$,se),a=1,v===!0&&(a|=24),v=Ei(3,null,null,a),r.current=v,v.stateNode=r,a=og(),a.refCount++,r.pooledCache=a,a.refCount++,v.memoizedState={element:d,isDehydrated:u,cache:a},zg(v),r}function Z1(r){return r?(r=Zo,r):Zo}function J1(r,a,u,d,m,v){m=Z1(m),d.context===null?d.context=m:d.pendingContext=m,d=Ur(a),d.payload={element:u},v=v===void 0?null:v,v!==null&&(d.callback=v),u=Br(r,d,a),u!==null&&(Un(u,r,a),ic(u,r,a))}function eb(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<a?u:a}}function Nv(r,a){eb(r,a),(r=r.alternate)&&eb(r,a)}function tb(r){if(r.tag===13){var a=Dr(r,67108864);a!==null&&Un(a,r,67108864),Nv(r,67108864)}}var cf=!0;function gM(r,a,u,d){var m=C.T;C.T=null;var v=pe.p;try{pe.p=2,Pv(r,a,u,d)}finally{pe.p=v,C.T=m}}function vM(r,a,u,d){var m=C.T;C.T=null;var v=pe.p;try{pe.p=8,Pv(r,a,u,d)}finally{pe.p=v,C.T=m}}function Pv(r,a,u,d){if(cf){var m=Dv(d);if(m===null)_v(r,a,d,hf,u),ib(r,d);else if(_M(m,r,a,u,d))d.stopPropagation();else if(ib(r,d),a&4&&-1<yM.indexOf(r)){for(;m!==null;){var v=Rs(m);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var S=Ii(v.pendingLanes);if(S!==0){var N=v;for(N.pendingLanes|=2,N.entangledLanes|=2;S;){var z=1<<31-kn(S);N.entanglements[1]|=z,S&=~z}ls(v),!(Tt&6)&&(Kd=Gt()+500,pc(0))}}break;case 13:N=Dr(v,2),N!==null&&Un(N,v,2),Qd(),Nv(v,2)}if(v=Dv(d),v===null&&_v(r,a,d,hf,u),v===m)break;m=v}m!==null&&d.stopPropagation()}else _v(r,a,d,null,u)}}function Dv(r){return r=Bo(r),Mv(r)}var hf=null;function Mv(r){if(hf=null,r=Ni(r),r!==null){var a=re(r);if(a===null)r=null;else{var u=a.tag;if(u===13){if(r=ve(a),r!==null)return r;r=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return hf=r,null}function nb(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wu()){case Ot:return 2;case en:return 8;case Cs:case Qh:return 32;case Tu:return 268435456;default:return 32}default:return 32}}var Ov=!1,Kr=null,Wr=null,Yr=null,wc=new Map,Tc=new Map,Qr=[],yM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ib(r,a){switch(r){case"focusin":case"focusout":Kr=null;break;case"dragenter":case"dragleave":Wr=null;break;case"mouseover":case"mouseout":Yr=null;break;case"pointerover":case"pointerout":wc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tc.delete(a.pointerId)}}function bc(r,a,u,d,m,v){return r===null||r.nativeEvent!==v?(r={blockedOn:a,domEventName:u,eventSystemFlags:d,nativeEvent:v,targetContainers:[m]},a!==null&&(a=Rs(a),a!==null&&tb(a)),r):(r.eventSystemFlags|=d,a=r.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),r)}function _M(r,a,u,d,m){switch(a){case"focusin":return Kr=bc(Kr,r,a,u,d,m),!0;case"dragenter":return Wr=bc(Wr,r,a,u,d,m),!0;case"mouseover":return Yr=bc(Yr,r,a,u,d,m),!0;case"pointerover":var v=m.pointerId;return wc.set(v,bc(wc.get(v)||null,r,a,u,d,m)),!0;case"gotpointercapture":return v=m.pointerId,Tc.set(v,bc(Tc.get(v)||null,r,a,u,d,m)),!0}return!1}function sb(r){var a=Ni(r.target);if(a!==null){var u=re(a);if(u!==null){if(a=u.tag,a===13){if(a=ve(u),a!==null){r.blockedOn=a,br(r.priority,function(){if(u.tag===13){var d=ei(),m=Dr(u,d);m!==null&&Un(m,u,d),Nv(u,d)}});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function df(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var u=Dv(r.nativeEvent);if(u===null){u=r.nativeEvent;var d=new u.constructor(u.type,u);ci=d,u.target.dispatchEvent(d),ci=null}else return a=Rs(u),a!==null&&tb(a),r.blockedOn=u,!1;a.shift()}return!0}function rb(r,a,u){df(r)&&u.delete(a)}function EM(){Ov=!1,Kr!==null&&df(Kr)&&(Kr=null),Wr!==null&&df(Wr)&&(Wr=null),Yr!==null&&df(Yr)&&(Yr=null),wc.forEach(rb),Tc.forEach(rb)}function ff(r,a){r.blockedOn===a&&(r.blockedOn=null,Ov||(Ov=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,EM)))}var pf=null;function ab(r){pf!==r&&(pf=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){pf===r&&(pf=null);for(var a=0;a<r.length;a+=3){var u=r[a],d=r[a+1],m=r[a+2];if(typeof d!="function"){if(Mv(d||u)===null)continue;break}var v=Rs(u);v!==null&&(r.splice(a,3),a-=3,bg(v,{pending:!0,data:m,method:u.method,action:d},d,m))}}))}function Sc(r){function a(z){return ff(z,r)}Kr!==null&&ff(Kr,r),Wr!==null&&ff(Wr,r),Yr!==null&&ff(Yr,r),wc.forEach(a),Tc.forEach(a);for(var u=0;u<Qr.length;u++){var d=Qr[u];d.blockedOn===r&&(d.blockedOn=null)}for(;0<Qr.length&&(u=Qr[0],u.blockedOn===null);)sb(u),u.blockedOn===null&&Qr.shift();if(u=(r.ownerDocument||r).$$reactFormReplay,u!=null)for(d=0;d<u.length;d+=3){var m=u[d],v=u[d+1],S=m[$t]||null;if(typeof v=="function")S||ab(u);else if(S){var N=null;if(v&&v.hasAttribute("formAction")){if(m=v,S=v[$t]||null)N=S.formAction;else if(Mv(m)!==null)continue}else N=S.action;typeof N=="function"?u[d+1]=N:(u.splice(d,3),d-=3),ab(u)}}}function kv(r){this._internalRoot=r}mf.prototype.render=kv.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var u=a.current,d=ei();J1(u,d,r,a,null,null)},mf.prototype.unmount=kv.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;r.tag===0&&ml(),J1(r.current,2,null,r,null,null),Qd(),a[As]=null}};function mf(r){this._internalRoot=r}mf.prototype.unstable_scheduleHydration=function(r){if(r){var a=td();r={blockedOn:null,target:r,priority:a};for(var u=0;u<Qr.length&&a!==0&&a<Qr[u].priority;u++);Qr.splice(u,0,r),u===0&&sb(r)}};var ob=e.version;if(ob!=="19.0.0")throw Error(i(527,ob,"19.0.0"));pe.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=ne(a),r=r!==null?ge(r):null,r=r===null?null:r.stateNode,r};var wM={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:C,findFiberByHostInstance:Ni,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gf.isDisabled&&gf.supportsFiber)try{vr=gf.inject(wM),Sn=gf}catch{}}return Cc.createRoot=function(r,a){if(!s(r))throw Error(i(299));var u=!1,d="",m=ST,v=xT,S=CT,N=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(N=a.unstable_transitionCallbacks)),a=X1(r,1,!1,null,null,u,d,m,v,S,N,null),r[As]=a.current,yv(r.nodeType===8?r.parentNode:r),new kv(a)},Cc.hydrateRoot=function(r,a,u){if(!s(r))throw Error(i(299));var d=!1,m="",v=ST,S=xT,N=CT,z=null,$=null;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(m=u.identifierPrefix),u.onUncaughtError!==void 0&&(v=u.onUncaughtError),u.onCaughtError!==void 0&&(S=u.onCaughtError),u.onRecoverableError!==void 0&&(N=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(z=u.unstable_transitionCallbacks),u.formState!==void 0&&($=u.formState)),a=X1(r,1,!0,a,u??null,d,m,v,S,N,z,$),a.context=Z1(null),u=a.current,d=ei(),m=Ur(d),m.callback=null,Br(u,m,d),a.current.lanes=d,kt(a,d),ls(a),r[As]=a.current,yv(r),new mf(a)},Cc.version="19.0.0",Cc}var vb;function DM(){if(vb)return jv.exports;vb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),jv.exports=PM(),jv.exports}var MM=DM(),Ac={},yb;function OM(){if(yb)return Ac;yb=1,Object.defineProperty(Ac,"__esModule",{value:!0}),Ac.parse=l,Ac.serialize=f;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function l(_,T){const x=new o,D=_.length;if(D<2)return x;const j=(T==null?void 0:T.decode)||g;let P=0;do{const I=_.indexOf("=",P);if(I===-1)break;const L=_.indexOf(";",P),q=L===-1?D:L;if(I>q){P=_.lastIndexOf(";",I-1)+1;continue}const H=c(_,P,I),Z=h(_,I,H),O=_.slice(H,Z);if(x[O]===void 0){let A=c(_,I+1,q),C=h(_,q,A);const R=j(_.slice(A,C));x[O]=R}P=q+1}while(P<D);return x}function c(_,T,x){do{const D=_.charCodeAt(T);if(D!==32&&D!==9)return T}while(++T<x);return x}function h(_,T,x){for(;T>x;){const D=_.charCodeAt(--T);if(D!==32&&D!==9)return T+1}return x}function f(_,T,x){const D=(x==null?void 0:x.encode)||encodeURIComponent;if(!n.test(_))throw new TypeError(`argument name is invalid: ${_}`);const j=D(T);if(!e.test(j))throw new TypeError(`argument val is invalid: ${T}`);let P=_+"="+j;if(!x)return P;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);P+="; Max-Age="+x.maxAge}if(x.domain){if(!t.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);P+="; Domain="+x.domain}if(x.path){if(!i.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);P+="; Path="+x.path}if(x.expires){if(!y(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);P+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(P+="; HttpOnly"),x.secure&&(P+="; Secure"),x.partitioned&&(P+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":P+="; Priority=Low";break;case"medium":P+="; Priority=Medium";break;case"high":P+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":P+="; SameSite=Strict";break;case"lax":P+="; SameSite=Lax";break;case"none":P+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return P}function g(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function y(_){return s.call(_)==="[object Date]"}return Ac}OM();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var _b="popstate";function kM(n={}){function e(i,s){let{pathname:o,search:l,hash:c}=i.location;return Ay("",{pathname:o,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){return typeof s=="string"?s:sh(s)}return VM(e,t,null,n)}function _t(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Bi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function LM(){return Math.random().toString(36).substring(2,10)}function Eb(n,e){return{usr:n.state,key:n.key,idx:e}}function Ay(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ru(e):e,state:t,key:e&&e.key||i||LM()}}function sh({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ru(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function VM(n,e,t,i={}){let{window:s=document.defaultView,v5Compat:o=!1}=i,l=s.history,c="POP",h=null,f=g();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function g(){return(l.state||{idx:null}).idx}function y(){c="POP";let j=g(),P=j==null?null:j-f;f=j,h&&h({action:c,location:D.location,delta:P})}function _(j,P){c="PUSH";let I=Ay(D.location,j,P);f=g()+1;let L=Eb(I,f),q=D.createHref(I);try{l.pushState(L,"",q)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;s.location.assign(q)}o&&h&&h({action:c,location:D.location,delta:1})}function T(j,P){c="REPLACE";let I=Ay(D.location,j,P);f=g();let L=Eb(I,f),q=D.createHref(I);l.replaceState(L,"",q),o&&h&&h({action:c,location:D.location,delta:0})}function x(j){let P=s.location.origin!=="null"?s.location.origin:s.location.href,I=typeof j=="string"?j:sh(j);return I=I.replace(/ $/,"%20"),_t(P,`No window.location.(origin|href) available to create URL for href: ${I}`),new URL(I,P)}let D={get action(){return c},get location(){return n(s,l)},listen(j){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(_b,y),h=j,()=>{s.removeEventListener(_b,y),h=null}},createHref(j){return e(s,j)},createURL:x,encodeLocation(j){let P=x(j);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:_,replace:T,go(j){return l.go(j)}};return D}function nC(n,e,t="/"){return jM(n,e,t,!1)}function jM(n,e,t,i){let s=typeof e=="string"?ru(e):e,o=pa(s.pathname||"/",t);if(o==null)return null;let l=iC(n);UM(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let f=QM(o);c=WM(l[h],f,i)}return c}function iC(n,e=[],t=[],i=""){let s=(o,l,c)=>{let h={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};h.relativePath.startsWith("/")&&(_t(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let f=sr([i,h.relativePath]),g=t.concat(h);o.children&&o.children.length>0&&(_t(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),iC(o.children,e,g,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:$M(f,o.index),routesMeta:g})};return n.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))s(o,l);else for(let h of sC(o.path))s(o,l,h)}),e}function sC(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(i.length===0)return s?[o,""]:[o];let l=sC(i.join("/")),c=[];return c.push(...l.map(h=>h===""?o:[o,h].join("/"))),s&&c.push(...l),c.map(h=>n.startsWith("/")&&h===""?"/":h)}function UM(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:KM(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var BM=/^:[\w-]+$/,zM=3,FM=2,HM=1,qM=10,GM=-2,wb=n=>n==="*";function $M(n,e){let t=n.split("/"),i=t.length;return t.some(wb)&&(i+=GM),e&&(i+=FM),t.filter(s=>!wb(s)).reduce((s,o)=>s+(BM.test(o)?zM:o===""?HM:qM),i)}function KM(n,e){return n.length===e.length&&n.slice(0,-1).every((i,s)=>i===e[s])?n[n.length-1]-e[e.length-1]:0}function WM(n,e,t=!1){let{routesMeta:i}=n,s={},o="/",l=[];for(let c=0;c<i.length;++c){let h=i[c],f=c===i.length-1,g=o==="/"?e:e.slice(o.length)||"/",y=Qf({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},g),_=h.route;if(!y&&f&&t&&!i[i.length-1].route.index&&(y=Qf({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!y)return null;Object.assign(s,y.params),l.push({params:s,pathname:sr([o,y.pathname]),pathnameBase:e4(sr([o,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(o=sr([o,y.pathnameBase]))}return l}function Qf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=YM(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:i.reduce((f,{paramName:g,isOptional:y},_)=>{if(g==="*"){let x=c[_]||"";l=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const T=c[_];return y&&!T?f[g]=void 0:f[g]=(T||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:n}}function YM(n,e=!1,t=!0){Bi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(i.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function QM(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function pa(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function XM(n,e="/"){let{pathname:t,search:i="",hash:s=""}=typeof n=="string"?ru(n):n;return{pathname:t?t.startsWith("/")?t:ZM(t,e):e,search:t4(i),hash:n4(s)}}function ZM(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Fv(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function JM(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function j_(n){let e=JM(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function U_(n,e,t,i=!1){let s;typeof n=="string"?s=ru(n):(s={...n},_t(!s.pathname||!s.pathname.includes("?"),Fv("?","pathname","search",s)),_t(!s.pathname||!s.pathname.includes("#"),Fv("#","pathname","hash",s)),_t(!s.search||!s.search.includes("#"),Fv("#","search","hash",s)));let o=n===""||s.pathname==="",l=o?"/":s.pathname,c;if(l==null)c=t;else{let y=e.length-1;if(!i&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),y-=1;s.pathname=_.join("/")}c=y>=0?e[y]:"/"}let h=XM(s,c),f=l&&l!=="/"&&l.endsWith("/"),g=(o||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(f||g)&&(h.pathname+="/"),h}var sr=n=>n.join("/").replace(/\/\/+/g,"/"),e4=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),t4=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,n4=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function i4(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var rC=["POST","PUT","PATCH","DELETE"];new Set(rC);var s4=["GET",...rC];new Set(s4);var au=U.createContext(null);au.displayName="DataRouter";var $p=U.createContext(null);$p.displayName="DataRouterState";var aC=U.createContext({isTransitioning:!1});aC.displayName="ViewTransition";var r4=U.createContext(new Map);r4.displayName="Fetchers";var a4=U.createContext(null);a4.displayName="Await";var Hi=U.createContext(null);Hi.displayName="Navigation";var Ih=U.createContext(null);Ih.displayName="Location";var bs=U.createContext({outlet:null,matches:[],isDataRoute:!1});bs.displayName="Route";var B_=U.createContext(null);B_.displayName="RouteError";function o4(n,{relative:e}={}){_t(ou(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=U.useContext(Hi),{hash:s,pathname:o,search:l}=Nh(n,{relative:e}),c=o;return t!=="/"&&(c=o==="/"?t:sr([t,o])),i.createHref({pathname:c,search:l,hash:s})}function ou(){return U.useContext(Ih)!=null}function Ss(){return _t(ou(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Ih).location}var oC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lC(n){U.useContext(Hi).static||U.useLayoutEffect(n)}function Ai(){let{isDataRoute:n}=U.useContext(bs);return n?E4():l4()}function l4(){_t(ou(),"useNavigate() may be used only in the context of a <Router> component.");let n=U.useContext(au),{basename:e,navigator:t}=U.useContext(Hi),{matches:i}=U.useContext(bs),{pathname:s}=Ss(),o=JSON.stringify(j_(i)),l=U.useRef(!1);return lC(()=>{l.current=!0}),U.useCallback((h,f={})=>{if(Bi(l.current,oC),!l.current)return;if(typeof h=="number"){t.go(h);return}let g=U_(h,JSON.parse(o),s,f.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:sr([e,g.pathname])),(f.replace?t.replace:t.push)(g,f.state,f)},[e,t,o,s,n])}U.createContext(null);function Nh(n,{relative:e}={}){let{matches:t}=U.useContext(bs),{pathname:i}=Ss(),s=JSON.stringify(j_(t));return U.useMemo(()=>U_(n,JSON.parse(s),i,e==="path"),[n,s,i,e])}function u4(n,e){return uC(n,e)}function uC(n,e,t,i){var I;_t(ou(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:o}=U.useContext(Hi),{matches:l}=U.useContext(bs),c=l[l.length-1],h=c?c.params:{},f=c?c.pathname:"/",g=c?c.pathnameBase:"/",y=c&&c.route;{let L=y&&y.path||"";cC(f,!y||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let _=Ss(),T;if(e){let L=typeof e=="string"?ru(e):e;_t(g==="/"||((I=L.pathname)==null?void 0:I.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${L.pathname}" was given in the \`location\` prop.`),T=L}else T=_;let x=T.pathname||"/",D=x;if(g!=="/"){let L=g.replace(/^\//,"").split("/");D="/"+x.replace(/^\//,"").split("/").slice(L.length).join("/")}let j=!o&&t&&t.matches&&t.matches.length>0?t.matches:nC(n,{pathname:D});Bi(y||j!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Bi(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=p4(j&&j.map(L=>Object.assign({},L,{params:Object.assign({},h,L.params),pathname:sr([g,s.encodeLocation?s.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?g:sr([g,s.encodeLocation?s.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),l,t,i);return e&&P?U.createElement(Ih.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},P):P}function c4(){let n=_4(),e=i4(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:o},"ErrorBoundary")," or"," ",U.createElement("code",{style:o},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:s},t):null,l)}var h4=U.createElement(c4,null),d4=class extends U.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?U.createElement(bs.Provider,{value:this.props.routeContext},U.createElement(B_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function f4({routeContext:n,match:e,children:t}){let i=U.useContext(au);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(bs.Provider,{value:n},t)}function p4(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,o=t==null?void 0:t.errors;if(o!=null){let h=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);_t(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let l=!1,c=-1;if(t)for(let h=0;h<s.length;h++){let f=s[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:g,errors:y}=t,_=f.route.loader&&!g.hasOwnProperty(f.route.id)&&(!y||y[f.route.id]===void 0);if(f.route.lazy||_){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((h,f,g)=>{let y,_=!1,T=null,x=null;t&&(y=o&&f.route.id?o[f.route.id]:void 0,T=f.route.errorElement||h4,l&&(c<0&&g===0?(cC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,x=null):c===g&&(_=!0,x=f.route.hydrateFallbackElement||null)));let D=e.concat(s.slice(0,g+1)),j=()=>{let P;return y?P=T:_?P=x:f.route.Component?P=U.createElement(f.route.Component,null):f.route.element?P=f.route.element:P=h,U.createElement(f4,{match:f,routeContext:{outlet:h,matches:D,isDataRoute:t!=null},children:P})};return t&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?U.createElement(d4,{location:t.location,revalidation:t.revalidation,component:T,error:y,children:j(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):j()},null)}function z_(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function m4(n){let e=U.useContext(au);return _t(e,z_(n)),e}function g4(n){let e=U.useContext($p);return _t(e,z_(n)),e}function v4(n){let e=U.useContext(bs);return _t(e,z_(n)),e}function F_(n){let e=v4(n),t=e.matches[e.matches.length-1];return _t(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function y4(){return F_("useRouteId")}function _4(){var i;let n=U.useContext(B_),e=g4("useRouteError"),t=F_("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function E4(){let{router:n}=m4("useNavigate"),e=F_("useNavigate"),t=U.useRef(!1);return lC(()=>{t.current=!0}),U.useCallback(async(s,o={})=>{Bi(t.current,oC),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...o}))},[n,e])}var Tb={};function cC(n,e,t){!e&&!Tb[n]&&(Tb[n]=!0,Bi(!1,t))}U.memo(w4);function w4({routes:n,future:e,state:t}){return uC(n,void 0,t,e)}function T4({to:n,replace:e,state:t,relative:i}){_t(ou(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=U.useContext(Hi);Bi(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=U.useContext(bs),{pathname:l}=Ss(),c=Ai(),h=U_(n,j_(o),l,i==="path"),f=JSON.stringify(h);return U.useEffect(()=>{c(JSON.parse(f),{replace:e,state:t,relative:i})},[c,f,i,e,t]),null}function Zs(n){_t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function b4({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:s,static:o=!1}){_t(!ou(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=U.useMemo(()=>({basename:l,navigator:s,static:o,future:{}}),[l,s,o]);typeof t=="string"&&(t=ru(t));let{pathname:h="/",search:f="",hash:g="",state:y=null,key:_="default"}=t,T=U.useMemo(()=>{let x=pa(h,l);return x==null?null:{location:{pathname:x,search:f,hash:g,state:y,key:_},navigationType:i}},[l,h,f,g,y,_,i]);return Bi(T!=null,`<Router basename="${l}"> is not able to match the URL "${h}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:U.createElement(Hi.Provider,{value:c},U.createElement(Ih.Provider,{children:e,value:T}))}function S4({children:n,location:e}){return u4(Ry(n),e)}function Ry(n,e=[]){let t=[];return U.Children.forEach(n,(i,s)=>{if(!U.isValidElement(i))return;let o=[...e,s];if(i.type===U.Fragment){t.push.apply(t,Ry(i.props.children,o));return}_t(i.type===Zs,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_t(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=Ry(i.props.children,o)),t.push(l)}),t}var Mf="get",Of="application/x-www-form-urlencoded";function Kp(n){return n!=null&&typeof n.tagName=="string"}function x4(n){return Kp(n)&&n.tagName.toLowerCase()==="button"}function C4(n){return Kp(n)&&n.tagName.toLowerCase()==="form"}function A4(n){return Kp(n)&&n.tagName.toLowerCase()==="input"}function R4(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function I4(n,e){return n.button===0&&(!e||e==="_self")&&!R4(n)}var vf=null;function N4(){if(vf===null)try{new FormData(document.createElement("form"),0),vf=!1}catch{vf=!0}return vf}var P4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hv(n){return n!=null&&!P4.has(n)?(Bi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Of}"`),null):n}function D4(n,e){let t,i,s,o,l;if(C4(n)){let c=n.getAttribute("action");i=c?pa(c,e):null,t=n.getAttribute("method")||Mf,s=Hv(n.getAttribute("enctype"))||Of,o=new FormData(n)}else if(x4(n)||A4(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||c.getAttribute("action");if(i=h?pa(h,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||Mf,s=Hv(n.getAttribute("formenctype"))||Hv(c.getAttribute("enctype"))||Of,o=new FormData(c,n),!N4()){let{name:f,type:g,value:y}=n;if(g==="image"){let _=f?`${f}.`:"";o.append(`${_}x`,"0"),o.append(`${_}y`,"0")}else f&&o.append(f,y)}}else{if(Kp(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Mf,i=null,s=Of,l=n}return o&&s==="text/plain"&&(l=o,o=void 0),{action:i,method:t.toLowerCase(),encType:s,formData:o,body:l}}function H_(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function M4(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function O4(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function k4(n,e,t){let i=await Promise.all(n.map(async s=>{let o=e.routes[s.route.id];if(o){let l=await M4(o,t);return l.links?l.links():[]}return[]}));return U4(i.flat(1).filter(O4).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function bb(n,e,t,i,s,o){let l=(h,f)=>t[f]?h.route.id!==t[f].route.id:!0,c=(h,f)=>{var g;return t[f].pathname!==h.pathname||((g=t[f].route.path)==null?void 0:g.endsWith("*"))&&t[f].params["*"]!==h.params["*"]};return o==="assets"?e.filter((h,f)=>l(h,f)||c(h,f)):o==="data"?e.filter((h,f)=>{var y;let g=i.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(l(h,f)||c(h,f))return!0;if(h.route.shouldRevalidate){let _=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((y=t[0])==null?void 0:y.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function L4(n,e,{includeHydrateFallback:t}={}){return V4(n.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function V4(n){return[...new Set(n)]}function j4(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function U4(n,e){let t=new Set;return new Set(e),n.reduce((i,s)=>{let o=JSON.stringify(j4(s));return t.has(o)||(t.add(o),i.push({key:o,link:s})),i},[])}function B4(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function z4(){let n=U.useContext(au);return H_(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function F4(){let n=U.useContext($p);return H_(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var q_=U.createContext(void 0);q_.displayName="FrameworkContext";function hC(){let n=U.useContext(q_);return H_(n,"You must render this element inside a <HydratedRouter> element"),n}function H4(n,e){let t=U.useContext(q_),[i,s]=U.useState(!1),[o,l]=U.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:f,onMouseLeave:g,onTouchStart:y}=e,_=U.useRef(null);U.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let D=P=>{P.forEach(I=>{l(I.isIntersecting)})},j=new IntersectionObserver(D,{threshold:.5});return _.current&&j.observe(_.current),()=>{j.disconnect()}}},[n]),U.useEffect(()=>{if(i){let D=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(D)}}},[i]);let T=()=>{s(!0)},x=()=>{s(!1),l(!1)};return t?n!=="intent"?[o,_,{}]:[o,_,{onFocus:Rc(c,T),onBlur:Rc(h,x),onMouseEnter:Rc(f,T),onMouseLeave:Rc(g,x),onTouchStart:Rc(y,T)}]:[!1,_,{}]}function Rc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function q4({page:n,...e}){let{router:t}=z4(),i=U.useMemo(()=>nC(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?U.createElement($4,{page:n,matches:i,...e}):null}function G4(n){let{manifest:e,routeModules:t}=hC(),[i,s]=U.useState([]);return U.useEffect(()=>{let o=!1;return k4(n,e,t).then(l=>{o||s(l)}),()=>{o=!0}},[n,e,t]),i}function $4({page:n,matches:e,...t}){let i=Ss(),{manifest:s,routeModules:o}=hC(),{loaderData:l,matches:c}=F4(),h=U.useMemo(()=>bb(n,e,c,s,i,"data"),[n,e,c,s,i]),f=U.useMemo(()=>bb(n,e,c,s,i,"assets"),[n,e,c,s,i]),g=U.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let T=new Set,x=!1;if(e.forEach(j=>{var I;let P=s.routes[j.route.id];!P||!P.hasLoader||(!h.some(L=>L.route.id===j.route.id)&&j.route.id in l&&((I=o[j.route.id])!=null&&I.shouldRevalidate)||P.hasClientLoader?x=!0:T.add(j.route.id))}),T.size===0)return[];let D=B4(n);return x&&T.size>0&&D.searchParams.set("_routes",e.filter(j=>T.has(j.route.id)).map(j=>j.route.id).join(",")),[D.pathname+D.search]},[l,i,s,h,e,n,o]),y=U.useMemo(()=>L4(f,s),[f,s]),_=G4(f);return U.createElement(U.Fragment,null,g.map(T=>U.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...t})),y.map(T=>U.createElement("link",{key:T,rel:"modulepreload",href:T,...t})),_.map(({key:T,link:x})=>U.createElement("link",{key:T,...x})))}function K4(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var dC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{dC&&(window.__reactRouterVersion="7.2.0")}catch{}function W4({basename:n,children:e,window:t}){let i=U.useRef();i.current==null&&(i.current=kM({window:t,v5Compat:!0}));let s=i.current,[o,l]=U.useState({action:s.action,location:s.location}),c=U.useCallback(h=>{U.startTransition(()=>l(h))},[l]);return U.useLayoutEffect(()=>s.listen(c),[s,c]),U.createElement(b4,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:s})}var fC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rr=U.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:s,reloadDocument:o,replace:l,state:c,target:h,to:f,preventScrollReset:g,viewTransition:y,..._},T){let{basename:x}=U.useContext(Hi),D=typeof f=="string"&&fC.test(f),j,P=!1;if(typeof f=="string"&&D&&(j=f,dC))try{let C=new URL(window.location.href),R=f.startsWith("//")?new URL(C.protocol+f):new URL(f),k=pa(R.pathname,x);R.origin===C.origin&&k!=null?f=k+R.search+R.hash:P=!0}catch{Bi(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let I=o4(f,{relative:s}),[L,q,H]=H4(i,_),Z=Z4(f,{replace:l,state:c,target:h,preventScrollReset:g,relative:s,viewTransition:y});function O(C){e&&e(C),C.defaultPrevented||Z(C)}let A=U.createElement("a",{..._,...H,href:j||I,onClick:P||o?e:O,ref:K4(T,q),target:h,"data-discover":!D&&t==="render"?"true":void 0});return L&&!D?U.createElement(U.Fragment,null,A,U.createElement(q4,{page:I})):A});rr.displayName="Link";var Y4=U.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:s=!1,style:o,to:l,viewTransition:c,children:h,...f},g){let y=Nh(l,{relative:f.relative}),_=Ss(),T=U.useContext($p),{navigator:x,basename:D}=U.useContext(Hi),j=T!=null&&iO(y)&&c===!0,P=x.encodeLocation?x.encodeLocation(y).pathname:y.pathname,I=_.pathname,L=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;t||(I=I.toLowerCase(),L=L?L.toLowerCase():null,P=P.toLowerCase()),L&&D&&(L=pa(L,D)||L);const q=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let H=I===P||!s&&I.startsWith(P)&&I.charAt(q)==="/",Z=L!=null&&(L===P||!s&&L.startsWith(P)&&L.charAt(P.length)==="/"),O={isActive:H,isPending:Z,isTransitioning:j},A=H?e:void 0,C;typeof i=="function"?C=i(O):C=[i,H?"active":null,Z?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let R=typeof o=="function"?o(O):o;return U.createElement(rr,{...f,"aria-current":A,className:C,ref:g,style:R,to:l,viewTransition:c},typeof h=="function"?h(O):h)});Y4.displayName="NavLink";var Q4=U.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:s,state:o,method:l=Mf,action:c,onSubmit:h,relative:f,preventScrollReset:g,viewTransition:y,..._},T)=>{let x=tO(),D=nO(c,{relative:f}),j=l.toLowerCase()==="get"?"get":"post",P=typeof c=="string"&&fC.test(c),I=L=>{if(h&&h(L),L.defaultPrevented)return;L.preventDefault();let q=L.nativeEvent.submitter,H=(q==null?void 0:q.getAttribute("formmethod"))||l;x(q||L.currentTarget,{fetcherKey:e,method:H,navigate:t,replace:s,state:o,relative:f,preventScrollReset:g,viewTransition:y})};return U.createElement("form",{ref:T,method:j,action:D,onSubmit:i?h:I,..._,"data-discover":!P&&n==="render"?"true":void 0})});Q4.displayName="Form";function X4(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pC(n){let e=U.useContext(au);return _t(e,X4(n)),e}function Z4(n,{target:e,replace:t,state:i,preventScrollReset:s,relative:o,viewTransition:l}={}){let c=Ai(),h=Ss(),f=Nh(n,{relative:o});return U.useCallback(g=>{if(I4(g,e)){g.preventDefault();let y=t!==void 0?t:sh(h)===sh(f);c(n,{replace:y,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[h,c,f,t,i,e,n,s,o,l])}var J4=0,eO=()=>`__${String(++J4)}__`;function tO(){let{router:n}=pC("useSubmit"),{basename:e}=U.useContext(Hi),t=y4();return U.useCallback(async(i,s={})=>{let{action:o,method:l,encType:c,formData:h,body:f}=D4(i,e);if(s.navigate===!1){let g=s.fetcherKey||eO();await n.fetch(g,t,s.action||o,{preventScrollReset:s.preventScrollReset,formData:h,body:f,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await n.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:h,body:f,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function nO(n,{relative:e}={}){let{basename:t}=U.useContext(Hi),i=U.useContext(bs);_t(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),o={...Nh(n||".",{relative:e})},l=Ss();if(n==null){o.search=l.search;let c=new URLSearchParams(o.search),h=c.getAll("index");if(h.some(g=>g==="")){c.delete("index"),h.filter(y=>y).forEach(y=>c.append("index",y));let g=c.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:sr([t,o.pathname])),sh(o)}function iO(n,e={}){let t=U.useContext(aC);_t(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=pC("useViewTransitionState"),s=Nh(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=pa(t.currentLocation.pathname,i)||t.currentLocation.pathname,l=pa(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Qf(s.pathname,l)!=null||Qf(s.pathname,o)!=null}new TextEncoder;const mC="/assets/VYTHITI2-U5rY2ngc.png",sO="/assets/li1-BEzY4Xiq.png";var gC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Sb=ht.createContext&&ht.createContext(gC),rO=["attr","size","title"];function aO(n,e){if(n==null)return{};var t=oO(n,e),i,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(s=0;s<o.length;s++)i=o[s],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function oO(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function Xf(){return Xf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Xf.apply(this,arguments)}function xb(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function Zf(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?xb(Object(t),!0).forEach(function(i){lO(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):xb(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function lO(n,e,t){return e=uO(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function uO(n){var e=cO(n,"string");return typeof e=="symbol"?e:e+""}function cO(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function vC(n){return n&&n.map((e,t)=>ht.createElement(e.tag,Zf({key:t},e.attr),vC(e.child)))}function We(n){return e=>ht.createElement(hO,Xf({attr:Zf({},n.attr)},e),vC(n.child))}function hO(n){var e=t=>{var{attr:i,size:s,title:o}=n,l=aO(n,rO),c=s||t.size||"1em",h;return t.className&&(h=t.className),n.className&&(h=(h?h+" ":"")+n.className),ht.createElement("svg",Xf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,l,{className:h,style:Zf(Zf({color:n.color||t.color},t.style),n.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),o&&ht.createElement("title",null,o),n.children)};return Sb!==void 0?ht.createElement(Sb.Consumer,null,t=>e(t)):e(gC)}function dO(n){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M509.5 184.6L458.9 32.8C452.4 13.2 434.1 0 413.4 0H272v192h238.7c-.4-2.5-.4-5-1.2-7.4zM240 0H98.6c-20.7 0-39 13.2-45.5 32.8L2.5 184.6c-.8 2.4-.8 4.9-1.2 7.4H240V0zM0 224v240c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V224H0z"},child:[]}]})(n)}function yC(n){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 504C119 504 8 393 8 256S119 8 256 8s248 111 248 248-111 248-248 248zM142.1 273l135.5 135.5c9.4 9.4 24.6 9.4 33.9 0l17-17c9.4-9.4 9.4-24.6 0-33.9L226.9 256l101.6-101.6c9.4-9.4 9.4-24.6 0-33.9l-17-17c-9.4-9.4-24.6-9.4-33.9 0L142.1 239c-9.4 9.4-9.4 24.6 0 34z"},child:[]}]})(n)}function fO(n){return We({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(n)}function Wp(n){return We({attr:{viewBox:"0 0 192 512"},child:[{tag:"path",attr:{d:"M96 184c39.8 0 72 32.2 72 72s-32.2 72-72 72-72-32.2-72-72 32.2-72 72-72zM24 80c0 39.8 32.2 72 72 72s72-32.2 72-72S135.8 8 96 8 24 40.2 24 80zm0 352c0 39.8 32.2 72 72 72s72-32.2 72-72-32.2-72-72-72-72 32.2-72 72z"},child:[]}]})(n)}function pO(n){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(n)}function G_(n){return We({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(n)}function mO(n){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"},child:[]}]})(n)}function gO(n){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(n)}function vO(n){return We({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(n)}function yO(n){return We({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(n)}function _O(n){return We({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"},child:[]}]})(n)}function EO(n){return We({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"},child:[]}]})(n)}function _C(n){return We({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M13.66 7c-.56-1.18-1.76-2-3.16-2H6V3h12v2h-3.26c.48.58.84 1.26 1.05 2H18v2h-2.02c-.25 2.8-2.61 5-5.48 5h-.73l6.73 7h-2.77L7 14v-2h3.5c1.76 0 3.22-1.3 3.46-3H6V7h7.66z"},child:[]}]})(n)}function wO(n){return We({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"},child:[]}]})(n)}function TO(n){return We({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C8.13 2 5 5.13 5 9c0 1.74.5 3.37 1.41 4.84.95 1.54 2.2 2.86 3.16 4.4.47.75.81 1.45 1.17 2.26.26.55.47 1.5 1.26 1.5s1-.95 1.25-1.5c.37-.81.7-1.51 1.17-2.26.96-1.53 2.21-2.85 3.16-4.4C18.5 12.37 19 10.74 19 9c0-3.87-3.13-7-7-7zm0 9.75a2.5 2.5 0 0 1 0-5 2.5 2.5 0 0 1 0 5z"},child:[]}]})(n)}function EC(n){return We({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"},child:[]}]})(n)}function Ic(n){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12.1",cy:"12.1",r:"1"},child:[]}]})(n)}const wC=U.createContext({});function bO(n){const e=U.useRef(null);return e.current===null&&(e.current=n()),e.current}const $_=U.createContext(null),TC=U.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function SO(n=!0){const e=U.useContext($_);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:s}=e,o=U.useId();U.useEffect(()=>{if(n)return s(o)},[n]);const l=U.useCallback(()=>n&&i&&i(o),[o,i,n]);return!t&&i?[!1,l]:[!0]}const K_=typeof window<"u",xO=K_?U.useLayoutEffect:U.useEffect,si=n=>n;let bC=si;function W_(n){let e;return()=>(e===void 0&&(e=n()),e)}const Fl=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i},ar=n=>n*1e3,or=n=>n/1e3,CO={useManualTiming:!1},yf=["read","resolveKeyframes","update","preRender","render","postRender"],Cb={value:null};function AO(n,e){let t=new Set,i=new Set,s=!1,o=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1},h=0;function f(y){l.has(y)&&(g.schedule(y),n()),h++,y(c)}const g={schedule:(y,_=!1,T=!1)=>{const D=T&&s?t:i;return _&&l.add(y),D.has(y)||D.add(y),y},cancel:y=>{i.delete(y),l.delete(y)},process:y=>{if(c=y,s){o=!0;return}s=!0,[t,i]=[i,t],t.forEach(f),e&&Cb.value&&Cb.value.frameloop[e].push(h),h=0,t.clear(),s=!1,o&&(o=!1,g.process(y))}};return g}const RO=40;function SC(n,e){let t=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>t=!0,l=yf.reduce((P,I)=>(P[I]=AO(o,e?I:void 0),P),{}),{read:c,resolveKeyframes:h,update:f,preRender:g,render:y,postRender:_}=l,T=()=>{const P=performance.now();t=!1,s.delta=i?1e3/60:Math.max(Math.min(P-s.timestamp,RO),1),s.timestamp=P,s.isProcessing=!0,c.process(s),h.process(s),f.process(s),g.process(s),y.process(s),_.process(s),s.isProcessing=!1,t&&e&&(i=!1,n(T))},x=()=>{t=!0,i=!0,s.isProcessing||n(T)};return{schedule:yf.reduce((P,I)=>{const L=l[I];return P[I]=(q,H=!1,Z=!1)=>(t||x(),L.schedule(q,H,Z)),P},{}),cancel:P=>{for(let I=0;I<yf.length;I++)l[yf[I]].cancel(P)},state:s,steps:l}}const{schedule:gt,cancel:ma,state:vn,steps:qv}=SC(typeof requestAnimationFrame<"u"?requestAnimationFrame:si,!0),xC=U.createContext({strict:!1}),Ab={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Hl={};for(const n in Ab)Hl[n]={isEnabled:e=>Ab[n].some(t=>!!e[t])};function IO(n){for(const e in n)Hl[e]={...Hl[e],...n[e]}}const NO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Jf(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||NO.has(n)}let CC=n=>!Jf(n);function PO(n){n&&(CC=e=>e.startsWith("on")?!Jf(e):n(e))}try{PO(require("@emotion/is-prop-valid").default)}catch{}function DO(n,e,t){const i={};for(const s in n)s==="values"&&typeof n.values=="object"||(CC(s)||t===!0&&Jf(s)||!e&&!Jf(s)||n.draggable&&s.startsWith("onDrag"))&&(i[s]=n[s]);return i}function MO(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...i)=>n(...i);return new Proxy(t,{get:(i,s)=>s==="create"?n:(e.has(s)||e.set(s,n(s)),e.get(s))})}const Yp=U.createContext({});function Qp(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function rh(n){return typeof n=="string"||Array.isArray(n)}const Y_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Q_=["initial",...Y_];function Xp(n){return Qp(n.animate)||Q_.some(e=>rh(n[e]))}function AC(n){return!!(Xp(n)||n.variants)}function OO(n,e){if(Xp(n)){const{initial:t,animate:i}=n;return{initial:t===!1||rh(t)?t:void 0,animate:rh(i)?i:void 0}}return n.inherit!==!1?e:{}}function kO(n){const{initial:e,animate:t}=OO(n,U.useContext(Yp));return U.useMemo(()=>({initial:e,animate:t}),[Rb(e),Rb(t)])}function Rb(n){return Array.isArray(n)?n.join(" "):n}const LO=Symbol.for("motionComponentSymbol");function Cl(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function VO(n,e,t){return U.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):Cl(t)&&(t.current=i))},[e])}const X_=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),jO="framerAppearId",RC="data-"+X_(jO),{schedule:Z_}=SC(queueMicrotask,!1),IC=U.createContext({});function UO(n,e,t,i,s){var o,l;const{visualElement:c}=U.useContext(Yp),h=U.useContext(xC),f=U.useContext($_),g=U.useContext(TC).reducedMotion,y=U.useRef(null);i=i||h.renderer,!y.current&&i&&(y.current=i(n,{visualState:e,parent:c,props:t,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:g}));const _=y.current,T=U.useContext(IC);_&&!_.projection&&s&&(_.type==="html"||_.type==="svg")&&BO(y.current,t,s,T);const x=U.useRef(!1);U.useInsertionEffect(()=>{_&&x.current&&_.update(t,f)});const D=t[RC],j=U.useRef(!!D&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,D))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,D)));return xO(()=>{_&&(x.current=!0,window.MotionIsMounted=!0,_.updateFeatures(),Z_.render(_.render),j.current&&_.animationState&&_.animationState.animateChanges())}),U.useEffect(()=>{_&&(!j.current&&_.animationState&&_.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{var P;(P=window.MotionHandoffMarkAsComplete)===null||P===void 0||P.call(window,D)}),j.current=!1))}),_}function BO(n,e,t,i){const{layoutId:s,layout:o,drag:l,dragConstraints:c,layoutScroll:h,layoutRoot:f}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:NC(n.parent)),n.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!l||c&&Cl(c),visualElement:n,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,layoutScroll:h,layoutRoot:f})}function NC(n){if(n)return n.options.allowProjection!==!1?n.projection:NC(n.parent)}function zO({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:s}){var o,l;n&&IO(n);function c(f,g){let y;const _={...U.useContext(TC),...f,layoutId:FO(f)},{isStatic:T}=_,x=kO(f),D=i(f,T);if(!T&&K_){HO();const j=qO(_);y=j.MeasureLayout,x.visualElement=UO(s,D,_,e,j.ProjectionNode)}return w.jsxs(Yp.Provider,{value:x,children:[y&&x.visualElement?w.jsx(y,{visualElement:x.visualElement,..._}):null,t(s,f,VO(D,x.visualElement,g),D,T,x.visualElement)]})}c.displayName=`motion.${typeof s=="string"?s:`create(${(l=(o=s.displayName)!==null&&o!==void 0?o:s.name)!==null&&l!==void 0?l:""})`}`;const h=U.forwardRef(c);return h[LO]=s,h}function FO({layoutId:n}){const e=U.useContext(wC).id;return e&&n!==void 0?e+"-"+n:n}function HO(n,e){U.useContext(xC).strict}function qO(n){const{drag:e,layout:t}=Hl;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const PC=n=>e=>typeof e=="string"&&e.startsWith(n),J_=PC("--"),GO=PC("var(--"),e0=n=>GO(n)?$O.test(n.split("/*")[0].trim()):!1,$O=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ah={};function KO(n){for(const e in n)ah[e]=n[e],J_(e)&&(ah[e].isCSSVariable=!0)}const lu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ao=new Set(lu);function DC(n,{layout:e,layoutId:t}){return Ao.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!ah[n]||n==="opacity")}const Dn=n=>!!(n&&n.getVelocity),MC=(n,e)=>e&&typeof n=="number"?e.transform(n):n,ur=(n,e,t)=>t>e?e:t<n?n:t,uu={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},oh={...uu,transform:n=>ur(0,1,n)},_f={...uu,default:1},Ph=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Jr=Ph("deg"),ds=Ph("%"),Ce=Ph("px"),WO=Ph("vh"),YO=Ph("vw"),Ib={...ds,parse:n=>ds.parse(n)/100,transform:n=>ds.transform(n*100)},QO={borderWidth:Ce,borderTopWidth:Ce,borderRightWidth:Ce,borderBottomWidth:Ce,borderLeftWidth:Ce,borderRadius:Ce,radius:Ce,borderTopLeftRadius:Ce,borderTopRightRadius:Ce,borderBottomRightRadius:Ce,borderBottomLeftRadius:Ce,width:Ce,maxWidth:Ce,height:Ce,maxHeight:Ce,top:Ce,right:Ce,bottom:Ce,left:Ce,padding:Ce,paddingTop:Ce,paddingRight:Ce,paddingBottom:Ce,paddingLeft:Ce,margin:Ce,marginTop:Ce,marginRight:Ce,marginBottom:Ce,marginLeft:Ce,backgroundPositionX:Ce,backgroundPositionY:Ce},XO={rotate:Jr,rotateX:Jr,rotateY:Jr,rotateZ:Jr,scale:_f,scaleX:_f,scaleY:_f,scaleZ:_f,skew:Jr,skewX:Jr,skewY:Jr,distance:Ce,translateX:Ce,translateY:Ce,translateZ:Ce,x:Ce,y:Ce,z:Ce,perspective:Ce,transformPerspective:Ce,opacity:oh,originX:Ib,originY:Ib,originZ:Ce},Nb={...uu,transform:Math.round},t0={...QO,...XO,zIndex:Nb,size:Ce,fillOpacity:oh,strokeOpacity:oh,numOctaves:Nb},ZO={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},JO=lu.length;function ek(n,e,t){let i="",s=!0;for(let o=0;o<JO;o++){const l=lu[o],c=n[l];if(c===void 0)continue;let h=!0;if(typeof c=="number"?h=c===(l.startsWith("scale")?1:0):h=parseFloat(c)===0,!h||t){const f=MC(c,t0[l]);if(!h){s=!1;const g=ZO[l]||l;i+=`${g}(${f}) `}t&&(e[l]=f)}}return i=i.trim(),t?i=t(e,s?"":i):s&&(i="none"),i}function n0(n,e,t){const{style:i,vars:s,transformOrigin:o}=n;let l=!1,c=!1;for(const h in e){const f=e[h];if(Ao.has(h)){l=!0;continue}else if(J_(h)){s[h]=f;continue}else{const g=MC(f,t0[h]);h.startsWith("origin")?(c=!0,o[h]=g):i[h]=g}}if(e.transform||(l||t?i.transform=ek(e,n.transform,t):i.transform&&(i.transform="none")),c){const{originX:h="50%",originY:f="50%",originZ:g=0}=o;i.transformOrigin=`${h} ${f} ${g}`}}const i0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function OC(n,e,t){for(const i in e)!Dn(e[i])&&!DC(i,t)&&(n[i]=e[i])}function tk({transformTemplate:n},e){return U.useMemo(()=>{const t=i0();return n0(t,e,n),Object.assign({},t.vars,t.style)},[e])}function nk(n,e){const t=n.style||{},i={};return OC(i,t,n),Object.assign(i,tk(n,e)),i}function ik(n,e){const t={},i=nk(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}const sk=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function s0(n){return typeof n!="string"||n.includes("-")?!1:!!(sk.indexOf(n)>-1||/[A-Z]/u.test(n))}const rk={offset:"stroke-dashoffset",array:"stroke-dasharray"},ak={offset:"strokeDashoffset",array:"strokeDasharray"};function ok(n,e,t=1,i=0,s=!0){n.pathLength=1;const o=s?rk:ak;n[o.offset]=Ce.transform(-i);const l=Ce.transform(e),c=Ce.transform(t);n[o.array]=`${l} ${c}`}function Pb(n,e,t){return typeof n=="string"?n:Ce.transform(e+t*n)}function lk(n,e,t){const i=Pb(e,n.x,n.width),s=Pb(t,n.y,n.height);return`${i} ${s}`}function r0(n,{attrX:e,attrY:t,attrScale:i,originX:s,originY:o,pathLength:l,pathSpacing:c=1,pathOffset:h=0,...f},g,y){if(n0(n,f,y),g){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:_,style:T,dimensions:x}=n;_.transform&&(x&&(T.transform=_.transform),delete _.transform),x&&(s!==void 0||o!==void 0||T.transform)&&(T.transformOrigin=lk(x,s!==void 0?s:.5,o!==void 0?o:.5)),e!==void 0&&(_.x=e),t!==void 0&&(_.y=t),i!==void 0&&(_.scale=i),l!==void 0&&ok(_,l,c,h,!1)}const kC=()=>({...i0(),attrs:{}}),a0=n=>typeof n=="string"&&n.toLowerCase()==="svg";function uk(n,e,t,i){const s=U.useMemo(()=>{const o=kC();return r0(o,e,a0(i),n.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(n.style){const o={};OC(o,n.style,n),s.style={...o,...s.style}}return s}function ck(n=!1){return(t,i,s,{latestValues:o},l)=>{const h=(s0(t)?uk:ik)(i,o,l,t),f=DO(i,typeof t=="string",n),g=t!==U.Fragment?{...f,...h,ref:s}:{},{children:y}=i,_=U.useMemo(()=>Dn(y)?y.get():y,[y]);return U.createElement(t,{...g,children:_})}}function Db(n){const e=[{},{}];return n==null||n.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function o0(n,e,t,i){if(typeof e=="function"){const[s,o]=Db(i);e=e(t!==void 0?t:n.custom,s,o)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[s,o]=Db(i);e=e(t!==void 0?t:n.custom,s,o)}return e}const Iy=n=>Array.isArray(n),hk=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),dk=n=>Iy(n)?n[n.length-1]||0:n;function kf(n){const e=Dn(n)?n.get():n;return hk(e)?e.toValue():e}function fk({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},i,s,o){const l={latestValues:pk(i,s,o,n),renderState:e()};return t&&(l.onMount=c=>t({props:i,current:c,...l}),l.onUpdate=c=>t(c)),l}const LC=n=>(e,t)=>{const i=U.useContext(Yp),s=U.useContext($_),o=()=>fk(n,e,i,s);return t?o():bO(o)};function pk(n,e,t,i){const s={},o=i(n,{});for(const _ in o)s[_]=kf(o[_]);let{initial:l,animate:c}=n;const h=Xp(n),f=AC(n);e&&f&&!h&&n.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let g=t?t.initial===!1:!1;g=g||l===!1;const y=g?c:l;if(y&&typeof y!="boolean"&&!Qp(y)){const _=Array.isArray(y)?y:[y];for(let T=0;T<_.length;T++){const x=o0(n,_[T]);if(x){const{transitionEnd:D,transition:j,...P}=x;for(const I in P){let L=P[I];if(Array.isArray(L)){const q=g?L.length-1:0;L=L[q]}L!==null&&(s[I]=L)}for(const I in D)s[I]=D[I]}}}return s}function l0(n,e,t){var i;const{style:s}=n,o={};for(const l in s)(Dn(s[l])||e.style&&Dn(e.style[l])||DC(l,n)||((i=t==null?void 0:t.getValue(l))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(o[l]=s[l]);return o}const mk={useVisualState:LC({scrapeMotionValuesFromProps:l0,createRenderState:i0})};function VC(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function jC(n,{style:e,vars:t},i,s){Object.assign(n.style,e,s&&s.getProjectionStyles(i));for(const o in t)n.style.setProperty(o,t[o])}const UC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function BC(n,e,t,i){jC(n,e,void 0,i);for(const s in e.attrs)n.setAttribute(UC.has(s)?s:X_(s),e.attrs[s])}function zC(n,e,t){const i=l0(n,e,t);for(const s in n)if(Dn(n[s])||Dn(e[s])){const o=lu.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[o]=n[s]}return i}const Mb=["x","y","width","height","cx","cy","r"],gk={useVisualState:LC({scrapeMotionValuesFromProps:zC,createRenderState:kC,onUpdate:({props:n,prevProps:e,current:t,renderState:i,latestValues:s})=>{if(!t)return;let o=!!n.drag;if(!o){for(const c in s)if(Ao.has(c)){o=!0;break}}if(!o)return;let l=!e;if(e)for(let c=0;c<Mb.length;c++){const h=Mb[c];n[h]!==e[h]&&(l=!0)}l&&gt.read(()=>{VC(t,i),gt.render(()=>{r0(i,s,a0(t.tagName),n.transformTemplate),BC(t,i)})})}})};function vk(n,e){return function(i,{forwardMotionProps:s}={forwardMotionProps:!1}){const l={...s0(i)?gk:mk,preloadedFeatures:n,useRender:ck(s),createVisualElement:e,Component:i};return zO(l)}}function lh(n,e,t){const i=n.getProps();return o0(i,e,t!==void 0?t:i.custom,n)}const yk=W_(()=>window.ScrollTimeline!==void 0);class _k{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=t}attachTimeline(e,t){const i=this.animations.map(s=>{if(yk()&&s.attachTimeline)return s.attachTimeline(e);if(typeof t=="function")return t(s)});return()=>{i.forEach((s,o)=>{s&&s(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Ek extends _k{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function u0(n,e){return n?n[e]||n.default||n:void 0}const Ny=2e4;function FC(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<Ny;)e+=t,i=n.next(e);return e>=Ny?1/0:e}function c0(n){return typeof n=="function"}function Ob(n,e){n.timeline=e,n.onfinish=null}const h0=n=>Array.isArray(n)&&typeof n[0]=="number",wk={linearEasing:void 0};function Tk(n,e){const t=W_(n);return()=>{var i;return(i=wk[e])!==null&&i!==void 0?i:t()}}const ep=Tk(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),HC=(n,e,t=10)=>{let i="";const s=Math.max(Math.round(e/t),2);for(let o=0;o<s;o++)i+=n(Fl(0,s-1,o))+", ";return`linear(${i.substring(0,i.length-2)})`};function qC(n){return!!(typeof n=="function"&&ep()||!n||typeof n=="string"&&(n in Py||ep())||h0(n)||Array.isArray(n)&&n.every(qC))}const Lc=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,Py={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Lc([0,.65,.55,1]),circOut:Lc([.55,0,1,.45]),backIn:Lc([.31,.01,.66,-.59]),backOut:Lc([.33,1.53,.69,.99])};function GC(n,e){if(n)return typeof n=="function"&&ep()?HC(n,e):h0(n)?Lc(n):Array.isArray(n)?n.map(t=>GC(t,e)||Py.easeOut):Py[n]}const ki={x:!1,y:!1};function $C(){return ki.x||ki.y}function bk(n,e,t){var i;if(n instanceof EventTarget)return[n];if(typeof n=="string"){let s=document;const o=(i=void 0)!==null&&i!==void 0?i:s.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n)}function KC(n,e){const t=bk(n),i=new AbortController,s={passive:!0,...e,signal:i.signal};return[t,s,()=>i.abort()]}function kb(n){return!(n.pointerType==="touch"||$C())}function Sk(n,e,t={}){const[i,s,o]=KC(n,t),l=c=>{if(!kb(c))return;const{target:h}=c,f=e(h,c);if(typeof f!="function"||!h)return;const g=y=>{kb(y)&&(f(y),h.removeEventListener("pointerleave",g))};h.addEventListener("pointerleave",g,s)};return i.forEach(c=>{c.addEventListener("pointerenter",l,s)}),o}function tp(n,e){const t=`${e}PointerCapture`;if(n.target instanceof Element&&t in n.target&&n.pointerId!==void 0)try{n.target[t](n.pointerId)}catch{}}const WC=(n,e)=>e?n===e?!0:WC(n,e.parentElement):!1,d0=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,xk=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Ck(n){return xk.has(n.tagName)||n.tabIndex!==-1}const Vc=new WeakSet;function Lb(n){return e=>{e.key==="Enter"&&n(e)}}function Gv(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Ak=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=Lb(()=>{if(Vc.has(t))return;Gv(t,"down");const s=Lb(()=>{Gv(t,"up")}),o=()=>Gv(t,"cancel");t.addEventListener("keyup",s,e),t.addEventListener("blur",o,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function Vb(n){return d0(n)&&!$C()}function Rk(n,e,t={}){const[i,s,o]=KC(n,t),l=c=>{const h=c.currentTarget;if(!h||!Vb(c)||Vc.has(h))return;Vc.add(h),tp(c,"set");const f=e(h,c),g=(T,x)=>{h.removeEventListener("pointerup",y),h.removeEventListener("pointercancel",_),tp(T,"release"),!(!Vb(T)||!Vc.has(h))&&(Vc.delete(h),typeof f=="function"&&f(T,{success:x}))},y=T=>{(T.isTrusted?Ik(T,h instanceof Element?h.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?g(T,!1):g(T,!(h instanceof Element)||WC(h,T.target))},_=T=>{g(T,!1)};h.addEventListener("pointerup",y,s),h.addEventListener("pointercancel",_,s),h.addEventListener("lostpointercapture",_,s)};return i.forEach(c=>{c=t.useGlobalTarget?window:c;let h=!1;c instanceof HTMLElement&&(h=!0,!Ck(c)&&c.getAttribute("tabindex")===null&&(c.tabIndex=0)),c.addEventListener("pointerdown",l,s),h&&c.addEventListener("focus",f=>Ak(f,s),s)}),o}function Ik(n,e){return n.clientX<e.left||n.clientX>e.right||n.clientY<e.top||n.clientY>e.bottom}function Nk(n){return n==="x"||n==="y"?ki[n]?null:(ki[n]=!0,()=>{ki[n]=!1}):ki.x||ki.y?null:(ki.x=ki.y=!0,()=>{ki.x=ki.y=!1})}const YC=new Set(["width","height","top","left","right","bottom",...lu]);let Lf;function Pk(){Lf=void 0}const fs={now:()=>(Lf===void 0&&fs.set(vn.isProcessing||CO.useManualTiming?vn.timestamp:performance.now()),Lf),set:n=>{Lf=n,queueMicrotask(Pk)}};function f0(n,e){n.indexOf(e)===-1&&n.push(e)}function p0(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class m0{constructor(){this.subscriptions=[]}add(e){return f0(this.subscriptions,e),()=>p0(this.subscriptions,e)}notify(e,t,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,t,i);else for(let o=0;o<s;o++){const l=this.subscriptions[o];l&&l(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function QC(n,e){return e?n*(1e3/e):0}const jb=30,Dk=n=>!isNaN(parseFloat(n));class Mk{constructor(e,t={}){this.version="12.4.7",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,s=!0)=>{const o=fs.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=fs.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Dk(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new m0);const i=this.events[e].add(t);return e==="change"?()=>{i(),gt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=fs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>jb)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,jb);return QC(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function uh(n,e){return new Mk(n,e)}function Ok(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,uh(t))}function kk(n,e){const t=lh(n,e);let{transitionEnd:i={},transition:s={},...o}=t||{};o={...o,...i};for(const l in o){const c=dk(o[l]);Ok(n,l,c)}}function Lk(n){return!!(Dn(n)&&n.add)}function Dy(n,e){const t=n.getValue("willChange");if(Lk(t))return t.add(e)}function XC(n){return n.props[RC]}const ZC=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,Vk=1e-7,jk=12;function Uk(n,e,t,i,s){let o,l,c=0;do l=e+(t-e)/2,o=ZC(l,i,s)-n,o>0?t=l:e=l;while(Math.abs(o)>Vk&&++c<jk);return l}function Dh(n,e,t,i){if(n===e&&t===i)return si;const s=o=>Uk(o,0,1,n,t);return o=>o===0||o===1?o:ZC(s(o),e,i)}const JC=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,eA=n=>e=>1-n(1-e),tA=Dh(.33,1.53,.69,.99),g0=eA(tA),nA=JC(g0),iA=n=>(n*=2)<1?.5*g0(n):.5*(2-Math.pow(2,-10*(n-1))),v0=n=>1-Math.sin(Math.acos(n)),sA=eA(v0),rA=JC(v0),aA=n=>/^0[^.\s]+$/u.test(n);function Bk(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||aA(n):!0}const qc=n=>Math.round(n*1e5)/1e5,y0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function zk(n){return n==null}const Fk=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,_0=(n,e)=>t=>!!(typeof t=="string"&&Fk.test(t)&&t.startsWith(n)||e&&!zk(t)&&Object.prototype.hasOwnProperty.call(t,e)),oA=(n,e,t)=>i=>{if(typeof i!="string")return i;const[s,o,l,c]=i.match(y0);return{[n]:parseFloat(s),[e]:parseFloat(o),[t]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},Hk=n=>ur(0,255,n),$v={...uu,transform:n=>Math.round(Hk(n))},fo={test:_0("rgb","red"),parse:oA("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+$v.transform(n)+", "+$v.transform(e)+", "+$v.transform(t)+", "+qc(oh.transform(i))+")"};function qk(n){let e="",t="",i="",s="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),s=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),s=n.substring(4,5),e+=e,t+=t,i+=i,s+=s),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const My={test:_0("#"),parse:qk,transform:fo.transform},Al={test:_0("hsl","hue"),parse:oA("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+ds.transform(qc(e))+", "+ds.transform(qc(t))+", "+qc(oh.transform(i))+")"},Rn={test:n=>fo.test(n)||My.test(n)||Al.test(n),parse:n=>fo.test(n)?fo.parse(n):Al.test(n)?Al.parse(n):My.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?fo.transform(n):Al.transform(n)},Gk=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function $k(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(y0))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(Gk))===null||t===void 0?void 0:t.length)||0)>0}const lA="number",uA="color",Kk="var",Wk="var(",Ub="${}",Yk=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ch(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},s=[];let o=0;const c=e.replace(Yk,h=>(Rn.test(h)?(i.color.push(o),s.push(uA),t.push(Rn.parse(h))):h.startsWith(Wk)?(i.var.push(o),s.push(Kk),t.push(h)):(i.number.push(o),s.push(lA),t.push(parseFloat(h))),++o,Ub)).split(Ub);return{values:t,split:c,indexes:i,types:s}}function cA(n){return ch(n).values}function hA(n){const{split:e,types:t}=ch(n),i=e.length;return s=>{let o="";for(let l=0;l<i;l++)if(o+=e[l],s[l]!==void 0){const c=t[l];c===lA?o+=qc(s[l]):c===uA?o+=Rn.transform(s[l]):o+=s[l]}return o}}const Qk=n=>typeof n=="number"?0:n;function Xk(n){const e=cA(n);return hA(n)(e.map(Qk))}const ga={test:$k,parse:cA,createTransformer:hA,getAnimatableNone:Xk},Zk=new Set(["brightness","contrast","saturate","opacity"]);function Jk(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(y0)||[];if(!i)return n;const s=t.replace(i,"");let o=Zk.has(e)?1:0;return i!==t&&(o*=100),e+"("+o+s+")"}const e3=/\b([a-z-]*)\(.*?\)/gu,Oy={...ga,getAnimatableNone:n=>{const e=n.match(e3);return e?e.map(Jk).join(" "):n}},t3={...t0,color:Rn,backgroundColor:Rn,outlineColor:Rn,fill:Rn,stroke:Rn,borderColor:Rn,borderTopColor:Rn,borderRightColor:Rn,borderBottomColor:Rn,borderLeftColor:Rn,filter:Oy,WebkitFilter:Oy},E0=n=>t3[n];function dA(n,e){let t=E0(n);return t!==Oy&&(t=ga),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const n3=new Set(["auto","none","0"]);function i3(n,e,t){let i=0,s;for(;i<n.length&&!s;){const o=n[i];typeof o=="string"&&!n3.has(o)&&ch(o).values.length&&(s=n[i]),i++}if(s&&t)for(const o of e)n[o]=dA(t,s)}const Bb=n=>n===uu||n===Ce,zb=(n,e)=>parseFloat(n.split(", ")[e]),Fb=(n,e)=>(t,{transform:i})=>{if(i==="none"||!i)return 0;const s=i.match(/^matrix3d\((.+)\)$/u);if(s)return zb(s[1],e);{const o=i.match(/^matrix\((.+)\)$/u);return o?zb(o[1],n):0}},s3=new Set(["x","y","z"]),r3=lu.filter(n=>!s3.has(n));function a3(n){const e=[];return r3.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const ql={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:Fb(4,13),y:Fb(5,14)};ql.translateX=ql.x;ql.translateY=ql.y;const go=new Set;let ky=!1,Ly=!1;function fA(){if(Ly){const n=Array.from(go).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const s=a3(i);s.length&&(t.set(i,s),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const s=t.get(i);s&&s.forEach(([o,l])=>{var c;(c=i.getValue(o))===null||c===void 0||c.set(l)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Ly=!1,ky=!1,go.forEach(n=>n.complete()),go.clear()}function pA(){go.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Ly=!0)})}function o3(){pA(),fA()}class w0{constructor(e,t,i,s,o,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=s,this.element=o,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(go.add(this),ky||(ky=!0,gt.read(pA),gt.resolveKeyframes(fA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:s}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const l=s==null?void 0:s.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&t){const h=i.readValue(t,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),s&&l===void 0&&s.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),go.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,go.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const mA=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),l3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function u3(n){const e=l3.exec(n);if(!e)return[,];const[,t,i,s]=e;return[`--${t??i}`,s]}function gA(n,e,t=1){const[i,s]=u3(n);if(!i)return;const o=window.getComputedStyle(e).getPropertyValue(i);if(o){const l=o.trim();return mA(l)?parseFloat(l):l}return e0(s)?gA(s,e,t+1):s}const vA=n=>e=>e.test(n),c3={test:n=>n==="auto",parse:n=>n},yA=[uu,Ce,ds,Jr,YO,WO,c3],Hb=n=>yA.find(vA(n));class _A extends w0{constructor(e,t,i,s,o){super(e,t,i,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let f=e[h];if(typeof f=="string"&&(f=f.trim(),e0(f))){const g=gA(f,t.current);g!==void 0&&(e[h]=g),h===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!YC.has(i)||e.length!==2)return;const[s,o]=e,l=Hb(s),c=Hb(o);if(l!==c)if(Bb(l)&&Bb(c))for(let h=0;h<e.length;h++){const f=e[h];typeof f=="string"&&(e[h]=parseFloat(f))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let s=0;s<e.length;s++)Bk(e[s])&&i.push(s);i.length&&i3(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ql[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const s=t[t.length-1];s!==void 0&&e.getValue(i,s).jump(s,!1)}measureEndState(){var e;const{element:t,name:i,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const o=t.getValue(i);o&&o.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=ql[i](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([h,f])=>{t.getValue(h).set(f)}),this.resolveNoneKeyframes()}}const qb=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(ga.test(n)||n==="0")&&!n.startsWith("url("));function h3(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function d3(n,e,t,i){const s=n[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const o=n[n.length-1],l=qb(s,e),c=qb(o,e);return!l||!c?!1:h3(n)||(t==="spring"||c0(t))&&i}const f3=n=>n!==null;function Zp(n,{repeat:e,repeatType:t="loop"},i){const s=n.filter(f3),o=e&&t!=="loop"&&e%2===1?0:s.length-1;return!o||i===void 0?s[o]:i}const p3=40;class EA{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:l="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=fs.now(),this.options={autoplay:e,delay:t,type:i,repeat:s,repeatDelay:o,repeatType:l,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>p3?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&o3(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=fs.now(),this.hasAttemptedResolve=!0;const{name:i,type:s,velocity:o,delay:l,onComplete:c,onUpdate:h,isGenerator:f}=this.options;if(!f&&!d3(e,i,s,o))if(l)this.options.duration=0;else{h&&h(Zp(e,this.options,t)),c&&c(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,t);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...g},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const bt=(n,e,t)=>n+(e-n)*t;function Kv(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function m3({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let s=0,o=0,l=0;if(!e)s=o=l=t;else{const c=t<.5?t*(1+e):t+e-t*e,h=2*t-c;s=Kv(h,c,n+1/3),o=Kv(h,c,n),l=Kv(h,c,n-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:i}}function np(n,e){return t=>t>0?e:n}const Wv=(n,e,t)=>{const i=n*n,s=t*(e*e-i)+i;return s<0?0:Math.sqrt(s)},g3=[My,fo,Al],v3=n=>g3.find(e=>e.test(n));function Gb(n){const e=v3(n);if(!e)return!1;let t=e.parse(n);return e===Al&&(t=m3(t)),t}const $b=(n,e)=>{const t=Gb(n),i=Gb(e);if(!t||!i)return np(n,e);const s={...t};return o=>(s.red=Wv(t.red,i.red,o),s.green=Wv(t.green,i.green,o),s.blue=Wv(t.blue,i.blue,o),s.alpha=bt(t.alpha,i.alpha,o),fo.transform(s))},y3=(n,e)=>t=>e(n(t)),Mh=(...n)=>n.reduce(y3),Vy=new Set(["none","hidden"]);function _3(n,e){return Vy.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function E3(n,e){return t=>bt(n,e,t)}function T0(n){return typeof n=="number"?E3:typeof n=="string"?e0(n)?np:Rn.test(n)?$b:b3:Array.isArray(n)?wA:typeof n=="object"?Rn.test(n)?$b:w3:np}function wA(n,e){const t=[...n],i=t.length,s=n.map((o,l)=>T0(o)(o,e[l]));return o=>{for(let l=0;l<i;l++)t[l]=s[l](o);return t}}function w3(n,e){const t={...n,...e},i={};for(const s in t)n[s]!==void 0&&e[s]!==void 0&&(i[s]=T0(n[s])(n[s],e[s]));return s=>{for(const o in i)t[o]=i[o](s);return t}}function T3(n,e){var t;const i=[],s={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const l=e.types[o],c=n.indexes[l][s[l]],h=(t=n.values[c])!==null&&t!==void 0?t:0;i[o]=h,s[l]++}return i}const b3=(n,e)=>{const t=ga.createTransformer(e),i=ch(n),s=ch(e);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?Vy.has(n)&&!s.values.length||Vy.has(e)&&!i.values.length?_3(n,e):Mh(wA(T3(i,s),s.values),t):np(n,e)};function TA(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?bt(n,e,t):T0(n)(n,e)}const S3=5;function bA(n,e,t){const i=Math.max(e-S3,0);return QC(t-n(i),e-i)}const Pt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Kb=.001;function x3({duration:n=Pt.duration,bounce:e=Pt.bounce,velocity:t=Pt.velocity,mass:i=Pt.mass}){let s,o,l=1-e;l=ur(Pt.minDamping,Pt.maxDamping,l),n=ur(Pt.minDuration,Pt.maxDuration,or(n)),l<1?(s=f=>{const g=f*l,y=g*n,_=g-t,T=jy(f,l),x=Math.exp(-y);return Kb-_/T*x},o=f=>{const y=f*l*n,_=y*t+t,T=Math.pow(l,2)*Math.pow(f,2)*n,x=Math.exp(-y),D=jy(Math.pow(f,2),l);return(-s(f)+Kb>0?-1:1)*((_-T)*x)/D}):(s=f=>{const g=Math.exp(-f*n),y=(f-t)*n+1;return-.001+g*y},o=f=>{const g=Math.exp(-f*n),y=(t-f)*(n*n);return g*y});const c=5/n,h=A3(s,o,c);if(n=ar(n),isNaN(h))return{stiffness:Pt.stiffness,damping:Pt.damping,duration:n};{const f=Math.pow(h,2)*i;return{stiffness:f,damping:l*2*Math.sqrt(i*f),duration:n}}}const C3=12;function A3(n,e,t){let i=t;for(let s=1;s<C3;s++)i=i-n(i)/e(i);return i}function jy(n,e){return n*Math.sqrt(1-e*e)}const R3=["duration","bounce"],I3=["stiffness","damping","mass"];function Wb(n,e){return e.some(t=>n[t]!==void 0)}function N3(n){let e={velocity:Pt.velocity,stiffness:Pt.stiffness,damping:Pt.damping,mass:Pt.mass,isResolvedFromDuration:!1,...n};if(!Wb(n,I3)&&Wb(n,R3))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),s=i*i,o=2*ur(.05,1,1-(n.bounce||0))*Math.sqrt(s);e={...e,mass:Pt.mass,stiffness:s,damping:o}}else{const t=x3(n);e={...e,...t,mass:Pt.mass},e.isResolvedFromDuration=!0}return e}function SA(n=Pt.visualDuration,e=Pt.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:s}=t;const o=t.keyframes[0],l=t.keyframes[t.keyframes.length-1],c={done:!1,value:o},{stiffness:h,damping:f,mass:g,duration:y,velocity:_,isResolvedFromDuration:T}=N3({...t,velocity:-or(t.velocity||0)}),x=_||0,D=f/(2*Math.sqrt(h*g)),j=l-o,P=or(Math.sqrt(h/g)),I=Math.abs(j)<5;i||(i=I?Pt.restSpeed.granular:Pt.restSpeed.default),s||(s=I?Pt.restDelta.granular:Pt.restDelta.default);let L;if(D<1){const H=jy(P,D);L=Z=>{const O=Math.exp(-D*P*Z);return l-O*((x+D*P*j)/H*Math.sin(H*Z)+j*Math.cos(H*Z))}}else if(D===1)L=H=>l-Math.exp(-P*H)*(j+(x+P*j)*H);else{const H=P*Math.sqrt(D*D-1);L=Z=>{const O=Math.exp(-D*P*Z),A=Math.min(H*Z,300);return l-O*((x+D*P*j)*Math.sinh(A)+H*j*Math.cosh(A))/H}}const q={calculatedDuration:T&&y||null,next:H=>{const Z=L(H);if(T)c.done=H>=y;else{let O=0;D<1&&(O=H===0?ar(x):bA(L,H,Z));const A=Math.abs(O)<=i,C=Math.abs(l-Z)<=s;c.done=A&&C}return c.value=c.done?l:Z,c},toString:()=>{const H=Math.min(FC(q),Ny),Z=HC(O=>q.next(H*O).value,H,30);return H+"ms "+Z}};return q}function Yb({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:l,min:c,max:h,restDelta:f=.5,restSpeed:g}){const y=n[0],_={done:!1,value:y},T=A=>c!==void 0&&A<c||h!==void 0&&A>h,x=A=>c===void 0?h:h===void 0||Math.abs(c-A)<Math.abs(h-A)?c:h;let D=t*e;const j=y+D,P=l===void 0?j:l(j);P!==j&&(D=P-y);const I=A=>-D*Math.exp(-A/i),L=A=>P+I(A),q=A=>{const C=I(A),R=L(A);_.done=Math.abs(C)<=f,_.value=_.done?P:R};let H,Z;const O=A=>{T(_.value)&&(H=A,Z=SA({keyframes:[_.value,x(_.value)],velocity:bA(L,A,_.value),damping:s,stiffness:o,restDelta:f,restSpeed:g}))};return O(0),{calculatedDuration:null,next:A=>{let C=!1;return!Z&&H===void 0&&(C=!0,q(A),O(A)),H!==void 0&&A>=H?Z.next(A-H):(!C&&q(A),_)}}}const P3=Dh(.42,0,1,1),D3=Dh(0,0,.58,1),xA=Dh(.42,0,.58,1),M3=n=>Array.isArray(n)&&typeof n[0]!="number",O3={linear:si,easeIn:P3,easeInOut:xA,easeOut:D3,circIn:v0,circInOut:rA,circOut:sA,backIn:g0,backInOut:nA,backOut:tA,anticipate:iA},Qb=n=>{if(h0(n)){bC(n.length===4);const[e,t,i,s]=n;return Dh(e,t,i,s)}else if(typeof n=="string")return O3[n];return n};function k3(n,e,t){const i=[],s=t||TA,o=n.length-1;for(let l=0;l<o;l++){let c=s(n[l],n[l+1]);if(e){const h=Array.isArray(e)?e[l]||si:e;c=Mh(h,c)}i.push(c)}return i}function L3(n,e,{clamp:t=!0,ease:i,mixer:s}={}){const o=n.length;if(bC(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const l=n[0]===n[1];n[0]>n[o-1]&&(n=[...n].reverse(),e=[...e].reverse());const c=k3(e,i,s),h=c.length,f=g=>{if(l&&g<n[0])return e[0];let y=0;if(h>1)for(;y<n.length-2&&!(g<n[y+1]);y++);const _=Fl(n[y],n[y+1],g);return c[y](_)};return t?g=>f(ur(n[0],n[o-1],g)):f}function V3(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const s=Fl(0,e,i);n.push(bt(t,1,s))}}function j3(n){const e=[0];return V3(e,n.length-1),e}function U3(n,e){return n.map(t=>t*e)}function B3(n,e){return n.map(()=>e||xA).splice(0,n.length-1)}function ip({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const s=M3(i)?i.map(Qb):Qb(i),o={done:!1,value:e[0]},l=U3(t&&t.length===e.length?t:j3(e),n),c=L3(l,e,{ease:Array.isArray(s)?s:B3(e,s)});return{calculatedDuration:n,next:h=>(o.value=c(h),o.done=h>=n,o)}}const z3=n=>{const e=({timestamp:t})=>n(t);return{start:()=>gt.update(e,!0),stop:()=>ma(e),now:()=>vn.isProcessing?vn.timestamp:fs.now()}},F3={decay:Yb,inertia:Yb,tween:ip,keyframes:ip,spring:SA},H3=n=>n/100;class b0 extends EA{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:t,motionValue:i,element:s,keyframes:o}=this.options,l=(s==null?void 0:s.KeyframeResolver)||w0,c=(h,f)=>this.onKeyframesResolved(h,f);this.resolver=new l(o,c,t,i,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o,velocity:l=0}=this.options,c=c0(t)?t:F3[t]||ip;let h,f;c!==ip&&typeof e[0]!="number"&&(h=Mh(H3,TA(e[0],e[1])),e=[0,100]);const g=c({...this.options,keyframes:e});o==="mirror"&&(f=c({...this.options,keyframes:[...e].reverse(),velocity:-l})),g.calculatedDuration===null&&(g.calculatedDuration=FC(g));const{calculatedDuration:y}=g,_=y+s,T=_*(i+1)-s;return{generator:g,mirroredGenerator:f,mapPercentToKeyframes:h,calculatedDuration:y,resolvedDuration:_,totalDuration:T}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:i}=this;if(!i){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:s,generator:o,mirroredGenerator:l,mapPercentToKeyframes:c,keyframes:h,calculatedDuration:f,totalDuration:g,resolvedDuration:y}=i;if(this.startTime===null)return o.next(0);const{delay:_,repeat:T,repeatType:x,repeatDelay:D,onUpdate:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const P=this.currentTime-_*(this.speed>=0?1:-1),I=this.speed>=0?P<0:P>g;this.currentTime=Math.max(P,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let L=this.currentTime,q=o;if(T){const A=Math.min(this.currentTime,g)/y;let C=Math.floor(A),R=A%1;!R&&A>=1&&(R=1),R===1&&C--,C=Math.min(C,T+1),!!(C%2)&&(x==="reverse"?(R=1-R,D&&(R-=D/y)):x==="mirror"&&(q=l)),L=ur(0,1,R)*y}const H=I?{done:!1,value:h[0]}:q.next(L);c&&(H.value=c(H.value));let{done:Z}=H;!I&&f!==null&&(Z=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Z);return O&&s!==void 0&&(H.value=Zp(h,this.options,s)),j&&j(H.value),O&&this.finish(),H}get duration(){const{resolved:e}=this;return e?or(e.calculatedDuration):0}get time(){return or(this.currentTime)}set time(e){e=ar(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=or(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=z3,onPlay:t,startTime:i}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),t&&t();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const q3=new Set(["opacity","clipPath","filter","transform"]);function G3(n,e,t,{delay:i=0,duration:s=300,repeat:o=0,repeatType:l="loop",ease:c="easeInOut",times:h}={}){const f={[e]:t};h&&(f.offset=h);const g=GC(c,s);return Array.isArray(g)&&(f.easing=g),n.animate(f,{delay:i,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"})}const $3=W_(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),sp=10,K3=2e4;function W3(n){return c0(n.type)||n.type==="spring"||!qC(n.ease)}function Y3(n,e){const t=new b0({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:n[0]};const s=[];let o=0;for(;!i.done&&o<K3;)i=t.sample(o),s.push(i.value),o+=sp;return{times:void 0,keyframes:s,duration:o-sp,ease:"linear"}}const CA={anticipate:iA,backInOut:nA,circInOut:rA};function Q3(n){return n in CA}class Xb extends EA{constructor(e){super(e);const{name:t,motionValue:i,element:s,keyframes:o}=this.options;this.resolver=new _A(o,(l,c)=>this.onKeyframesResolved(l,c),t,i,s),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:i=300,times:s,ease:o,type:l,motionValue:c,name:h,startTime:f}=this.options;if(!c.owner||!c.owner.current)return!1;if(typeof o=="string"&&ep()&&Q3(o)&&(o=CA[o]),W3(this.options)){const{onComplete:y,onUpdate:_,motionValue:T,element:x,...D}=this.options,j=Y3(e,D);e=j.keyframes,e.length===1&&(e[1]=e[0]),i=j.duration,s=j.times,o=j.ease,l="keyframes"}const g=G3(c.owner.current,h,e,{...this.options,duration:i,times:s,ease:o});return g.startTime=f??this.calcStartTime(),this.pendingTimeline?(Ob(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:y}=this.options;c.set(Zp(e,this.options,t)),y&&y(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:i,times:s,type:l,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return or(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return or(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.currentTime=ar(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return si;const{animation:i}=t;Ob(i,e)}return si}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:i,duration:s,type:o,ease:l,times:c}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:f,onUpdate:g,onComplete:y,element:_,...T}=this.options,x=new b0({...T,keyframes:i,duration:s,type:o,ease:l,times:c,isGenerator:!0}),D=ar(this.time);f.setWithVelocity(x.sample(D-sp).value,x.sample(D).value,sp)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:i,repeatDelay:s,repeatType:o,damping:l,type:c}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:f}=t.owner.getProps();return $3()&&i&&q3.has(i)&&!h&&!f&&!s&&o!=="mirror"&&l!==0&&c!=="inertia"}}const X3={type:"spring",stiffness:500,damping:25,restSpeed:10},Z3=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),J3={type:"keyframes",duration:.8},eL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},tL=(n,{keyframes:e})=>e.length>2?J3:Ao.has(n)?n.startsWith("scale")?Z3(e[1]):X3:eL;function nL({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:s,repeat:o,repeatType:l,repeatDelay:c,from:h,elapsed:f,...g}){return!!Object.keys(g).length}const S0=(n,e,t,i={},s,o)=>l=>{const c=u0(i,n)||{},h=c.delay||i.delay||0;let{elapsed:f=0}=i;f=f-ar(h);let g={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-f,onUpdate:_=>{e.set(_),c.onUpdate&&c.onUpdate(_)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:n,motionValue:e,element:o?void 0:s};nL(c)||(g={...g,...tL(n,g)}),g.duration&&(g.duration=ar(g.duration)),g.repeatDelay&&(g.repeatDelay=ar(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(y=!0)),y&&!o&&e.get()!==void 0){const _=Zp(g.keyframes,c);if(_!==void 0)return gt.update(()=>{g.onUpdate(_),g.onComplete()}),new Ek([])}return!o&&Xb.supports(g)?new Xb(g):new b0(g)};function iL({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function AA(n,e,{delay:t=0,transitionOverride:i,type:s}={}){var o;let{transition:l=n.getDefaultTransition(),transitionEnd:c,...h}=e;i&&(l=i);const f=[],g=s&&n.animationState&&n.animationState.getState()[s];for(const y in h){const _=n.getValue(y,(o=n.latestValues[y])!==null&&o!==void 0?o:null),T=h[y];if(T===void 0||g&&iL(g,y))continue;const x={delay:t,...u0(l||{},y)};let D=!1;if(window.MotionHandoffAnimation){const P=XC(n);if(P){const I=window.MotionHandoffAnimation(P,y,gt);I!==null&&(x.startTime=I,D=!0)}}Dy(n,y),_.start(S0(y,_,T,n.shouldReduceMotion&&YC.has(y)?{type:!1}:x,n,D));const j=_.animation;j&&f.push(j)}return c&&Promise.all(f).then(()=>{gt.update(()=>{c&&kk(n,c)})}),f}function Uy(n,e,t={}){var i;const s=lh(n,e,t.type==="exit"?(i=n.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=s||{};t.transitionOverride&&(o=t.transitionOverride);const l=s?()=>Promise.all(AA(n,s,t)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(f=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:_}=o;return sL(n,e,g+f,y,_,t)}:()=>Promise.resolve(),{when:h}=o;if(h){const[f,g]=h==="beforeChildren"?[l,c]:[c,l];return f().then(()=>g())}else return Promise.all([l(),c(t.delay)])}function sL(n,e,t=0,i=0,s=1,o){const l=[],c=(n.variantChildren.size-1)*i,h=s===1?(f=0)=>f*i:(f=0)=>c-f*i;return Array.from(n.variantChildren).sort(rL).forEach((f,g)=>{f.notify("AnimationStart",e),l.push(Uy(f,e,{...o,delay:t+h(g)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(l)}function rL(n,e){return n.sortNodePosition(e)}function aL(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const s=e.map(o=>Uy(n,o,t));i=Promise.all(s)}else if(typeof e=="string")i=Uy(n,e,t);else{const s=typeof e=="function"?lh(n,e,t.custom):e;i=Promise.all(AA(n,s,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}function RA(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}const oL=Q_.length;function IA(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?IA(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<oL;t++){const i=Q_[t],s=n.props[i];(rh(s)||s===!1)&&(e[i]=s)}return e}const lL=[...Y_].reverse(),uL=Y_.length;function cL(n){return e=>Promise.all(e.map(({animation:t,options:i})=>aL(n,t,i)))}function hL(n){let e=cL(n),t=Zb(),i=!0;const s=h=>(f,g)=>{var y;const _=lh(n,g,h==="exit"?(y=n.presenceContext)===null||y===void 0?void 0:y.custom:void 0);if(_){const{transition:T,transitionEnd:x,...D}=_;f={...f,...D,...x}}return f};function o(h){e=h(n)}function l(h){const{props:f}=n,g=IA(n.parent)||{},y=[],_=new Set;let T={},x=1/0;for(let j=0;j<uL;j++){const P=lL[j],I=t[P],L=f[P]!==void 0?f[P]:g[P],q=rh(L),H=P===h?I.isActive:null;H===!1&&(x=j);let Z=L===g[P]&&L!==f[P]&&q;if(Z&&i&&n.manuallyAnimateOnMount&&(Z=!1),I.protectedKeys={...T},!I.isActive&&H===null||!L&&!I.prevProp||Qp(L)||typeof L=="boolean")continue;const O=dL(I.prevProp,L);let A=O||P===h&&I.isActive&&!Z&&q||j>x&&q,C=!1;const R=Array.isArray(L)?L:[L];let k=R.reduce(s(P),{});H===!1&&(k={});const{prevResolvedValues:B={}}=I,V={...B,...k},he=de=>{A=!0,_.has(de)&&(C=!0,_.delete(de)),I.needsAnimating[de]=!0;const re=n.getValue(de);re&&(re.liveStyle=!1)};for(const de in V){const re=k[de],ve=B[de];if(T.hasOwnProperty(de))continue;let F=!1;Iy(re)&&Iy(ve)?F=!RA(re,ve):F=re!==ve,F?re!=null?he(de):_.add(de):re!==void 0&&_.has(de)?he(de):I.protectedKeys[de]=!0}I.prevProp=L,I.prevResolvedValues=k,I.isActive&&(T={...T,...k}),i&&n.blockInitialAnimation&&(A=!1),A&&(!(Z&&O)||C)&&y.push(...R.map(de=>({animation:de,options:{type:P}})))}if(_.size){const j={};if(typeof f.initial!="boolean"){const P=lh(n,Array.isArray(f.initial)?f.initial[0]:f.initial);P&&P.transition&&(j.transition=P.transition)}_.forEach(P=>{const I=n.getBaseTarget(P),L=n.getValue(P);L&&(L.liveStyle=!0),j[P]=I??null}),y.push({animation:j})}let D=!!y.length;return i&&(f.initial===!1||f.initial===f.animate)&&!n.manuallyAnimateOnMount&&(D=!1),i=!1,D?e(y):Promise.resolve()}function c(h,f){var g;if(t[h].isActive===f)return Promise.resolve();(g=n.variantChildren)===null||g===void 0||g.forEach(_=>{var T;return(T=_.animationState)===null||T===void 0?void 0:T.setActive(h,f)}),t[h].isActive=f;const y=l(h);for(const _ in t)t[_].protectedKeys={};return y}return{animateChanges:l,setActive:c,setAnimateFunction:o,getState:()=>t,reset:()=>{t=Zb(),i=!0}}}function dL(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!RA(e,n):!1}function lo(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Zb(){return{animate:lo(!0),whileInView:lo(),whileHover:lo(),whileTap:lo(),whileDrag:lo(),whileFocus:lo(),exit:lo()}}class Ca{constructor(e){this.isMounted=!1,this.node=e}update(){}}class fL extends Ca{constructor(e){super(e),e.animationState||(e.animationState=hL(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Qp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let pL=0;class mL extends Ca{constructor(){super(...arguments),this.id=pL++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e);t&&!e&&s.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const gL={animation:{Feature:fL},exit:{Feature:mL}};function hh(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function Oh(n){return{point:{x:n.pageX,y:n.pageY}}}const vL=n=>e=>d0(e)&&n(e,Oh(e));function Rl(n,e,t,i){return hh(n,e,vL(t),i)}function NA({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function yL({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function _L(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}const PA=1e-4,EL=1-PA,wL=1+PA,DA=.01,TL=0-DA,bL=0+DA;function Bn(n){return n.max-n.min}function SL(n,e,t){return Math.abs(n-e)<=t}function Jb(n,e,t,i=.5){n.origin=i,n.originPoint=bt(e.min,e.max,n.origin),n.scale=Bn(t)/Bn(e),n.translate=bt(t.min,t.max,n.origin)-n.originPoint,(n.scale>=EL&&n.scale<=wL||isNaN(n.scale))&&(n.scale=1),(n.translate>=TL&&n.translate<=bL||isNaN(n.translate))&&(n.translate=0)}function Gc(n,e,t,i){Jb(n.x,e.x,t.x,i?i.originX:void 0),Jb(n.y,e.y,t.y,i?i.originY:void 0)}function eS(n,e,t){n.min=t.min+e.min,n.max=n.min+Bn(e)}function xL(n,e,t){eS(n.x,e.x,t.x),eS(n.y,e.y,t.y)}function tS(n,e,t){n.min=e.min-t.min,n.max=n.min+Bn(e)}function $c(n,e,t){tS(n.x,e.x,t.x),tS(n.y,e.y,t.y)}const nS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Il=()=>({x:nS(),y:nS()}),iS=()=>({min:0,max:0}),Vt=()=>({x:iS(),y:iS()});function Si(n){return[n("x"),n("y")]}function Yv(n){return n===void 0||n===1}function By({scale:n,scaleX:e,scaleY:t}){return!Yv(n)||!Yv(e)||!Yv(t)}function uo(n){return By(n)||MA(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function MA(n){return sS(n.x)||sS(n.y)}function sS(n){return n&&n!=="0%"}function rp(n,e,t){const i=n-t,s=e*i;return t+s}function rS(n,e,t,i,s){return s!==void 0&&(n=rp(n,s,i)),rp(n,t,i)+e}function zy(n,e=0,t=1,i,s){n.min=rS(n.min,e,t,i,s),n.max=rS(n.max,e,t,i,s)}function OA(n,{x:e,y:t}){zy(n.x,e.translate,e.scale,e.originPoint),zy(n.y,t.translate,t.scale,t.originPoint)}const aS=.999999999999,oS=1.0000000000001;function CL(n,e,t,i=!1){const s=t.length;if(!s)return;e.x=e.y=1;let o,l;for(let c=0;c<s;c++){o=t[c],l=o.projectionDelta;const{visualElement:h}=o.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Pl(n,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,OA(n,l)),i&&uo(o.latestValues)&&Pl(n,o.latestValues))}e.x<oS&&e.x>aS&&(e.x=1),e.y<oS&&e.y>aS&&(e.y=1)}function Nl(n,e){n.min=n.min+e,n.max=n.max+e}function lS(n,e,t,i,s=.5){const o=bt(n.min,n.max,s);zy(n,e,t,o,i)}function Pl(n,e){lS(n.x,e.x,e.scaleX,e.scale,e.originX),lS(n.y,e.y,e.scaleY,e.scale,e.originY)}function kA(n,e){return NA(_L(n.getBoundingClientRect(),e))}function AL(n,e,t){const i=kA(n,t),{scroll:s}=e;return s&&(Nl(i.x,s.offset.x),Nl(i.y,s.offset.y)),i}const uS=(n,e)=>Math.abs(n-e);function RL(n,e){const t=uS(n.x,e.x),i=uS(n.y,e.y);return Math.sqrt(t**2+i**2)}class LA{constructor(e,t,{transformPagePoint:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Xv(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,_=RL(g.offset,{x:0,y:0})>=3;if(!y&&!_)return;const{point:T}=g,{timestamp:x}=vn;this.history.push({...T,timestamp:x});const{onStart:D,onMove:j}=this.handlers;y||(D&&D(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,g)},this.handlePointerMove=(g,y)=>{if(g.target instanceof Element&&g.target.hasPointerCapture&&g.pointerId!==void 0)try{if(!g.target.hasPointerCapture(g.pointerId))return}catch{}this.lastMoveEvent=g,this.lastMoveEventInfo=Qv(y,this.transformPagePoint),gt.update(this.updatePoint,!0)},this.handlePointerUp=(g,y)=>{tp(g,"release"),this.end();const{onEnd:_,onSessionEnd:T,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=Xv(g.type==="pointercancel"||g.type==="lostpointercapture"?this.lastMoveEventInfo:Qv(y,this.transformPagePoint),this.history);this.startEvent&&_&&_(g,D),T&&T(g,D)},!d0(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=i;const o=Oh(e),l=Qv(o,this.transformPagePoint),{point:c}=l,{timestamp:h}=vn;this.history=[{...c,timestamp:h}];const{onSessionStart:f}=t;f&&f(e,Xv(l,this.history)),tp(e,"set"),this.removeListeners=Mh(Rl(e.currentTarget,"pointermove",this.handlePointerMove),Rl(e.currentTarget,"pointerup",this.handlePointerUp),Rl(e.currentTarget,"pointercancel",this.handlePointerUp),Rl(e.currentTarget,"lostpointercapture",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ma(this.updatePoint)}}function Qv(n,e){return e?{point:e(n.point)}:n}function cS(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Xv({point:n},e){return{point:n,delta:cS(n,VA(e)),offset:cS(n,IL(e)),velocity:NL(e,.1)}}function IL(n){return n[0]}function VA(n){return n[n.length-1]}function NL(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const s=VA(n);for(;t>=0&&(i=n[t],!(s.timestamp-i.timestamp>ar(e)));)t--;if(!i)return{x:0,y:0};const o=or(s.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const l={x:(s.x-i.x)/o,y:(s.y-i.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function PL(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?bt(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?bt(t,n,i.max):Math.min(n,t)),n}function hS(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function DL(n,{top:e,left:t,bottom:i,right:s}){return{x:hS(n.x,t,s),y:hS(n.y,e,i)}}function dS(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function ML(n,e){return{x:dS(n.x,e.x),y:dS(n.y,e.y)}}function OL(n,e){let t=.5;const i=Bn(n),s=Bn(e);return s>i?t=Fl(e.min,e.max-i,n.min):i>s&&(t=Fl(n.min,n.max-s,e.min)),ur(0,1,t)}function kL(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Fy=.35;function LL(n=Fy){return n===!1?n=0:n===!0&&(n=Fy),{x:fS(n,"left","right"),y:fS(n,"top","bottom")}}function fS(n,e,t){return{min:pS(n,e),max:pS(n,t)}}function pS(n,e){return typeof n=="number"?n:n[e]||0}const VL=new WeakMap;class jL{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Vt(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Oh(g).point)},o=(g,y)=>{const{drag:_,dragPropagation:T,onDragStart:x}=this.getProps();if(_&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Nk(_),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Si(j=>{let P=this.getAxisMotionValue(j).get()||0;if(ds.test(P)){const{projection:I}=this.visualElement;if(I&&I.layout){const L=I.layout.layoutBox[j];L&&(P=Bn(L)*(parseFloat(P)/100))}}this.originPoint[j]=P}),x&&gt.postRender(()=>x(g,y)),Dy(this.visualElement,"transform");const{animationState:D}=this.visualElement;D&&D.setActive("whileDrag",!0)},l=(g,y)=>{const{dragPropagation:_,dragDirectionLock:T,onDirectionLock:x,onDrag:D}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:j}=y;if(T&&this.currentDirection===null){this.currentDirection=UL(j),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",y.point,j),this.updateAxis("y",y.point,j),this.visualElement.render(),D&&D(g,y)},c=(g,y)=>this.stop(g,y),h=()=>Si(g=>{var y;return this.getAnimationState(g)==="paused"&&((y=this.getAxisMotionValue(g).animation)===null||y===void 0?void 0:y.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new LA(e,{onSessionStart:s,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=t;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&gt.postRender(()=>o(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:s}=this.getProps();if(!i||!Ef(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(l=PL(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:i}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;t&&Cl(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=DL(s.layoutBox,t):this.constraints=!1,this.elastic=LL(i),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Si(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=kL(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Cl(e))return!1;const i=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=AL(i,s.root,this.visualElement.getTransformPagePoint());let l=ML(s.layout.layoutBox,o);if(t){const c=t(yL(l));this.hasMutatedConstraints=!!c,c&&(l=NA(c))}return l}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:s,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),h=this.constraints||{},f=Si(g=>{if(!Ef(g,t,this.currentDirection))return;let y=h&&h[g]||{};l&&(y={min:0,max:0});const _=s?200:1e6,T=s?40:1e7,x={type:"inertia",velocity:i?e[g]:0,bounceStiffness:_,bounceDamping:T,timeConstant:750,restDelta:1,restSpeed:10,...o,...y};return this.startAxisValueAnimation(g,x)});return Promise.all(f).then(c)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return Dy(this.visualElement,e),i.start(S0(e,i,0,t,this.visualElement,!1))}stopAnimation(){Si(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Si(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),s=i[t];return s||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Si(t=>{const{drag:i}=this.getProps();if(!Ef(t,i,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(t);if(s&&s.layout){const{min:l,max:c}=s.layout.layoutBox[t];o.set(e[t]-bt(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!Cl(t)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Si(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const h=c.get();s[l]=OL({min:h,max:h},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Si(l=>{if(!Ef(l,e,null))return;const c=this.getAxisMotionValue(l),{min:h,max:f}=this.constraints[l];c.set(bt(h,f,s[l]))})}addListeners(){if(!this.visualElement.current)return;VL.set(this.visualElement,this);const e=this.visualElement.current,t=Rl(e,"pointerdown",h=>{const{drag:f,dragListener:g=!0}=this.getProps();f&&g&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();Cl(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),gt.read(i);const l=hh(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f})=>{this.isDragging&&f&&(Si(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=h[g].translate,y.set(y.get()+h[g].translate))}),this.visualElement.render())});return()=>{l(),t(),o(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:l=Fy,dragMomentum:c=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:s,dragConstraints:o,dragElastic:l,dragMomentum:c}}}function Ef(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function UL(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class BL extends Ca{constructor(e){super(e),this.removeGroupControls=si,this.removeListeners=si,this.controls=new jL(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||si}unmount(){this.removeGroupControls(),this.removeListeners()}}const mS=n=>(e,t)=>{n&&gt.postRender(()=>n(e,t))};class zL extends Ca{constructor(){super(...arguments),this.removePointerDownListener=si}onPointerDown(e){this.session=new LA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:mS(e),onStart:mS(t),onMove:i,onEnd:(o,l)=>{delete this.session,s&&gt.postRender(()=>s(o,l))}}}mount(){this.removePointerDownListener=Rl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Vf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function gS(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Nc={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Ce.test(n))n=parseFloat(n);else return n;const t=gS(n,e.target.x),i=gS(n,e.target.y);return`${t}% ${i}%`}},FL={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,s=ga.parse(n);if(s.length>5)return i;const o=ga.createTransformer(n),l=typeof s[0]!="number"?1:0,c=t.x.scale*e.x,h=t.y.scale*e.y;s[0+l]/=c,s[1+l]/=h;const f=bt(c,h,.5);return typeof s[2+l]=="number"&&(s[2+l]/=f),typeof s[3+l]=="number"&&(s[3+l]/=f),o(s)}};class HL extends U.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:s}=this.props,{projection:o}=e;KO(qL),o&&(t.group&&t.group.add(o),i&&i.register&&s&&i.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Vf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:s,isPresent:o}=this.props,l=i.projection;return l&&(l.isPresent=o,s||e.layoutDependency!==t||t===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||gt.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Z_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function jA(n){const[e,t]=SO(),i=U.useContext(wC);return w.jsx(HL,{...n,layoutGroup:i,switchLayoutGroup:U.useContext(IC),isPresent:e,safeToRemove:t})}const qL={borderRadius:{...Nc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Nc,borderTopRightRadius:Nc,borderBottomLeftRadius:Nc,borderBottomRightRadius:Nc,boxShadow:FL};function GL(n,e,t){const i=Dn(n)?n:uh(n);return i.start(S0("",i,e,t)),i.animation}function $L(n){return n instanceof SVGElement&&n.tagName!=="svg"}const KL=(n,e)=>n.depth-e.depth;class WL{constructor(){this.children=[],this.isDirty=!1}add(e){f0(this.children,e),this.isDirty=!0}remove(e){p0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(KL),this.isDirty=!1,this.children.forEach(e)}}function YL(n,e){const t=fs.now(),i=({timestamp:s})=>{const o=s-t;o>=e&&(ma(i),n(o-e))};return gt.read(i,!0),()=>ma(i)}const UA=["TopLeft","TopRight","BottomLeft","BottomRight"],QL=UA.length,vS=n=>typeof n=="string"?parseFloat(n):n,yS=n=>typeof n=="number"||Ce.test(n);function XL(n,e,t,i,s,o){s?(n.opacity=bt(0,t.opacity!==void 0?t.opacity:1,ZL(i)),n.opacityExit=bt(e.opacity!==void 0?e.opacity:1,0,JL(i))):o&&(n.opacity=bt(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,i));for(let l=0;l<QL;l++){const c=`border${UA[l]}Radius`;let h=_S(e,c),f=_S(t,c);if(h===void 0&&f===void 0)continue;h||(h=0),f||(f=0),h===0||f===0||yS(h)===yS(f)?(n[c]=Math.max(bt(vS(h),vS(f),i),0),(ds.test(f)||ds.test(h))&&(n[c]+="%")):n[c]=f}(e.rotate||t.rotate)&&(n.rotate=bt(e.rotate||0,t.rotate||0,i))}function _S(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const ZL=BA(0,.5,sA),JL=BA(.5,.95,si);function BA(n,e,t){return i=>i<n?0:i>e?1:t(Fl(n,e,i))}function ES(n,e){n.min=e.min,n.max=e.max}function bi(n,e){ES(n.x,e.x),ES(n.y,e.y)}function wS(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function TS(n,e,t,i,s){return n-=e,n=rp(n,1/t,i),s!==void 0&&(n=rp(n,1/s,i)),n}function e6(n,e=0,t=1,i=.5,s,o=n,l=n){if(ds.test(e)&&(e=parseFloat(e),e=bt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=bt(o.min,o.max,i);n===o&&(c-=e),n.min=TS(n.min,e,t,c,s),n.max=TS(n.max,e,t,c,s)}function bS(n,e,[t,i,s],o,l){e6(n,e[t],e[i],e[s],e.scale,o,l)}const t6=["x","scaleX","originX"],n6=["y","scaleY","originY"];function SS(n,e,t,i){bS(n.x,e,t6,t?t.x:void 0,i?i.x:void 0),bS(n.y,e,n6,t?t.y:void 0,i?i.y:void 0)}function xS(n){return n.translate===0&&n.scale===1}function zA(n){return xS(n.x)&&xS(n.y)}function CS(n,e){return n.min===e.min&&n.max===e.max}function i6(n,e){return CS(n.x,e.x)&&CS(n.y,e.y)}function AS(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function FA(n,e){return AS(n.x,e.x)&&AS(n.y,e.y)}function RS(n){return Bn(n.x)/Bn(n.y)}function IS(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class s6{constructor(){this.members=[]}add(e){f0(this.members,e),e.scheduleRender()}remove(e){if(p0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(s=>e===s);if(t===0)return!1;let i;for(let s=t;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function r6(n,e,t){let i="";const s=n.x.translate/e.x,o=n.y.translate/e.y,l=(t==null?void 0:t.z)||0;if((s||o||l)&&(i=`translate3d(${s}px, ${o}px, ${l}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:f,rotate:g,rotateX:y,rotateY:_,skewX:T,skewY:x}=t;f&&(i=`perspective(${f}px) ${i}`),g&&(i+=`rotate(${g}deg) `),y&&(i+=`rotateX(${y}deg) `),_&&(i+=`rotateY(${_}deg) `),T&&(i+=`skewX(${T}deg) `),x&&(i+=`skewY(${x}deg) `)}const c=n.x.scale*e.x,h=n.y.scale*e.y;return(c!==1||h!==1)&&(i+=`scale(${c}, ${h})`),i||"none"}const Zv=["","X","Y","Z"],a6={visibility:"hidden"},NS=1e3;let o6=0;function Jv(n,e,t,i){const{latestValues:s}=e;s[n]&&(t[n]=s[n],e.setStaticValue(n,0),i&&(i[n]=0))}function HA(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=XC(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:s,layoutId:o}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",gt,!(s||o))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&HA(i)}function qA({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(l={},c=e==null?void 0:e()){this.id=o6++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(c6),this.nodes.forEach(m6),this.nodes.forEach(g6),this.nodes.forEach(h6)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new WL)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new m0),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const h=this.eventHandlers.get(l);h&&h.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=$L(l),this.instance=l;const{layoutId:h,layout:f,visualElement:g}=this.options;if(g&&!g.current&&g.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(f||h)&&(this.isLayoutDirty=!0),n){let y;const _=()=>this.root.updateBlockedByResize=!1;n(l,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=YL(_,250),Vf.hasAnimatedSinceResize&&(Vf.hasAnimatedSinceResize=!1,this.nodes.forEach(DS))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&g&&(h||f)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:T,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||g.getDefaultTransition()||w6,{onLayoutAnimationStart:j,onLayoutAnimationComplete:P}=g.getProps(),I=!this.targetLayout||!FA(this.targetLayout,x),L=!_&&T;if(this.options.layoutRoot||this.resumeFrom||L||_&&(I||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,L);const q={...u0(D,"layout"),onPlay:j,onComplete:P};(g.shouldReduceMotion||this.options.layoutRoot)&&(q.delay=0,q.type=!1),this.startAnimation(q)}else _||DS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ma(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(v6),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&HA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:c,layout:h}=this.options;if(c===void 0&&!h)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(PS);return}this.isUpdating||this.nodes.forEach(f6),this.isUpdating=!1,this.nodes.forEach(p6),this.nodes.forEach(l6),this.nodes.forEach(u6),this.clearAllSnapshots();const c=fs.now();vn.delta=ur(0,1e3/60,c-vn.timestamp),vn.timestamp=c,vn.isProcessing=!0,qv.update.process(vn),qv.preRender.process(vn),qv.render.process(vn),vn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Z_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(d6),this.sharedNodes.forEach(y6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,gt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){gt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Bn(this.snapshot.measuredBox.x)&&!Bn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Vt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!zA(this.projectionDelta),h=this.getTransformTemplate(),f=h?h(this.latestValues,""):void 0,g=f!==this.prevTransformTemplateValue;l&&(c||uo(this.latestValues)||g)&&(s(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let h=this.removeElementScroll(c);return l&&(h=this.removeTransform(h)),T6(h),{animationId:this.root.animationId,measuredBox:c,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:c}=this.options;if(!c)return Vt();const h=c.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(b6))){const{scroll:g}=this.root;g&&(Nl(h.x,g.offset.x),Nl(h.y,g.offset.y))}return h}removeElementScroll(l){var c;const h=Vt();if(bi(h,l),!((c=this.scroll)===null||c===void 0)&&c.wasRoot)return h;for(let f=0;f<this.path.length;f++){const g=this.path[f],{scroll:y,options:_}=g;g!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&bi(h,l),Nl(h.x,y.offset.x),Nl(h.y,y.offset.y))}return h}applyTransform(l,c=!1){const h=Vt();bi(h,l);for(let f=0;f<this.path.length;f++){const g=this.path[f];!c&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Pl(h,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),uo(g.latestValues)&&Pl(h,g.latestValues)}return uo(this.latestValues)&&Pl(h,this.latestValues),h}removeTransform(l){const c=Vt();bi(c,l);for(let h=0;h<this.path.length;h++){const f=this.path[h];if(!f.instance||!uo(f.latestValues))continue;By(f.latestValues)&&f.updateSnapshot();const g=Vt(),y=f.measurePageBox();bi(g,y),SS(c,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,g)}return uo(this.latestValues)&&SS(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==vn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var c;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(l||f&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!(!this.layout||!(y||_))){if(this.resolvedRelativeTargetAt=vn.timestamp,!this.targetDelta&&!this.relativeTarget){const T=this.getClosestProjectingParent();T&&T.layout&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Vt(),this.relativeTargetOrigin=Vt(),$c(this.relativeTargetOrigin,this.layout.layoutBox,T.layout.layoutBox),bi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Vt(),this.targetWithTransforms=Vt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),xL(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):bi(this.target,this.layout.layoutBox),OA(this.target,this.targetDelta)):bi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const T=this.getClosestProjectingParent();T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Vt(),this.relativeTargetOrigin=Vt(),$c(this.relativeTargetOrigin,this.target,T.target),bi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||By(this.parent.latestValues)||MA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const c=this.getLead(),h=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===vn.timestamp&&(f=!1),f)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;bi(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,T=this.treeScale.y;CL(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Vt());const{target:x}=c;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(wS(this.prevProjectionDelta.x,this.projectionDelta.x),wS(this.prevProjectionDelta.y,this.projectionDelta.y)),Gc(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==T||!IS(this.projectionDelta.x,this.prevProjectionDelta.x)||!IS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)===null||c===void 0||c.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Il(),this.projectionDelta=Il(),this.projectionDeltaWithTransform=Il()}setAnimationOrigin(l,c=!1){const h=this.snapshot,f=h?h.latestValues:{},g={...this.latestValues},y=Il();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const _=Vt(),T=h?h.source:void 0,x=this.layout?this.layout.source:void 0,D=T!==x,j=this.getStack(),P=!j||j.members.length<=1,I=!!(D&&!P&&this.options.crossfade===!0&&!this.path.some(E6));this.animationProgress=0;let L;this.mixTargetDelta=q=>{const H=q/1e3;MS(y.x,l.x,H),MS(y.y,l.y,H),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&($c(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),_6(this.relativeTarget,this.relativeTargetOrigin,_,H),L&&i6(this.relativeTarget,L)&&(this.isProjectionDirty=!1),L||(L=Vt()),bi(L,this.relativeTarget)),D&&(this.animationValues=g,XL(g,f,this.latestValues,H,I,P)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=H},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ma(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=gt.update(()=>{Vf.hasAnimatedSinceResize=!0,this.currentAnimation=GL(0,NS,{...l,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(NS),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:h,layout:f,latestValues:g}=l;if(!(!c||!h||!f)){if(this!==l&&this.layout&&f&&GA(this.options.animationType,this.layout.layoutBox,f.layoutBox)){h=this.target||Vt();const y=Bn(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+y;const _=Bn(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+_}bi(c,h),Pl(c,g),Gc(this.projectionDeltaWithTransform,this.layoutCorrected,c,g)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new s6),this.sharedNodes.get(l).add(c);const f=c.options.initialPromotionConfig;c.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:c}=this.options;return c?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:c}=this.options;return c?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:h}={}){const f=this.getStack();f&&f.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(c=!0),!c)return;const f={};h.z&&Jv("z",l,f,this.animationValues);for(let g=0;g<Zv.length;g++)Jv(`rotate${Zv[g]}`,l,f,this.animationValues),Jv(`skew${Zv[g]}`,l,f,this.animationValues);l.render();for(const g in f)l.setStaticValue(g,f[g]),this.animationValues&&(this.animationValues[g]=f[g]);l.scheduleRender()}getProjectionStyles(l){var c,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return a6;const f={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=kf(l==null?void 0:l.pointerEvents)||"",f.transform=g?g(this.latestValues,""):"none",f;const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){const D={};return this.options.layoutId&&(D.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,D.pointerEvents=kf(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!uo(this.latestValues)&&(D.transform=g?g({},""):"none",this.hasProjected=!1),D}const _=y.animationValues||y.latestValues;this.applyTransformsToTarget(),f.transform=r6(this.projectionDeltaWithTransform,this.treeScale,_),g&&(f.transform=g(_,f.transform));const{x:T,y:x}=this.projectionDelta;f.transformOrigin=`${T.origin*100}% ${x.origin*100}% 0`,y.animationValues?f.opacity=y===this?(h=(c=_.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:_.opacityExit:f.opacity=y===this?_.opacity!==void 0?_.opacity:"":_.opacityExit!==void 0?_.opacityExit:0;for(const D in ah){if(_[D]===void 0)continue;const{correct:j,applyTo:P,isCSSVariable:I}=ah[D],L=f.transform==="none"?_[D]:j(_[D],y);if(P){const q=P.length;for(let H=0;H<q;H++)f[P[H]]=L}else I?this.options.visualElement.renderState.vars[D]=L:f[D]=L}return this.options.layoutId&&(f.pointerEvents=y===this?kf(l==null?void 0:l.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(PS),this.root.sharedNodes.clear()}}}function l6(n){n.updateLayout()}function u6(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=n.layout,{animationType:o}=n.options,l=t.source!==n.layout.source;o==="size"?Si(y=>{const _=l?t.measuredBox[y]:t.layoutBox[y],T=Bn(_);_.min=i[y].min,_.max=_.min+T}):GA(o,t.layoutBox,i)&&Si(y=>{const _=l?t.measuredBox[y]:t.layoutBox[y],T=Bn(i[y]);_.max=_.min+T,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+T)});const c=Il();Gc(c,i,t.layoutBox);const h=Il();l?Gc(h,n.applyTransform(s,!0),t.measuredBox):Gc(h,i,t.layoutBox);const f=!zA(c);let g=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:T}=y;if(_&&T){const x=Vt();$c(x,t.layoutBox,_.layoutBox);const D=Vt();$c(D,i,T.layoutBox),FA(x,D)||(g=!0),y.options.layoutRoot&&(n.relativeTarget=D,n.relativeTargetOrigin=x,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:h,layoutDelta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:g})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function c6(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function h6(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function d6(n){n.clearSnapshot()}function PS(n){n.clearMeasurements()}function f6(n){n.isLayoutDirty=!1}function p6(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function DS(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function m6(n){n.resolveTargetDelta()}function g6(n){n.calcProjection()}function v6(n){n.resetSkewAndRotation()}function y6(n){n.removeLeadSnapshot()}function MS(n,e,t){n.translate=bt(e.translate,0,t),n.scale=bt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function OS(n,e,t,i){n.min=bt(e.min,t.min,i),n.max=bt(e.max,t.max,i)}function _6(n,e,t,i){OS(n.x,e.x,t.x,i),OS(n.y,e.y,t.y,i)}function E6(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const w6={duration:.45,ease:[.4,0,.1,1]},kS=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),LS=kS("applewebkit/")&&!kS("chrome/")?Math.round:si;function VS(n){n.min=LS(n.min),n.max=LS(n.max)}function T6(n){VS(n.x),VS(n.y)}function GA(n,e,t){return n==="position"||n==="preserve-aspect"&&!SL(RS(e),RS(t),.2)}function b6(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const S6=qA({attachResizeListener:(n,e)=>hh(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ey={current:void 0},$A=qA({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!ey.current){const n=new S6({});n.mount(window),n.setOptions({layoutScroll:!0}),ey.current=n}return ey.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),x6={pan:{Feature:zL},drag:{Feature:BL,ProjectionNode:$A,MeasureLayout:jA}};function jS(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const s="onHover"+t,o=i[s];o&&gt.postRender(()=>o(e,Oh(e)))}class C6 extends Ca{mount(){const{current:e}=this.node;e&&(this.unmount=Sk(e,(t,i)=>(jS(this.node,i,"Start"),s=>jS(this.node,s,"End"))))}unmount(){}}class A6 extends Ca{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Mh(hh(this.node.current,"focus",()=>this.onFocus()),hh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function US(n,e,t){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const s="onTap"+(t==="End"?"":t),o=i[s];o&&gt.postRender(()=>o(e,Oh(e)))}class R6 extends Ca{mount(){const{current:e}=this.node;e&&(this.unmount=Rk(e,(t,i)=>(US(this.node,i,"Start"),(s,{success:o})=>US(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Hy=new WeakMap,ty=new WeakMap,I6=n=>{const e=Hy.get(n.target);e&&e(n)},N6=n=>{n.forEach(I6)};function P6({root:n,...e}){const t=n||document;ty.has(t)||ty.set(t,{});const i=ty.get(t),s=JSON.stringify(e);return i[s]||(i[s]=new IntersectionObserver(N6,{root:n,...e})),i[s]}function D6(n,e,t){const i=P6(e);return Hy.set(n,t),i.observe(n),()=>{Hy.delete(n),i.unobserve(n)}}const M6={some:0,all:1};class O6 extends Ca{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:s="some",once:o}=e,l={root:t?t.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:M6[s]},c=h=>{const{isIntersecting:f}=h;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),_=f?g:y;_&&_(h)};return D6(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(k6(e,t))&&this.startObserver()}unmount(){}}function k6({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const L6={inView:{Feature:O6},tap:{Feature:R6},focus:{Feature:A6},hover:{Feature:C6}},V6={layout:{ProjectionNode:$A,MeasureLayout:jA}},qy={current:null},KA={current:!1};function j6(){if(KA.current=!0,!!K_)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>qy.current=n.matches;n.addListener(e),e()}else qy.current=!1}const U6=[...yA,Rn,ga],B6=n=>U6.find(vA(n)),z6=new WeakMap;function F6(n,e,t){for(const i in e){const s=e[i],o=t[i];if(Dn(s))n.addValue(i,s);else if(Dn(o))n.addValue(i,uh(s,{owner:n}));else if(o!==s)if(n.hasValue(i)){const l=n.getValue(i);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=n.getStaticValue(i);n.addValue(i,uh(l!==void 0?l:s,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const BS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class H6{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:o,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=w0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=fs.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,gt.render(this.render,!1,!0))};const{latestValues:h,renderState:f,onUpdate:g}=l;this.onUpdate=g,this.latestValues=h,this.baseTarget={...h},this.initialValues=t.initial?{...h}:{},this.renderState=f,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!o,this.isControllingVariants=Xp(t),this.isVariantNode=AC(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(t,{},this);for(const T in _){const x=_[T];h[T]!==void 0&&Dn(x)&&x.set(h[T],!1)}}mount(e){this.current=e,z6.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),KA.current||j6(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:qy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ma(this.notifyUpdate),ma(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Ao.has(e);i&&this.onBindTransform&&this.onBindTransform();const s=t.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&gt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),o=t.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{s(),o(),l&&l(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Hl){const t=Hl[e];if(!t)continue;const{isEnabled:i,Feature:s}=t;if(!this.features[e]&&s&&i(this.props)&&(this.features[e]=new s(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Vt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<BS.length;i++){const s=BS[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,l=e[o];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=F6(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=uh(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){var i;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(mA(s)||aA(s))?s=parseFloat(s):!B6(s)&&ga.test(t)&&(s=dA(e,t)),this.setBaseTarget(e,Dn(s)?s.get():s)),Dn(s)?s.get():s}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:i}=this.props;let s;if(typeof i=="string"||typeof i=="object"){const l=o0(this.props,i,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);l&&(s=l[e])}if(i&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Dn(o)?o:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new m0),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class WA extends H6{constructor(){super(...arguments),this.KeyframeResolver=_A}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Dn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function q6(n){return window.getComputedStyle(n)}class G6 extends WA{constructor(){super(...arguments),this.type="html",this.renderInstance=jC}readValueFromInstance(e,t){if(Ao.has(t)){const i=E0(t);return i&&i.default||0}else{const i=q6(e),s=(J_(t)?i.getPropertyValue(t):i[t])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:t}){return kA(e,t)}build(e,t,i){n0(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return l0(e,t,i)}}class $6 extends WA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Vt,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&VC(this.current,this.renderState)}}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Ao.has(t)){const i=E0(t);return i&&i.default||0}return t=UC.has(t)?t:X_(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return zC(e,t,i)}onBindTransform(){this.current&&!this.renderState.dimensions&&gt.postRender(this.updateDimensions)}build(e,t,i){r0(e,t,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,i,s){BC(e,t,i,s)}mount(e){this.isSVGTag=a0(e.tagName),super.mount(e)}}const K6=(n,e)=>s0(n)?new $6(e):new G6(e,{allowProjection:n!==U.Fragment}),W6=vk({...gL,...L6,...x6,...V6},K6),zS=MO(W6);function Y6(n){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(n)}function Q6(n){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(n)}var FS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue=function(n,e){if(!n)throw cu(e)},cu=function(n){return new Error("Firebase Database ("+YA.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},X6=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const s=n[t++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[t++];e[i++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[t++],l=n[t++],c=n[t++],h=((s&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const o=n[t++],l=n[t++];e[i++]=String.fromCharCode((s&15)<<12|(o&63)<<6|l&63)}}return e.join("")},x0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const o=n[s],l=s+1<n.length,c=l?n[s+1]:0,h=s+2<n.length,f=h?n[s+2]:0,g=o>>2,y=(o&3)<<4|c>>4;let _=(c&15)<<2|f>>6,T=f&63;h||(T=64,l||(_=64)),i.push(t[g],t[y],t[_],t[T])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(QA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):X6(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const o=t[n.charAt(s++)],c=s<n.length?t[n.charAt(s)]:0;++s;const f=s<n.length?t[n.charAt(s)]:64;++s;const y=s<n.length?t[n.charAt(s)]:64;if(++s,o==null||c==null||f==null||y==null)throw new Z6;const _=o<<2|c>>4;if(i.push(_),f!==64){const T=c<<4&240|f>>2;if(i.push(T),y!==64){const x=f<<6&192|y;i.push(x)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Z6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XA=function(n){const e=QA(n);return x0.encodeByteArray(e,!0)},ap=function(n){return XA(n).replace(/\./g,"")},op=function(n){try{return x0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J6(n){return ZA(void 0,n)}function ZA(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!e5(t)||(n[t]=ZA(n[t],e[t]));return n}function e5(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n5=()=>t5().__FIREBASE_DEFAULTS__,i5=()=>{if(typeof process>"u"||typeof FS>"u")return;const n=FS.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},s5=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&op(n[1]);return e&&JSON.parse(e)},Jp=()=>{try{return n5()||i5()||s5()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},JA=n=>{var e,t;return(t=(e=Jp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},eR=n=>{const e=JA(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},tR=()=>{var n;return(n=Jp())===null||n===void 0?void 0:n.config},nR=n=>{var e;return(e=Jp())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ap(JSON.stringify(t)),ap(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function C0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mn())}function r5(){var n;const e=(n=Jp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function a5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function o5(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function sR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function l5(){const n=Mn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function u5(){return YA.NODE_ADMIN===!0}function c5(){return!r5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function h5(){try{return typeof indexedDB=="object"}catch{return!1}}function d5(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f5="FirebaseError";class gr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=f5,Object.setPrototypeOf(this,gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lh.prototype.create)}}class Lh{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],l=o?p5(o,i):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new gr(s,c,i)}}function p5(n,e){return n.replace(m5,(t,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const m5=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(n){return JSON.parse(n)}function hn(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR=function(n){let e={},t={},i={},s="";try{const o=n.split(".");e=dh(op(o[0])||""),t=dh(op(o[1])||""),s=o[2],i=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:i,signature:s}},g5=function(n){const e=rR(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},v5=function(n){const e=rR(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Gl(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function Gy(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function lp(n,e,t){const i={};for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=e.call(t,n[s],s,n));return i}function up(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const s of t){if(!i.includes(s))return!1;const o=n[s],l=e[s];if(HS(o)&&HS(l)){if(!up(o,l))return!1}else if(o!==l)return!1}for(const s of i)if(!t.includes(s))return!1;return!0}function HS(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function jc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,o]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function Uc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const i=this.W_;if(typeof e=="string")for(let y=0;y<16;y++)i[y]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let y=0;y<16;y++)i[y]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let y=16;y<80;y++){const _=i[y-3]^i[y-8]^i[y-14]^i[y-16];i[y]=(_<<1|_>>>31)&4294967295}let s=this.chain_[0],o=this.chain_[1],l=this.chain_[2],c=this.chain_[3],h=this.chain_[4],f,g;for(let y=0;y<80;y++){y<40?y<20?(f=c^o&(l^c),g=1518500249):(f=o^l^c,g=1859775393):y<60?(f=o&l|c&(o|l),g=2400959708):(f=o^l^c,g=3395469782);const _=(s<<5|s>>>27)+f+h+g+i[y]&4294967295;h=c,c=l,l=(o<<30|o>>>2)&4294967295,o=s,s=_}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const i=t-this.blockSize;let s=0;const o=this.buf_;let l=this.inbuf_;for(;s<t;){if(l===0)for(;s<=i;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(o[l]=e.charCodeAt(s),++l,++s,l===this.blockSize){this.compress_(o),l=0;break}}else for(;s<t;)if(o[l]=e[s],++l,++s,l===this.blockSize){this.compress_(o),l=0;break}}this.inbuf_=l,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=t&255,t/=256;this.compress_(this.buf_);let i=0;for(let s=0;s<5;s++)for(let o=24;o>=0;o-=8)e[i]=this.chain_[s]>>o&255,++i;return e}}function _5(n,e){const t=new E5(n,e);return t.subscribe.bind(t)}class E5{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let s;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");w5(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:i},s.next===void 0&&(s.next=ny),s.error===void 0&&(s.error=ny),s.complete===void 0&&(s.complete=ny);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function w5(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function ny(){}function em(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T5=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);if(s>=55296&&s<=56319){const o=s-55296;i++,ue(i<n.length,"Surrogate pair missing trail surrogate.");const l=n.charCodeAt(i)-56320;s=65536+(o<<10)+l}s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):s<65536?(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},tm=function(n){let e=0;for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,t++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(n){return n&&n._delegate?n._delegate:n}class va{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new kh;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(x5(e))try{this.getOrInitializeService({instanceIdentifier:co})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});i.resolve(o)}catch{}}}}clearInstance(e=co){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=co){return this.instances.has(e)}getOptions(e=co){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);i===c&&l.resolve(s)}return s}onInit(e,t){var i;const s=this.normalizeInstanceIdentifier(t),o=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const s of i)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:S5(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=co){return this.component?this.component.multipleInstances?e:co:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function S5(n){return n===co?void 0:n}function x5(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new b5(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ze||(ze={}));const A5={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},R5=ze.INFO,I5={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},N5=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),s=I5[e];if(s)console[s](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class nm{constructor(e){this.name=e,this._logLevel=R5,this._logHandler=N5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?A5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const P5=(n,e)=>e.some(t=>n instanceof t);let qS,GS;function D5(){return qS||(qS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function M5(){return GS||(GS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const aR=new WeakMap,$y=new WeakMap,oR=new WeakMap,iy=new WeakMap,A0=new WeakMap;function O5(n){const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{t(oa(n.result)),s()},l=()=>{i(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&aR.set(t,n)}).catch(()=>{}),A0.set(e,n),e}function k5(n){if($y.has(n))return;const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{t(),s()},l=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});$y.set(n,e)}let Ky={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return $y.get(n);if(e==="objectStoreNames")return n.objectStoreNames||oR.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return oa(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function L5(n){Ky=n(Ky)}function V5(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(sy(this),e,...t);return oR.set(i,e.sort?e.sort():[e]),oa(i)}:M5().includes(n)?function(...e){return n.apply(sy(this),e),oa(aR.get(this))}:function(...e){return oa(n.apply(sy(this),e))}}function j5(n){return typeof n=="function"?V5(n):(n instanceof IDBTransaction&&k5(n),P5(n,D5())?new Proxy(n,Ky):n)}function oa(n){if(n instanceof IDBRequest)return O5(n);if(iy.has(n))return iy.get(n);const e=j5(n);return e!==n&&(iy.set(n,e),A0.set(e,n)),e}const sy=n=>A0.get(n);function U5(n,e,{blocked:t,upgrade:i,blocking:s,terminated:o}={}){const l=indexedDB.open(n,e),c=oa(l);return i&&l.addEventListener("upgradeneeded",h=>{i(oa(l.result),h.oldVersion,h.newVersion,oa(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),c.then(h=>{o&&h.addEventListener("close",()=>o()),s&&h.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const B5=["get","getKey","getAll","getAllKeys","count"],z5=["put","add","delete","clear"],ry=new Map;function $S(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ry.get(e))return ry.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,s=z5.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(s||B5.includes(t)))return;const o=async function(l,...c){const h=this.transaction(l,s?"readwrite":"readonly");let f=h.store;return i&&(f=f.index(c.shift())),(await Promise.all([f[t](...c),s&&h.done]))[0]};return ry.set(e,o),o}L5(n=>({...n,get:(e,t,i)=>$S(e,t)||n.get(e,t,i),has:(e,t)=>!!$S(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(H5(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function H5(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wy="@firebase/app",KS="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr=new nm("@firebase/app"),q5="@firebase/app-compat",G5="@firebase/analytics-compat",$5="@firebase/analytics",K5="@firebase/app-check-compat",W5="@firebase/app-check",Y5="@firebase/auth",Q5="@firebase/auth-compat",X5="@firebase/database",Z5="@firebase/data-connect",J5="@firebase/database-compat",eV="@firebase/functions",tV="@firebase/functions-compat",nV="@firebase/installations",iV="@firebase/installations-compat",sV="@firebase/messaging",rV="@firebase/messaging-compat",aV="@firebase/performance",oV="@firebase/performance-compat",lV="@firebase/remote-config",uV="@firebase/remote-config-compat",cV="@firebase/storage",hV="@firebase/storage-compat",dV="@firebase/firestore",fV="@firebase/vertexai",pV="@firebase/firestore-compat",mV="firebase",gV="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy="[DEFAULT]",vV={[Wy]:"fire-core",[q5]:"fire-core-compat",[$5]:"fire-analytics",[G5]:"fire-analytics-compat",[W5]:"fire-app-check",[K5]:"fire-app-check-compat",[Y5]:"fire-auth",[Q5]:"fire-auth-compat",[X5]:"fire-rtdb",[Z5]:"fire-data-connect",[J5]:"fire-rtdb-compat",[eV]:"fire-fn",[tV]:"fire-fn-compat",[nV]:"fire-iid",[iV]:"fire-iid-compat",[sV]:"fire-fcm",[rV]:"fire-fcm-compat",[aV]:"fire-perf",[oV]:"fire-perf-compat",[lV]:"fire-rc",[uV]:"fire-rc-compat",[cV]:"fire-gcs",[hV]:"fire-gcs-compat",[dV]:"fire-fst",[pV]:"fire-fst-compat",[fV]:"fire-vertex","fire-js":"fire-js",[mV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp=new Map,yV=new Map,Qy=new Map;function WS(n,e){try{n.container.addComponent(e)}catch(t){cr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function vo(n){const e=n.name;if(Qy.has(e))return cr.debug(`There were multiple attempts to register component ${e}.`),!1;Qy.set(e,n);for(const t of cp.values())WS(t,n);for(const t of yV.values())WS(t,n);return!0}function im(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function xi(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},la=new Lh("app","Firebase",_V);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new va("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw la.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro=gV;function lR(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Yy,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw la.create("bad-app-name",{appName:String(s)});if(t||(t=tR()),!t)throw la.create("no-options");const o=cp.get(s);if(o){if(up(t,o.options)&&up(i,o.config))return o;throw la.create("duplicate-app",{appName:s})}const l=new C5(s);for(const h of Qy.values())l.addComponent(h);const c=new EV(t,i,l);return cp.set(s,c),c}function R0(n=Yy){const e=cp.get(n);if(!e&&n===Yy&&tR())return lR();if(!e)throw la.create("no-app",{appName:n});return e}function ps(n,e,t){var i;let s=(i=vV[n])!==null&&i!==void 0?i:n;t&&(s+=`-${t}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cr.warn(c.join(" "));return}vo(new va(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV="firebase-heartbeat-database",TV=1,fh="firebase-heartbeat-store";let ay=null;function uR(){return ay||(ay=U5(wV,TV,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(fh)}catch(t){console.warn(t)}}}}).catch(n=>{throw la.create("idb-open",{originalErrorMessage:n.message})})),ay}async function bV(n){try{const t=(await uR()).transaction(fh),i=await t.objectStore(fh).get(cR(n));return await t.done,i}catch(e){if(e instanceof gr)cr.warn(e.message);else{const t=la.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});cr.warn(t.message)}}}async function YS(n,e){try{const i=(await uR()).transaction(fh,"readwrite");await i.objectStore(fh).put(e,cR(n)),await i.done}catch(t){if(t instanceof gr)cr.warn(t.message);else{const i=la.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});cr.warn(i.message)}}}function cR(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SV=1024,xV=30;class CV{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new RV(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=QS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>xV){const l=IV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){cr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=QS(),{heartbeatsToSend:i,unsentEntries:s}=AV(this._heartbeatsCache.heartbeats),o=ap(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return cr.warn(t),""}}}function QS(){return new Date().toISOString().substring(0,10)}function AV(n,e=SV){const t=[];let i=n.slice();for(const s of n){const o=t.find(l=>l.agent===s.agent);if(o){if(o.dates.push(s.date),XS(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),XS(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class RV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return h5()?d5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await bV(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return YS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return YS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function XS(n){return ap(JSON.stringify({version:2,heartbeats:n})).length}function IV(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NV(n){vo(new va("platform-logger",e=>new F5(e),"PRIVATE")),vo(new va("heartbeat",e=>new CV(e),"PRIVATE")),ps(Wy,KS,n),ps(Wy,KS,"esm2017"),ps("fire-js","")}NV("");var ZS={};const JS="@firebase/database",ex="1.0.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hR="";function PV(n){hR=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),hn(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:dh(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return xs(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new DV(e)}}catch{}return new MV},po=dR("localStorage"),OV=dR("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol=new nm("@firebase/database"),kV=function(){let n=1;return function(){return n++}}(),fR=function(n){const e=T5(n),t=new y5;t.update(e);const i=t.digest();return x0.encodeByteArray(i)},Vh=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Vh.apply(null,i):typeof i=="object"?e+=hn(i):e+=i,e+=" "}return e};let Kc=null,tx=!0;const LV=function(n,e){ue(!0,"Can't turn on custom loggers persistently."),Ol.logLevel=ze.VERBOSE,Kc=Ol.log.bind(Ol)},_n=function(...n){if(tx===!0&&(tx=!1,Kc===null&&OV.get("logging_enabled")===!0&&LV()),Kc){const e=Vh.apply(null,n);Kc(e)}},jh=function(n){return function(...e){_n(n,...e)}},Xy=function(...n){const e="FIREBASE INTERNAL ERROR: "+Vh(...n);Ol.error(e)},hr=function(...n){const e=`FIREBASE FATAL ERROR: ${Vh(...n)}`;throw Ol.error(e),new Error(e)},zn=function(...n){const e="FIREBASE WARNING: "+Vh(...n);Ol.warn(e)},VV=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&zn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},I0=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},jV=function(n){if(document.readyState==="complete")n();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},$l="[MIN_NAME]",yo="[MAX_NAME]",Io=function(n,e){if(n===e)return 0;if(n===$l||e===yo)return-1;if(e===$l||n===yo)return 1;{const t=nx(n),i=nx(e);return t!==null?i!==null?t-i===0?n.length-e.length:t-i:-1:i!==null?1:n<e?-1:1}},UV=function(n,e){return n===e?0:n<e?-1:1},Pc=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+hn(e))},N0=function(n){if(typeof n!="object"||n===null)return hn(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)i!==0&&(t+=","),t+=hn(e[i]),t+=":",t+=N0(n[e[i]]);return t+="}",t},pR=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let s=0;s<t;s+=e)s+e>t?i.push(n.substring(s,t)):i.push(n.substring(s,s+e));return i};function Tn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const mR=function(n){ue(!I0(n),"Invalid JSON number");const e=11,t=52,i=(1<<e-1)-1;let s,o,l,c,h;n===0?(o=0,l=0,s=1/n===-1/0?1:0):(s=n<0,n=Math.abs(n),n>=Math.pow(2,1-i)?(c=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=c+i,l=Math.round(n*Math.pow(2,t-c)-Math.pow(2,t))):(o=0,l=Math.round(n/Math.pow(2,1-i-t))));const f=[];for(h=t;h;h-=1)f.push(l%2?1:0),l=Math.floor(l/2);for(h=e;h;h-=1)f.push(o%2?1:0),o=Math.floor(o/2);f.push(s?1:0),f.reverse();const g=f.join("");let y="";for(h=0;h<64;h+=8){let _=parseInt(g.substr(h,8),2).toString(16);_.length===1&&(_="0"+_),y=y+_}return y.toLowerCase()},BV=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},zV=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function FV(n,e){let t="Unknown Error";n==="too_big"?t="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?t="Client doesn't have permission to access the desired data.":n==="unavailable"&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}const HV=new RegExp("^-?(0*)\\d{1,10}$"),qV=-2147483648,GV=2147483647,nx=function(n){if(HV.test(n)){const e=Number(n);if(e>=qV&&e<=GV)return e}return null},du=function(n){try{n()}catch(e){setTimeout(()=>{const t=e.stack||"";throw zn("Exception was thrown by user callback.",t),e},Math.floor(0))}},$V=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Wc=function(n,e){const t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,xi(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t==null?void 0:t.getImmediate({optional:!0}),this.appCheck||t==null||t.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){zn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(_n("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',zn(e)}}class jf{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}jf.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="5",gR="v",vR="s",yR="r",_R="f",ER=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,wR="ls",TR="p",Zy="ac",bR="websocket",SR="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e,t,i,s,o=!1,l="",c=!1,h=!1){this.secure=t,this.namespace=i,this.webSocketOnly=s,this.nodeAdmin=o,this.persistenceKey=l,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=po.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&po.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function YV(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function CR(n,e,t){ue(typeof e=="string","typeof type must == string"),ue(typeof t=="object","typeof params must == object");let i;if(e===bR)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===SR)i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);YV(n)&&(t.ns=n.namespace);const s=[];return Tn(t,(o,l)=>{s.push(o+"="+l)}),i+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(){this.counters_={}}incrementCounter(e,t=1){xs(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return J6(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy={},ly={};function D0(n){const e=n.toString();return oy[e]||(oy[e]=new QV),oy[e]}function XV(n,e){const t=n.toString();return ly[t]||(ly[t]=e()),ly[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<i.length;++s)i[s]&&du(()=>{this.onMessage_(i[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix="start",JV="close",e9="pLPCommand",t9="pRTLPCB",AR="id",RR="pw",IR="ser",n9="cb",i9="seg",s9="ts",r9="d",a9="dframe",NR=1870,PR=30,o9=NR-PR,l9=25e3,u9=3e4;class Dl{constructor(e,t,i,s,o,l,c){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.transportSessionId=l,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=jh(e),this.stats_=D0(t),this.urlFn=h=>(this.appCheckToken&&(h[Zy]=this.appCheckToken),CR(t,SR,h))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new ZV(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(u9)),jV(()=>{if(this.isClosed_)return;this.scriptTagHolder=new M0((...o)=>{const[l,c,h,f,g]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,l===ix)this.id=c,this.password=h;else if(l===JV)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+l)},(...o)=>{const[l,c]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(l,c)},()=>{this.onClosed_()},this.urlFn);const i={};i[ix]="t",i[IR]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[n9]=this.scriptTagHolder.uniqueCallbackIdentifier),i[gR]=P0,this.transportSessionId&&(i[vR]=this.transportSessionId),this.lastSessionId&&(i[wR]=this.lastSessionId),this.applicationId&&(i[TR]=this.applicationId),this.appCheckToken&&(i[Zy]=this.appCheckToken),typeof location<"u"&&location.hostname&&ER.test(location.hostname)&&(i[yR]=_R);const s=this.urlFn(i);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Dl.forceAllow_=!0}static forceDisallow(){Dl.forceDisallow_=!0}static isAvailable(){return Dl.forceAllow_?!0:!Dl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!BV()&&!zV()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=hn(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=XA(t),s=pR(i,o9);for(let o=0;o<s.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[o]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const i={};i[a9]="t",i[AR]=e,i[RR]=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=hn(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class M0{constructor(e,t,i,s){this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=kV(),window[e9+this.uniqueCallbackIdentifier]=e,window[t9+this.uniqueCallbackIdentifier]=t,this.myIFrame=M0.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(c){_n("frame writing exception"),c.stack&&_n(c.stack),_n(c)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||_n("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[AR]=this.myID,e[RR]=this.myPW,e[IR]=this.currentSerial;let t=this.urlFn(e),i="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+PR+i.length<=NR;){const l=this.pendingSegs.shift();i=i+"&"+i9+s+"="+l.seg+"&"+s9+s+"="+l.ts+"&"+r9+s+"="+l.d,s++}return t=t+i,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},s=setTimeout(i,Math.floor(l9)),o=()=>{clearTimeout(s),i()};this.addTag(e,o)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{_n("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c9=16384,h9=45e3;let hp=null;typeof MozWebSocket<"u"?hp=MozWebSocket:typeof WebSocket<"u"&&(hp=WebSocket);class Li{constructor(e,t,i,s,o,l,c){this.connId=e,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=jh(this.connId),this.stats_=D0(t),this.connURL=Li.connectionURL_(t,l,c,s,i),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,i,s,o){const l={};return l[gR]=P0,typeof location<"u"&&location.hostname&&ER.test(location.hostname)&&(l[yR]=_R),t&&(l[vR]=t),i&&(l[wR]=i),s&&(l[Zy]=s),o&&(l[TR]=o),CR(e,bR,l)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,po.set("previous_websocket_failure",!0);try{let i;u5(),this.mySock=new hp(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Li.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(t);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&hp!==null&&!Li.forceDisallow_}static previouslyFailed(){return po.isInMemoryStorage||po.get("previous_websocket_failure")===!0}markConnectionHealthy(){po.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const i=dh(t);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ue(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const i=this.extractFrameCount_(t);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const t=hn(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=pR(t,c9);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(h9))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Li.responsesRequiredToBeHealthy=2;Li.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{static get ALL_TRANSPORTS(){return[Dl,Li]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=Li&&Li.isAvailable();let i=t&&!Li.previouslyFailed();if(e.webSocketOnly&&(t||zn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Li];else{const s=this.transports_=[];for(const o of ph.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);ph.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ph.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d9=6e4,f9=5e3,p9=10*1024,m9=100*1024,uy="t",sx="d",g9="s",rx="r",v9="e",ax="o",ox="a",lx="n",ux="p",y9="h";class _9{constructor(e,t,i,s,o,l,c,h,f,g){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=s,this.authToken_=o,this.onMessage_=l,this.onReady_=c,this.onDisconnect_=h,this.onKill_=f,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=jh("c:"+this.id+":"),this.transportManager_=new ph(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=Wc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>m9?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>p9?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(uy in e){const t=e[uy];t===ox?this.upgradeIfSecondaryHealthy_():t===rx?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===ax&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Pc("t",e),i=Pc("d",e);if(t==="c")this.onSecondaryControl_(i);else if(t==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:ux,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:ox,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:lx,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Pc("t",e),i=Pc("d",e);t==="c"?this.onControl_(i):t==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Pc(uy,e);if(sx in e){const i=e[sx];if(t===y9){const s=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(t===lx){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===g9?this.onConnectionShutdown_(i):t===rx?this.onReset_(i):t===v9?Xy("Server Error: "+i):t===ax?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Xy("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),P0!==i&&zn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),Wc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(d9))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Wc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(f9))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:ux,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(po.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{put(e,t,i,s){}merge(e,t,i,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e){this.allowedEvents_=e,this.listeners_={},ue(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let s=0;s<i.length;s++)i[s].callback.apply(i[s].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const s=this.getInitialEvent(e);s&&t.apply(i,s)}off(e,t,i){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let o=0;o<s.length;o++)if(s[o].callback===t&&(!i||i===s[o].context)){s.splice(o,1);return}}validateEventType_(e){ue(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp extends MR{static getInstance(){return new dp}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!C0()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return ue(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx=32,hx=768;class ut{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let i=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[i]=this.pieces_[s],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function st(){return new ut("")}function je(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function ya(n){return n.pieces_.length-n.pieceNum_}function mt(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new ut(n.pieces_,e)}function O0(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function E9(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function mh(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function OR(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new ut(e,0)}function Dt(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof ut)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let s=0;s<i.length;s++)i[s].length>0&&t.push(i[s])}return new ut(t,0)}function Fe(n){return n.pieceNum_>=n.pieces_.length}function Kn(n,e){const t=je(n),i=je(e);if(t===null)return e;if(t===i)return Kn(mt(n),mt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function w9(n,e){const t=mh(n,0),i=mh(e,0);for(let s=0;s<t.length&&s<i.length;s++){const o=Io(t[s],i[s]);if(o!==0)return o}return t.length===i.length?0:t.length<i.length?-1:1}function k0(n,e){if(ya(n)!==ya(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function Ci(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(ya(n)>ya(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class T9{constructor(e,t){this.errorPrefix_=t,this.parts_=mh(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=tm(this.parts_[i]);kR(this)}}function b9(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=tm(e),kR(n)}function S9(n){const e=n.parts_.pop();n.byteLength_-=tm(e),n.parts_.length>0&&(n.byteLength_-=1)}function kR(n){if(n.byteLength_>hx)throw new Error(n.errorPrefix_+"has a key path longer than "+hx+" bytes ("+n.byteLength_+").");if(n.parts_.length>cx)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+cx+") or object contains a cycle "+ho(n))}function ho(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0 extends MR{static getInstance(){return new L0}constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return ue(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc=1e3,x9=60*5*1e3,dx=30*1e3,C9=1.3,A9=3e4,R9="server_kill",fx=3;class lr extends DR{constructor(e,t,i,s,o,l,c,h){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=l,this.appCheckTokenProvider_=c,this.authOverride_=h,this.id=lr.nextPersistentConnectionId_++,this.log_=jh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Dc,this.maxReconnectDelay_=x9,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,h)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");L0.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&dp.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,i){const s=++this.requestNumber_,o={r:s,a:e,b:t};this.log_(hn(o)),ue(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(e){this.initConnection_();const t=new kh,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:l=>{const c=l.d;l.s==="ok"?t.resolve(c):t.reject(c)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),t.promise}listen(e,t,i,s){this.initConnection_();const o=e._queryIdentifier,l=e._path.toString();this.log_("Listen called for "+l+" "+o),this.listens.has(l)||this.listens.set(l,new Map),ue(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ue(!this.listens.get(l).has(o),"listen() called twice for same path/queryId.");const c={onComplete:s,hashFn:t,query:e,tag:i};this.listens.get(l).set(o,c),this.connected_&&this.sendListen_(c)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(i)})}sendListen_(e){const t=e.query,i=t._path.toString(),s=t._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i},l="q";e.tag&&(o.q=t._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(l,o,c=>{const h=c.d,f=c.s;lr.warnOnListenWarnings_(h,t),(this.listens.get(i)&&this.listens.get(i).get(s))===e&&(this.log_("listen response",c),f!=="ok"&&this.removeListen_(i,s),e.onComplete&&e.onComplete(f,h))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&xs(e,"w")){const i=Gl(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+t._queryParams.getIndex().toString()+'"',o=t._path.toString();zn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||v5(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=dx)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=g5(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(t,i,s=>{const o=s.s,l=s.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,l))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,i=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,i)})}unlisten(e,t){const i=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),ue(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,e._queryObject,t)}sendUnlisten_(e,t,i,s){this.log_("Unlisten on "+e+" for "+t);const o={p:e},l="n";s&&(o.q=i,o.t=s),this.sendRequest(l,o)}onDisconnectPut(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:i})}onDisconnectMerge(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:i})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,i,s){const o={p:t,d:i};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,l=>{s&&setTimeout(()=>{s(l.s,l.d)},Math.floor(0))})}put(e,t,i,s){this.putInternal("p",e,t,i,s)}merge(e,t,i,s){this.putInternal("m",e,t,i,s)}putInternal(e,t,i,s,o){this.initConnection_();const l={p:t,d:i};o!==void 0&&(l.h=o),this.outstandingPuts_.push({action:e,request:l,onComplete:s}),this.outstandingPutCount_++;const c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,i,o=>{this.log_(t+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,i=>{if(i.s!=="ok"){const o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+hn(e));const t=e.r,i=this.requestCBHash_[t];i&&(delete this.requestCBHash_[t],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):Xy("Unrecognized action received from server: "+hn(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ue(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Dc,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Dc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>A9&&(this.reconnectDelay_=Dc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*C9)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+lr.nextConnectionId_++,o=this.lastSessionId;let l=!1,c=null;const h=function(){c?c.close():(l=!0,i())},f=function(y){ue(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(y)};this.realtime_={close:h,sendRequest:f};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,_]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);l?_n("getToken() completed but was canceled"):(_n("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=_&&_.token,c=new _9(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,i,T=>{zn(T+" ("+this.repoInfo_.toString()+")"),this.interrupt(R9)},o))}catch(y){this.log_("Failed to get token: "+y),l||(this.repoInfo_.nodeAdmin&&zn(y),h())}}}interrupt(e){_n("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){_n("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Gy(this.interruptReasons_)&&(this.reconnectDelay_=Dc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let i;t?i=t.map(o=>N0(o)).join("$"):i="default";const s=this.removeListen_(e,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,t){const i=new ut(e).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(t),o.delete(t),o.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(e,t){_n("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=fx&&(this.reconnectDelay_=dx,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){_n("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=fx&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+hR.replace(/\./g,"-")]=1,C0()?e["framework.cordova"]=1:sR()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=dp.getInstance().currentlyOnline();return Gy(this.interruptReasons_)&&e}}lr.nextPersistentConnectionId_=0;lr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Ue(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new Ue($l,e),s=new Ue($l,t);return this.compare(i,s)!==0}minPost(){return Ue.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wf;class LR extends sm{static get __EMPTY_NODE(){return wf}static set __EMPTY_NODE(e){wf=e}compare(e,t){return Io(e.name,t.name)}isDefinedOn(e){throw cu("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Ue.MIN}maxPost(){return new Ue(yo,wf)}makePost(e,t){return ue(typeof e=="string","KeyIndex indexValue must always be a string."),new Ue(e,wf)}toString(){return".key"}}const kl=new LR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tf=class{constructor(e,t,i,s,o=null){this.isReverse_=s,this.resultGenerator_=o,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(e=e,l=t?i(e.key,t):1,s&&(l*=-1),l<0)this.isReverse_?e=e.left:e=e.right;else if(l===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},ti=class Bc{constructor(e,t,i,s,o){this.key=e,this.value=t,this.color=i??Bc.RED,this.left=s??cs.EMPTY_NODE,this.right=o??cs.EMPTY_NODE}copy(e,t,i,s,o){return new Bc(e??this.key,t??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const o=i(e,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(e,t,i),null):o===0?s=s.copy(null,t,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return cs.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let i,s;if(i=this,t(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),t(e,i.key)===0){if(i.right.isEmpty())return cs.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Bc.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Bc.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}};ti.RED=!0;ti.BLACK=!1;class I9{copy(e,t,i,s,o){return this}insert(e,t,i){return new ti(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}let cs=class Uf{constructor(e,t=Uf.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Uf(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,ti.BLACK,null,null))}remove(e){return new Uf(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ti.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),t===0)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,s=null;for(;!i.isEmpty();)if(t=this.comparator_(e,i.key),t===0){if(i.left.isEmpty())return s?s.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else t<0?i=i.left:t>0&&(s=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Tf(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Tf(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Tf(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Tf(this.root_,null,this.comparator_,!0,e)}};cs.EMPTY_NODE=new I9;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N9(n,e){return Io(n.name,e.name)}function V0(n,e){return Io(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jy;function P9(n){Jy=n}const VR=function(n){return typeof n=="number"?"number:"+mR(n):"string:"+n},jR=function(n){if(n.isLeafNode()){const e=n.val();ue(typeof e=="string"||typeof e=="number"||typeof e=="object"&&xs(e,".sv"),"Priority must be a string or number.")}else ue(n===Jy||n.isEmpty(),"priority of unexpected type.");ue(n===Jy||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let px;class ln{static set __childrenNodeConstructor(e){px=e}static get __childrenNodeConstructor(){return px}constructor(e,t=ln.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,ue(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),jR(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ln(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:ln.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Fe(e)?this:je(e)===".priority"?this.priorityNode_:ln.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:ln.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const i=je(e);return i===null?t:t.isEmpty()&&i!==".priority"?this:(ue(i!==".priority"||ya(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,ln.__childrenNodeConstructor.EMPTY_NODE.updateChild(mt(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+VR(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=mR(this.value_):e+=this.value_,this.lazyHash_=fR(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ln.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ln.__childrenNodeConstructor?-1:(ue(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,i=typeof this.value_,s=ln.VALUE_TYPE_ORDER.indexOf(t),o=ln.VALUE_TYPE_ORDER.indexOf(i);return ue(s>=0,"Unknown leaf type: "+t),ue(o>=0,"Unknown leaf type: "+i),s===o?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}ln.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let UR,BR;function D9(n){UR=n}function M9(n){BR=n}class O9 extends sm{compare(e,t){const i=e.node.getPriority(),s=t.node.getPriority(),o=i.compareTo(s);return o===0?Io(e.name,t.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Ue.MIN}maxPost(){return new Ue(yo,new ln("[PRIORITY-POST]",BR))}makePost(e,t){const i=UR(e);return new Ue(t,new ln("[PRIORITY-POST]",i))}toString(){return".priority"}}const Mt=new O9;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k9=Math.log(2);class L9{constructor(e){const t=o=>parseInt(Math.log(o)/k9,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const s=i(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const fp=function(n,e,t,i){n.sort(e);const s=function(h,f){const g=f-h;let y,_;if(g===0)return null;if(g===1)return y=n[h],_=t?t(y):y,new ti(_,y.node,ti.BLACK,null,null);{const T=parseInt(g/2,10)+h,x=s(h,T),D=s(T+1,f);return y=n[T],_=t?t(y):y,new ti(_,y.node,ti.BLACK,x,D)}},o=function(h){let f=null,g=null,y=n.length;const _=function(x,D){const j=y-x,P=y;y-=x;const I=s(j+1,P),L=n[j],q=t?t(L):L;T(new ti(q,L.node,D,null,I))},T=function(x){f?(f.left=x,f=x):(g=x,f=x)};for(let x=0;x<h.count;++x){const D=h.nextBitIsOne(),j=Math.pow(2,h.count-(x+1));D?_(j,ti.BLACK):(_(j,ti.BLACK),_(j,ti.RED))}return g},l=new L9(n.length),c=o(l);return new cs(i||e,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cy;const wl={};class er{static get Default(){return ue(wl&&Mt,"ChildrenNode.ts has not been loaded"),cy=cy||new er({".priority":wl},{".priority":Mt}),cy}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=Gl(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof cs?t:null}hasIndex(e){return xs(this.indexSet_,e.toString())}addIndex(e,t){ue(e!==kl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let s=!1;const o=t.getIterator(Ue.Wrap);let l=o.getNext();for(;l;)s=s||e.isDefinedOn(l.node),i.push(l),l=o.getNext();let c;s?c=fp(i,e.getCompare()):c=wl;const h=e.toString(),f=Object.assign({},this.indexSet_);f[h]=e;const g=Object.assign({},this.indexes_);return g[h]=c,new er(g,f)}addToIndexes(e,t){const i=lp(this.indexes_,(s,o)=>{const l=Gl(this.indexSet_,o);if(ue(l,"Missing index implementation for "+o),s===wl)if(l.isDefinedOn(e.node)){const c=[],h=t.getIterator(Ue.Wrap);let f=h.getNext();for(;f;)f.name!==e.name&&c.push(f),f=h.getNext();return c.push(e),fp(c,l.getCompare())}else return wl;else{const c=t.get(e.name);let h=s;return c&&(h=h.remove(new Ue(e.name,c))),h.insert(e,e.node)}});return new er(i,this.indexSet_)}removeFromIndexes(e,t){const i=lp(this.indexes_,s=>{if(s===wl)return s;{const o=t.get(e.name);return o?s.remove(new Ue(e.name,o)):s}});return new er(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mc;class Re{static get EMPTY_NODE(){return Mc||(Mc=new Re(new cs(V0),null,er.Default))}constructor(e,t,i){this.children_=e,this.priorityNode_=t,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&jR(this.priorityNode_),this.children_.isEmpty()&&ue(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Mc}updatePriority(e){return this.children_.isEmpty()?this:new Re(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?Mc:t}}getChild(e){const t=je(e);return t===null?this:this.getImmediateChild(t).getChild(mt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(ue(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const i=new Ue(e,t);let s,o;t.isEmpty()?(s=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(e,t),o=this.indexMap_.addToIndexes(i,this.children_));const l=s.isEmpty()?Mc:this.priorityNode_;return new Re(s,l,o)}}updateChild(e,t){const i=je(e);if(i===null)return t;{ue(je(e)!==".priority"||ya(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(mt(e),t);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let i=0,s=0,o=!0;if(this.forEachChild(Mt,(l,c)=>{t[l]=c.val(e),i++,o&&Re.INTEGER_REGEXP_.test(l)?s=Math.max(s,Number(l)):o=!1}),!e&&o&&s<2*i){const l=[];for(const c in t)l[c]=t[c];return l}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+VR(this.getPriority().val())+":"),this.forEachChild(Mt,(t,i)=>{const s=i.hash();s!==""&&(e+=":"+t+":"+s)}),this.lazyHash_=e===""?"":fR(e)}return this.lazyHash_}getPredecessorChildName(e,t,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new Ue(e,t));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new Ue(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new Ue(t,this.children_.get(t)):null}forEachChild(e,t){const i=this.resolveIndex_(e);return i?i.inorderTraversal(s=>t(s.name,s.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,Ue.Wrap);let o=s.peek();for(;o!=null&&t.compare(o,e)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,Ue.Wrap);let o=s.peek();for(;o!=null&&t.compare(o,e)>0;)s.getNext(),o=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Uh?-1:0}withIndex(e){if(e===kl||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Re(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===kl||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const i=this.getIterator(Mt),s=t.getIterator(Mt);let o=i.getNext(),l=s.getNext();for(;o&&l;){if(o.name!==l.name||!o.node.equals(l.node))return!1;o=i.getNext(),l=s.getNext()}return o===null&&l===null}else return!1;else return!1}}resolveIndex_(e){return e===kl?null:this.indexMap_.get(e.toString())}}Re.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class V9 extends Re{constructor(){super(new cs(V0),Re.EMPTY_NODE,er.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Re.EMPTY_NODE}isEmpty(){return!1}}const Uh=new V9;Object.defineProperties(Ue,{MIN:{value:new Ue($l,Re.EMPTY_NODE)},MAX:{value:new Ue(yo,Uh)}});LR.__EMPTY_NODE=Re.EMPTY_NODE;ln.__childrenNodeConstructor=Re;P9(Uh);M9(Uh);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j9=!0;function cn(n,e=null){if(n===null)return Re.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),ue(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const t=n;return new ln(t,cn(e))}if(!(n instanceof Array)&&j9){const t=[];let i=!1;if(Tn(n,(l,c)=>{if(l.substring(0,1)!=="."){const h=cn(c);h.isEmpty()||(i=i||!h.getPriority().isEmpty(),t.push(new Ue(l,h)))}}),t.length===0)return Re.EMPTY_NODE;const o=fp(t,N9,l=>l.name,V0);if(i){const l=fp(t,Mt.getCompare());return new Re(o,cn(e),new er({".priority":l},{".priority":Mt}))}else return new Re(o,cn(e),er.Default)}else{let t=Re.EMPTY_NODE;return Tn(n,(i,s)=>{if(xs(n,i)&&i.substring(0,1)!=="."){const o=cn(s);(o.isLeafNode()||!o.isEmpty())&&(t=t.updateImmediateChild(i,o))}}),t.updatePriority(cn(e))}}D9(cn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9 extends sm{constructor(e){super(),this.indexPath_=e,ue(!Fe(e)&&je(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),s=this.extractChild(t.node),o=i.compareTo(s);return o===0?Io(e.name,t.name):o}makePost(e,t){const i=cn(e),s=Re.EMPTY_NODE.updateChild(this.indexPath_,i);return new Ue(t,s)}maxPost(){const e=Re.EMPTY_NODE.updateChild(this.indexPath_,Uh);return new Ue(yo,e)}toString(){return mh(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9 extends sm{compare(e,t){const i=e.node.compareTo(t.node);return i===0?Io(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Ue.MIN}maxPost(){return Ue.MAX}makePost(e,t){const i=cn(e);return new Ue(t,i)}toString(){return".value"}}const z9=new B9;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(n){return{type:"value",snapshotNode:n}}function Kl(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function gh(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function vh(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function F9(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e){this.index_=e}updateChild(e,t,i,s,o,l){ue(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const c=e.getImmediateChild(t);return c.getChild(s).equals(i.getChild(s))&&c.isEmpty()===i.isEmpty()||(l!=null&&(i.isEmpty()?e.hasChild(t)?l.trackChildChange(gh(t,c)):ue(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?l.trackChildChange(Kl(t,i)):l.trackChildChange(vh(t,i,c))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return i!=null&&(e.isLeafNode()||e.forEachChild(Mt,(s,o)=>{t.hasChild(s)||i.trackChildChange(gh(s,o))}),t.isLeafNode()||t.forEachChild(Mt,(s,o)=>{if(e.hasChild(s)){const l=e.getImmediateChild(s);l.equals(o)||i.trackChildChange(vh(s,o,l))}else i.trackChildChange(Kl(s,o))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Re.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e){this.indexedFilter_=new j0(e.getIndex()),this.index_=e.getIndex(),this.startPost_=yh.getStartPost_(e),this.endPost_=yh.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&i}updateChild(e,t,i,s,o,l){return this.matches(new Ue(t,i))||(i=Re.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,s,o,l)}updateFullNode(e,t,i){t.isLeafNode()&&(t=Re.EMPTY_NODE);let s=t.withIndex(this.index_);s=s.updatePriority(Re.EMPTY_NODE);const o=this;return t.forEachChild(Mt,(l,c)=>{o.matches(new Ue(l,c))||(s=s.updateImmediateChild(l,Re.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{const i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new yh(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,i,s,o,l){return this.rangedFilter_.matches(new Ue(t,i))||(i=Re.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,s,o,l):this.fullLimitUpdateChild_(e,t,i,o,l)}updateFullNode(e,t,i){let s;if(t.isLeafNode()||t.isEmpty())s=Re.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<t.numChildren()&&t.isIndexed(this.index_)){s=Re.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;o.hasNext()&&l<this.limit_;){const c=o.getNext();if(this.withinDirectionalStart(c))if(this.withinDirectionalEnd(c))s=s.updateImmediateChild(c.name,c.node),l++;else break;else continue}}else{s=t.withIndex(this.index_),s=s.updatePriority(Re.EMPTY_NODE);let o;this.reverse_?o=s.getReverseIterator(this.index_):o=s.getIterator(this.index_);let l=0;for(;o.hasNext();){const c=o.getNext();l<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?l++:s=s.updateImmediateChild(c.name,Re.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,s,o){let l;if(this.reverse_){const y=this.index_.getCompare();l=(_,T)=>y(T,_)}else l=this.index_.getCompare();const c=e;ue(c.numChildren()===this.limit_,"");const h=new Ue(t,i),f=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),g=this.rangedFilter_.matches(h);if(c.hasChild(t)){const y=c.getImmediateChild(t);let _=s.getChildAfterChild(this.index_,f,this.reverse_);for(;_!=null&&(_.name===t||c.hasChild(_.name));)_=s.getChildAfterChild(this.index_,_,this.reverse_);const T=_==null?1:l(_,h);if(g&&!i.isEmpty()&&T>=0)return o!=null&&o.trackChildChange(vh(t,i,y)),c.updateImmediateChild(t,i);{o!=null&&o.trackChildChange(gh(t,y));const D=c.updateImmediateChild(t,Re.EMPTY_NODE);return _!=null&&this.rangedFilter_.matches(_)?(o!=null&&o.trackChildChange(Kl(_.name,_.node)),D.updateImmediateChild(_.name,_.node)):D}}else return i.isEmpty()?e:g&&l(f,h)>=0?(o!=null&&(o.trackChildChange(gh(f.name,f.node)),o.trackChildChange(Kl(t,i))),c.updateImmediateChild(t,i).updateImmediateChild(f.name,Re.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Mt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ue(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ue(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:$l}hasEnd(){return this.endSet_}getIndexEndValue(){return ue(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ue(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:yo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ue(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Mt}copy(){const e=new U0;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function q9(n){return n.loadsAllData()?new j0(n.getIndex()):n.hasLimit()?new H9(n):new yh(n)}function mx(n){const e={};if(n.isDefault())return e;let t;if(n.index_===Mt?t="$priority":n.index_===z9?t="$value":n.index_===kl?t="$key":(ue(n.index_ instanceof U9,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=hn(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=hn(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+hn(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=hn(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+hn(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function gx(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==Mt&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp extends DR{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(ue(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,i,s){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.log_=jh("p:rest:"),this.listens_={}}listen(e,t,i,s){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const l=pp.getListenId_(e,i),c={};this.listens_[l]=c;const h=mx(e._queryParams);this.restRequest_(o+".json",h,(f,g)=>{let y=g;if(f===404&&(y=null,f=null),f===null&&this.onDataUpdate_(o,y,!1,i),Gl(this.listens_,l)===c){let _;f?f===401?_="permission_denied":_="rest_error:"+f:_="ok",s(_,null)}})}unlisten(e,t){const i=pp.getListenId_(e,t);delete this.listens_[i]}get(e){const t=mx(e._queryParams),i=e._path.toString(),s=new kh;return this.restRequest_(i+".json",t,(o,l)=>{let c=l;o===404&&(c=null,o=null),o===null?(this.onDataUpdate_(i,c,!1,null),s.resolve(c)):s.reject(new Error(c))}),s.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,o])=>{s&&s.accessToken&&(t.auth=s.accessToken),o&&o.token&&(t.ac=o.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+hu(t);this.log_("Sending REST request for "+l);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(i&&c.readyState===4){this.log_("REST Response for "+l+" received. status:",c.status,"response:",c.responseText);let h=null;if(c.status>=200&&c.status<300){try{h=dh(c.responseText)}catch{zn("Failed to parse JSON response for "+l+": "+c.responseText)}i(null,h)}else c.status!==401&&c.status!==404&&zn("Got unsuccessful REST response for "+l+" Status: "+c.status),i(c.status);i=null}},c.open("GET",l,!0),c.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{constructor(){this.rootNode_=Re.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(){return{value:null,children:new Map}}function FR(n,e,t){if(Fe(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{const i=je(e);n.children.has(i)||n.children.set(i,mp());const s=n.children.get(i);e=mt(e),FR(s,e,t)}}function e_(n,e,t){n.value!==null?t(e,n.value):$9(n,(i,s)=>{const o=new ut(e.toString()+"/"+i);e_(s,o,t)})}function $9(n,e){n.children.forEach((t,i)=>{e(i,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K9{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Tn(this.last_,(i,s)=>{t[i]=t[i]-s}),this.last_=e,t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx=10*1e3,W9=30*1e3,Y9=5*60*1e3;class Q9{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new K9(e);const i=vx+(W9-vx)*Math.random();Wc(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;Tn(e,(s,o)=>{o>0&&xs(this.statsToReport_,s)&&(t[s]=o,i=!0)}),i&&this.server_.reportStats(t),Wc(this.reportStats_.bind(this),Math.floor(Math.random()*2*Y9))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vi;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Vi||(Vi={}));function B0(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function z0(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function F0(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=Vi.ACK_USER_WRITE,this.source=B0()}operationForChild(e){if(Fe(this.path)){if(this.affectedTree.value!=null)return ue(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new ut(e));return new gp(st(),t,this.revert)}}else return ue(je(this.path)===e,"operationForChild called for unrelated child."),new gp(mt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,t){this.source=e,this.path=t,this.type=Vi.LISTEN_COMPLETE}operationForChild(e){return Fe(this.path)?new _h(this.source,st()):new _h(this.source,mt(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=Vi.OVERWRITE}operationForChild(e){return Fe(this.path)?new _o(this.source,st(),this.snap.getImmediateChild(e)):new _o(this.source,mt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=Vi.MERGE}operationForChild(e){if(Fe(this.path)){const t=this.children.subtree(new ut(e));return t.isEmpty()?null:t.value?new _o(this.source,st(),t.value):new Wl(this.source,st(),t)}else return ue(je(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Wl(this.source,mt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Fe(e))return this.isFullyInitialized()&&!this.filtered_;const t=je(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X9{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Z9(n,e,t,i){const s=[],o=[];return e.forEach(l=>{l.type==="child_changed"&&n.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&o.push(F9(l.childName,l.snapshotNode))}),Oc(n,s,"child_removed",e,i,t),Oc(n,s,"child_added",e,i,t),Oc(n,s,"child_moved",o,i,t),Oc(n,s,"child_changed",e,i,t),Oc(n,s,"value",e,i,t),s}function Oc(n,e,t,i,s,o){const l=i.filter(c=>c.type===t);l.sort((c,h)=>ej(n,c,h)),l.forEach(c=>{const h=J9(n,c,o);s.forEach(f=>{f.respondsTo(c.type)&&e.push(f.createEvent(h,n.query_))})})}function J9(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function ej(n,e,t){if(e.childName==null||t.childName==null)throw cu("Should only compare child_ events.");const i=new Ue(e.childName,e.snapshotNode),s=new Ue(t.childName,t.snapshotNode);return n.index_.compare(i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(n,e){return{eventCache:n,serverCache:e}}function Yc(n,e,t,i){return rm(new Eo(e,t,i),n.serverCache)}function HR(n,e,t,i){return rm(n.eventCache,new Eo(e,t,i))}function t_(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function wo(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hy;const tj=()=>(hy||(hy=new cs(UV)),hy);class pt{static fromObject(e){let t=new pt(null);return Tn(e,(i,s)=>{t=t.set(new ut(i),s)}),t}constructor(e,t=tj()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:st(),value:this.value};if(Fe(e))return null;{const i=je(e),s=this.children.get(i);if(s!==null){const o=s.findRootMostMatchingPathAndValue(mt(e),t);return o!=null?{path:Dt(new ut(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Fe(e))return this;{const t=je(e),i=this.children.get(t);return i!==null?i.subtree(mt(e)):new pt(null)}}set(e,t){if(Fe(e))return new pt(t,this.children);{const i=je(e),o=(this.children.get(i)||new pt(null)).set(mt(e),t),l=this.children.insert(i,o);return new pt(this.value,l)}}remove(e){if(Fe(e))return this.children.isEmpty()?new pt(null):new pt(null,this.children);{const t=je(e),i=this.children.get(t);if(i){const s=i.remove(mt(e));let o;return s.isEmpty()?o=this.children.remove(t):o=this.children.insert(t,s),this.value===null&&o.isEmpty()?new pt(null):new pt(this.value,o)}else return this}}get(e){if(Fe(e))return this.value;{const t=je(e),i=this.children.get(t);return i?i.get(mt(e)):null}}setTree(e,t){if(Fe(e))return t;{const i=je(e),o=(this.children.get(i)||new pt(null)).setTree(mt(e),t);let l;return o.isEmpty()?l=this.children.remove(i):l=this.children.insert(i,o),new pt(this.value,l)}}fold(e){return this.fold_(st(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((s,o)=>{i[s]=o.fold_(Dt(e,s),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,st(),t)}findOnPath_(e,t,i){const s=this.value?i(t,this.value):!1;if(s)return s;if(Fe(e))return null;{const o=je(e),l=this.children.get(o);return l?l.findOnPath_(mt(e),Dt(t,o),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,st(),t)}foreachOnPath_(e,t,i){if(Fe(e))return this;{this.value&&i(t,this.value);const s=je(e),o=this.children.get(s);return o?o.foreachOnPath_(mt(e),Dt(t,s),i):new pt(null)}}foreach(e){this.foreach_(st(),e)}foreach_(e,t){this.children.inorderTraversal((i,s)=>{s.foreach_(Dt(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e){this.writeTree_=e}static empty(){return new ji(new pt(null))}}function Qc(n,e,t){if(Fe(e))return new ji(new pt(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(i!=null){const s=i.path;let o=i.value;const l=Kn(s,e);return o=o.updateChild(l,t),new ji(n.writeTree_.set(s,o))}else{const s=new pt(t),o=n.writeTree_.setTree(e,s);return new ji(o)}}}function n_(n,e,t){let i=n;return Tn(t,(s,o)=>{i=Qc(i,Dt(e,s),o)}),i}function yx(n,e){if(Fe(e))return ji.empty();{const t=n.writeTree_.setTree(e,new pt(null));return new ji(t)}}function i_(n,e){return No(n,e)!=null}function No(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(Kn(t.path,e)):null}function _x(n){const e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(Mt,(i,s)=>{e.push(new Ue(i,s))}):n.writeTree_.children.inorderTraversal((i,s)=>{s.value!=null&&e.push(new Ue(i,s.value))}),e}function ua(n,e){if(Fe(e))return n;{const t=No(n,e);return t!=null?new ji(new pt(t)):new ji(n.writeTree_.subtree(e))}}function s_(n){return n.writeTree_.isEmpty()}function Yl(n,e){return qR(st(),n.writeTree_,e)}function qR(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((s,o)=>{s===".priority"?(ue(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):t=qR(Dt(n,s),o,t)}),!t.getChild(n).isEmpty()&&i!==null&&(t=t.updateChild(Dt(n,".priority"),i)),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(n,e){return WR(e,n)}function nj(n,e,t,i,s){ue(i>n.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:s}),s&&(n.visibleWrites=Qc(n.visibleWrites,e,t)),n.lastWriteId=i}function ij(n,e,t,i){ue(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:i,visible:!0}),n.visibleWrites=n_(n.visibleWrites,e,t),n.lastWriteId=i}function sj(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}function rj(n,e){const t=n.allWrites.findIndex(c=>c.writeId===e);ue(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let s=i.visible,o=!1,l=n.allWrites.length-1;for(;s&&l>=0;){const c=n.allWrites[l];c.visible&&(l>=t&&aj(c,i.path)?s=!1:Ci(i.path,c.path)&&(o=!0)),l--}if(s){if(o)return oj(n),!0;if(i.snap)n.visibleWrites=yx(n.visibleWrites,i.path);else{const c=i.children;Tn(c,h=>{n.visibleWrites=yx(n.visibleWrites,Dt(i.path,h))})}return!0}else return!1}function aj(n,e){if(n.snap)return Ci(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Ci(Dt(n.path,t),e))return!0;return!1}function oj(n){n.visibleWrites=GR(n.allWrites,lj,st()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function lj(n){return n.visible}function GR(n,e,t){let i=ji.empty();for(let s=0;s<n.length;++s){const o=n[s];if(e(o)){const l=o.path;let c;if(o.snap)Ci(t,l)?(c=Kn(t,l),i=Qc(i,c,o.snap)):Ci(l,t)&&(c=Kn(l,t),i=Qc(i,st(),o.snap.getChild(c)));else if(o.children){if(Ci(t,l))c=Kn(t,l),i=n_(i,c,o.children);else if(Ci(l,t))if(c=Kn(l,t),Fe(c))i=n_(i,st(),o.children);else{const h=Gl(o.children,je(c));if(h){const f=h.getChild(mt(c));i=Qc(i,st(),f)}}}else throw cu("WriteRecord should have .snap or .children")}}return i}function $R(n,e,t,i,s){if(!i&&!s){const o=No(n.visibleWrites,e);if(o!=null)return o;{const l=ua(n.visibleWrites,e);if(s_(l))return t;if(t==null&&!i_(l,st()))return null;{const c=t||Re.EMPTY_NODE;return Yl(l,c)}}}else{const o=ua(n.visibleWrites,e);if(!s&&s_(o))return t;if(!s&&t==null&&!i_(o,st()))return null;{const l=function(f){return(f.visible||s)&&(!i||!~i.indexOf(f.writeId))&&(Ci(f.path,e)||Ci(e,f.path))},c=GR(n.allWrites,l,e),h=t||Re.EMPTY_NODE;return Yl(c,h)}}}function uj(n,e,t){let i=Re.EMPTY_NODE;const s=No(n.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(Mt,(o,l)=>{i=i.updateImmediateChild(o,l)}),i;if(t){const o=ua(n.visibleWrites,e);return t.forEachChild(Mt,(l,c)=>{const h=Yl(ua(o,new ut(l)),c);i=i.updateImmediateChild(l,h)}),_x(o).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}else{const o=ua(n.visibleWrites,e);return _x(o).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}}function cj(n,e,t,i,s){ue(i||s,"Either existingEventSnap or existingServerSnap must exist");const o=Dt(e,t);if(i_(n.visibleWrites,o))return null;{const l=ua(n.visibleWrites,o);return s_(l)?s.getChild(t):Yl(l,s.getChild(t))}}function hj(n,e,t,i){const s=Dt(e,t),o=No(n.visibleWrites,s);if(o!=null)return o;if(i.isCompleteForChild(t)){const l=ua(n.visibleWrites,s);return Yl(l,i.getNode().getImmediateChild(t))}else return null}function dj(n,e){return No(n.visibleWrites,e)}function fj(n,e,t,i,s,o,l){let c;const h=ua(n.visibleWrites,e),f=No(h,st());if(f!=null)c=f;else if(t!=null)c=Yl(h,t);else return[];if(c=c.withIndex(l),!c.isEmpty()&&!c.isLeafNode()){const g=[],y=l.getCompare(),_=o?c.getReverseIteratorFrom(i,l):c.getIteratorFrom(i,l);let T=_.getNext();for(;T&&g.length<s;)y(T,i)!==0&&g.push(T),T=_.getNext();return g}else return[]}function pj(){return{visibleWrites:ji.empty(),allWrites:[],lastWriteId:-1}}function vp(n,e,t,i){return $R(n.writeTree,n.treePath,e,t,i)}function q0(n,e){return uj(n.writeTree,n.treePath,e)}function Ex(n,e,t,i){return cj(n.writeTree,n.treePath,e,t,i)}function yp(n,e){return dj(n.writeTree,Dt(n.treePath,e))}function mj(n,e,t,i,s,o){return fj(n.writeTree,n.treePath,e,t,i,s,o)}function G0(n,e,t){return hj(n.writeTree,n.treePath,e,t)}function KR(n,e){return WR(Dt(n.treePath,e),n.writeTree)}function WR(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;ue(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),ue(i!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(i);if(s){const o=s.type;if(t==="child_added"&&o==="child_removed")this.changeMap.set(i,vh(i,e.snapshotNode,s.snapshotNode));else if(t==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(t==="child_removed"&&o==="child_changed")this.changeMap.set(i,gh(i,s.oldSnap));else if(t==="child_changed"&&o==="child_added")this.changeMap.set(i,Kl(i,e.snapshotNode));else if(t==="child_changed"&&o==="child_changed")this.changeMap.set(i,vh(i,e.snapshotNode,s.oldSnap));else throw cu("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}}const YR=new vj;class $0{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new Eo(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return G0(this.writes_,e,i)}}getChildAfterChild(e,t,i){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:wo(this.viewCache_),o=mj(this.writes_,s,t,1,i,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yj(n){return{filter:n}}function _j(n,e){ue(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),ue(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function Ej(n,e,t,i,s){const o=new gj;let l,c;if(t.type===Vi.OVERWRITE){const f=t;f.source.fromUser?l=r_(n,e,f.path,f.snap,i,s,o):(ue(f.source.fromServer,"Unknown source."),c=f.source.tagged||e.serverCache.isFiltered()&&!Fe(f.path),l=_p(n,e,f.path,f.snap,i,s,c,o))}else if(t.type===Vi.MERGE){const f=t;f.source.fromUser?l=Tj(n,e,f.path,f.children,i,s,o):(ue(f.source.fromServer,"Unknown source."),c=f.source.tagged||e.serverCache.isFiltered(),l=a_(n,e,f.path,f.children,i,s,c,o))}else if(t.type===Vi.ACK_USER_WRITE){const f=t;f.revert?l=xj(n,e,f.path,i,s,o):l=bj(n,e,f.path,f.affectedTree,i,s,o)}else if(t.type===Vi.LISTEN_COMPLETE)l=Sj(n,e,t.path,i,o);else throw cu("Unknown operation type: "+t.type);const h=o.getChanges();return wj(e,l,h),{viewCache:l,changes:h}}function wj(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=t_(n);(t.length>0||!n.eventCache.isFullyInitialized()||s&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&t.push(zR(t_(e)))}}function QR(n,e,t,i,s,o){const l=e.eventCache;if(yp(i,t)!=null)return e;{let c,h;if(Fe(t))if(ue(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const f=wo(e),g=f instanceof Re?f:Re.EMPTY_NODE,y=q0(i,g);c=n.filter.updateFullNode(e.eventCache.getNode(),y,o)}else{const f=vp(i,wo(e));c=n.filter.updateFullNode(e.eventCache.getNode(),f,o)}else{const f=je(t);if(f===".priority"){ue(ya(t)===1,"Can't have a priority with additional path components");const g=l.getNode();h=e.serverCache.getNode();const y=Ex(i,t,g,h);y!=null?c=n.filter.updatePriority(g,y):c=l.getNode()}else{const g=mt(t);let y;if(l.isCompleteForChild(f)){h=e.serverCache.getNode();const _=Ex(i,t,l.getNode(),h);_!=null?y=l.getNode().getImmediateChild(f).updateChild(g,_):y=l.getNode().getImmediateChild(f)}else y=G0(i,f,e.serverCache);y!=null?c=n.filter.updateChild(l.getNode(),f,y,g,s,o):c=l.getNode()}}return Yc(e,c,l.isFullyInitialized()||Fe(t),n.filter.filtersNodes())}}function _p(n,e,t,i,s,o,l,c){const h=e.serverCache;let f;const g=l?n.filter:n.filter.getIndexedFilter();if(Fe(t))f=g.updateFullNode(h.getNode(),i,null);else if(g.filtersNodes()&&!h.isFiltered()){const T=h.getNode().updateChild(t,i);f=g.updateFullNode(h.getNode(),T,null)}else{const T=je(t);if(!h.isCompleteForPath(t)&&ya(t)>1)return e;const x=mt(t),j=h.getNode().getImmediateChild(T).updateChild(x,i);T===".priority"?f=g.updatePriority(h.getNode(),j):f=g.updateChild(h.getNode(),T,j,x,YR,null)}const y=HR(e,f,h.isFullyInitialized()||Fe(t),g.filtersNodes()),_=new $0(s,y,o);return QR(n,y,t,s,_,c)}function r_(n,e,t,i,s,o,l){const c=e.eventCache;let h,f;const g=new $0(s,e,o);if(Fe(t))f=n.filter.updateFullNode(e.eventCache.getNode(),i,l),h=Yc(e,f,!0,n.filter.filtersNodes());else{const y=je(t);if(y===".priority")f=n.filter.updatePriority(e.eventCache.getNode(),i),h=Yc(e,f,c.isFullyInitialized(),c.isFiltered());else{const _=mt(t),T=c.getNode().getImmediateChild(y);let x;if(Fe(_))x=i;else{const D=g.getCompleteChild(y);D!=null?O0(_)===".priority"&&D.getChild(OR(_)).isEmpty()?x=D:x=D.updateChild(_,i):x=Re.EMPTY_NODE}if(T.equals(x))h=e;else{const D=n.filter.updateChild(c.getNode(),y,x,_,g,l);h=Yc(e,D,c.isFullyInitialized(),n.filter.filtersNodes())}}}return h}function wx(n,e){return n.eventCache.isCompleteForChild(e)}function Tj(n,e,t,i,s,o,l){let c=e;return i.foreach((h,f)=>{const g=Dt(t,h);wx(e,je(g))&&(c=r_(n,c,g,f,s,o,l))}),i.foreach((h,f)=>{const g=Dt(t,h);wx(e,je(g))||(c=r_(n,c,g,f,s,o,l))}),c}function Tx(n,e,t){return t.foreach((i,s)=>{e=e.updateChild(i,s)}),e}function a_(n,e,t,i,s,o,l,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let h=e,f;Fe(t)?f=i:f=new pt(null).setTree(t,i);const g=e.serverCache.getNode();return f.children.inorderTraversal((y,_)=>{if(g.hasChild(y)){const T=e.serverCache.getNode().getImmediateChild(y),x=Tx(n,T,_);h=_p(n,h,new ut(y),x,s,o,l,c)}}),f.children.inorderTraversal((y,_)=>{const T=!e.serverCache.isCompleteForChild(y)&&_.value===null;if(!g.hasChild(y)&&!T){const x=e.serverCache.getNode().getImmediateChild(y),D=Tx(n,x,_);h=_p(n,h,new ut(y),D,s,o,l,c)}}),h}function bj(n,e,t,i,s,o,l){if(yp(s,t)!=null)return e;const c=e.serverCache.isFiltered(),h=e.serverCache;if(i.value!=null){if(Fe(t)&&h.isFullyInitialized()||h.isCompleteForPath(t))return _p(n,e,t,h.getNode().getChild(t),s,o,c,l);if(Fe(t)){let f=new pt(null);return h.getNode().forEachChild(kl,(g,y)=>{f=f.set(new ut(g),y)}),a_(n,e,t,f,s,o,c,l)}else return e}else{let f=new pt(null);return i.foreach((g,y)=>{const _=Dt(t,g);h.isCompleteForPath(_)&&(f=f.set(g,h.getNode().getChild(_)))}),a_(n,e,t,f,s,o,c,l)}}function Sj(n,e,t,i,s){const o=e.serverCache,l=HR(e,o.getNode(),o.isFullyInitialized()||Fe(t),o.isFiltered());return QR(n,l,t,i,YR,s)}function xj(n,e,t,i,s,o){let l;if(yp(i,t)!=null)return e;{const c=new $0(i,e,s),h=e.eventCache.getNode();let f;if(Fe(t)||je(t)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=vp(i,wo(e));else{const y=e.serverCache.getNode();ue(y instanceof Re,"serverChildren would be complete if leaf node"),g=q0(i,y)}g=g,f=n.filter.updateFullNode(h,g,o)}else{const g=je(t);let y=G0(i,g,e.serverCache);y==null&&e.serverCache.isCompleteForChild(g)&&(y=h.getImmediateChild(g)),y!=null?f=n.filter.updateChild(h,g,y,mt(t),c,o):e.eventCache.getNode().hasChild(g)?f=n.filter.updateChild(h,g,Re.EMPTY_NODE,mt(t),c,o):f=h,f.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=vp(i,wo(e)),l.isLeafNode()&&(f=n.filter.updateFullNode(f,l,o)))}return l=e.serverCache.isFullyInitialized()||yp(i,st())!=null,Yc(e,f,l,n.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,s=new j0(i.getIndex()),o=q9(i);this.processor_=yj(o);const l=t.serverCache,c=t.eventCache,h=s.updateFullNode(Re.EMPTY_NODE,l.getNode(),null),f=o.updateFullNode(Re.EMPTY_NODE,c.getNode(),null),g=new Eo(h,l.isFullyInitialized(),s.filtersNodes()),y=new Eo(f,c.isFullyInitialized(),o.filtersNodes());this.viewCache_=rm(y,g),this.eventGenerator_=new X9(this.query_)}get query(){return this.query_}}function Aj(n){return n.viewCache_.serverCache.getNode()}function Rj(n,e){const t=wo(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Fe(e)&&!t.getImmediateChild(je(e)).isEmpty())?t.getChild(e):null}function bx(n){return n.eventRegistrations_.length===0}function Ij(n,e){n.eventRegistrations_.push(e)}function Sx(n,e,t){const i=[];if(t){ue(e==null,"A cancel should cancel all event registrations.");const s=n.query._path;n.eventRegistrations_.forEach(o=>{const l=o.createCancelEvent(t,s);l&&i.push(l)})}if(e){let s=[];for(let o=0;o<n.eventRegistrations_.length;++o){const l=n.eventRegistrations_[o];if(!l.matches(e))s.push(l);else if(e.hasAnyCallback()){s=s.concat(n.eventRegistrations_.slice(o+1));break}}n.eventRegistrations_=s}else n.eventRegistrations_=[];return i}function xx(n,e,t,i){e.type===Vi.MERGE&&e.source.queryId!==null&&(ue(wo(n.viewCache_),"We should always have a full cache before handling merges"),ue(t_(n.viewCache_),"Missing event cache, even though we have a server cache"));const s=n.viewCache_,o=Ej(n.processor_,s,e,t,i);return _j(n.processor_,o.viewCache),ue(o.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,XR(n,o.changes,o.viewCache.eventCache.getNode(),null)}function Nj(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Mt,(o,l)=>{i.push(Kl(o,l))}),t.isFullyInitialized()&&i.push(zR(t.getNode())),XR(n,i,t.getNode(),e)}function XR(n,e,t,i){const s=i?[i]:n.eventRegistrations_;return Z9(n.eventGenerator_,e,t,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ep;class Pj{constructor(){this.views=new Map}}function Dj(n){ue(!Ep,"__referenceConstructor has already been defined"),Ep=n}function Mj(){return ue(Ep,"Reference.ts has not been loaded"),Ep}function Oj(n){return n.views.size===0}function K0(n,e,t,i){const s=e.source.queryId;if(s!==null){const o=n.views.get(s);return ue(o!=null,"SyncTree gave us an op for an invalid query."),xx(o,e,t,i)}else{let o=[];for(const l of n.views.values())o=o.concat(xx(l,e,t,i));return o}}function kj(n,e,t,i,s){const o=e._queryIdentifier,l=n.views.get(o);if(!l){let c=vp(t,s?i:null),h=!1;c?h=!0:i instanceof Re?(c=q0(t,i),h=!1):(c=Re.EMPTY_NODE,h=!1);const f=rm(new Eo(c,h,!1),new Eo(i,s,!1));return new Cj(e,f)}return l}function Lj(n,e,t,i,s,o){const l=kj(n,e,i,s,o);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,l),Ij(l,t),Nj(l,t)}function Vj(n,e,t,i){const s=e._queryIdentifier,o=[];let l=[];const c=_a(n);if(s==="default")for(const[h,f]of n.views.entries())l=l.concat(Sx(f,t,i)),bx(f)&&(n.views.delete(h),f.query._queryParams.loadsAllData()||o.push(f.query));else{const h=n.views.get(s);h&&(l=l.concat(Sx(h,t,i)),bx(h)&&(n.views.delete(s),h.query._queryParams.loadsAllData()||o.push(h.query)))}return c&&!_a(n)&&o.push(new(Mj())(e._repo,e._path)),{removed:o,events:l}}function ZR(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function Ll(n,e){let t=null;for(const i of n.views.values())t=t||Rj(i,e);return t}function JR(n,e){if(e._queryParams.loadsAllData())return am(n);{const i=e._queryIdentifier;return n.views.get(i)}}function eI(n,e){return JR(n,e)!=null}function _a(n){return am(n)!=null}function am(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wp;function jj(n){ue(!wp,"__referenceConstructor has already been defined"),wp=n}function Uj(){return ue(wp,"Reference.ts has not been loaded"),wp}let Bj=1;class Cx{constructor(e){this.listenProvider_=e,this.syncPointTree_=new pt(null),this.pendingWriteTree_=pj(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function tI(n,e,t,i,s){return nj(n.pendingWriteTree_,e,t,i,s),s?fu(n,new _o(B0(),e,t)):[]}function zj(n,e,t,i){ij(n.pendingWriteTree_,e,t,i);const s=pt.fromObject(t);return fu(n,new Wl(B0(),e,s))}function sa(n,e,t=!1){const i=sj(n.pendingWriteTree_,e);if(rj(n.pendingWriteTree_,e)){let o=new pt(null);return i.snap!=null?o=o.set(st(),!0):Tn(i.children,l=>{o=o.set(new ut(l),!0)}),fu(n,new gp(i.path,o,t))}else return[]}function om(n,e,t){return fu(n,new _o(z0(),e,t))}function Fj(n,e,t){const i=pt.fromObject(t);return fu(n,new Wl(z0(),e,i))}function Hj(n,e){return fu(n,new _h(z0(),e))}function qj(n,e,t){const i=Y0(n,t);if(i){const s=Q0(i),o=s.path,l=s.queryId,c=Kn(o,e),h=new _h(F0(l),c);return X0(n,o,h)}else return[]}function o_(n,e,t,i,s=!1){const o=e._path,l=n.syncPointTree_.get(o);let c=[];if(l&&(e._queryIdentifier==="default"||eI(l,e))){const h=Vj(l,e,t,i);Oj(l)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const f=h.removed;if(c=h.events,!s){const g=f.findIndex(_=>_._queryParams.loadsAllData())!==-1,y=n.syncPointTree_.findOnPath(o,(_,T)=>_a(T));if(g&&!y){const _=n.syncPointTree_.subtree(o);if(!_.isEmpty()){const T=Kj(_);for(let x=0;x<T.length;++x){const D=T[x],j=D.query,P=sI(n,D);n.listenProvider_.startListening(Xc(j),Tp(n,j),P.hashFn,P.onComplete)}}}!y&&f.length>0&&!i&&(g?n.listenProvider_.stopListening(Xc(e),null):f.forEach(_=>{const T=n.queryToTagMap.get(lm(_));n.listenProvider_.stopListening(Xc(_),T)}))}Wj(n,f)}return c}function Gj(n,e,t,i){const s=Y0(n,i);if(s!=null){const o=Q0(s),l=o.path,c=o.queryId,h=Kn(l,e),f=new _o(F0(c),h,t);return X0(n,l,f)}else return[]}function $j(n,e,t,i){const s=Y0(n,i);if(s){const o=Q0(s),l=o.path,c=o.queryId,h=Kn(l,e),f=pt.fromObject(t),g=new Wl(F0(c),h,f);return X0(n,l,g)}else return[]}function Ax(n,e,t,i=!1){const s=e._path;let o=null,l=!1;n.syncPointTree_.foreachOnPath(s,(_,T)=>{const x=Kn(_,s);o=o||Ll(T,x),l=l||_a(T)});let c=n.syncPointTree_.get(s);c?(l=l||_a(c),o=o||Ll(c,st())):(c=new Pj,n.syncPointTree_=n.syncPointTree_.set(s,c));let h;o!=null?h=!0:(h=!1,o=Re.EMPTY_NODE,n.syncPointTree_.subtree(s).foreachChild((T,x)=>{const D=Ll(x,st());D&&(o=o.updateImmediateChild(T,D))}));const f=eI(c,e);if(!f&&!e._queryParams.loadsAllData()){const _=lm(e);ue(!n.queryToTagMap.has(_),"View does not exist, but we have a tag");const T=Yj();n.queryToTagMap.set(_,T),n.tagToQueryMap.set(T,_)}const g=H0(n.pendingWriteTree_,s);let y=Lj(c,e,t,g,o,h);if(!f&&!l&&!i){const _=JR(c,e);y=y.concat(Qj(n,e,_))}return y}function W0(n,e,t){const s=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(e,(l,c)=>{const h=Kn(l,e),f=Ll(c,h);if(f)return f});return $R(s,e,o,t,!0)}function fu(n,e){return nI(e,n.syncPointTree_,null,H0(n.pendingWriteTree_,st()))}function nI(n,e,t,i){if(Fe(n.path))return iI(n,e,t,i);{const s=e.get(st());t==null&&s!=null&&(t=Ll(s,st()));let o=[];const l=je(n.path),c=n.operationForChild(l),h=e.children.get(l);if(h&&c){const f=t?t.getImmediateChild(l):null,g=KR(i,l);o=o.concat(nI(c,h,f,g))}return s&&(o=o.concat(K0(s,n,i,t))),o}}function iI(n,e,t,i){const s=e.get(st());t==null&&s!=null&&(t=Ll(s,st()));let o=[];return e.children.inorderTraversal((l,c)=>{const h=t?t.getImmediateChild(l):null,f=KR(i,l),g=n.operationForChild(l);g&&(o=o.concat(iI(g,c,h,f)))}),s&&(o=o.concat(K0(s,n,i,t))),o}function sI(n,e){const t=e.query,i=Tp(n,t);return{hashFn:()=>(Aj(e)||Re.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return i?qj(n,t._path,i):Hj(n,t._path);{const o=FV(s,t);return o_(n,t,null,o)}}}}function Tp(n,e){const t=lm(e);return n.queryToTagMap.get(t)}function lm(n){return n._path.toString()+"$"+n._queryIdentifier}function Y0(n,e){return n.tagToQueryMap.get(e)}function Q0(n){const e=n.indexOf("$");return ue(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new ut(n.substr(0,e))}}function X0(n,e,t){const i=n.syncPointTree_.get(e);ue(i,"Missing sync point for query tag that we're tracking");const s=H0(n.pendingWriteTree_,e);return K0(i,t,s,null)}function Kj(n){return n.fold((e,t,i)=>{if(t&&_a(t))return[am(t)];{let s=[];return t&&(s=ZR(t)),Tn(i,(o,l)=>{s=s.concat(l)}),s}})}function Xc(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(Uj())(n._repo,n._path):n}function Wj(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const s=lm(i),o=n.queryToTagMap.get(s);n.queryToTagMap.delete(s),n.tagToQueryMap.delete(o)}}}function Yj(){return Bj++}function Qj(n,e,t){const i=e._path,s=Tp(n,e),o=sI(n,t),l=n.listenProvider_.startListening(Xc(e),s,o.hashFn,o.onComplete),c=n.syncPointTree_.subtree(i);if(s)ue(!_a(c.value),"If we're adding a query, it shouldn't be shadowed");else{const h=c.fold((f,g,y)=>{if(!Fe(f)&&g&&_a(g))return[am(g).query];{let _=[];return g&&(_=_.concat(ZR(g).map(T=>T.query))),Tn(y,(T,x)=>{_=_.concat(x)}),_}});for(let f=0;f<h.length;++f){const g=h[f];n.listenProvider_.stopListening(Xc(g),Tp(n,g))}}return l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Z0(t)}node(){return this.node_}}class J0{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Dt(this.path_,e);return new J0(this.syncTree_,t)}node(){return W0(this.syncTree_,this.path_)}}const Xj=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},Rx=function(n,e,t){if(!n||typeof n!="object")return n;if(ue(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return Zj(n[".sv"],e,t);if(typeof n[".sv"]=="object")return Jj(n[".sv"],e);ue(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},Zj=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:ue(!1,"Unexpected server value: "+n)}},Jj=function(n,e,t){n.hasOwnProperty("increment")||ue(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;typeof i!="number"&&ue(!1,"Unexpected increment value: "+i);const s=e.node();if(ue(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const l=s.getValue();return typeof l!="number"?i:l+i},rI=function(n,e,t,i){return eE(e,new J0(t,n),i)},aI=function(n,e,t){return eE(n,new Z0(e),t)};function eE(n,e,t){const i=n.getPriority().val(),s=Rx(i,e.getImmediateChild(".priority"),t);let o;if(n.isLeafNode()){const l=n,c=Rx(l.getValue(),e,t);return c!==l.getValue()||s!==l.getPriority().val()?new ln(c,cn(s)):n}else{const l=n;return o=l,s!==l.getPriority().val()&&(o=o.updatePriority(new ln(s))),l.forEachChild(Mt,(c,h)=>{const f=eE(h,e.getImmediateChild(c),t);f!==h&&(o=o.updateImmediateChild(c,f))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function nE(n,e){let t=e instanceof ut?e:new ut(e),i=n,s=je(t);for(;s!==null;){const o=Gl(i.node.children,s)||{children:{},childCount:0};i=new tE(s,i,o),t=mt(t),s=je(t)}return i}function pu(n){return n.node.value}function oI(n,e){n.node.value=e,l_(n)}function lI(n){return n.node.childCount>0}function e7(n){return pu(n)===void 0&&!lI(n)}function um(n,e){Tn(n.node.children,(t,i)=>{e(new tE(t,n,i))})}function uI(n,e,t,i){t&&e(n),um(n,s=>{uI(s,e,!0)})}function t7(n,e,t){let i=n.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Bh(n){return new ut(n.parent===null?n.name:Bh(n.parent)+"/"+n.name)}function l_(n){n.parent!==null&&n7(n.parent,n.name,n)}function n7(n,e,t){const i=e7(t),s=xs(n.node.children,e);i&&s?(delete n.node.children[e],n.node.childCount--,l_(n)):!i&&!s&&(n.node.children[e]=t.node,n.node.childCount++,l_(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i7=/[\[\].#$\/\u0000-\u001F\u007F]/,s7=/[\[\].#$\u0000-\u001F\u007F]/,dy=10*1024*1024,iE=function(n){return typeof n=="string"&&n.length!==0&&!i7.test(n)},cI=function(n){return typeof n=="string"&&n.length!==0&&!s7.test(n)},r7=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),cI(n)},a7=function(n){return n===null||typeof n=="string"||typeof n=="number"&&!I0(n)||n&&typeof n=="object"&&xs(n,".sv")},hI=function(n,e,t,i){i&&e===void 0||cm(em(n,"value"),e,t)},cm=function(n,e,t){const i=t instanceof ut?new T9(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+ho(i));if(typeof e=="function")throw new Error(n+"contains a function "+ho(i)+" with contents = "+e.toString());if(I0(e))throw new Error(n+"contains "+e.toString()+" "+ho(i));if(typeof e=="string"&&e.length>dy/3&&tm(e)>dy)throw new Error(n+"contains a string greater than "+dy+" utf8 bytes "+ho(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,o=!1;if(Tn(e,(l,c)=>{if(l===".value")s=!0;else if(l!==".priority"&&l!==".sv"&&(o=!0,!iE(l)))throw new Error(n+" contains an invalid key ("+l+") "+ho(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);b9(i,l),cm(n,c,i),S9(i)}),s&&o)throw new Error(n+' contains ".value" child '+ho(i)+" in addition to actual children.")}},o7=function(n,e){let t,i;for(t=0;t<e.length;t++){i=e[t];const o=mh(i);for(let l=0;l<o.length;l++)if(!(o[l]===".priority"&&l===o.length-1)){if(!iE(o[l]))throw new Error(n+"contains an invalid key ("+o[l]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(w9);let s=null;for(t=0;t<e.length;t++){if(i=e[t],s!==null&&Ci(s,i))throw new Error(n+"contains a path "+s.toString()+" that is ancestor of another path "+i.toString());s=i}},l7=function(n,e,t,i){const s=em(n,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(s+" must be an object containing the children to replace.");const o=[];Tn(e,(l,c)=>{const h=new ut(l);if(cm(s,c,Dt(t,h)),O0(h)===".priority"&&!a7(c))throw new Error(s+"contains an invalid value for '"+h.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(h)}),o7(s,o)},dI=function(n,e,t,i){if(!cI(t))throw new Error(em(n,e)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},u7=function(n,e,t,i){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),dI(n,e,t)},sE=function(n,e){if(je(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},c7=function(n,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!iE(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!r7(t))throw new Error(em(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function hm(n,e){let t=null;for(let i=0;i<e.length;i++){const s=e[i],o=s.getPath();t!==null&&!k0(o,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:o}),t.events.push(s)}t&&n.eventLists_.push(t)}function fI(n,e,t){hm(n,t),pI(n,i=>k0(i,e))}function zi(n,e,t){hm(n,t),pI(n,i=>Ci(i,e)||Ci(e,i))}function pI(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const s=n.eventLists_[i];if(s){const o=s.path;e(o)?(d7(n.eventLists_[i]),n.eventLists_[i]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function d7(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(t!==null){n.events[e]=null;const i=t.getEventRunner();Kc&&_n("event: "+t.toString()),du(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f7="repo_interrupt",p7=25;class m7{constructor(e,t,i,s){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new h7,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=mp(),this.transactionQueueTree_=new tE,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function g7(n,e,t){if(n.stats_=D0(n.repoInfo_),n.forceRestClient_||$V())n.server_=new pp(n.repoInfo_,(i,s,o,l)=>{Ix(n,i,s,o,l)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Nx(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{hn(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new lr(n.repoInfo_,e,(i,s,o,l)=>{Ix(n,i,s,o,l)},i=>{Nx(n,i)},i=>{v7(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=XV(n.repoInfo_,()=>new Q9(n.stats_,n.server_)),n.infoData_=new G9,n.infoSyncTree_=new Cx({startListening:(i,s,o,l)=>{let c=[];const h=n.infoData_.getNode(i._path);return h.isEmpty()||(c=om(n.infoSyncTree_,i._path,h),setTimeout(()=>{l("ok")},0)),c},stopListening:()=>{}}),rE(n,"connected",!1),n.serverSyncTree_=new Cx({startListening:(i,s,o,l)=>(n.server_.listen(i,o,s,(c,h)=>{const f=l(c,h);zi(n.eventQueue_,i._path,f)}),[]),stopListening:(i,s)=>{n.server_.unlisten(i,s)}})}function mI(n){const t=n.infoData_.getNode(new ut(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function dm(n){return Xj({timestamp:mI(n)})}function Ix(n,e,t,i,s){n.dataUpdateCount++;const o=new ut(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let l=[];if(s)if(i){const h=lp(t,f=>cn(f));l=$j(n.serverSyncTree_,o,h,s)}else{const h=cn(t);l=Gj(n.serverSyncTree_,o,h,s)}else if(i){const h=lp(t,f=>cn(f));l=Fj(n.serverSyncTree_,o,h)}else{const h=cn(t);l=om(n.serverSyncTree_,o,h)}let c=o;l.length>0&&(c=Ql(n,o)),zi(n.eventQueue_,c,l)}function Nx(n,e){rE(n,"connected",e),e===!1&&E7(n)}function v7(n,e){Tn(e,(t,i)=>{rE(n,t,i)})}function rE(n,e,t){const i=new ut("/.info/"+e),s=cn(t);n.infoData_.updateSnapshot(i,s);const o=om(n.infoSyncTree_,i,s);zi(n.eventQueue_,i,o)}function aE(n){return n.nextWriteId_++}function y7(n,e,t,i,s){fm(n,"set",{path:e.toString(),value:t,priority:i});const o=dm(n),l=cn(t,i),c=W0(n.serverSyncTree_,e),h=aI(l,c,o),f=aE(n),g=tI(n.serverSyncTree_,e,h,f,!0);hm(n.eventQueue_,g),n.server_.put(e.toString(),l.val(!0),(_,T)=>{const x=_==="ok";x||zn("set at "+e+" failed: "+_);const D=sa(n.serverSyncTree_,f,!x);zi(n.eventQueue_,e,D),u_(n,s,_,T)});const y=lE(n,e);Ql(n,y),zi(n.eventQueue_,y,[])}function _7(n,e,t,i){fm(n,"update",{path:e.toString(),value:t});let s=!0;const o=dm(n),l={};if(Tn(t,(c,h)=>{s=!1,l[c]=rI(Dt(e,c),cn(h),n.serverSyncTree_,o)}),s)_n("update() called with empty data.  Don't do anything."),u_(n,i,"ok",void 0);else{const c=aE(n),h=zj(n.serverSyncTree_,e,l,c);hm(n.eventQueue_,h),n.server_.merge(e.toString(),t,(f,g)=>{const y=f==="ok";y||zn("update at "+e+" failed: "+f);const _=sa(n.serverSyncTree_,c,!y),T=_.length>0?Ql(n,e):e;zi(n.eventQueue_,T,_),u_(n,i,f,g)}),Tn(t,f=>{const g=lE(n,Dt(e,f));Ql(n,g)}),zi(n.eventQueue_,e,[])}}function E7(n){fm(n,"onDisconnectEvents");const e=dm(n),t=mp();e_(n.onDisconnect_,st(),(s,o)=>{const l=rI(s,o,n.serverSyncTree_,e);FR(t,s,l)});let i=[];e_(t,st(),(s,o)=>{i=i.concat(om(n.serverSyncTree_,s,o));const l=lE(n,s);Ql(n,l)}),n.onDisconnect_=mp(),zi(n.eventQueue_,st(),i)}function w7(n,e,t){let i;je(e._path)===".info"?i=Ax(n.infoSyncTree_,e,t):i=Ax(n.serverSyncTree_,e,t),fI(n.eventQueue_,e._path,i)}function T7(n,e,t){let i;je(e._path)===".info"?i=o_(n.infoSyncTree_,e,t):i=o_(n.serverSyncTree_,e,t),fI(n.eventQueue_,e._path,i)}function b7(n){n.persistentConnection_&&n.persistentConnection_.interrupt(f7)}function fm(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),_n(t,...e)}function u_(n,e,t,i){e&&du(()=>{if(t==="ok")e(null);else{const s=(t||"error").toUpperCase();let o=s;i&&(o+=": "+i);const l=new Error(o);l.code=s,e(l)}})}function gI(n,e,t){return W0(n.serverSyncTree_,e,t)||Re.EMPTY_NODE}function oE(n,e=n.transactionQueueTree_){if(e||pm(n,e),pu(e)){const t=yI(n,e);ue(t.length>0,"Sending zero length transaction queue"),t.every(s=>s.status===0)&&S7(n,Bh(e),t)}else lI(e)&&um(e,t=>{oE(n,t)})}function S7(n,e,t){const i=t.map(f=>f.currentWriteId),s=gI(n,e,i);let o=s;const l=s.hash();for(let f=0;f<t.length;f++){const g=t[f];ue(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const y=Kn(e,g.path);o=o.updateChild(y,g.currentOutputSnapshotRaw)}const c=o.val(!0),h=e;n.server_.put(h.toString(),c,f=>{fm(n,"transaction put response",{path:h.toString(),status:f});let g=[];if(f==="ok"){const y=[];for(let _=0;_<t.length;_++)t[_].status=2,g=g.concat(sa(n.serverSyncTree_,t[_].currentWriteId)),t[_].onComplete&&y.push(()=>t[_].onComplete(null,!0,t[_].currentOutputSnapshotResolved)),t[_].unwatcher();pm(n,nE(n.transactionQueueTree_,e)),oE(n,n.transactionQueueTree_),zi(n.eventQueue_,e,g);for(let _=0;_<y.length;_++)du(y[_])}else{if(f==="datastale")for(let y=0;y<t.length;y++)t[y].status===3?t[y].status=4:t[y].status=0;else{zn("transaction at "+h.toString()+" failed: "+f);for(let y=0;y<t.length;y++)t[y].status=4,t[y].abortReason=f}Ql(n,e)}},l)}function Ql(n,e){const t=vI(n,e),i=Bh(t),s=yI(n,t);return x7(n,s,i),i}function x7(n,e,t){if(e.length===0)return;const i=[];let s=[];const l=e.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){const h=e[c],f=Kn(t,h.path);let g=!1,y;if(ue(f!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),h.status===4)g=!0,y=h.abortReason,s=s.concat(sa(n.serverSyncTree_,h.currentWriteId,!0));else if(h.status===0)if(h.retryCount>=p7)g=!0,y="maxretry",s=s.concat(sa(n.serverSyncTree_,h.currentWriteId,!0));else{const _=gI(n,h.path,l);h.currentInputSnapshot=_;const T=e[c].update(_.val());if(T!==void 0){cm("transaction failed: Data returned ",T,h.path);let x=cn(T);typeof T=="object"&&T!=null&&xs(T,".priority")||(x=x.updatePriority(_.getPriority()));const j=h.currentWriteId,P=dm(n),I=aI(x,_,P);h.currentOutputSnapshotRaw=x,h.currentOutputSnapshotResolved=I,h.currentWriteId=aE(n),l.splice(l.indexOf(j),1),s=s.concat(tI(n.serverSyncTree_,h.path,I,h.currentWriteId,h.applyLocally)),s=s.concat(sa(n.serverSyncTree_,j,!0))}else g=!0,y="nodata",s=s.concat(sa(n.serverSyncTree_,h.currentWriteId,!0))}zi(n.eventQueue_,t,s),s=[],g&&(e[c].status=2,function(_){setTimeout(_,Math.floor(0))}(e[c].unwatcher),e[c].onComplete&&(y==="nodata"?i.push(()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot)):i.push(()=>e[c].onComplete(new Error(y),!1,null))))}pm(n,n.transactionQueueTree_);for(let c=0;c<i.length;c++)du(i[c]);oE(n,n.transactionQueueTree_)}function vI(n,e){let t,i=n.transactionQueueTree_;for(t=je(e);t!==null&&pu(i)===void 0;)i=nE(i,t),e=mt(e),t=je(e);return i}function yI(n,e){const t=[];return _I(n,e,t),t.sort((i,s)=>i.order-s.order),t}function _I(n,e,t){const i=pu(e);if(i)for(let s=0;s<i.length;s++)t.push(i[s]);um(e,s=>{_I(n,s,t)})}function pm(n,e){const t=pu(e);if(t){let i=0;for(let s=0;s<t.length;s++)t[s].status!==2&&(t[i]=t[s],i++);t.length=i,oI(e,t.length>0?t:void 0)}um(e,i=>{pm(n,i)})}function lE(n,e){const t=Bh(vI(n,e)),i=nE(n.transactionQueueTree_,e);return t7(i,s=>{fy(n,s)}),fy(n,i),uI(i,s=>{fy(n,s)}),t}function fy(n,e){const t=pu(e);if(t){const i=[];let s=[],o=-1;for(let l=0;l<t.length;l++)t[l].status===3||(t[l].status===1?(ue(o===l-1,"All SENT items should be at beginning of queue."),o=l,t[l].status=3,t[l].abortReason="set"):(ue(t[l].status===0,"Unexpected transaction status in abort"),t[l].unwatcher(),s=s.concat(sa(n.serverSyncTree_,t[l].currentWriteId,!0)),t[l].onComplete&&i.push(t[l].onComplete.bind(null,new Error("set"),!1,null))));o===-1?oI(e,void 0):t.length=o+1,zi(n.eventQueue_,Bh(e),s);for(let l=0;l<i.length;l++)du(i[l])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C7(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let s=t[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function A7(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const t of n.split("&")){if(t.length===0)continue;const i=t.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):zn(`Invalid query segment '${t}' in query '${n}'`)}return e}const Px=function(n,e){const t=R7(n),i=t.namespace;t.domain==="firebase.com"&&hr(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&t.domain!=="localhost"&&hr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||VV();const s=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new xR(t.host,t.secure,i,s,e,"",i!==t.subdomain),path:new ut(t.pathString)}},R7=function(n){let e="",t="",i="",s="",o="",l=!0,c="https",h=443;if(typeof n=="string"){let f=n.indexOf("//");f>=0&&(c=n.substring(0,f-1),n=n.substring(f+2));let g=n.indexOf("/");g===-1&&(g=n.length);let y=n.indexOf("?");y===-1&&(y=n.length),e=n.substring(0,Math.min(g,y)),g<y&&(s=C7(n.substring(g,y)));const _=A7(n.substring(Math.min(n.length,y)));f=e.indexOf(":"),f>=0?(l=c==="https"||c==="wss",h=parseInt(e.substring(f+1),10)):f=e.length;const T=e.slice(0,f);if(T.toLowerCase()==="localhost")t="localhost";else if(T.split(".").length<=2)t=T;else{const x=e.indexOf(".");i=e.substring(0,x).toLowerCase(),t=e.substring(x+1),o=i}"ns"in _&&(o=_.ns)}return{host:e,port:h,domain:t,subdomain:i,secure:l,scheme:c,pathString:s,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",I7=function(){let n=0;const e=[];return function(t){const i=t===n;n=t;let s;const o=new Array(8);for(s=7;s>=0;s--)o[s]=Dx.charAt(t%64),t=Math.floor(t/64);ue(t===0,"Cannot push at time == 0");let l=o.join("");if(i){for(s=11;s>=0&&e[s]===63;s--)e[s]=0;e[s]++}else for(s=0;s<12;s++)e[s]=Math.floor(Math.random()*64);for(s=0;s<12;s++)l+=Dx.charAt(e[s]);return ue(l.length===20,"nextPushId: Length should be 20."),l}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N7{constructor(e,t,i,s){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+hn(this.snapshot.exportVal())}}class P7{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D7{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return ue(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e,t,i,s){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=s}get key(){return Fe(this._path)?null:O0(this._path)}get ref(){return new Aa(this._repo,this._path)}get _queryIdentifier(){const e=gx(this._queryParams),t=N0(e);return t==="{}"?"default":t}get _queryObject(){return gx(this._queryParams)}isEqual(e){if(e=St(e),!(e instanceof uE))return!1;const t=this._repo===e._repo,i=k0(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return t&&i&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+E9(this._path)}}class Aa extends uE{constructor(e,t){super(e,t,new U0,!1)}get parent(){const e=OR(this._path);return e===null?null:new Aa(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class bp{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new ut(e),i=Eh(this.ref,e);return new bp(this._node.getChild(t),i,Mt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,s)=>e(new bp(s,Eh(this.ref,i),Mt)))}hasChild(e){const t=new ut(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function En(n,e){return n=St(n),n._checkNotDeleted("ref"),e!==void 0?Eh(n._root,e):n._root}function Eh(n,e){return n=St(n),je(n._path)===null?u7("child","path",e):dI("child","path",e),new Aa(n._repo,Dt(n._path,e))}function EI(n,e){n=St(n),sE("push",n._path),hI("push",e,n._path,!0);const t=mI(n._repo),i=I7(t),s=Eh(n,i),o=Eh(n,i);let l;return e!=null?l=TI(o,e).then(()=>o):l=Promise.resolve(o),s.then=l.then.bind(l),s.catch=l.then.bind(l,void 0),s}function wI(n){return sE("remove",n._path),TI(n,null)}function TI(n,e){n=St(n),sE("set",n._path),hI("set",e,n._path,!1);const t=new kh;return y7(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function c_(n,e){l7("update",e,n._path);const t=new kh;return _7(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}class cE{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,t){const i=t._queryParams.getIndex();return new N7("value",this,new bp(e.snapshotNode,new Aa(t._repo,t._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new P7(this,e,t):null}matches(e){return e instanceof cE?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function M7(n,e,t,i,s){const o=new D7(t,void 0),l=new cE(o);return w7(n._repo,n,l),()=>T7(n._repo,n,l)}function ms(n,e,t,i){return M7(n,"value",e)}Dj(Aa);jj(Aa);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O7="FIREBASE_DATABASE_EMULATOR_HOST",h_={};let k7=!1;function L7(n,e,t,i){n.repoInfo_=new xR(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}function V7(n,e,t,i,s){let o=i||n.options.databaseURL;o===void 0&&(n.options.projectId||hr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),_n("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let l=Px(o,s),c=l.repoInfo,h;typeof process<"u"&&ZS&&(h=ZS[O7]),h?(o=`http://${h}?ns=${c.namespace}`,l=Px(o,s),c=l.repoInfo):l.repoInfo.secure;const f=new WV(n.name,n.options,e);c7("Invalid Firebase Database URL",l),Fe(l.path)||hr("Database URL must point to the root of a Firebase Database (not including a child path).");const g=U7(c,n,f,new KV(n,t));return new B7(g,n)}function j7(n,e){const t=h_[e];(!t||t[n.key]!==n)&&hr(`Database ${e}(${n.repoInfo_}) has already been deleted.`),b7(n),delete t[n.key]}function U7(n,e,t,i){let s=h_[e.name];s||(s={},h_[e.name]=s);let o=s[n.toURLString()];return o&&hr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new m7(n,k7,t,i),s[n.toURLString()]=o,o}class B7{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(g7(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Aa(this._repo,st())),this._rootInternal}_delete(){return this._rootInternal!==null&&(j7(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&hr("Cannot call "+e+" on a deleted database.")}}function bI(n=R0(),e){const t=im(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const i=eR("database");i&&z7(t,...i)}return t}function z7(n,e,t,i={}){n=St(n),n._checkNotDeleted("useEmulator"),n._instanceStarted&&hr("Cannot call useEmulator() after instance has already been initialized.");const s=n._repoInternal;let o;if(s.repoInfo_.nodeAdmin)i.mockUserToken&&hr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new jf(jf.OWNER);else if(i.mockUserToken){const l=typeof i.mockUserToken=="string"?i.mockUserToken:iR(i.mockUserToken,n.app.options.projectId);o=new jf(l)}L7(s,e,t,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F7(n){PV(Ro),vo(new va("database",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return V7(i,s,o,t)},"PUBLIC").setMultipleInstances(!0)),ps(JS,ex,n),ps(JS,ex,"esm2017")}lr.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};lr.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};F7();var H7="firebase",q7="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ps(H7,q7,"app");function hE(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t}function SI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const G7=SI,xI=new Lh("auth","Firebase",SI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp=new nm("@firebase/auth");function $7(n,...e){Sp.logLevel<=ze.WARN&&Sp.warn(`Auth (${Ro}): ${n}`,...e)}function Bf(n,...e){Sp.logLevel<=ze.ERROR&&Sp.error(`Auth (${Ro}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(n,...e){throw dE(n,...e)}function gs(n,...e){return dE(n,...e)}function CI(n,e,t){const i=Object.assign(Object.assign({},G7()),{[e]:t});return new Lh("auth","Firebase",i).create(e,{appName:n.name})}function ca(n){return CI(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dE(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return xI.create(n,...e)}function Ae(n,e,...t){if(!n)throw dE(e,...t)}function tr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Bf(e),new Error(e)}function dr(n,e){n||tr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function K7(){return Mx()==="http:"||Mx()==="https:"}function Mx(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(K7()||o5()||"connection"in navigator)?navigator.onLine:!0}function Y7(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,t){this.shortDelay=e,this.longDelay=t,dr(t>e,"Short delay should be less than long delay!"),this.isMobile=C0()||sR()}get(){return W7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(n,e){dr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X7=new zh(3e4,6e4);function Po(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ra(n,e,t,i,s={}){return RI(n,s,async()=>{let o={},l={};i&&(e==="GET"?l=i:o={body:JSON.stringify(i)});const c=hu(Object.assign({key:n.config.apiKey},l)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const f=Object.assign({method:e,headers:h},o);return a5()||(f.referrerPolicy="no-referrer"),AI.fetch()(II(n,n.config.apiHost,t,c),f)})}async function RI(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},Q7),e);try{const s=new J7(n),o=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw bf(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[h,f]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw bf(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw bf(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw bf(n,"user-disabled",l);const g=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw CI(n,g,f);Fi(n,g)}}catch(s){if(s instanceof gr)throw s;Fi(n,"network-request-failed",{message:String(s)})}}async function mm(n,e,t,i,s={}){const o=await Ra(n,e,t,i,s);return"mfaPendingCredential"in o&&Fi(n,"multi-factor-auth-required",{_serverResponse:o}),o}function II(n,e,t,i){const s=`${e}${t}?${i}`;return n.config.emulator?fE(n.config,s):`${n.config.apiScheme}://${s}`}function Z7(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class J7{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(gs(this.auth,"network-request-failed")),X7.get())})}}function bf(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const s=gs(n,e,i);return s.customData._tokenResponse=t,s}function Ox(n){return n!==void 0&&n.enterprise!==void 0}class e8{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Z7(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function t8(n,e){return Ra(n,"GET","/v2/recaptchaConfig",Po(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n8(n,e){return Ra(n,"POST","/v1/accounts:delete",e)}async function NI(n,e){return Ra(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function i8(n,e=!1){const t=St(n),i=await t.getIdToken(e),s=pE(i);Ae(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:s,token:i,authTime:Zc(py(s.auth_time)),issuedAtTime:Zc(py(s.iat)),expirationTime:Zc(py(s.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function py(n){return Number(n)*1e3}function pE(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Bf("JWT malformed, contained fewer than 3 sections"),null;try{const s=op(t);return s?JSON.parse(s):(Bf("Failed to decode base64 JWT payload"),null)}catch(s){return Bf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function kx(n){const e=pE(n);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wh(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof gr&&s8(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function s8({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zc(this.lastLoginAt),this.creationTime=Zc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xp(n){var e;const t=n.auth,i=await n.getIdToken(),s=await wh(n,NI(t,{idToken:i}));Ae(s==null?void 0:s.users.length,t,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?PI(o.providerUserInfo):[],c=o8(n.providerData,l),h=n.isAnonymous,f=!(n.email&&o.passwordHash)&&!(c!=null&&c.length),g=h?f:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new f_(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,y)}async function a8(n){const e=St(n);await xp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function o8(n,e){return[...n.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function PI(n){return n.map(e=>{var{providerId:t}=e,i=hE(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l8(n,e){const t=await RI(n,{},async()=>{const i=hu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,l=II(n,s,"/v1/token",`key=${o}`),c=await n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",AI.fetch()(l,{method:"POST",headers:c,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function u8(n,e){return Ra(n,"POST","/v2/accounts:revokeToken",Po(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):kx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const t=kx(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:s,expiresIn:o}=await l8(e,t);this.updateTokensAndExpiration(i,s,Number(o))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:s,expirationTime:o}=t,l=new Vl;return i&&(Ae(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),s&&(Ae(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),o&&(Ae(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vl,this.toJSON())}_performRefresh(){return tr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(n,e){Ae(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class nr{constructor(e){var{uid:t,auth:i,stsTokenManager:s}=e,o=hE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new r8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new f_(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await wh(this,this.stsTokenManager.getToken(this.auth,e));return Ae(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return i8(this,e)}reload(){return a8(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new nr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await xp(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xi(this.auth.app))return Promise.reject(ca(this.auth));const e=await this.getIdToken();return await wh(this,n8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,s,o,l,c,h,f,g;const y=(i=t.displayName)!==null&&i!==void 0?i:void 0,_=(s=t.email)!==null&&s!==void 0?s:void 0,T=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,x=(l=t.photoURL)!==null&&l!==void 0?l:void 0,D=(c=t.tenantId)!==null&&c!==void 0?c:void 0,j=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,P=(f=t.createdAt)!==null&&f!==void 0?f:void 0,I=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:L,emailVerified:q,isAnonymous:H,providerData:Z,stsTokenManager:O}=t;Ae(L&&O,e,"internal-error");const A=Vl.fromJSON(this.name,O);Ae(typeof L=="string",e,"internal-error"),Zr(y,e.name),Zr(_,e.name),Ae(typeof q=="boolean",e,"internal-error"),Ae(typeof H=="boolean",e,"internal-error"),Zr(T,e.name),Zr(x,e.name),Zr(D,e.name),Zr(j,e.name),Zr(P,e.name),Zr(I,e.name);const C=new nr({uid:L,auth:e,email:_,emailVerified:q,displayName:y,isAnonymous:H,photoURL:x,phoneNumber:T,tenantId:D,stsTokenManager:A,createdAt:P,lastLoginAt:I});return Z&&Array.isArray(Z)&&(C.providerData=Z.map(R=>Object.assign({},R))),j&&(C._redirectEventId=j),C}static async _fromIdTokenResponse(e,t,i=!1){const s=new Vl;s.updateFromServerResponse(t);const o=new nr({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await xp(o),o}static async _fromGetAccountInfoResponse(e,t,i){const s=t.users[0];Ae(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?PI(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),c=new Vl;c.updateFromIdToken(i);const h=new nr({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:l}),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new f_(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx=new Map;function ir(n){dr(n instanceof Function,"Expected a class definition");let e=Lx.get(n);return e?(dr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Lx.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}DI.type="NONE";const Vx=DI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(n,e,t){return`firebase:${n}:${e}:${t}`}class jl{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:s,name:o}=this.auth;this.fullUserKey=zf(this.userKey,s.apiKey,o),this.fullPersistenceKey=zf("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?nr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new jl(ir(Vx),e,i);const s=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=s[0]||ir(Vx);const l=zf(i,e.config.apiKey,e.name);let c=null;for(const f of t)try{const g=await f._get(l);if(g){const y=nr._fromJSON(e,g);f!==o&&(c=y),o=f;break}}catch{}const h=s.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new jl(o,e,i):(o=h[0],c&&await o._set(l,c.toJSON()),await Promise.all(t.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new jl(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(LI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(MI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jI(e))return"Blackberry";if(UI(e))return"Webos";if(OI(e))return"Safari";if((e.includes("chrome/")||kI(e))&&!e.includes("edge/"))return"Chrome";if(VI(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function MI(n=Mn()){return/firefox\//i.test(n)}function OI(n=Mn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kI(n=Mn()){return/crios\//i.test(n)}function LI(n=Mn()){return/iemobile/i.test(n)}function VI(n=Mn()){return/android/i.test(n)}function jI(n=Mn()){return/blackberry/i.test(n)}function UI(n=Mn()){return/webos/i.test(n)}function mE(n=Mn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function c8(n=Mn()){var e;return mE(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function h8(){return l5()&&document.documentMode===10}function BI(n=Mn()){return mE(n)||VI(n)||UI(n)||jI(n)||/windows phone/i.test(n)||LI(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(n,e=[]){let t;switch(n){case"Browser":t=jx(Mn());break;case"Worker":t=`${jx(Mn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ro}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=o=>new Promise((l,c)=>{try{const h=e(o);l(h)}catch(h){c(h)}});i.onAbort=t,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f8(n,e={}){return Ra(n,"GET","/v2/passwordPolicy",Po(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p8=6;class m8{constructor(e){var t,i,s,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:p8,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,s,o,l,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8{constructor(e,t,i,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ux(this),this.idTokenSubscription=new Ux(this),this.beforeStateQueue=new d8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ir(t)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await jl.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await NI(this,{idToken:e}),i=await nr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(xi(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=s==null?void 0:s._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&(h!=null&&h.user)&&(s=h.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await xp(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Y7()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xi(this.app))return Promise.reject(ca(this));const t=e?St(e):null;return t&&Ae(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xi(this.app)?Promise.reject(ca(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xi(this.app)?Promise.reject(ca(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ir(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await f8(this),t=new m8(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Lh("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await u8(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ir(e)||this._popupRedirectResolver;Ae(t,this,"argument-error"),this.redirectPersistenceManager=await jl.create(this,[ir(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,s){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,i,s);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(xi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&$7(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function mu(n){return St(n)}class Ux{constructor(e){this.auth=e,this.observer=null,this.addObserver=_5(t=>this.observer=t)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function v8(n){gm=n}function FI(n){return gm.loadJS(n)}function y8(){return gm.recaptchaEnterpriseScript}function _8(){return gm.gapiScript}function E8(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class w8{constructor(){this.enterprise=new T8}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class T8{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const b8="recaptcha-enterprise",HI="NO_RECAPTCHA";class S8{constructor(e){this.type=b8,this.auth=mu(e)}async verify(e="verify",t=!1){async function i(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{t8(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new e8(h);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,l(f.siteKey)}}).catch(h=>{c(h)})})}function s(o,l,c){const h=window.grecaptcha;Ox(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(f=>{l(f)}).catch(()=>{l(HI)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new w8().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{i(this.auth).then(c=>{if(!t&&Ox(window.grecaptcha))s(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=y8();h.length!==0&&(h+=c),FI(h).then(()=>{s(c,o,l)}).catch(f=>{l(f)})}}).catch(c=>{l(c)})})}}async function Bx(n,e,t,i=!1,s=!1){const o=new S8(n);let l;if(s)l=HI;else try{l=await o.verify(t)}catch{l=await o.verify(t,!0)}const c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const h=c.phoneEnrollmentInfo.phoneNumber,f=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const h=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return i?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function zx(n,e,t,i,s){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Bx(n,e,t,t==="getOobCode");return i(n,l)}else return i(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Bx(n,e,t,t==="getOobCode");return i(n,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x8(n,e){const t=im(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),o=t.getOptions();if(up(o,e??{}))return s;Fi(s,"already-initialized")}return t.initialize({options:e})}function C8(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(ir);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function A8(n,e,t){const i=mu(n);Ae(i._canInitEmulator,i,"emulator-config-failed"),Ae(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,o=qI(e),{host:l,port:c}=R8(e),h=c===null?"":`:${c}`;i.config.emulator={url:`${o}//${l}${h}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})}),I8()}function qI(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function R8(n){const e=qI(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const o=s[1];return{host:o,port:Fx(i.substr(o.length+1))}}else{const[o,l]=i.split(":");return{host:o,port:Fx(l)}}}function Fx(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function I8(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return tr("not implemented")}_getIdTokenResponse(e){return tr("not implemented")}_linkToIdToken(e,t){return tr("not implemented")}_getReauthenticationResolver(e){return tr("not implemented")}}async function N8(n,e){return Ra(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P8(n,e){return mm(n,"POST","/v1/accounts:signInWithPassword",Po(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D8(n,e){return mm(n,"POST","/v1/accounts:signInWithEmailLink",Po(n,e))}async function M8(n,e){return mm(n,"POST","/v1/accounts:signInWithEmailLink",Po(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th extends gE{constructor(e,t,i,s=null){super("password",i),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Th(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Th(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zx(e,t,"signInWithPassword",P8);case"emailLink":return D8(e,{email:this._email,oobCode:this._password});default:Fi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zx(e,i,"signUpPassword",N8);case"emailLink":return M8(e,{idToken:t,email:this._email,oobCode:this._password});default:Fi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ul(n,e){return mm(n,"POST","/v1/accounts:signInWithIdp",Po(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O8="http://localhost";class To extends gE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new To(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Fi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=t,o=hE(t,["providerId","signInMethod"]);if(!i||!s)return null;const l=new To(i,s);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Ul(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Ul(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ul(e,t)}buildRequest(){const e={requestUri:O8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=hu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k8(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function L8(n){const e=jc(Uc(n)).link,t=e?jc(Uc(e)).deep_link_id:null,i=jc(Uc(n)).deep_link_id;return(i?jc(Uc(i)).link:null)||i||t||e||n}class vE{constructor(e){var t,i,s,o,l,c;const h=jc(Uc(e)),f=(t=h.apiKey)!==null&&t!==void 0?t:null,g=(i=h.oobCode)!==null&&i!==void 0?i:null,y=k8((s=h.mode)!==null&&s!==void 0?s:null);Ae(f&&g&&y,"argument-error"),this.apiKey=f,this.operation=y,this.code=g,this.continueUrl=(o=h.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=h.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=h.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=L8(e);try{return new vE(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(){this.providerId=gu.PROVIDER_ID}static credential(e,t){return Th._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=vE.parseLink(t);return Ae(i,"argument-error"),Th._fromEmailAndCode(e,i.code,i.tenantId)}}gu.PROVIDER_ID="password";gu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";gu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh extends GI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea extends Fh{constructor(){super("facebook.com")}static credential(e){return To._fromParams({providerId:ea.PROVIDER_ID,signInMethod:ea.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ea.credentialFromTaggedObject(e)}static credentialFromError(e){return ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ea.credential(e.oauthAccessToken)}catch{return null}}}ea.FACEBOOK_SIGN_IN_METHOD="facebook.com";ea.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta extends Fh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return To._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ta.credentialFromTaggedObject(e)}static credentialFromError(e){return ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return ta.credential(t,i)}catch{return null}}}ta.GOOGLE_SIGN_IN_METHOD="google.com";ta.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na extends Fh{constructor(){super("github.com")}static credential(e){return To._fromParams({providerId:na.PROVIDER_ID,signInMethod:na.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return na.credentialFromTaggedObject(e)}static credentialFromError(e){return na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return na.credential(e.oauthAccessToken)}catch{return null}}}na.GITHUB_SIGN_IN_METHOD="github.com";na.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia extends Fh{constructor(){super("twitter.com")}static credential(e,t){return To._fromParams({providerId:ia.PROVIDER_ID,signInMethod:ia.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ia.credentialFromTaggedObject(e)}static credentialFromError(e){return ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return ia.credential(t,i)}catch{return null}}}ia.TWITTER_SIGN_IN_METHOD="twitter.com";ia.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,s=!1){const o=await nr._fromIdTokenResponse(e,i,s),l=Hx(i);return new Xl({user:o,providerId:l,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const s=Hx(i);return new Xl({user:e,providerId:s,_tokenResponse:i,operationType:t})}}function Hx(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp extends gr{constructor(e,t,i,s){var o;super(t.code,t.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Cp.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,s){return new Cp(e,t,i,s)}}function $I(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Cp._fromErrorAndOperation(n,o,e,i):o})}async function V8(n,e,t=!1){const i=await wh(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Xl._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j8(n,e,t=!1){const{auth:i}=n;if(xi(i.app))return Promise.reject(ca(i));const s="reauthenticate";try{const o=await wh(n,$I(i,s,e,n),t);Ae(o.idToken,i,"internal-error");const l=pE(o.idToken);Ae(l,i,"internal-error");const{sub:c}=l;return Ae(n.uid===c,i,"user-mismatch"),Xl._forOperation(n,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Fi(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KI(n,e,t=!1){if(xi(n.app))return Promise.reject(ca(n));const i="signIn",s=await $I(n,i,e),o=await Xl._fromIdTokenResponse(n,i,s);return t||await n._updateCurrentUser(o.user),o}async function U8(n,e){return KI(mu(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B8(n){const e=mu(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function z8(n,e,t){return xi(n.app)?Promise.reject(ca(n)):U8(St(n),gu.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&B8(n),i})}function F8(n,e,t,i){return St(n).onIdTokenChanged(e,t,i)}function H8(n,e,t){return St(n).beforeAuthStateChanged(e,t)}function vm(n,e,t,i){return St(n).onAuthStateChanged(e,t,i)}function ym(n){return St(n).signOut()}const Ap="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ap,"1"),this.storage.removeItem(Ap),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q8=1e3,G8=10;class YI extends WI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=BI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),s=this.localCache[t];i!==s&&e(t,s,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const i=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(i);!t&&this.localCache[i]===l||this.notifyListeners(i,l)},o=this.storage.getItem(i);h8()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,G8):s()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},q8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}YI.type="LOCAL";const $8=YI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI extends WI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}QI.type="SESSION";const XI=QI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K8(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const i=new _m(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:s,data:o}=t.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const c=Array.from(l).map(async f=>f(t.origin,o)),h=await K8(c);t.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_m.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W8{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,l;return new Promise((c,h)=>{const f=yE("",20);s.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},i);l={messageChannel:s,onMessage(y){const _=y;if(_.data.eventId===f)switch(_.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(_.data.response);break;default:clearTimeout(g),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(){return window}function Y8(n){vs().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(){return typeof vs().WorkerGlobalScope<"u"&&typeof vs().importScripts=="function"}async function Q8(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function X8(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Z8(){return ZI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI="firebaseLocalStorageDb",J8=1,Rp="firebaseLocalStorage",eN="fbase_key";class Hh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Em(n,e){return n.transaction([Rp],e?"readwrite":"readonly").objectStore(Rp)}function eU(){const n=indexedDB.deleteDatabase(JI);return new Hh(n).toPromise()}function p_(){const n=indexedDB.open(JI,J8);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Rp,{keyPath:eN})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Rp)?e(i):(i.close(),await eU(),e(await p_()))})})}async function qx(n,e,t){const i=Em(n,!0).put({[eN]:e,value:t});return new Hh(i).toPromise()}async function tU(n,e){const t=Em(n,!1).get(e),i=await new Hh(t).toPromise();return i===void 0?null:i.value}function Gx(n,e){const t=Em(n,!0).delete(e);return new Hh(t).toPromise()}const nU=800,iU=3;class tN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await p_(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>iU)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_m._getInstance(Z8()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Q8(),!this.activeServiceWorker)return;this.sender=new W8(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||X8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await p_();return await qx(e,Ap,"1"),await Gx(e,Ap),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>qx(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>tU(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Gx(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=Em(s,!1).getAll();return new Hh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tN.type="LOCAL";const sU=tN;new zh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rU(n,e){return e?ir(e):(Ae(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E extends gE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ul(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ul(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ul(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function aU(n){return KI(n.auth,new _E(n),n.bypassAuthState)}function oU(n){const{auth:e,user:t}=n;return Ae(t,e,"internal-error"),j8(t,new _E(n),n.bypassAuthState)}async function lU(n){const{auth:e,user:t}=n;return Ae(t,e,"internal-error"),V8(t,new _E(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e,t,i,s,o=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:s,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aU;case"linkViaPopup":case"linkViaRedirect":return lU;case"reauthViaPopup":case"reauthViaRedirect":return oU;default:Fi(this.auth,"internal-error")}}resolve(e){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uU=new zh(2e3,1e4);class Ml extends nN{constructor(e,t,i,s,o){super(e,t,s,o),this.provider=i,this.authWindow=null,this.pollId=null,Ml.currentPopupAction&&Ml.currentPopupAction.cancel(),Ml.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){dr(this.filter.length===1,"Popup operations only handle one event");const e=yE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(gs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(gs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ml.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uU.get())};e()}}Ml.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cU="pendingRedirect",Ff=new Map;class hU extends nN{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Ff.get(this.auth._key());if(!e){try{const i=await dU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Ff.set(this.auth._key(),e)}return this.bypassAuthState||Ff.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dU(n,e){const t=mU(e),i=pU(n);if(!await i._isAvailable())return!1;const s=await i._get(t)==="true";return await i._remove(t),s}function fU(n,e){Ff.set(n._key(),e)}function pU(n){return ir(n._redirectPersistence)}function mU(n){return zf(cU,n.config.apiKey,n.name)}async function gU(n,e,t=!1){if(xi(n.app))return Promise.reject(ca(n));const i=mu(n),s=rU(i,e),l=await new hU(i,s,t).execute();return l&&!t&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vU=10*60*1e3;class yU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_U(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!iN(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(gs(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vU&&this.cachedEventUids.clear(),this.cachedEventUids.has($x(e))}saveEventToCache(e){this.cachedEventUids.add($x(e)),this.lastProcessedEventTime=Date.now()}}function $x(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function iN({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _U(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iN(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EU(n,e={}){return Ra(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TU=/^https?/;async function bU(n){if(n.config.emulator)return;const{authorizedDomains:e}=await EU(n);for(const t of e)try{if(SU(t))return}catch{}Fi(n,"unauthorized-domain")}function SU(n){const e=d_(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===i}if(!TU.test(t))return!1;if(wU.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xU=new zh(3e4,6e4);function Kx(){const n=vs().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function CU(n){return new Promise((e,t)=>{var i,s,o;function l(){Kx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Kx(),t(gs(n,"network-request-failed"))},timeout:xU.get()})}if(!((s=(i=vs().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=vs().gapi)===null||o===void 0)&&o.load)l();else{const c=E8("iframefcb");return vs()[c]=()=>{gapi.load?l():t(gs(n,"network-request-failed"))},FI(`${_8()}?onload=${c}`).catch(h=>t(h))}}).catch(e=>{throw Hf=null,e})}let Hf=null;function AU(n){return Hf=Hf||CU(n),Hf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU=new zh(5e3,15e3),IU="__/auth/iframe",NU="emulator/auth/iframe",PU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MU(n){const e=n.config;Ae(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?fE(e,NU):`https://${n.config.authDomain}/${IU}`,i={apiKey:e.apiKey,appName:n.name,v:Ro},s=DU.get(n.config.apiHost);s&&(i.eid=s);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${hu(i).slice(1)}`}async function OU(n){const e=await AU(n),t=vs().gapi;return Ae(t,n,"internal-error"),e.open({where:document.body,url:MU(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PU,dontclear:!0},i=>new Promise(async(s,o)=>{await i.restyle({setHideOnLeave:!1});const l=gs(n,"network-request-failed"),c=vs().setTimeout(()=>{o(l)},RU.get());function h(){vs().clearTimeout(c),s(i)}i.ping(h).then(h,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LU=500,VU=600,jU="_blank",UU="http://localhost";class Wx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BU(n,e,t,i=LU,s=VU){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const h=Object.assign(Object.assign({},kU),{width:i.toString(),height:s.toString(),top:o,left:l}),f=Mn().toLowerCase();t&&(c=kI(f)?jU:t),MI(f)&&(e=e||UU,h.scrollbars="yes");const g=Object.entries(h).reduce((_,[T,x])=>`${_}${T}=${x},`,"");if(c8(f)&&c!=="_self")return zU(e||"",c),new Wx(null);const y=window.open(e||"",c,g);Ae(y,n,"popup-blocked");try{y.focus()}catch{}return new Wx(y)}function zU(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FU="__/auth/handler",HU="emulator/auth/handler",qU=encodeURIComponent("fac");async function Yx(n,e,t,i,s,o){Ae(n.config.authDomain,n,"auth-domain-config-required"),Ae(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Ro,eventId:s};if(e instanceof GI){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",Gy(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,y]of Object.entries({}))l[g]=y}if(e instanceof Fh){const g=e.getScopes().filter(y=>y!=="");g.length>0&&(l.scopes=g.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const h=await n._getAppCheckToken(),f=h?`#${qU}=${encodeURIComponent(h)}`:"";return`${GU(n)}?${hu(c).slice(1)}${f}`}function GU({config:n}){return n.emulator?fE(n,HU):`https://${n.authDomain}/${FU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my="webStorageSupport";class $U{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=XI,this._completeRedirectFn=gU,this._overrideRedirectResult=fU}async _openPopup(e,t,i,s){var o;dr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await Yx(e,t,i,d_(),s);return BU(e,l,yE())}async _openRedirect(e,t,i,s){await this._originValidation(e);const o=await Yx(e,t,i,d_(),s);return Y8(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(dr(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await OU(e),i=new yU(e);return t.register("authEvent",s=>(Ae(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(my,{type:my},s=>{var o;const l=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[my];l!==void 0&&t(!!l),Fi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=bU(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return BI()||OI()||mE()}}const KU=$U;var Qx="@firebase/auth",Xx="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YU(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QU(n){vo(new va("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=i.options;Ae(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zI(n)},f=new g8(i,s,o,h);return C8(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),vo(new va("auth-internal",e=>{const t=mu(e.getProvider("auth").getImmediate());return(i=>new WU(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ps(Qx,Xx,YU(n)),ps(Qx,Xx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XU=5*60,ZU=nR("authIdTokenMaxAge")||XU;let Zx=null;const JU=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>ZU)return;const s=t==null?void 0:t.token;Zx!==s&&(Zx=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function fr(n=R0()){const e=im(n,"auth");if(e.isInitialized())return e.getImmediate();const t=x8(n,{popupRedirectResolver:KU,persistence:[sU,$8,XI]}),i=nR("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const l=JU(o.toString());H8(t,l,()=>l(t.currentUser)),F8(t,c=>l(c))}}const s=JA("auth");return s&&A8(t,`http://${s}`),t}function eB(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}v8({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=s=>{const o=gs("internal-error");o.customData=s,t(o)},i.type="text/javascript",i.charset="UTF-8",eB().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QU("Browser");var Jx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ha,sN;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,A){function C(){}C.prototype=A.prototype,O.D=A.prototype,O.prototype=new C,O.prototype.constructor=O,O.C=function(R,k,B){for(var V=Array(arguments.length-2),he=2;he<arguments.length;he++)V[he-2]=arguments[he];return A.prototype[k].apply(R,V)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(O,A,C){C||(C=0);var R=Array(16);if(typeof A=="string")for(var k=0;16>k;++k)R[k]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(k=0;16>k;++k)R[k]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=O.g[0],C=O.g[1],k=O.g[2];var B=O.g[3],V=A+(B^C&(k^B))+R[0]+3614090360&4294967295;A=C+(V<<7&4294967295|V>>>25),V=B+(k^A&(C^k))+R[1]+3905402710&4294967295,B=A+(V<<12&4294967295|V>>>20),V=k+(C^B&(A^C))+R[2]+606105819&4294967295,k=B+(V<<17&4294967295|V>>>15),V=C+(A^k&(B^A))+R[3]+3250441966&4294967295,C=k+(V<<22&4294967295|V>>>10),V=A+(B^C&(k^B))+R[4]+4118548399&4294967295,A=C+(V<<7&4294967295|V>>>25),V=B+(k^A&(C^k))+R[5]+1200080426&4294967295,B=A+(V<<12&4294967295|V>>>20),V=k+(C^B&(A^C))+R[6]+2821735955&4294967295,k=B+(V<<17&4294967295|V>>>15),V=C+(A^k&(B^A))+R[7]+4249261313&4294967295,C=k+(V<<22&4294967295|V>>>10),V=A+(B^C&(k^B))+R[8]+1770035416&4294967295,A=C+(V<<7&4294967295|V>>>25),V=B+(k^A&(C^k))+R[9]+2336552879&4294967295,B=A+(V<<12&4294967295|V>>>20),V=k+(C^B&(A^C))+R[10]+4294925233&4294967295,k=B+(V<<17&4294967295|V>>>15),V=C+(A^k&(B^A))+R[11]+2304563134&4294967295,C=k+(V<<22&4294967295|V>>>10),V=A+(B^C&(k^B))+R[12]+1804603682&4294967295,A=C+(V<<7&4294967295|V>>>25),V=B+(k^A&(C^k))+R[13]+4254626195&4294967295,B=A+(V<<12&4294967295|V>>>20),V=k+(C^B&(A^C))+R[14]+2792965006&4294967295,k=B+(V<<17&4294967295|V>>>15),V=C+(A^k&(B^A))+R[15]+1236535329&4294967295,C=k+(V<<22&4294967295|V>>>10),V=A+(k^B&(C^k))+R[1]+4129170786&4294967295,A=C+(V<<5&4294967295|V>>>27),V=B+(C^k&(A^C))+R[6]+3225465664&4294967295,B=A+(V<<9&4294967295|V>>>23),V=k+(A^C&(B^A))+R[11]+643717713&4294967295,k=B+(V<<14&4294967295|V>>>18),V=C+(B^A&(k^B))+R[0]+3921069994&4294967295,C=k+(V<<20&4294967295|V>>>12),V=A+(k^B&(C^k))+R[5]+3593408605&4294967295,A=C+(V<<5&4294967295|V>>>27),V=B+(C^k&(A^C))+R[10]+38016083&4294967295,B=A+(V<<9&4294967295|V>>>23),V=k+(A^C&(B^A))+R[15]+3634488961&4294967295,k=B+(V<<14&4294967295|V>>>18),V=C+(B^A&(k^B))+R[4]+3889429448&4294967295,C=k+(V<<20&4294967295|V>>>12),V=A+(k^B&(C^k))+R[9]+568446438&4294967295,A=C+(V<<5&4294967295|V>>>27),V=B+(C^k&(A^C))+R[14]+3275163606&4294967295,B=A+(V<<9&4294967295|V>>>23),V=k+(A^C&(B^A))+R[3]+4107603335&4294967295,k=B+(V<<14&4294967295|V>>>18),V=C+(B^A&(k^B))+R[8]+1163531501&4294967295,C=k+(V<<20&4294967295|V>>>12),V=A+(k^B&(C^k))+R[13]+2850285829&4294967295,A=C+(V<<5&4294967295|V>>>27),V=B+(C^k&(A^C))+R[2]+4243563512&4294967295,B=A+(V<<9&4294967295|V>>>23),V=k+(A^C&(B^A))+R[7]+1735328473&4294967295,k=B+(V<<14&4294967295|V>>>18),V=C+(B^A&(k^B))+R[12]+2368359562&4294967295,C=k+(V<<20&4294967295|V>>>12),V=A+(C^k^B)+R[5]+4294588738&4294967295,A=C+(V<<4&4294967295|V>>>28),V=B+(A^C^k)+R[8]+2272392833&4294967295,B=A+(V<<11&4294967295|V>>>21),V=k+(B^A^C)+R[11]+1839030562&4294967295,k=B+(V<<16&4294967295|V>>>16),V=C+(k^B^A)+R[14]+4259657740&4294967295,C=k+(V<<23&4294967295|V>>>9),V=A+(C^k^B)+R[1]+2763975236&4294967295,A=C+(V<<4&4294967295|V>>>28),V=B+(A^C^k)+R[4]+1272893353&4294967295,B=A+(V<<11&4294967295|V>>>21),V=k+(B^A^C)+R[7]+4139469664&4294967295,k=B+(V<<16&4294967295|V>>>16),V=C+(k^B^A)+R[10]+3200236656&4294967295,C=k+(V<<23&4294967295|V>>>9),V=A+(C^k^B)+R[13]+681279174&4294967295,A=C+(V<<4&4294967295|V>>>28),V=B+(A^C^k)+R[0]+3936430074&4294967295,B=A+(V<<11&4294967295|V>>>21),V=k+(B^A^C)+R[3]+3572445317&4294967295,k=B+(V<<16&4294967295|V>>>16),V=C+(k^B^A)+R[6]+76029189&4294967295,C=k+(V<<23&4294967295|V>>>9),V=A+(C^k^B)+R[9]+3654602809&4294967295,A=C+(V<<4&4294967295|V>>>28),V=B+(A^C^k)+R[12]+3873151461&4294967295,B=A+(V<<11&4294967295|V>>>21),V=k+(B^A^C)+R[15]+530742520&4294967295,k=B+(V<<16&4294967295|V>>>16),V=C+(k^B^A)+R[2]+3299628645&4294967295,C=k+(V<<23&4294967295|V>>>9),V=A+(k^(C|~B))+R[0]+4096336452&4294967295,A=C+(V<<6&4294967295|V>>>26),V=B+(C^(A|~k))+R[7]+1126891415&4294967295,B=A+(V<<10&4294967295|V>>>22),V=k+(A^(B|~C))+R[14]+2878612391&4294967295,k=B+(V<<15&4294967295|V>>>17),V=C+(B^(k|~A))+R[5]+4237533241&4294967295,C=k+(V<<21&4294967295|V>>>11),V=A+(k^(C|~B))+R[12]+1700485571&4294967295,A=C+(V<<6&4294967295|V>>>26),V=B+(C^(A|~k))+R[3]+2399980690&4294967295,B=A+(V<<10&4294967295|V>>>22),V=k+(A^(B|~C))+R[10]+4293915773&4294967295,k=B+(V<<15&4294967295|V>>>17),V=C+(B^(k|~A))+R[1]+2240044497&4294967295,C=k+(V<<21&4294967295|V>>>11),V=A+(k^(C|~B))+R[8]+1873313359&4294967295,A=C+(V<<6&4294967295|V>>>26),V=B+(C^(A|~k))+R[15]+4264355552&4294967295,B=A+(V<<10&4294967295|V>>>22),V=k+(A^(B|~C))+R[6]+2734768916&4294967295,k=B+(V<<15&4294967295|V>>>17),V=C+(B^(k|~A))+R[13]+1309151649&4294967295,C=k+(V<<21&4294967295|V>>>11),V=A+(k^(C|~B))+R[4]+4149444226&4294967295,A=C+(V<<6&4294967295|V>>>26),V=B+(C^(A|~k))+R[11]+3174756917&4294967295,B=A+(V<<10&4294967295|V>>>22),V=k+(A^(B|~C))+R[2]+718787259&4294967295,k=B+(V<<15&4294967295|V>>>17),V=C+(B^(k|~A))+R[9]+3951481745&4294967295,O.g[0]=O.g[0]+A&4294967295,O.g[1]=O.g[1]+(k+(V<<21&4294967295|V>>>11))&4294967295,O.g[2]=O.g[2]+k&4294967295,O.g[3]=O.g[3]+B&4294967295}i.prototype.u=function(O,A){A===void 0&&(A=O.length);for(var C=A-this.blockSize,R=this.B,k=this.h,B=0;B<A;){if(k==0)for(;B<=C;)s(this,O,B),B+=this.blockSize;if(typeof O=="string"){for(;B<A;)if(R[k++]=O.charCodeAt(B++),k==this.blockSize){s(this,R),k=0;break}}else for(;B<A;)if(R[k++]=O[B++],k==this.blockSize){s(this,R),k=0;break}}this.h=k,this.o+=A},i.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var A=1;A<O.length-8;++A)O[A]=0;var C=8*this.o;for(A=O.length-8;A<O.length;++A)O[A]=C&255,C/=256;for(this.u(O),O=Array(16),A=C=0;4>A;++A)for(var R=0;32>R;R+=8)O[C++]=this.g[A]>>>R&255;return O};function o(O,A){var C=c;return Object.prototype.hasOwnProperty.call(C,O)?C[O]:C[O]=A(O)}function l(O,A){this.h=A;for(var C=[],R=!0,k=O.length-1;0<=k;k--){var B=O[k]|0;R&&B==A||(C[k]=B,R=!1)}this.g=C}var c={};function h(O){return-128<=O&&128>O?o(O,function(A){return new l([A|0],0>A?-1:0)}):new l([O|0],0>O?-1:0)}function f(O){if(isNaN(O)||!isFinite(O))return y;if(0>O)return j(f(-O));for(var A=[],C=1,R=0;O>=C;R++)A[R]=O/C|0,C*=4294967296;return new l(A,0)}function g(O,A){if(O.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(O.charAt(0)=="-")return j(g(O.substring(1),A));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=f(Math.pow(A,8)),R=y,k=0;k<O.length;k+=8){var B=Math.min(8,O.length-k),V=parseInt(O.substring(k,k+B),A);8>B?(B=f(Math.pow(A,B)),R=R.j(B).add(f(V))):(R=R.j(C),R=R.add(f(V)))}return R}var y=h(0),_=h(1),T=h(16777216);n=l.prototype,n.m=function(){if(D(this))return-j(this).m();for(var O=0,A=1,C=0;C<this.g.length;C++){var R=this.i(C);O+=(0<=R?R:4294967296+R)*A,A*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(x(this))return"0";if(D(this))return"-"+j(this).toString(O);for(var A=f(Math.pow(O,6)),C=this,R="";;){var k=q(C,A).g;C=P(C,k.j(A));var B=((0<C.g.length?C.g[0]:C.h)>>>0).toString(O);if(C=k,x(C))return B+R;for(;6>B.length;)B="0"+B;R=B+R}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function x(O){if(O.h!=0)return!1;for(var A=0;A<O.g.length;A++)if(O.g[A]!=0)return!1;return!0}function D(O){return O.h==-1}n.l=function(O){return O=P(this,O),D(O)?-1:x(O)?0:1};function j(O){for(var A=O.g.length,C=[],R=0;R<A;R++)C[R]=~O.g[R];return new l(C,~O.h).add(_)}n.abs=function(){return D(this)?j(this):this},n.add=function(O){for(var A=Math.max(this.g.length,O.g.length),C=[],R=0,k=0;k<=A;k++){var B=R+(this.i(k)&65535)+(O.i(k)&65535),V=(B>>>16)+(this.i(k)>>>16)+(O.i(k)>>>16);R=V>>>16,B&=65535,V&=65535,C[k]=V<<16|B}return new l(C,C[C.length-1]&-2147483648?-1:0)};function P(O,A){return O.add(j(A))}n.j=function(O){if(x(this)||x(O))return y;if(D(this))return D(O)?j(this).j(j(O)):j(j(this).j(O));if(D(O))return j(this.j(j(O)));if(0>this.l(T)&&0>O.l(T))return f(this.m()*O.m());for(var A=this.g.length+O.g.length,C=[],R=0;R<2*A;R++)C[R]=0;for(R=0;R<this.g.length;R++)for(var k=0;k<O.g.length;k++){var B=this.i(R)>>>16,V=this.i(R)&65535,he=O.i(k)>>>16,ye=O.i(k)&65535;C[2*R+2*k]+=V*ye,I(C,2*R+2*k),C[2*R+2*k+1]+=B*ye,I(C,2*R+2*k+1),C[2*R+2*k+1]+=V*he,I(C,2*R+2*k+1),C[2*R+2*k+2]+=B*he,I(C,2*R+2*k+2)}for(R=0;R<A;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=A;R<2*A;R++)C[R]=0;return new l(C,0)};function I(O,A){for(;(O[A]&65535)!=O[A];)O[A+1]+=O[A]>>>16,O[A]&=65535,A++}function L(O,A){this.g=O,this.h=A}function q(O,A){if(x(A))throw Error("division by zero");if(x(O))return new L(y,y);if(D(O))return A=q(j(O),A),new L(j(A.g),j(A.h));if(D(A))return A=q(O,j(A)),new L(j(A.g),A.h);if(30<O.g.length){if(D(O)||D(A))throw Error("slowDivide_ only works with positive integers.");for(var C=_,R=A;0>=R.l(O);)C=H(C),R=H(R);var k=Z(C,1),B=Z(R,1);for(R=Z(R,2),C=Z(C,2);!x(R);){var V=B.add(R);0>=V.l(O)&&(k=k.add(C),B=V),R=Z(R,1),C=Z(C,1)}return A=P(O,k.j(A)),new L(k,A)}for(k=y;0<=O.l(A);){for(C=Math.max(1,Math.floor(O.m()/A.m())),R=Math.ceil(Math.log(C)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),B=f(C),V=B.j(A);D(V)||0<V.l(O);)C-=R,B=f(C),V=B.j(A);x(B)&&(B=_),k=k.add(B),O=P(O,V)}return new L(k,O)}n.A=function(O){return q(this,O).h},n.and=function(O){for(var A=Math.max(this.g.length,O.g.length),C=[],R=0;R<A;R++)C[R]=this.i(R)&O.i(R);return new l(C,this.h&O.h)},n.or=function(O){for(var A=Math.max(this.g.length,O.g.length),C=[],R=0;R<A;R++)C[R]=this.i(R)|O.i(R);return new l(C,this.h|O.h)},n.xor=function(O){for(var A=Math.max(this.g.length,O.g.length),C=[],R=0;R<A;R++)C[R]=this.i(R)^O.i(R);return new l(C,this.h^O.h)};function H(O){for(var A=O.g.length+1,C=[],R=0;R<A;R++)C[R]=O.i(R)<<1|O.i(R-1)>>>31;return new l(C,O.h)}function Z(O,A){var C=A>>5;A%=32;for(var R=O.g.length-C,k=[],B=0;B<R;B++)k[B]=0<A?O.i(B+C)>>>A|O.i(B+C+1)<<32-A:O.i(B+C);return new l(k,O.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,sN=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=g,ha=l}).apply(typeof Jx<"u"?Jx:typeof self<"u"?self:typeof window<"u"?window:{});var Sf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rN,zc,aN,qf,m_,oN,lN,uN;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,E,b){return p==Array.prototype||p==Object.prototype||(p[E]=b.value),p};function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sf=="object"&&Sf];for(var E=0;E<p.length;++E){var b=p[E];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var i=t(this);function s(p,E){if(E)e:{var b=i;p=p.split(".");for(var M=0;M<p.length-1;M++){var W=p[M];if(!(W in b))break e;b=b[W]}p=p[p.length-1],M=b[p],E=E(M),E!=M&&E!=null&&e(b,p,{configurable:!0,writable:!0,value:E})}}function o(p,E){p instanceof String&&(p+="");var b=0,M=!1,W={next:function(){if(!M&&b<p.length){var X=b++;return{value:E(X,p[X]),done:!1}}return M=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}s("Array.prototype.values",function(p){return p||function(){return o(this,function(E,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function h(p){var E=typeof p;return E=E!="object"?E:p?Array.isArray(p)?"array":E:"null",E=="array"||E=="object"&&typeof p.length=="number"}function f(p){var E=typeof p;return E=="object"&&p!=null||E=="function"}function g(p,E,b){return p.call.apply(p.bind,arguments)}function y(p,E,b){if(!p)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,M),p.apply(E,W)}}return function(){return p.apply(E,arguments)}}function _(p,E,b){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:y,_.apply(null,arguments)}function T(p,E){var b=Array.prototype.slice.call(arguments,1);return function(){var M=b.slice();return M.push.apply(M,arguments),p.apply(this,M)}}function x(p,E){function b(){}b.prototype=E.prototype,p.aa=E.prototype,p.prototype=new b,p.prototype.constructor=p,p.Qb=function(M,W,X){for(var ce=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)ce[Xe-2]=arguments[Xe];return E.prototype[W].apply(M,ce)}}function D(p){const E=p.length;if(0<E){const b=Array(E);for(let M=0;M<E;M++)b[M]=p[M];return b}return[]}function j(p,E){for(let b=1;b<arguments.length;b++){const M=arguments[b];if(h(M)){const W=p.length||0,X=M.length||0;p.length=W+X;for(let ce=0;ce<X;ce++)p[W+ce]=M[ce]}else p.push(M)}}class P{constructor(E,b){this.i=E,this.j=b,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function I(p){return/^[\s\xa0]*$/.test(p)}function L(){var p=c.navigator;return p&&(p=p.userAgent)?p:""}function q(p){return q[" "](p),p}q[" "]=function(){};var H=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function Z(p,E,b){for(const M in p)E.call(b,p[M],M,p)}function O(p,E){for(const b in p)E.call(void 0,p[b],b,p)}function A(p){const E={};for(const b in p)E[b]=p[b];return E}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(p,E){let b,M;for(let W=1;W<arguments.length;W++){M=arguments[W];for(b in M)p[b]=M[b];for(let X=0;X<C.length;X++)b=C[X],Object.prototype.hasOwnProperty.call(M,b)&&(p[b]=M[b])}}function k(p){var E=1;p=p.split(":");const b=[];for(;0<E&&p.length;)b.push(p.shift()),E--;return p.length&&b.push(p.join(":")),b}function B(p){c.setTimeout(()=>{throw p},0)}function V(){var p=ve;let E=null;return p.g&&(E=p.g,p.g=p.g.next,p.g||(p.h=null),E.next=null),E}class he{constructor(){this.h=this.g=null}add(E,b){const M=ye.get();M.set(E,b),this.h?this.h.next=M:this.g=M,this.h=M}}var ye=new P(()=>new ae,p=>p.reset());class ae{constructor(){this.next=this.g=this.h=null}set(E,b){this.h=E,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let de,re=!1,ve=new he,F=()=>{const p=c.Promise.resolve(void 0);de=()=>{p.then(ne)}};var ne=()=>{for(var p;p=V();){try{p.h.call(p.g)}catch(b){B(b)}var E=ye;E.j(p),100>E.h&&(E.h++,p.next=E.g,E.g=p)}re=!1};function ge(){this.s=this.s,this.C=this.C}ge.prototype.s=!1,ge.prototype.ma=function(){this.s||(this.s=!0,this.N())},ge.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(p,E){this.type=p,this.g=this.target=E,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var pe=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var p=!1,E=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const b=()=>{};c.addEventListener("test",b,E),c.removeEventListener("test",b,E)}catch{}return p}();function Oe(p,E){if(fe.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var b=this.type=p.type,M=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=E,E=p.relatedTarget){if(H){e:{try{q(E.nodeName);var W=!0;break e}catch{}W=!1}W||(E=null)}}else b=="mouseover"?E=p.fromElement:b=="mouseout"&&(E=p.toElement);this.relatedTarget=E,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:Me[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&Oe.aa.h.call(this)}}x(Oe,fe);var Me={2:"touch",3:"pen",4:"mouse"};Oe.prototype.h=function(){Oe.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var Ct="closure_listenable_"+(1e6*Math.random()|0),Ye=0;function vt(p,E,b,M,W){this.listener=p,this.proxy=null,this.src=E,this.type=b,this.capture=!!M,this.ha=W,this.key=++Ye,this.da=this.fa=!1}function Qe(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function dn(p){this.src=p,this.g={},this.h=0}dn.prototype.add=function(p,E,b,M,W){var X=p.toString();p=this.g[X],p||(p=this.g[X]=[],this.h++);var ce=On(p,E,M,W);return-1<ce?(E=p[ce],b||(E.fa=!1)):(E=new vt(E,this.src,X,!!M,W),E.fa=b,p.push(E)),E};function ai(p,E){var b=E.type;if(b in p.g){var M=p.g[b],W=Array.prototype.indexOf.call(M,E,void 0),X;(X=0<=W)&&Array.prototype.splice.call(M,W,1),X&&(Qe(E),p.g[b].length==0&&(delete p.g[b],p.h--))}}function On(p,E,b,M){for(var W=0;W<p.length;++W){var X=p[W];if(!X.da&&X.listener==E&&X.capture==!!b&&X.ha==M)return W}return-1}var qi="closure_lm_"+(1e6*Math.random()|0),Gi={};function oe(p,E,b,M,W){if(Array.isArray(E)){for(var X=0;X<E.length;X++)oe(p,E[X],b,M,W);return null}return b=wu(b),p&&p[Ct]?p.K(E,b,f(M)?!!M.capture:!1,W):we(p,E,b,!1,M,W)}function we(p,E,b,M,W,X){if(!E)throw Error("Invalid event type");var ce=f(W)?!!W.capture:!!W,Xe=Ri(p);if(Xe||(p[qi]=Xe=new dn(p)),b=Xe.add(E,b,M,ce,X),b.proxy)return b;if(M=He(),b.proxy=M,M.src=p,M.listener=b,p.addEventListener)pe||(W=ce),W===void 0&&(W=!1),p.addEventListener(E.toString(),M,W);else if(p.attachEvent)p.attachEvent(qt(E.toString()),M);else if(p.addListener&&p.removeListener)p.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return b}function He(){function p(b){return E.call(p.src,p.listener,b)}const E=$i;return p}function qe(p,E,b,M,W){if(Array.isArray(E))for(var X=0;X<E.length;X++)qe(p,E[X],b,M,W);else M=f(M)?!!M.capture:!!M,b=wu(b),p&&p[Ct]?(p=p.i,E=String(E).toString(),E in p.g&&(X=p.g[E],b=On(X,b,M,W),-1<b&&(Qe(X[b]),Array.prototype.splice.call(X,b,1),X.length==0&&(delete p.g[E],p.h--)))):p&&(p=Ri(p))&&(E=p.g[E.toString()],p=-1,E&&(p=On(E,b,M,W)),(b=-1<p?E[p]:null)&&Ut(b))}function Ut(p){if(typeof p!="number"&&p&&!p.da){var E=p.src;if(E&&E[Ct])ai(E.i,p);else{var b=p.type,M=p.proxy;E.removeEventListener?E.removeEventListener(b,M,p.capture):E.detachEvent?E.detachEvent(qt(b),M):E.addListener&&E.removeListener&&E.removeListener(M),(b=Ri(E))?(ai(b,p),b.h==0&&(b.src=null,E[qi]=null)):Qe(p)}}}function qt(p){return p in Gi?Gi[p]:Gi[p]="on"+p}function $i(p,E){if(p.da)p=!0;else{E=new Oe(E,this);var b=p.listener,M=p.ha||p.src;p.fa&&Ut(p),p=b.call(M,E)}return p}function Ri(p){return p=p[qi],p instanceof dn?p:null}var Gt="__closure_events_fn_"+(1e9*Math.random()>>>0);function wu(p){return typeof p=="function"?p:(p[Gt]||(p[Gt]=function(E){return p.handleEvent(E)}),p[Gt])}function Ot(){ge.call(this),this.i=new dn(this),this.M=this,this.F=null}x(Ot,ge),Ot.prototype[Ct]=!0,Ot.prototype.removeEventListener=function(p,E,b,M){qe(this,p,E,b,M)};function en(p,E){var b,M=p.F;if(M)for(b=[];M;M=M.F)b.push(M);if(p=p.M,M=E.type||E,typeof E=="string")E=new fe(E,p);else if(E instanceof fe)E.target=E.target||p;else{var W=E;E=new fe(M,p),R(E,W)}if(W=!0,b)for(var X=b.length-1;0<=X;X--){var ce=E.g=b[X];W=Cs(ce,M,!0,E)&&W}if(ce=E.g=p,W=Cs(ce,M,!0,E)&&W,W=Cs(ce,M,!1,E)&&W,b)for(X=0;X<b.length;X++)ce=E.g=b[X],W=Cs(ce,M,!1,E)&&W}Ot.prototype.N=function(){if(Ot.aa.N.call(this),this.i){var p=this.i,E;for(E in p.g){for(var b=p.g[E],M=0;M<b.length;M++)Qe(b[M]);delete p.g[E],p.h--}}this.F=null},Ot.prototype.K=function(p,E,b,M){return this.i.add(String(p),E,!1,b,M)},Ot.prototype.L=function(p,E,b,M){return this.i.add(String(p),E,!0,b,M)};function Cs(p,E,b,M){if(E=p.i.g[String(E)],!E)return!0;E=E.concat();for(var W=!0,X=0;X<E.length;++X){var ce=E[X];if(ce&&!ce.da&&ce.capture==b){var Xe=ce.listener,Kt=ce.ha||ce.src;ce.fa&&ai(p.i,ce),W=Xe.call(Kt,M)!==!1&&W}}return W&&!M.defaultPrevented}function Qh(p,E,b){if(typeof p=="function")b&&(p=_(p,b));else if(p&&typeof p.handleEvent=="function")p=_(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:c.setTimeout(p,E||0)}function Tu(p){p.g=Qh(()=>{p.g=null,p.i&&(p.i=!1,Tu(p))},p.l);const E=p.h;p.h=null,p.m.apply(null,E)}class Um extends ge{constructor(E,b){super(),this.m=E,this.l=b,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Tu(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pa(p){ge.call(this),this.h=p,this.g={}}x(Pa,ge);var vr=[];function Sn(p){Z(p.g,function(E,b){this.g.hasOwnProperty(b)&&Ut(E)},p),p.g={}}Pa.prototype.N=function(){Pa.aa.N.call(this),Sn(this)},Pa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bu=c.JSON.stringify,Ki=c.JSON.parse,kn=class{stringify(p){return c.JSON.stringify(p,void 0)}parse(p){return c.JSON.parse(p,void 0)}};function Su(){}Su.prototype.h=null;function Xh(p){return p.h||(p.h=p.i())}function Zh(){}var Wi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function yr(){fe.call(this,"d")}x(yr,fe);function Ii(){fe.call(this,"c")}x(Ii,fe);var oi={},_r=null;function Oo(){return _r=_r||new Ot}oi.La="serverreachability";function xu(p){fe.call(this,oi.La,p)}x(xu,fe);function Er(p){const E=Oo();en(E,new xu(E))}oi.STAT_EVENT="statevent";function ko(p,E){fe.call(this,oi.STAT_EVENT,p),this.stat=E}x(ko,fe);function kt(p){const E=Oo();en(E,new ko(E,p))}oi.Ma="timingevent";function Jh(p,E){fe.call(this,oi.Ma,p),this.size=E}x(Jh,fe);function wr(p,E){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){p()},E)}function Tr(){this.g=!0}Tr.prototype.xa=function(){this.g=!1};function ed(p,E,b,M,W,X){p.info(function(){if(p.g)if(X)for(var ce="",Xe=X.split("&"),Kt=0;Kt<Xe.length;Kt++){var Ze=Xe[Kt].split("=");if(1<Ze.length){var sn=Ze[0];Ze=Ze[1];var Wt=sn.split("_");ce=2<=Wt.length&&Wt[1]=="type"?ce+(sn+"="+Ze+"&"):ce+(sn+"=redacted&")}}else ce=null;else ce=X;return"XMLHTTP REQ ("+M+") [attempt "+W+"]: "+E+`
`+b+`
`+ce})}function td(p,E,b,M,W,X,ce){p.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+W+"]: "+E+`
`+b+`
`+X+" "+ce})}function br(p,E,b,M){p.info(function(){return"XMLHTTP TEXT ("+E+"): "+tn(p,b)+(M?" "+M:"")})}function Yi(p,E){p.info(function(){return"TIMEOUT: "+E})}Tr.prototype.info=function(){};function tn(p,E){if(!p.g)return E;if(!E)return null;try{var b=JSON.parse(E);if(b){for(p=0;p<b.length;p++)if(Array.isArray(b[p])){var M=b[p];if(!(2>M.length)){var W=M[1];if(Array.isArray(W)&&!(1>W.length)){var X=W[0];if(X!="noop"&&X!="stop"&&X!="close")for(var ce=1;ce<W.length;ce++)W[ce]=""}}}}return bu(b)}catch{return E}}var $t={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},As={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Da;function Lo(){}x(Lo,Su),Lo.prototype.g=function(){return new XMLHttpRequest},Lo.prototype.i=function(){return{}},Da=new Lo;function Qi(p,E,b,M){this.j=p,this.i=E,this.l=b,this.R=M||1,this.U=new Pa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Cu}function Cu(){this.i=null,this.g="",this.h=!1}var Sr={},Ma={};function Ni(p,E,b){p.L=1,p.v=La(At(E)),p.m=b,p.P=!0,Rs(p,null)}function Rs(p,E){p.F=Date.now(),Et(p),p.A=At(p.v);var b=p.A,M=p.R;Array.isArray(M)||(M=[String(M)]),Ps(b.i,"t",M),p.C=0,b=p.j.J,p.h=new Cu,p.g=md(p.j,b?E:null,!p.m),0<p.O&&(p.M=new Um(_(p.Y,p,p.g),p.O)),E=p.U,b=p.g,M=p.ca;var W="readystatechange";Array.isArray(W)||(W&&(vr[0]=W.toString()),W=vr);for(var X=0;X<W.length;X++){var ce=oe(b,W[X],M||E.handleEvent,!1,E.h||E);if(!ce)break;E.g[ce.key]=ce}E=p.H?A(p.H):{},p.m?(p.u||(p.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,E)):(p.u="GET",p.g.ea(p.A,p.u,null,E)),Er(),ed(p.i,p.u,p.A,p.l,p.R,p.m)}Qi.prototype.ca=function(p){p=p.target;const E=this.M;E&&di(p)==3?E.j():this.Y(p)},Qi.prototype.Y=function(p){try{if(p==this.g)e:{const Wt=di(this.g);var E=this.g.Ba();const ks=this.g.Z();if(!(3>Wt)&&(Wt!=3||this.g&&(this.h.h||this.g.oa()||od(this.g)))){this.J||Wt!=4||E==7||(E==8||0>=ks?Er(3):Er(2)),Vo(this);var b=this.g.Z();this.X=b;t:if(xr(this)){var M=od(this.g);p="";var W=M.length,X=di(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Hn(this),Wn(this);var ce="";break t}this.h.i=new c.TextDecoder}for(E=0;E<W;E++)this.h.h=!0,p+=this.h.i.decode(M[E],{stream:!(X&&E==W-1)});M.length=0,this.h.g+=p,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=b==200,td(this.i,this.u,this.A,this.l,this.R,Wt,b),this.o){if(this.T&&!this.K){t:{if(this.g){var Xe,Kt=this.g;if((Xe=Kt.g?Kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(Xe)){var Ze=Xe;break t}}Ze=null}if(b=Ze)br(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yn(this,b);else{this.o=!1,this.s=3,kt(12),Hn(this),Wn(this);break e}}if(this.P){b=!0;let fn;for(;!this.J&&this.C<ce.length;)if(fn=Cr(this,ce),fn==Ma){Wt==4&&(this.s=4,kt(14),b=!1),br(this.i,this.l,null,"[Incomplete Response]");break}else if(fn==Sr){this.s=4,kt(15),br(this.i,this.l,ce,"[Invalid Chunk]"),b=!1;break}else br(this.i,this.l,fn,null),Yn(this,fn);if(xr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Wt!=4||ce.length!=0||this.h.h||(this.s=1,kt(16),b=!1),this.o=this.o&&b,!b)br(this.i,this.l,ce,"[Invalid Chunked Response]"),Hn(this),Wn(this);else if(0<ce.length&&!this.W){this.W=!0;var sn=this.j;sn.g==this&&sn.ba&&!sn.M&&(sn.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),Ha(sn),sn.M=!0,kt(11))}}else br(this.i,this.l,ce,null),Yn(this,ce);Wt==4&&Hn(this),this.o&&!this.J&&(Wt==4?dd(this.j,this):(this.o=!1,Et(this)))}else Gm(this.g),b==400&&0<ce.indexOf("Unknown SID")?(this.s=3,kt(12)):(this.s=0,kt(13)),Hn(this),Wn(this)}}}catch{}finally{}};function xr(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function Cr(p,E){var b=p.C,M=E.indexOf(`
`,b);return M==-1?Ma:(b=Number(E.substring(b,M)),isNaN(b)?Sr:(M+=1,M+b>E.length?Ma:(E=E.slice(M,M+b),p.C=M+b,E)))}Qi.prototype.cancel=function(){this.J=!0,Hn(this)};function Et(p){p.S=Date.now()+p.I,Au(p,p.I)}function Au(p,E){if(p.B!=null)throw Error("WatchDog timer not null");p.B=wr(_(p.ba,p),E)}function Vo(p){p.B&&(c.clearTimeout(p.B),p.B=null)}Qi.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(Yi(this.i,this.A),this.L!=2&&(Er(),kt(17)),Hn(this),this.s=2,Wn(this)):Au(this,this.S-p)};function Wn(p){p.j.G==0||p.J||dd(p.j,p)}function Hn(p){Vo(p);var E=p.M;E&&typeof E.ma=="function"&&E.ma(),p.M=null,Sn(p.U),p.g&&(E=p.g,p.g=null,E.abort(),E.ma())}function Yn(p,E){try{var b=p.j;if(b.G!=0&&(b.g==p||Ar(b.h,p))){if(!p.K&&Ar(b.h,p)&&b.G==3){try{var M=b.Da.g.parse(E)}catch{M=null}if(Array.isArray(M)&&M.length==3){var W=M;if(W[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<p.F)Ko(b),Go(b);else break e;ju(b),kt(18)}}else b.za=W[1],0<b.za-b.T&&37500>W[2]&&b.F&&b.v==0&&!b.C&&(b.C=wr(_(b.Za,b),6e3));if(1>=nd(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else Os(b,11)}else if((p.K||b.g==p)&&Ko(b),!I(E))for(W=b.Da.g.parse(E),E=0;E<W.length;E++){let Ze=W[E];if(b.T=Ze[0],Ze=Ze[1],b.G==2)if(Ze[0]=="c"){b.K=Ze[1],b.ia=Ze[2];const sn=Ze[3];sn!=null&&(b.la=sn,b.j.info("VER="+b.la));const Wt=Ze[4];Wt!=null&&(b.Aa=Wt,b.j.info("SVER="+b.Aa));const ks=Ze[5];ks!=null&&typeof ks=="number"&&0<ks&&(M=1.5*ks,b.L=M,b.j.info("backChannelRequestTimeoutMs_="+M)),M=b;const fn=p.g;if(fn){const is=fn.g?fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(is){var X=M.h;X.g||is.indexOf("spdy")==-1&&is.indexOf("quic")==-1&&is.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Rr(X,X.h),X.h=null))}if(M.D){const Bu=fn.g?fn.g.getResponseHeader("X-HTTP-Session-Id"):null;Bu&&(M.ya=Bu,tt(M.I,M.D,Bu))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-p.F,b.j.info("Handshake RTT: "+b.R+"ms")),M=b;var ce=p;if(M.qa=pd(M,M.J?M.ia:null,M.W),ce.K){li(M.h,ce);var Xe=ce,Kt=M.L;Kt&&(Xe.I=Kt),Xe.B&&(Vo(Xe),Et(Xe)),M.g=ce}else cd(M);0<b.i.length&&$o(b)}else Ze[0]!="stop"&&Ze[0]!="close"||Os(b,7);else b.G==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?Os(b,7):Lu(b):Ze[0]!="noop"&&b.l&&b.l.ta(Ze),b.v=0)}}Er(4)}catch{}}var Bm=class{constructor(p,E){this.g=p,this.map=E}};function Ru(p){this.l=p||10,c.PerformanceNavigationTiming?(p=c.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Iu(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function nd(p){return p.h?1:p.g?p.g.size:0}function Ar(p,E){return p.h?p.h==E:p.g?p.g.has(E):!1}function Rr(p,E){p.g?p.g.add(E):p.h=E}function li(p,E){p.h&&p.h==E?p.h=null:p.g&&p.g.has(E)&&p.g.delete(E)}Ru.prototype.cancel=function(){if(this.i=Ln(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Ln(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let E=p.i;for(const b of p.g.values())E=E.concat(b.D);return E}return D(p.i)}function id(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(h(p)){for(var E=[],b=p.length,M=0;M<b;M++)E.push(p[M]);return E}E=[],b=0;for(M in p)E[b++]=p[M];return E}function zm(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(h(p)||typeof p=="string"){var E=[];p=p.length;for(var b=0;b<p;b++)E.push(b);return E}E=[],b=0;for(const M in p)E[b++]=M;return E}}}function Oa(p,E){if(p.forEach&&typeof p.forEach=="function")p.forEach(E,void 0);else if(h(p)||typeof p=="string")Array.prototype.forEach.call(p,E,void 0);else for(var b=zm(p),M=id(p),W=M.length,X=0;X<W;X++)E.call(void 0,M[X],b&&b[X],p)}var Nu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jo(p,E){if(p){p=p.split("&");for(var b=0;b<p.length;b++){var M=p[b].indexOf("="),W=null;if(0<=M){var X=p[b].substring(0,M);W=p[b].substring(M+1)}else X=p[b];E(X,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Is(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof Is){this.h=p.h,Ir(this,p.j),this.o=p.o,this.g=p.g,ka(this,p.s),this.l=p.l;var E=p.i,b=new Xi;b.i=E.i,E.g&&(b.g=new Map(E.g),b.h=E.h),Uo(this,b),this.m=p.m}else p&&(E=String(p).match(Nu))?(this.h=!1,Ir(this,E[1]||"",!0),this.o=Nr(E[2]||""),this.g=Nr(E[3]||"",!0),ka(this,E[4]),this.l=Nr(E[5]||"",!0),Uo(this,E[6]||"",!0),this.m=Nr(E[7]||"")):(this.h=!1,this.i=new Xi(null,this.h))}Is.prototype.toString=function(){var p=[],E=this.j;E&&p.push(ui(E,Pu,!0),":");var b=this.g;return(b||E=="file")&&(p.push("//"),(E=this.o)&&p.push(ui(E,Pu,!0),"@"),p.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&p.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&p.push("/"),p.push(ui(b,b.charAt(0)=="/"?Du:sd,!0))),(b=this.i.toString())&&p.push("?",b),(b=this.m)&&p.push("#",ui(b,qm)),p.join("")};function At(p){return new Is(p)}function Ir(p,E,b){p.j=b?Nr(E,!0):E,p.j&&(p.j=p.j.replace(/:$/,""))}function ka(p,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);p.s=E}else p.s=null}function Uo(p,E,b){E instanceof Xi?(p.i=E,Mu(p.i,p.h)):(b||(E=ui(E,Hm)),p.i=new Xi(E,p.h))}function tt(p,E,b){p.i.set(E,b)}function La(p){return tt(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function Nr(p,E){return p?E?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function ui(p,E,b){return typeof p=="string"?(p=encodeURI(p).replace(E,Fm),b&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Fm(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Pu=/[#\/\?@]/g,sd=/[#\?:]/g,Du=/[#\?]/g,Hm=/[#\?@]/g,qm=/#/g;function Xi(p,E){this.h=this.g=null,this.i=p||null,this.j=!!E}function ci(p){p.g||(p.g=new Map,p.h=0,p.i&&jo(p.i,function(E,b){p.add(decodeURIComponent(E.replace(/\+/g," ")),b)}))}n=Xi.prototype,n.add=function(p,E){ci(this),this.i=null,p=Ds(this,p);var b=this.g.get(p);return b||this.g.set(p,b=[]),b.push(E),this.h+=1,this};function Bo(p,E){ci(p),E=Ds(p,E),p.g.has(E)&&(p.i=null,p.h-=p.g.get(E).length,p.g.delete(E))}function Ns(p,E){return ci(p),E=Ds(p,E),p.g.has(E)}n.forEach=function(p,E){ci(this),this.g.forEach(function(b,M){b.forEach(function(W){p.call(E,W,M,this)},this)},this)},n.na=function(){ci(this);const p=Array.from(this.g.values()),E=Array.from(this.g.keys()),b=[];for(let M=0;M<E.length;M++){const W=p[M];for(let X=0;X<W.length;X++)b.push(E[M])}return b},n.V=function(p){ci(this);let E=[];if(typeof p=="string")Ns(this,p)&&(E=E.concat(this.g.get(Ds(this,p))));else{p=Array.from(this.g.values());for(let b=0;b<p.length;b++)E=E.concat(p[b])}return E},n.set=function(p,E){return ci(this),this.i=null,p=Ds(this,p),Ns(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[E]),this.h+=1,this},n.get=function(p,E){return p?(p=this.V(p),0<p.length?String(p[0]):E):E};function Ps(p,E,b){Bo(p,E),0<b.length&&(p.i=null,p.g.set(Ds(p,E),D(b)),p.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],E=Array.from(this.g.keys());for(var b=0;b<E.length;b++){var M=E[b];const X=encodeURIComponent(String(M)),ce=this.V(M);for(M=0;M<ce.length;M++){var W=X;ce[M]!==""&&(W+="="+encodeURIComponent(String(ce[M]))),p.push(W)}}return this.i=p.join("&")};function Ds(p,E){return E=String(E),p.j&&(E=E.toLowerCase()),E}function Mu(p,E){E&&!p.j&&(ci(p),p.i=null,p.g.forEach(function(b,M){var W=M.toLowerCase();M!=W&&(Bo(this,M),Ps(this,W,b))},p)),p.j=E}function rd(p,E){const b=new Tr;if(c.Image){const M=new Image;M.onload=T(hi,b,"TestLoadImage: loaded",!0,E,M),M.onerror=T(hi,b,"TestLoadImage: error",!1,E,M),M.onabort=T(hi,b,"TestLoadImage: abort",!1,E,M),M.ontimeout=T(hi,b,"TestLoadImage: timeout",!1,E,M),c.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=p}else E(!1)}function Va(p,E){const b=new Tr,M=new AbortController,W=setTimeout(()=>{M.abort(),hi(b,"TestPingServer: timeout",!1,E)},1e4);fetch(p,{signal:M.signal}).then(X=>{clearTimeout(W),X.ok?hi(b,"TestPingServer: ok",!0,E):hi(b,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(W),hi(b,"TestPingServer: error",!1,E)})}function hi(p,E,b,M,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),M(b)}catch{}}function ja(){this.g=new kn}function Zi(p,E,b){const M=b||"";try{Oa(p,function(W,X){let ce=W;f(W)&&(ce=bu(W)),E.push(M+X+"="+encodeURIComponent(ce))})}catch(W){throw E.push(M+"type="+encodeURIComponent("_badmap")),W}}function Pr(p){this.l=p.Ub||null,this.j=p.eb||!1}x(Pr,Su),Pr.prototype.g=function(){return new Ms(this.l,this.j)},Pr.prototype.i=function(p){return function(){return p}}({});function Ms(p,E){Ot.call(this),this.D=p,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Ms,Ot),n=Ms.prototype,n.open=function(p,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=E,this.readyState=1,es(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(E.body=p),(this.D||c).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ji(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,es(this)),this.g&&(this.readyState=3,es(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ou(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ou(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var E=p.value?p.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!p.done}))&&(this.response=this.responseText+=E)}p.done?Ji(this):es(this),this.readyState==3&&Ou(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,Ji(this))},n.Qa=function(p){this.g&&(this.response=p,Ji(this))},n.ga=function(){this.g&&Ji(this)};function Ji(p){p.readyState=4,p.l=null,p.j=null,p.v=null,es(p)}n.setRequestHeader=function(p,E){this.u.append(p,E)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],E=this.h.entries();for(var b=E.next();!b.done;)b=b.value,p.push(b[0]+": "+b[1]),b=E.next();return p.join(`\r
`)};function es(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Ms.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function ku(p){let E="";return Z(p,function(b,M){E+=M,E+=":",E+=b,E+=`\r
`}),E}function nn(p,E,b){e:{for(M in b){var M=!1;break e}M=!0}M||(b=ku(b),typeof p=="string"?b!=null&&encodeURIComponent(String(b)):tt(p,E,b))}function rt(p){Ot.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(rt,Ot);var zo=/^https?$/i,Ua=["POST","PUT"];n=rt.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,E,b,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);E=E?E.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Da.g(),this.v=this.o?Xh(this.o):Xh(Da),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(E,String(p),!0),this.B=!1}catch(X){ad(this,X);return}if(p=b||"",b=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var W in M)b.set(W,M[W]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const X of M.keys())b.set(X,M.get(X));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(b.keys()).find(X=>X.toLowerCase()=="content-type"),W=c.FormData&&p instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Ua,E,void 0))||M||W||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ce]of b)this.g.setRequestHeader(X,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ba(this),this.u=!0,this.g.send(p),this.u=!1}catch(X){ad(this,X)}};function ad(p,E){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=E,p.m=5,Fo(p),ts(p)}function Fo(p){p.A||(p.A=!0,en(p,"complete"),en(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,en(this,"complete"),en(this,"abort"),ts(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ts(this,!0)),rt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ho(this):this.bb())},n.bb=function(){Ho(this)};function Ho(p){if(p.h&&typeof l<"u"&&(!p.v[1]||di(p)!=4||p.Z()!=2)){if(p.u&&di(p)==4)Qh(p.Ea,0,p);else if(en(p,"readystatechange"),di(p)==4){p.h=!1;try{const ce=p.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var b;if(!(b=E)){var M;if(M=ce===0){var W=String(p.D).match(Nu)[1]||null;!W&&c.self&&c.self.location&&(W=c.self.location.protocol.slice(0,-1)),M=!zo.test(W?W.toLowerCase():"")}b=M}if(b)en(p,"complete"),en(p,"success");else{p.m=6;try{var X=2<di(p)?p.g.statusText:""}catch{X=""}p.l=X+" ["+p.Z()+"]",Fo(p)}}finally{ts(p)}}}}function ts(p,E){if(p.g){Ba(p);const b=p.g,M=p.v[0]?()=>{}:null;p.g=null,p.v=null,E||en(p,"ready");try{b.onreadystatechange=M}catch{}}}function Ba(p){p.I&&(c.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function di(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<di(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var E=this.g.responseText;return p&&E.indexOf(p)==0&&(E=E.substring(p.length)),Ki(E)}};function od(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Gm(p){const E={};p=(p.g&&2<=di(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<p.length;M++){if(I(p[M]))continue;var b=k(p[M]);const W=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const X=E[W]||[];E[W]=X,X.push(b)}O(E,function(M){return M.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function za(p,E,b){return b&&b.internalChannelParams&&b.internalChannelParams[p]||E}function qo(p){this.Aa=0,this.i=[],this.j=new Tr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=za("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=za("baseRetryDelayMs",5e3,p),this.cb=za("retryDelaySeedMs",1e4,p),this.Wa=za("forwardChannelMaxRetries",2,p),this.wa=za("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new Ru(p&&p.concurrentRequestLimit),this.Da=new ja,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=qo.prototype,n.la=8,n.G=1,n.connect=function(p,E,b,M){kt(0),this.W=p,this.H=E||{},b&&M!==void 0&&(this.H.OSID=b,this.H.OAID=M),this.F=this.X,this.I=pd(this,null,this.W),$o(this)};function Lu(p){if(ld(p),p.G==3){var E=p.U++,b=At(p.I);if(tt(b,"SID",p.K),tt(b,"RID",E),tt(b,"TYPE","terminate"),Fa(p,b),E=new Qi(p,p.j,E),E.L=2,E.v=La(At(b)),b=!1,c.navigator&&c.navigator.sendBeacon)try{b=c.navigator.sendBeacon(E.v.toString(),"")}catch{}!b&&c.Image&&(new Image().src=E.v,b=!0),b||(E.g=md(E.j,null),E.g.ea(E.v)),E.F=Date.now(),Et(E)}fd(p)}function Go(p){p.g&&(Ha(p),p.g.cancel(),p.g=null)}function ld(p){Go(p),p.u&&(c.clearTimeout(p.u),p.u=null),Ko(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&c.clearTimeout(p.s),p.s=null)}function $o(p){if(!Iu(p.h)&&!p.s){p.s=!0;var E=p.Ga;de||F(),re||(de(),re=!0),ve.add(E,p),p.B=0}}function $m(p,E){return nd(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=E.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=wr(_(p.Ga,p,E),Uu(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const W=new Qi(this,this.j,p);let X=this.o;if(this.S&&(X?(X=A(X),R(X,this.S)):X=this.S),this.m!==null||this.O||(W.H=X,X=null),this.P)e:{for(var E=0,b=0;b<this.i.length;b++){t:{var M=this.i[b];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(E+=M,4096<E){E=b;break e}if(E===4096||b===this.i.length-1){E=b+1;break e}}E=1e3}else E=1e3;E=ud(this,W,E),b=At(this.I),tt(b,"RID",p),tt(b,"CVER",22),this.D&&tt(b,"X-HTTP-Session-Id",this.D),Fa(this,b),X&&(this.O?E="headers="+encodeURIComponent(String(ku(X)))+"&"+E:this.m&&nn(b,this.m,X)),Rr(this.h,W),this.Ua&&tt(b,"TYPE","init"),this.P?(tt(b,"$req",E),tt(b,"SID","null"),W.T=!0,Ni(W,b,null)):Ni(W,b,E),this.G=2}}else this.G==3&&(p?Vu(this,p):this.i.length==0||Iu(this.h)||Vu(this))};function Vu(p,E){var b;E?b=E.l:b=p.U++;const M=At(p.I);tt(M,"SID",p.K),tt(M,"RID",b),tt(M,"AID",p.T),Fa(p,M),p.m&&p.o&&nn(M,p.m,p.o),b=new Qi(p,p.j,b,p.B+1),p.m===null&&(b.H=p.o),E&&(p.i=E.D.concat(p.i)),E=ud(p,b,1e3),b.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),Rr(p.h,b),Ni(b,M,E)}function Fa(p,E){p.H&&Z(p.H,function(b,M){tt(E,M,b)}),p.l&&Oa({},function(b,M){tt(E,M,b)})}function ud(p,E,b){b=Math.min(p.i.length,b);var M=p.l?_(p.l.Na,p.l,p):null;e:{var W=p.i;let X=-1;for(;;){const ce=["count="+b];X==-1?0<b?(X=W[0].g,ce.push("ofs="+X)):X=0:ce.push("ofs="+X);let Xe=!0;for(let Kt=0;Kt<b;Kt++){let Ze=W[Kt].g;const sn=W[Kt].map;if(Ze-=X,0>Ze)X=Math.max(0,W[Kt].g-100),Xe=!1;else try{Zi(sn,ce,"req"+Ze+"_")}catch{M&&M(sn)}}if(Xe){M=ce.join("&");break e}}}return p=p.i.splice(0,b),E.D=p,M}function cd(p){if(!p.g&&!p.u){p.Y=1;var E=p.Fa;de||F(),re||(de(),re=!0),ve.add(E,p),p.v=0}}function ju(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=wr(_(p.Fa,p),Uu(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,hd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=wr(_(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,kt(10),Go(this),hd(this))};function Ha(p){p.A!=null&&(c.clearTimeout(p.A),p.A=null)}function hd(p){p.g=new Qi(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var E=At(p.qa);tt(E,"RID","rpc"),tt(E,"SID",p.K),tt(E,"AID",p.T),tt(E,"CI",p.F?"0":"1"),!p.F&&p.ja&&tt(E,"TO",p.ja),tt(E,"TYPE","xmlhttp"),Fa(p,E),p.m&&p.o&&nn(E,p.m,p.o),p.L&&(p.g.I=p.L);var b=p.g;p=p.ia,b.L=1,b.v=La(At(E)),b.m=null,b.P=!0,Rs(b,p)}n.Za=function(){this.C!=null&&(this.C=null,Go(this),ju(this),kt(19))};function Ko(p){p.C!=null&&(c.clearTimeout(p.C),p.C=null)}function dd(p,E){var b=null;if(p.g==E){Ko(p),Ha(p),p.g=null;var M=2}else if(Ar(p.h,E))b=E.D,li(p.h,E),M=1;else return;if(p.G!=0){if(E.o)if(M==1){b=E.m?E.m.length:0,E=Date.now()-E.F;var W=p.B;M=Oo(),en(M,new Jh(M,b)),$o(p)}else cd(p);else if(W=E.s,W==3||W==0&&0<E.X||!(M==1&&$m(p,E)||M==2&&ju(p)))switch(b&&0<b.length&&(E=p.h,E.i=E.i.concat(b)),W){case 1:Os(p,5);break;case 4:Os(p,10);break;case 3:Os(p,6);break;default:Os(p,2)}}}function Uu(p,E){let b=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(b*=2),b*E}function Os(p,E){if(p.j.info("Error code "+E),E==2){var b=_(p.fb,p),M=p.Xa;const W=!M;M=new Is(M||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ir(M,"https"),La(M),W?rd(M.toString(),b):Va(M.toString(),b)}else kt(2);p.G=0,p.l&&p.l.sa(E),fd(p),ld(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function fd(p){if(p.G=0,p.ka=[],p.l){const E=Ln(p.h);(E.length!=0||p.i.length!=0)&&(j(p.ka,E),j(p.ka,p.i),p.h.i.length=0,D(p.i),p.i.length=0),p.l.ra()}}function pd(p,E,b){var M=b instanceof Is?At(b):new Is(b);if(M.g!="")E&&(M.g=E+"."+M.g),ka(M,M.s);else{var W=c.location;M=W.protocol,E=E?E+"."+W.hostname:W.hostname,W=+W.port;var X=new Is(null);M&&Ir(X,M),E&&(X.g=E),W&&ka(X,W),b&&(X.l=b),M=X}return b=p.D,E=p.ya,b&&E&&tt(M,b,E),tt(M,"VER",p.la),Fa(p,M),M}function md(p,E,b){if(E&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=p.Ca&&!p.pa?new rt(new Pr({eb:b})):new rt(p.pa),E.Ha(p.J),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function gd(){}n=gd.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Wo(){}Wo.prototype.g=function(p,E){return new Vn(p,E)};function Vn(p,E){Ot.call(this),this.g=new qo(E),this.l=p,this.h=E&&E.messageUrlParams||null,p=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(p?p["X-WebChannel-Content-Type"]=E.messageContentType:p={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(p?p["X-WebChannel-Client-Profile"]=E.va:p={"X-WebChannel-Client-Profile":E.va}),this.g.S=p,(p=E&&E.Sb)&&!I(p)&&(this.g.m=p),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!I(E)&&(this.g.D=E,p=this.h,p!==null&&E in p&&(p=this.h,E in p&&delete p[E])),this.j=new ns(this)}x(Vn,Ot),Vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Vn.prototype.close=function(){Lu(this.g)},Vn.prototype.o=function(p){var E=this.g;if(typeof p=="string"){var b={};b.__data__=p,p=b}else this.u&&(b={},b.__data__=bu(p),p=b);E.i.push(new Bm(E.Ya++,p)),E.G==3&&$o(E)},Vn.prototype.N=function(){this.g.l=null,delete this.j,Lu(this.g),delete this.g,Vn.aa.N.call(this)};function vd(p){yr.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var E=p.__sm__;if(E){e:{for(const b in E){p=b;break e}p=void 0}(this.i=p)&&(p=this.i,E=E!==null&&p in E?E[p]:void 0),this.data=E}else this.data=p}x(vd,yr);function yd(){Ii.call(this),this.status=1}x(yd,Ii);function ns(p){this.g=p}x(ns,gd),ns.prototype.ua=function(){en(this.g,"a")},ns.prototype.ta=function(p){en(this.g,new vd(p))},ns.prototype.sa=function(p){en(this.g,new yd)},ns.prototype.ra=function(){en(this.g,"b")},Wo.prototype.createWebChannel=Wo.prototype.g,Vn.prototype.send=Vn.prototype.o,Vn.prototype.open=Vn.prototype.m,Vn.prototype.close=Vn.prototype.close,uN=function(){return new Wo},lN=function(){return Oo()},oN=oi,m_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$t.NO_ERROR=0,$t.TIMEOUT=8,$t.HTTP_ERROR=6,qf=$t,As.COMPLETE="complete",aN=As,Zh.EventType=Wi,Wi.OPEN="a",Wi.CLOSE="b",Wi.ERROR="c",Wi.MESSAGE="d",Ot.prototype.listen=Ot.prototype.K,zc=Zh,rt.prototype.listenOnce=rt.prototype.L,rt.prototype.getLastError=rt.prototype.Ka,rt.prototype.getLastErrorCode=rt.prototype.Ba,rt.prototype.getStatus=rt.prototype.Z,rt.prototype.getResponseJson=rt.prototype.Oa,rt.prototype.getResponseText=rt.prototype.oa,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Ha,rN=rt}).apply(typeof Sf<"u"?Sf:typeof self<"u"?self:typeof window<"u"?window:{});const e2="@firebase/firestore",t2="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}In.UNAUTHENTICATED=new In(null),In.GOOGLE_CREDENTIALS=new In("google-credentials-uid"),In.FIRST_PARTY=new In("first-party-uid"),In.MOCK_USER=new In("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vu="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo=new nm("@firebase/firestore");function Tl(){return bo.logLevel}function me(n,...e){if(bo.logLevel<=ze.DEBUG){const t=e.map(EE);bo.debug(`Firestore (${vu}): ${n}`,...t)}}function pr(n,...e){if(bo.logLevel<=ze.ERROR){const t=e.map(EE);bo.error(`Firestore (${vu}): ${n}`,...t)}}function Zl(n,...e){if(bo.logLevel<=ze.WARN){const t=e.map(EE);bo.warn(`Firestore (${vu}): ${n}`,...t)}}function EE(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(n="Unexpected state"){const e=`FIRESTORE (${vu}) INTERNAL ASSERTION FAILED: `+n;throw pr(e),new Error(e)}function at(n,e){n||Ie()}function De(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends gr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(In.UNAUTHENTICATED))}shutdown(){}}class nB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class iB{constructor(e){this.t=e,this.currentUser=In.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){at(this.o===void 0);let i=this.i;const s=h=>this.i!==i?(i=this.i,t(h)):Promise.resolve();let o=new da;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new da,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const h=o;e.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},c=h=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new da)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(at(typeof i.accessToken=="string"),new cN(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string"),new In(e)}}class sB{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=In.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class rB{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new sB(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(In.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class n2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aB{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,xi(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){at(this.o===void 0);const i=o=>{o.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,me("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const s=o=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?s(o):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new n2(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(at(typeof t.token=="string"),this.R=t.token,new n2(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oB(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=oB(40);for(let o=0;o<s.length;++o)i.length<20&&s[o]<t&&(i+=e.charAt(s[o]%62))}return i}}function Ke(n,e){return n<e?-1:n>e?1:0}function Jl(n,e,t){return n.length===e.length&&n.every((i,s)=>t(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=-62135596800,s2=1e6;class Zt{static now(){return Zt.fromMillis(Date.now())}static fromDate(e){return Zt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*s2);return new Zt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new be(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new be(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<i2)throw new be(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/s2}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-i2;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new Zt(0,0))}static max(){return new Ne(new Zt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2="__name__";class us{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ie(),i===void 0?i=e.length-t:i>e.length-t&&Ie(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return us.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof us?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let s=0;s<i;s++){const o=us.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return Math.sign(e.length-t.length)}static compareSegments(e,t){const i=us.isNumericId(e),s=us.isNumericId(t);return i&&!s?-1:!i&&s?1:i&&s?us.extractNumericId(e).compare(us.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ha.fromString(e.substring(4,e.length-2))}}class yt extends us{construct(e,t,i){return new yt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new be(le.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(s=>s.length>0))}return new yt(t)}static emptyPath(){return new yt([])}}const lB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wn extends us{construct(e,t,i){return new wn(e,t,i)}static isValidIdentifier(e){return lB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===r2}static keyField(){return new wn([r2])}static fromServerFormat(e){const t=[];let i="",s=0;const o=()=>{if(i.length===0)throw new be(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let l=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new be(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new be(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(i+=c,s++):(o(),s++)}if(o(),l)throw new be(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wn(t)}static emptyPath(){return new wn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(yt.fromString(e))}static fromName(e){return new Se(yt.fromString(e).popFirst(5))}static empty(){return new Se(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return yt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new yt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=-1;function uB(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=Ne.fromTimestamp(i===1e9?new Zt(t+1,0):new Zt(t,i));return new Ea(s,Se.empty(),e)}function cB(n){return new Ea(n.readTime,n.key,bh)}class Ea{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Ea(Ne.min(),Se.empty(),bh)}static max(){return new Ea(Ne.max(),Se.empty(),bh)}}function hB(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Se.comparator(n.documentKey,e.documentKey),t!==0?t:Ke(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yu(n){if(n.code!==le.FAILED_PRECONDITION||n.message!==dB)throw n;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie((i,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(t){return ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.reject(t)}static resolve(e){return new ie((t,i)=>{t(e)})}static reject(e){return new ie((t,i)=>{i(e)})}static waitFor(e){return new ie((t,i)=>{let s=0,o=0,l=!1;e.forEach(c=>{++s,c.next(()=>{++o,l&&o===s&&t()},h=>i(h))}),l=!0,o===s&&t()})}static or(e){let t=ie.resolve(!1);for(const i of e)t=t.next(s=>s?ie.resolve(s):i());return t}static forEach(e,t){const i=[];return e.forEach((s,o)=>{i.push(t.call(this,s,o))}),this.waitFor(i)}static mapArray(e,t){return new ie((i,s)=>{const o=e.length,l=new Array(o);let c=0;for(let h=0;h<o;h++){const f=h;t(e[f]).next(g=>{l[f]=g,++c,c===o&&i(l)},g=>s(g))}})}static doWhile(e,t){return new ie((i,s)=>{const o=()=>{e()===!0?t().next(()=>{o()},s):i()};o()})}}function pB(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function _u(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.oe(i),this._e=i=>t.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}wm.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE=-1;function Tm(n){return n==null}function Ip(n){return n===0&&1/n==-1/0}function mB(n){return typeof n=="number"&&Number.isInteger(n)&&!Ip(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN="";function gB(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=a2(e)),e=vB(n.get(t),e);return a2(e)}function vB(n,e){let t=e;const i=n.length;for(let s=0;s<i;s++){const o=n.charAt(s);switch(o){case"\0":t+="";break;case dN:t+="";break;default:t+=o}}return t}function a2(n){return n+dN+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ia(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function fN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,t){this.comparator=e,this.root=t||yn.EMPTY}insert(e,t){return new xt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,yn.BLACK,null,null))}remove(e){return new xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return t+i.left.size;s<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xf(this.root,e,this.comparator,!1)}getReverseIterator(){return new xf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xf(this.root,e,this.comparator,!0)}}class xf{constructor(e,t,i,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yn{constructor(e,t,i,s,o){this.key=e,this.value=t,this.color=i??yn.RED,this.left=s??yn.EMPTY,this.right=o??yn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,s,o){return new yn(e??this.key,t??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const o=i(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,i),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return yn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return yn.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ie();const e=this.left.check();if(e!==this.right.check())throw Ie();return e+(this.isRed()?0:1)}}yn.EMPTY=null,yn.RED=!0,yn.BLACK=!1;yn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie()}get value(){throw Ie()}get color(){throw Ie()}get left(){throw Ie()}get right(){throw Ie()}copy(e,t,i,s,o){return this}insert(e,t,i){return new yn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.comparator=e,this.data=new xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new l2(this.data.getIterator())}getIteratorFrom(e){return new l2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=i.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Jt(this.comparator);return t.data=e,t}}class l2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this.fields=e,e.sort(wn.comparator)}static empty(){return new ii([])}unionWith(e){let t=new Jt(wn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new ii(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Jl(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new pN("Invalid base64 string: "+o):o}}(e);return new bn(t)}static fromUint8Array(e){const t=function(s){let o="";for(let l=0;l<s.length;++l)o+=String.fromCharCode(s[l]);return o}(e);return new bn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bn.EMPTY_BYTE_STRING=new bn("");const yB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wa(n){if(at(!!n),typeof n=="string"){let e=0;const t=yB.exec(n);if(at(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:jt(n.seconds),nanos:jt(n.nanos)}}function jt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ta(n){return typeof n=="string"?bn.fromBase64String(n):bn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN="server_timestamp",gN="__type__",vN="__previous_value__",yN="__local_write_time__";function TE(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[gN])===null||t===void 0?void 0:t.stringValue)===mN}function bm(n){const e=n.mapValue.fields[vN];return TE(e)?bm(e):e}function Sh(n){const e=wa(n.mapValue.fields[yN].timestampValue);return new Zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{constructor(e,t,i,s,o,l,c,h,f){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=s,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=f}}const Np="(default)";class xh{constructor(e,t){this.projectId=e,this.database=t||Np}static empty(){return new xh("","")}get isDefaultDatabase(){return this.database===Np}isEqual(e){return e instanceof xh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N="__type__",EB="__max__",Cf={mapValue:{}},EN="__vector__",Pp="value";function ba(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?TE(n)?4:TB(n)?9007199254740991:wB(n)?10:11:Ie()}function ws(n,e){if(n===e)return!0;const t=ba(n);if(t!==ba(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Sh(n).isEqual(Sh(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const l=wa(s.timestampValue),c=wa(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,o){return Ta(s.bytesValue).isEqual(Ta(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,o){return jt(s.geoPointValue.latitude)===jt(o.geoPointValue.latitude)&&jt(s.geoPointValue.longitude)===jt(o.geoPointValue.longitude)}(n,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return jt(s.integerValue)===jt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const l=jt(s.doubleValue),c=jt(o.doubleValue);return l===c?Ip(l)===Ip(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return Jl(n.arrayValue.values||[],e.arrayValue.values||[],ws);case 10:case 11:return function(s,o){const l=s.mapValue.fields||{},c=o.mapValue.fields||{};if(o2(l)!==o2(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!ws(l[h],c[h])))return!1;return!0}(n,e);default:return Ie()}}function Ch(n,e){return(n.values||[]).find(t=>ws(t,e))!==void 0}function eu(n,e){if(n===e)return 0;const t=ba(n),i=ba(e);if(t!==i)return Ke(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ke(n.booleanValue,e.booleanValue);case 2:return function(o,l){const c=jt(o.integerValue||o.doubleValue),h=jt(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,e);case 3:return u2(n.timestampValue,e.timestampValue);case 4:return u2(Sh(n),Sh(e));case 5:return Ke(n.stringValue,e.stringValue);case 6:return function(o,l){const c=Ta(o),h=Ta(l);return c.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const c=o.split("/"),h=l.split("/");for(let f=0;f<c.length&&f<h.length;f++){const g=Ke(c[f],h[f]);if(g!==0)return g}return Ke(c.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const c=Ke(jt(o.latitude),jt(l.latitude));return c!==0?c:Ke(jt(o.longitude),jt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return c2(n.arrayValue,e.arrayValue);case 10:return function(o,l){var c,h,f,g;const y=o.fields||{},_=l.fields||{},T=(c=y[Pp])===null||c===void 0?void 0:c.arrayValue,x=(h=_[Pp])===null||h===void 0?void 0:h.arrayValue,D=Ke(((f=T==null?void 0:T.values)===null||f===void 0?void 0:f.length)||0,((g=x==null?void 0:x.values)===null||g===void 0?void 0:g.length)||0);return D!==0?D:c2(T,x)}(n.mapValue,e.mapValue);case 11:return function(o,l){if(o===Cf.mapValue&&l===Cf.mapValue)return 0;if(o===Cf.mapValue)return 1;if(l===Cf.mapValue)return-1;const c=o.fields||{},h=Object.keys(c),f=l.fields||{},g=Object.keys(f);h.sort(),g.sort();for(let y=0;y<h.length&&y<g.length;++y){const _=Ke(h[y],g[y]);if(_!==0)return _;const T=eu(c[h[y]],f[g[y]]);if(T!==0)return T}return Ke(h.length,g.length)}(n.mapValue,e.mapValue);default:throw Ie()}}function u2(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ke(n,e);const t=wa(n),i=wa(e),s=Ke(t.seconds,i.seconds);return s!==0?s:Ke(t.nanos,i.nanos)}function c2(n,e){const t=n.values||[],i=e.values||[];for(let s=0;s<t.length&&s<i.length;++s){const o=eu(t[s],i[s]);if(o)return o}return Ke(t.length,i.length)}function tu(n){return g_(n)}function g_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=wa(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ta(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Se.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",s=!0;for(const o of t.values||[])s?s=!1:i+=",",i+=g_(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const l of i)o?o=!1:s+=",",s+=`${l}:${g_(t.fields[l])}`;return s+"}"}(n.mapValue):Ie()}function Gf(n){switch(ba(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bm(n);return e?16+Gf(e):16;case 5:return 2*n.stringValue.length;case 6:return Ta(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,o)=>s+Gf(o),0)}(n.arrayValue);case 10:case 11:return function(i){let s=0;return Ia(i.fields,(o,l)=>{s+=o.length+Gf(l)}),s}(n.mapValue);default:throw Ie()}}function v_(n){return!!n&&"integerValue"in n}function bE(n){return!!n&&"arrayValue"in n}function h2(n){return!!n&&"nullValue"in n}function d2(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function $f(n){return!!n&&"mapValue"in n}function wB(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[_N])===null||t===void 0?void 0:t.stringValue)===EN}function Jc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ia(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Jc(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Jc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function TB(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===EB}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.value=e}static empty(){return new $n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!$f(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jc(t)}setAll(e){let t=wn.emptyPath(),i={},s=[];e.forEach((l,c)=>{if(!t.isImmediateParentOf(c)){const h=this.getFieldsMap(t);this.applyChanges(h,i,s),i={},s=[],t=c.popLast()}l?i[c.lastSegment()]=Jc(l):s.push(c.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,i,s)}delete(e){const t=this.field(e.popLast());$f(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ws(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=t.mapValue.fields[e.get(i)];$f(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,i){Ia(t,(s,o)=>e[s]=o);for(const s of i)delete e[s]}clone(){return new $n(Jc(this.value))}}function wN(n){const e=[];return Ia(n.fields,(t,i)=>{const s=new wn([t]);if($f(i)){const o=wN(i.mapValue).fields;if(o.length===0)e.push(s);else for(const l of o)e.push(s.child(l))}else e.push(s)}),new ii(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e,t,i,s,o,l,c){this.key=e,this.documentType=t,this.version=i,this.readTime=s,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Nn(e,0,Ne.min(),Ne.min(),Ne.min(),$n.empty(),0)}static newFoundDocument(e,t,i,s){return new Nn(e,1,t,Ne.min(),i,s,0)}static newNoDocument(e,t){return new Nn(e,2,t,Ne.min(),Ne.min(),$n.empty(),0)}static newUnknownDocument(e,t){return new Nn(e,3,t,Ne.min(),Ne.min(),$n.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,t){this.position=e,this.inclusive=t}}function f2(n,e,t){let i=0;for(let s=0;s<n.position.length;s++){const o=e[s],l=n.position[s];if(o.field.isKeyField()?i=Se.comparator(Se.fromName(l.referenceValue),t.key):i=eu(l,t.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function p2(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ws(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,t="asc"){this.field=e,this.dir=t}}function bB(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{}class Xt extends TN{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new xB(e,t,i):t==="array-contains"?new RB(e,i):t==="in"?new IB(e,i):t==="not-in"?new NB(e,i):t==="array-contains-any"?new PB(e,i):new Xt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new CB(e,i):new AB(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(eu(t,this.value)):t!==null&&ba(this.value)===ba(t)&&this.matchesComparison(eu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ts extends TN{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Ts(e,t)}matches(e){return bN(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function bN(n){return n.op==="and"}function SN(n){return SB(n)&&bN(n)}function SB(n){for(const e of n.filters)if(e instanceof Ts)return!1;return!0}function y_(n){if(n instanceof Xt)return n.field.canonicalString()+n.op.toString()+tu(n.value);if(SN(n))return n.filters.map(e=>y_(e)).join(",");{const e=n.filters.map(t=>y_(t)).join(",");return`${n.op}(${e})`}}function xN(n,e){return n instanceof Xt?function(i,s){return s instanceof Xt&&i.op===s.op&&i.field.isEqual(s.field)&&ws(i.value,s.value)}(n,e):n instanceof Ts?function(i,s){return s instanceof Ts&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((o,l,c)=>o&&xN(l,s.filters[c]),!0):!1}(n,e):void Ie()}function CN(n){return n instanceof Xt?function(t){return`${t.field.canonicalString()} ${t.op} ${tu(t.value)}`}(n):n instanceof Ts?function(t){return t.op.toString()+" {"+t.getFilters().map(CN).join(" ,")+"}"}(n):"Filter"}class xB extends Xt{constructor(e,t,i){super(e,t,i),this.key=Se.fromName(i.referenceValue)}matches(e){const t=Se.comparator(e.key,this.key);return this.matchesComparison(t)}}class CB extends Xt{constructor(e,t){super(e,"in",t),this.keys=AN("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class AB extends Xt{constructor(e,t){super(e,"not-in",t),this.keys=AN("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function AN(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Se.fromName(i.referenceValue))}class RB extends Xt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return bE(t)&&Ch(t.arrayValue,this.value)}}class IB extends Xt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ch(this.value.arrayValue,t)}}class NB extends Xt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ch(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Ch(this.value.arrayValue,t)}}class PB extends Xt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!bE(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Ch(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(e,t=null,i=[],s=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=s,this.limit=o,this.startAt=l,this.endAt=c,this.le=null}}function m2(n,e=null,t=[],i=[],s=null,o=null,l=null){return new DB(n,e,t,i,s,o,l)}function SE(n){const e=De(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>y_(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),Tm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>tu(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>tu(i)).join(",")),e.le=t}return e.le}function xE(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!bB(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!xN(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!p2(n.startAt,e.startAt)&&p2(n.endAt,e.endAt)}function __(n){return Se.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e,t=null,i=[],s=[],o=null,l="F",c=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=s,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=h,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function MB(n,e,t,i,s,o,l,c){return new Sm(n,e,t,i,s,o,l,c)}function CE(n){return new Sm(n)}function g2(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function OB(n){return n.collectionGroup!==null}function eh(n){const e=De(n);if(e.he===null){e.he=[];const t=new Set;for(const o of e.explicitOrderBy)e.he.push(o),t.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Jt(wn.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.he.push(new Mp(o,i))}),t.has(wn.keyField().canonicalString())||e.he.push(new Mp(wn.keyField(),i))}return e.he}function ys(n){const e=De(n);return e.Pe||(e.Pe=kB(e,eh(n))),e.Pe}function kB(n,e){if(n.limitType==="F")return m2(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new Mp(s.field,o)});const t=n.endAt?new Dp(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Dp(n.startAt.position,n.startAt.inclusive):null;return m2(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function E_(n,e,t){return new Sm(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function xm(n,e){return xE(ys(n),ys(e))&&n.limitType===e.limitType}function RN(n){return`${SE(ys(n))}|lt:${n.limitType}`}function bl(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(s=>CN(s)).join(", ")}]`),Tm(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>tu(s)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>tu(s)).join(",")),`Target(${i})`}(ys(n))}; limitType=${n.limitType})`}function Cm(n,e){return e.isFoundDocument()&&function(i,s){const o=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Se.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,e)&&function(i,s){for(const o of eh(i))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(n,e)&&function(i,s){for(const o of i.filters)if(!o.matches(s))return!1;return!0}(n,e)&&function(i,s){return!(i.startAt&&!function(l,c,h){const f=f2(l,c,h);return l.inclusive?f<=0:f<0}(i.startAt,eh(i),s)||i.endAt&&!function(l,c,h){const f=f2(l,c,h);return l.inclusive?f>=0:f>0}(i.endAt,eh(i),s))}(n,e)}function LB(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function IN(n){return(e,t)=>{let i=!1;for(const s of eh(n)){const o=VB(s,e,t);if(o!==0)return o;i=i||s.field.isKeyField()}return 0}}function VB(n,e,t){const i=n.field.isKeyField()?Se.comparator(e.key,t.key):function(o,l,c){const h=l.data.field(o),f=c.data.field(o);return h!==null&&f!==null?eu(h,f):Ie()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[s,o]of i)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[t]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ia(this.inner,(t,i)=>{for(const[s,o]of i)e(s,o)})}isEmpty(){return fN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jB=new xt(Se.comparator);function mr(){return jB}const NN=new xt(Se.comparator);function Fc(...n){let e=NN;for(const t of n)e=e.insert(t.key,t);return e}function PN(n){let e=NN;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function mo(){return th()}function DN(){return th()}function th(){return new Do(n=>n.toString(),(n,e)=>n.isEqual(e))}const UB=new xt(Se.comparator),BB=new Jt(Se.comparator);function Ge(...n){let e=BB;for(const t of n)e=e.add(t);return e}const zB=new Jt(Ke);function FB(){return zB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ip(e)?"-0":e}}function MN(n){return{integerValue:""+n}}function HB(n,e){return mB(e)?MN(e):AE(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(){this._=void 0}}function qB(n,e,t){return n instanceof Op?function(s,o){const l={fields:{[gN]:{stringValue:mN},[yN]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&TE(o)&&(o=bm(o)),o&&(l.fields[vN]=o),{mapValue:l}}(t,e):n instanceof Ah?kN(n,e):n instanceof Rh?LN(n,e):function(s,o){const l=ON(s,o),c=v2(l)+v2(s.Ie);return v_(l)&&v_(s.Ie)?MN(c):AE(s.serializer,c)}(n,e)}function GB(n,e,t){return n instanceof Ah?kN(n,e):n instanceof Rh?LN(n,e):t}function ON(n,e){return n instanceof kp?function(i){return v_(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}class Op extends Am{}class Ah extends Am{constructor(e){super(),this.elements=e}}function kN(n,e){const t=VN(e);for(const i of n.elements)t.some(s=>ws(s,i))||t.push(i);return{arrayValue:{values:t}}}class Rh extends Am{constructor(e){super(),this.elements=e}}function LN(n,e){let t=VN(e);for(const i of n.elements)t=t.filter(s=>!ws(s,i));return{arrayValue:{values:t}}}class kp extends Am{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function v2(n){return jt(n.integerValue||n.doubleValue)}function VN(n){return bE(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function $B(n,e){return n.field.isEqual(e.field)&&function(i,s){return i instanceof Ah&&s instanceof Ah||i instanceof Rh&&s instanceof Rh?Jl(i.elements,s.elements,ws):i instanceof kp&&s instanceof kp?ws(i.Ie,s.Ie):i instanceof Op&&s instanceof Op}(n.transform,e.transform)}class KB{constructor(e,t){this.version=e,this.transformResults=t}}class Ui{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ui}static exists(e){return new Ui(void 0,e)}static updateTime(e){return new Ui(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Rm{}function jN(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new RE(n.key,Ui.none()):new qh(n.key,n.data,Ui.none());{const t=n.data,i=$n.empty();let s=new Jt(wn.comparator);for(let o of e.fields)if(!s.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?i.delete(o):i.set(o,l),s=s.add(o)}return new Na(n.key,i,new ii(s.toArray()),Ui.none())}}function WB(n,e,t){n instanceof qh?function(s,o,l){const c=s.value.clone(),h=_2(s.fieldTransforms,o,l.transformResults);c.setAll(h),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Na?function(s,o,l){if(!Kf(s.precondition,o))return void o.convertToUnknownDocument(l.version);const c=_2(s.fieldTransforms,o,l.transformResults),h=o.data;h.setAll(UN(s)),h.setAll(c),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):function(s,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function nh(n,e,t,i){return n instanceof qh?function(o,l,c,h){if(!Kf(o.precondition,l))return c;const f=o.value.clone(),g=E2(o.fieldTransforms,h,l);return f.setAll(g),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(n,e,t,i):n instanceof Na?function(o,l,c,h){if(!Kf(o.precondition,l))return c;const f=E2(o.fieldTransforms,h,l),g=l.data;return g.setAll(UN(o)),g.setAll(f),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(y=>y.field))}(n,e,t,i):function(o,l,c){return Kf(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(n,e,t)}function YB(n,e){let t=null;for(const i of n.fieldTransforms){const s=e.data.field(i.field),o=ON(i.transform,s||null);o!=null&&(t===null&&(t=$n.empty()),t.set(i.field,o))}return t||null}function y2(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Jl(i,s,(o,l)=>$B(o,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class qh extends Rm{constructor(e,t,i,s=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Na extends Rm{constructor(e,t,i,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function UN(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function _2(n,e,t){const i=new Map;at(n.length===t.length);for(let s=0;s<t.length;s++){const o=n[s],l=o.transform,c=e.data.field(o.field);i.set(o.field,GB(l,c,t[s]))}return i}function E2(n,e,t){const i=new Map;for(const s of n){const o=s.transform,l=t.data.field(s.field);i.set(s.field,qB(o,l,e))}return i}class RE extends Rm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QB extends Rm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(e,t,i,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&WB(o,e,i[s])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=nh(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=nh(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=DN();return this.mutations.forEach(s=>{const o=e.get(s.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=t.has(s.key)?null:c;const h=jN(l,c);h!==null&&i.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(Ne.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ge())}isEqual(e){return this.batchId===e.batchId&&Jl(this.mutations,e.mutations,(t,i)=>y2(t,i))&&Jl(this.baseMutations,e.baseMutations,(t,i)=>y2(t,i))}}class IE{constructor(e,t,i,s){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=s}static from(e,t,i){at(e.mutations.length===i.length);let s=function(){return UB}();const o=e.mutations;for(let l=0;l<o.length;l++)s=s.insert(o[l].key,i[l].version);return new IE(e,t,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JB{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht,et;function ez(n){switch(n){case le.OK:return Ie();case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Ie()}}function BN(n){if(n===void 0)return pr("GRPC error has no .code"),le.UNKNOWN;switch(n){case Ht.OK:return le.OK;case Ht.CANCELLED:return le.CANCELLED;case Ht.UNKNOWN:return le.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return le.INTERNAL;case Ht.UNAVAILABLE:return le.UNAVAILABLE;case Ht.UNAUTHENTICATED:return le.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case Ht.NOT_FOUND:return le.NOT_FOUND;case Ht.ALREADY_EXISTS:return le.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return le.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case Ht.ABORTED:return le.ABORTED;case Ht.OUT_OF_RANGE:return le.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return le.UNIMPLEMENTED;case Ht.DATA_LOSS:return le.DATA_LOSS;default:return Ie()}}(et=Ht||(Ht={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tz(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nz=new ha([4294967295,4294967295],0);function w2(n){const e=tz().encode(n),t=new sN;return t.update(e),new Uint8Array(t.digest())}function T2(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ha([t,i],0),new ha([s,o],0)]}class NE{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Hc(`Invalid padding: ${t}`);if(i<0)throw new Hc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Hc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Hc(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=ha.fromNumber(this.Ee)}Ae(e,t,i){let s=e.add(t.multiply(ha.fromNumber(i)));return s.compare(nz)===1&&(s=new ha([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=w2(e),[i,s]=T2(t);for(let o=0;o<this.hashCount;o++){const l=this.Ae(i,s,o);if(!this.Re(l))return!1}return!0}static create(e,t,i){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new NE(o,s,t);return i.forEach(c=>l.insert(c)),l}insert(e){if(this.Ee===0)return;const t=w2(e),[i,s]=T2(t);for(let o=0;o<this.hashCount;o++){const l=this.Ae(i,s,o);this.Ve(l)}}Ve(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Hc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,t,i,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const s=new Map;return s.set(e,Gh.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Im(Ne.min(),s,new xt(Ke),mr(),Ge())}}class Gh{constructor(e,t,i,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Gh(i,t,Ge(),Ge(),Ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e,t,i,s){this.me=e,this.removedTargetIds=t,this.key=i,this.fe=s}}class zN{constructor(e,t){this.targetId=e,this.ge=t}}class FN{constructor(e,t,i=bn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=s}}class b2{constructor(){this.pe=0,this.ye=S2(),this.we=bn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ge(),t=Ge(),i=Ge();return this.ye.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:i=i.add(s);break;default:Ie()}}),new Gh(this.we,this.Se,e,t,i)}Me(){this.be=!1,this.ye=S2()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,at(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class iz{constructor(e){this.ke=e,this.qe=new Map,this.Qe=mr(),this.$e=Af(),this.Ke=Af(),this.Ue=new xt(Ke)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(t);break;case 3:this.Je(t)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Ce(e.resumeToken));break;default:Ie()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((i,s)=>{this.Je(s)&&t(s)})}Ze(e){const t=e.targetId,i=e.ge.count,s=this.Xe(t);if(s){const o=s.target;if(__(o))if(i===0){const l=new Se(o.path);this.ze(t,l,Nn.newNoDocument(l,Ne.min()))}else at(i===1);else{const l=this.et(t);if(l!==i){const c=this.tt(e),h=c?this.nt(c,e,l):1;if(h!==0){this.Ye(t);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,f)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=t;let l,c;try{l=Ta(i).toUint8Array()}catch(h){if(h instanceof pN)return Zl("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new NE(l,s,o)}catch(h){return Zl(h instanceof Hc?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.Ee===0?null:c}nt(e,t,i){return t.ge.count===i-this.st(e,t.targetId)?0:2}st(e,t){const i=this.ke.getRemoteKeysForTarget(t);let s=0;return i.forEach(o=>{const l=this.ke.it(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.ze(t,o,null),s++)}),s}ot(e){const t=new Map;this.qe.forEach((o,l)=>{const c=this.Xe(l);if(c){if(o.current&&__(c.target)){const h=new Se(c.target.path);this._t(h).has(l)||this.ut(l,h)||this.ze(l,h,Nn.newNoDocument(h,e))}o.ve&&(t.set(l,o.Fe()),o.Me())}});let i=Ge();this.Ke.forEach((o,l)=>{let c=!0;l.forEachWhile(h=>{const f=this.Xe(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(o))}),this.Qe.forEach((o,l)=>l.setReadTime(e));const s=new Im(e,t,this.Ue,this.Qe,i);return this.Qe=mr(),this.$e=Af(),this.Ke=Af(),this.Ue=new xt(Ke),s}Ge(e,t){if(!this.Je(e))return;const i=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,i),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const s=this.He(e);this.ut(e,t)?s.xe(t,1):s.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),i&&(this.Qe=this.Qe.insert(t,i))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new b2,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Jt(Ke),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Jt(Ke),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||me("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new b2),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Af(){return new xt(Se.comparator)}function S2(){return new xt(Se.comparator)}const sz={asc:"ASCENDING",desc:"DESCENDING"},rz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},az={and:"AND",or:"OR"};class oz{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function w_(n,e){return n.useProto3Json||Tm(e)?e:{value:e}}function Lp(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HN(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function lz(n,e){return Lp(n,e.toTimestamp())}function _s(n){return at(!!n),Ne.fromTimestamp(function(t){const i=wa(t);return new Zt(i.seconds,i.nanos)}(n))}function PE(n,e){return T_(n,e).canonicalString()}function T_(n,e){const t=function(s){return new yt(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function qN(n){const e=yt.fromString(n);return at(YN(e)),e}function b_(n,e){return PE(n.databaseId,e.path)}function gy(n,e){const t=qN(e);if(t.get(1)!==n.databaseId.projectId)throw new be(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new be(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Se($N(t))}function GN(n,e){return PE(n.databaseId,e)}function uz(n){const e=qN(n);return e.length===4?yt.emptyPath():$N(e)}function S_(n){return new yt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function $N(n){return at(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function x2(n,e,t){return{name:b_(n,e),fields:t.value.mapValue.fields}}function cz(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(f,g){return f.useProto3Json?(at(g===void 0||typeof g=="string"),bn.fromBase64String(g||"")):(at(g===void 0||g instanceof Buffer||g instanceof Uint8Array),bn.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(f){const g=f.code===void 0?le.UNKNOWN:BN(f.code);return new be(g,f.message||"")}(l);t=new FN(i,s,o,c||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=gy(n,i.document.name),o=_s(i.document.updateTime),l=i.document.createTime?_s(i.document.createTime):Ne.min(),c=new $n({mapValue:{fields:i.document.fields}}),h=Nn.newFoundDocument(s,o,l,c),f=i.targetIds||[],g=i.removedTargetIds||[];t=new Wf(f,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=gy(n,i.document),o=i.readTime?_s(i.readTime):Ne.min(),l=Nn.newNoDocument(s,o),c=i.removedTargetIds||[];t=new Wf([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=gy(n,i.document),o=i.removedTargetIds||[];t=new Wf([],o,s,null)}else{if(!("filter"in e))return Ie();{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:o}=i,l=new JB(s,o),c=i.targetId;t=new zN(c,l)}}return t}function hz(n,e){let t;if(e instanceof qh)t={update:x2(n,e.key,e.value)};else if(e instanceof RE)t={delete:b_(n,e.key)};else if(e instanceof Na)t={update:x2(n,e.key,e.data),updateMask:Ez(e.fieldMask)};else{if(!(e instanceof QB))return Ie();t={verify:b_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(o,l){const c=l.transform;if(c instanceof Op)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ah)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Rh)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof kp)return{fieldPath:l.field.canonicalString(),increment:c.Ie};throw Ie()}(0,i))),e.precondition.isNone||(t.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:lz(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ie()}(n,e.precondition)),t}function dz(n,e){return n&&n.length>0?(at(e!==void 0),n.map(t=>function(s,o){let l=s.updateTime?_s(s.updateTime):_s(o);return l.isEqual(Ne.min())&&(l=_s(o)),new KB(l,s.transformResults||[])}(t,e))):[]}function fz(n,e){return{documents:[GN(n,e.path)]}}function pz(n,e){const t={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=GN(n,s);const o=function(f){if(f.length!==0)return WN(Ts.create(f,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const l=function(f){if(f.length!==0)return f.map(g=>function(_){return{field:Sl(_.field),direction:vz(_.dir)}}(g))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=w_(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{ht:t,parent:s}}function mz(n){let e=uz(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let s=null;if(i>0){at(i===1);const g=t.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=function(y){const _=KN(y);return _ instanceof Ts&&SN(_)?_.getFilters():[_]}(t.where));let l=[];t.orderBy&&(l=function(y){return y.map(_=>function(x){return new Mp(xl(x.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(_))}(t.orderBy));let c=null;t.limit&&(c=function(y){let _;return _=typeof y=="object"?y.value:y,Tm(_)?null:_}(t.limit));let h=null;t.startAt&&(h=function(y){const _=!!y.before,T=y.values||[];return new Dp(T,_)}(t.startAt));let f=null;return t.endAt&&(f=function(y){const _=!y.before,T=y.values||[];return new Dp(T,_)}(t.endAt)),MB(e,s,l,o,c,"F",h,f)}function gz(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function KN(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=xl(t.unaryFilter.field);return Xt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=xl(t.unaryFilter.field);return Xt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=xl(t.unaryFilter.field);return Xt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=xl(t.unaryFilter.field);return Xt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Ie()}}(n):n.fieldFilter!==void 0?function(t){return Xt.create(xl(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ie()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Ts.create(t.compositeFilter.filters.map(i=>KN(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ie()}}(t.compositeFilter.op))}(n):Ie()}function vz(n){return sz[n]}function yz(n){return rz[n]}function _z(n){return az[n]}function Sl(n){return{fieldPath:n.canonicalString()}}function xl(n){return wn.fromServerFormat(n.fieldPath)}function WN(n){return n instanceof Xt?function(t){if(t.op==="=="){if(d2(t.value))return{unaryFilter:{field:Sl(t.field),op:"IS_NAN"}};if(h2(t.value))return{unaryFilter:{field:Sl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(d2(t.value))return{unaryFilter:{field:Sl(t.field),op:"IS_NOT_NAN"}};if(h2(t.value))return{unaryFilter:{field:Sl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sl(t.field),op:yz(t.op),value:t.value}}}(n):n instanceof Ts?function(t){const i=t.getFilters().map(s=>WN(s));return i.length===1?i[0]:{compositeFilter:{op:_z(t.op),filters:i}}}(n):Ie()}function Ez(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function YN(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,t,i,s,o=Ne.min(),l=Ne.min(),c=bn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new ra(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wz{constructor(e){this.Tt=e}}function Tz(n){const e=mz({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?E_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bz{constructor(){this.Tn=new Sz}addToCollectionParentIndex(e,t){return this.Tn.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve(Ea.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve(Ea.min())}updateCollectionGroup(e,t,i){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class Sz{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t]||new Jt(yt.comparator),o=!s.has(i);return this.index[t]=s.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t];return s&&s.has(i)}getEntries(e){return(this.index[e]||new Jt(yt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},QN=41943040;class Gn{static withCacheSize(e){return new Gn(e,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gn.DEFAULT_COLLECTION_PERCENTILE=10,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gn.DEFAULT=new Gn(QN,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gn.DISABLED=new Gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new nu(0)}static Un(){return new nu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2="LruGarbageCollector",xz=1048576;function R2([n,e],[t,i]){const s=Ke(n,t);return s===0?Ke(e,i):s}class Cz{constructor(e){this.Hn=e,this.buffer=new Jt(R2),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();R2(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Az{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){me(A2,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){_u(t)?me(A2,"Ignoring IndexedDB error during garbage collection: ",t):await yu(t)}await this.er(3e5)})}}class Rz{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return ie.resolve(wm.ae);const i=new Cz(t);return this.tr.forEachTarget(e,s=>i.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>i.Zn(s))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.tr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(C2)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),C2):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let i,s,o,l,c,h,f;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),s=this.params.maximumSequenceNumbersToCollect):s=y,l=Date.now(),this.nthSequenceNumber(e,s))).next(y=>(i=y,c=Date.now(),this.removeTargets(e,i,t))).next(y=>(o=y,h=Date.now(),this.removeOrphanedDocuments(e,i))).next(y=>(f=Date.now(),Tl()<=ze.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${o} targets in `+(h-c)+`ms
	Removed ${y} documents in `+(f-h)+`ms
Total Duration: ${f-g}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:y})))}}function Iz(n,e){return new Rz(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nz{constructor(){this.changes=new Do(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Nn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ie.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pz{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dz{constructor(e,t,i,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(i!==null&&nh(i.mutation,s,ii.empty(),Zt.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Ge()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Ge()){const s=mo();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,i).next(o=>{let l=Fc();return o.forEach((c,h)=>{l=l.insert(c,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const i=mo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Ge()))}populateOverlays(e,t,i){const s=[];return i.forEach(o=>{t.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((l,c)=>{t.set(l,c)})})}computeViews(e,t,i,s){let o=mr();const l=th(),c=function(){return th()}();return t.forEach((h,f)=>{const g=i.get(f.key);s.has(f.key)&&(g===void 0||g.mutation instanceof Na)?o=o.insert(f.key,f):g!==void 0?(l.set(f.key,g.mutation.getFieldMask()),nh(g.mutation,f,g.mutation.getFieldMask(),Zt.now())):l.set(f.key,ii.empty())}),this.recalculateAndSaveOverlays(e,o).next(h=>(h.forEach((f,g)=>l.set(f,g)),t.forEach((f,g)=>{var y;return c.set(f,new Pz(g,(y=l.get(f))!==null&&y!==void 0?y:null))}),c))}recalculateAndSaveOverlays(e,t){const i=th();let s=new xt((l,c)=>l-c),o=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const c of l)c.keys().forEach(h=>{const f=t.get(h);if(f===null)return;let g=i.get(h)||ii.empty();g=c.applyToLocalView(f,g),i.set(h,g);const y=(s.get(c.batchId)||Ge()).add(h);s=s.insert(c.batchId,y)})}).next(()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),f=h.key,g=h.value,y=DN();g.forEach(_=>{if(!o.has(_)){const T=jN(t.get(_),i.get(_));T!==null&&y.set(_,T),o=o.add(_)}}),l.push(this.documentOverlayCache.saveOverlays(e,f,y))}return ie.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,s){return function(l){return Se.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):OB(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,s):this.getDocumentsMatchingCollectionQuery(e,t,i,s)}getNextDocuments(e,t,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,s).next(o=>{const l=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,s-o.size):ie.resolve(mo());let c=bh,h=o;return l.next(f=>ie.forEach(f,(g,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),o.get(g)?ie.resolve():this.remoteDocumentCache.getEntry(e,g).next(_=>{h=h.insert(g,_)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,h,f,Ge())).next(g=>({batchId:c,changes:PN(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Se(t)).next(i=>{let s=Fc();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,i,s){const o=t.collectionGroup;let l=Fc();return this.indexManager.getCollectionParents(e,o).next(c=>ie.forEach(c,h=>{const f=function(y,_){return new Sm(_,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(t,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,i,s).next(g=>{g.forEach((y,_)=>{l=l.insert(y,_)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,i,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,s))).next(l=>{o.forEach((h,f)=>{const g=f.getKey();l.get(g)===null&&(l=l.insert(g,Nn.newInvalidDocument(g)))});let c=Fc();return l.forEach((h,f)=>{const g=o.get(h);g!==void 0&&nh(g.mutation,f,ii.empty(),Zt.now()),Cm(t,f)&&(c=c.insert(h,f))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mz{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ie.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:_s(s.createTime)}}(t)),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(s){return{name:s.name,query:Tz(s.bundledQuery),readTime:_s(s.readTime)}}(t)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oz{constructor(){this.overlays=new xt(Se.comparator),this.Rr=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const i=mo();return ie.forEach(t,s=>this.getOverlay(e,s).next(o=>{o!==null&&i.set(s,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((s,o)=>{this.Et(e,t,o)}),ie.resolve()}removeOverlaysForBatchId(e,t,i){const s=this.Rr.get(i);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(i)),ie.resolve()}getOverlaysForCollection(e,t,i){const s=mo(),o=t.length+1,l=new Se(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,f=h.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===o&&h.largestBatchId>i&&s.set(h.getKey(),h)}return ie.resolve(s)}getOverlaysForCollectionGroup(e,t,i,s){let o=new xt((f,g)=>f-g);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>i){let g=o.get(f.largestBatchId);g===null&&(g=mo(),o=o.insert(f.largestBatchId,g)),g.set(f.getKey(),f)}}const c=mo(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,g)=>c.set(f,g)),!(c.size()>=s)););return ie.resolve(c)}Et(e,t,i){const s=this.overlays.get(i.key);if(s!==null){const l=this.Rr.get(s.largestBatchId).delete(i.key);this.Rr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new ZB(t,i));let o=this.Rr.get(t);o===void 0&&(o=Ge(),this.Rr.set(t,o)),this.Rr.set(t,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kz{constructor(){this.sessionToken=bn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(){this.Vr=new Jt(un.mr),this.gr=new Jt(un.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const i=new un(e,t);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.wr(new un(e,t))}Sr(e,t){e.forEach(i=>this.removeReference(i,t))}br(e){const t=new Se(new yt([])),i=new un(t,e),s=new un(t,e+1),o=[];return this.gr.forEachInRange([i,s],l=>{this.wr(l),o.push(l.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Se(new yt([])),i=new un(t,e),s=new un(t,e+1);let o=Ge();return this.gr.forEachInRange([i,s],l=>{o=o.add(l.key)}),o}containsKey(e){const t=new un(e,0),i=this.Vr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class un{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Se.comparator(e.key,t.key)||Ke(e.Cr,t.Cr)}static pr(e,t){return Ke(e.Cr,t.Cr)||Se.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lz{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Jt(un.mr)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,s){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new XB(o,t,i,s);this.mutationQueue.push(l);for(const c of s)this.Mr=this.Mr.add(new un(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ie.resolve(l)}lookupMutationBatch(e,t){return ie.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,s=this.Nr(i),o=s<0?0:s;return ie.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?wE:this.Fr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new un(t,0),s=new un(t,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([i,s],l=>{const c=this.Or(l.Cr);o.push(c)}),ie.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Jt(Ke);return t.forEach(s=>{const o=new un(s,0),l=new un(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,l],c=>{i=i.add(c.Cr)})}),ie.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,s=i.length+1;let o=i;Se.isDocumentKey(o)||(o=o.child(""));const l=new un(new Se(o),0);let c=new Jt(Ke);return this.Mr.forEachWhile(h=>{const f=h.key.path;return!!i.isPrefixOf(f)&&(f.length===s&&(c=c.add(h.Cr)),!0)},l),ie.resolve(this.Br(c))}Br(e){const t=[];return e.forEach(i=>{const s=this.Or(i);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){at(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return ie.forEach(t.mutations,s=>{const o=new un(s.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,t){const i=new un(t,0),s=this.Mr.firstAfterOrEqual(i);return ie.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vz{constructor(e){this.kr=e,this.docs=function(){return new xt(Se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,s=this.docs.get(i),o=s?s.size:0,l=this.kr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ie.resolve(i?i.document.mutableCopy():Nn.newInvalidDocument(t))}getEntries(e,t){let i=mr();return t.forEach(s=>{const o=this.docs.get(s);i=i.insert(s,o?o.document.mutableCopy():Nn.newInvalidDocument(s))}),ie.resolve(i)}getDocumentsMatchingQuery(e,t,i,s){let o=mr();const l=t.path,c=new Se(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:f,value:{document:g}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||hB(cB(g),i)<=0||(s.has(g.key)||Cm(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return ie.resolve(o)}getAllFromCollectionGroup(e,t,i,s){Ie()}qr(e,t){return ie.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new jz(this)}getSize(e){return ie.resolve(this.size)}}class jz extends Nz{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?t.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(i)}),ie.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uz{constructor(e){this.persistence=e,this.Qr=new Do(t=>SE(t),xE),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.$r=0,this.Kr=new DE,this.targetCount=0,this.Ur=nu.Kn()}forEachTarget(e,t){return this.Qr.forEach((i,s)=>t(s)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$r&&(this.$r=t),ie.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new nu(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.zn(t),ie.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,i){let s=0;const o=[];return this.Qr.forEach((l,c)=>{c.sequenceNumber<=t&&i.get(c.targetId)===null&&(this.Qr.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),ie.waitFor(o).next(()=>s)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const i=this.Qr.get(t)||null;return ie.resolve(i)}addMatchingKeys(e,t,i){return this.Kr.yr(t,i),ie.resolve()}removeMatchingKeys(e,t,i){this.Kr.Sr(t,i);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach(l=>{o.push(s.markPotentiallyOrphaned(e,l))}),ie.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Kr.vr(t);return ie.resolve(i)}containsKey(e,t){return ie.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new wm(0),this.zr=!1,this.zr=!0,this.jr=new kz,this.referenceDelegate=e(this),this.Hr=new Uz(this),this.indexManager=new bz,this.remoteDocumentCache=function(s){return new Vz(s)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new wz(t),this.Yr=new Mz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Oz,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Wr[e.toKey()];return i||(i=new Lz(t,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,i){me("MemoryPersistence","Starting transaction:",e);const s=new Bz(this.Gr.next());return this.referenceDelegate.Zr(),i(s).next(o=>this.referenceDelegate.Xr(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}ei(e,t){return ie.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,t)))}}class Bz extends fB{constructor(e){super(),this.currentSequenceNumber=e}}class ME{constructor(e){this.persistence=e,this.ti=new DE,this.ni=null}static ri(e){return new ME(e)}get ii(){if(this.ni)return this.ni;throw Ie()}addReference(e,t,i){return this.ti.addReference(i,t),this.ii.delete(i.toString()),ie.resolve()}removeReference(e,t,i){return this.ti.removeReference(i,t),this.ii.add(i.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ie.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(s=>this.ii.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(o=>this.ii.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.ii,i=>{const s=Se.fromPath(i);return this.si(e,s).next(o=>{o||t.removeEntry(s,Ne.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(i=>{i?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ie.or([()=>ie.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Vp{constructor(e,t){this.persistence=e,this.oi=new Do(i=>gB(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=Iz(this,t)}static ri(e,t){return new Vp(e,t)}Zr(){}Xr(e){return ie.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(s=>i+s))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}rr(e,t){return ie.forEach(this.oi,(i,s)=>this.ar(e,i,s).next(o=>o?ie.resolve():t(s)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.qr(e,l=>this.ar(e,l,t).next(c=>{c||(i++,o.removeEntry(l,Ne.min()))})).next(()=>o.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ie.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),ie.resolve()}removeReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ie.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Gf(e.data.value)),t}ar(e,t,i){return ie.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.oi.get(t);return ie.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e,t,i,s){this.targetId=e,this.fromCache=t,this.Hi=i,this.Ji=s}static Yi(e,t){let i=Ge(),s=Ge();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new OE(e,t.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fz{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return c5()?8:pB(Mn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,i,s){const o={result:null};return this.rs(e,t).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.ss(e,t,s,i).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new zz;return this._s(e,t,l).next(c=>{if(o.result=c,this.Xi)return this.us(e,t,l,c.size)})}).next(()=>o.result)}us(e,t,i,s){return i.documentReadCount<this.es?(Tl()<=ze.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",bl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ie.resolve()):(Tl()<=ze.DEBUG&&me("QueryEngine","Query:",bl(t),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ts*s?(Tl()<=ze.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",bl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ys(t))):ie.resolve())}rs(e,t){if(g2(t))return ie.resolve(null);let i=ys(t);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=E_(t,null,"F"),i=ys(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const l=Ge(...o);return this.ns.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,i).next(h=>{const f=this.cs(t,c);return this.ls(t,f,l,h.readTime)?this.rs(e,E_(t,null,"F")):this.hs(e,f,t,h)}))})))}ss(e,t,i,s){return g2(t)||s.isEqual(Ne.min())?ie.resolve(null):this.ns.getDocuments(e,i).next(o=>{const l=this.cs(t,o);return this.ls(t,l,i,s)?ie.resolve(null):(Tl()<=ze.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),bl(t)),this.hs(e,l,t,uB(s,bh)).next(c=>c))})}cs(e,t){let i=new Jt(IN(e));return t.forEach((s,o)=>{Cm(e,o)&&(i=i.add(o))}),i}ls(e,t,i,s){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}_s(e,t,i){return Tl()<=ze.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",bl(t)),this.ns.getDocumentsMatchingQuery(e,t,Ea.min(),i)}hs(e,t,i,s){return this.ns.getDocumentsMatchingQuery(e,i,s).next(o=>(t.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="LocalStore",Hz=3e8;class qz{constructor(e,t,i,s){this.persistence=e,this.Ps=t,this.serializer=s,this.Ts=new xt(Ke),this.Is=new Do(o=>SE(o),xE),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Dz(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function Gz(n,e,t,i){return new qz(n,e,t,i)}async function ZN(n,e){const t=De(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let s;return t.mutationQueue.getAllMutationBatches(i).next(o=>(s=o,t.As(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{const l=[],c=[];let h=Ge();for(const f of s){l.push(f.batchId);for(const g of f.mutations)h=h.add(g.key)}for(const f of o){c.push(f.batchId);for(const g of f.mutations)h=h.add(g.key)}return t.localDocuments.getDocuments(i,h).next(f=>({Rs:f,removedBatchIds:l,addedBatchIds:c}))})})}function $z(n,e){const t=De(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),o=t.ds.newChangeBuffer({trackRemovals:!0});return function(c,h,f,g){const y=f.batch,_=y.keys();let T=ie.resolve();return _.forEach(x=>{T=T.next(()=>g.getEntry(h,x)).next(D=>{const j=f.docVersions.get(x);at(j!==null),D.version.compareTo(j)<0&&(y.applyToRemoteDocument(D,f),D.isValidDocument()&&(D.setReadTime(f.commitVersion),g.addEntry(D)))})}),T.next(()=>c.mutationQueue.removeMutationBatch(h,y))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let h=Ge();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(h=h.add(c.batch.mutations[f].key));return h}(e))).next(()=>t.localDocuments.getDocuments(i,s))})}function JN(n){const e=De(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function Kz(n,e){const t=De(n),i=e.snapshotVersion;let s=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=t.ds.newChangeBuffer({trackRemovals:!0});s=t.Ts;const c=[];e.targetChanges.forEach((g,y)=>{const _=s.get(y);if(!_)return;c.push(t.Hr.removeMatchingKeys(o,g.removedDocuments,y).next(()=>t.Hr.addMatchingKeys(o,g.addedDocuments,y)));let T=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(y)!==null?T=T.withResumeToken(bn.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):g.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(g.resumeToken,i)),s=s.insert(y,T),function(D,j,P){return D.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=Hz?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(_,T,g)&&c.push(t.Hr.updateTargetData(o,T))});let h=mr(),f=Ge();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))}),c.push(Wz(o,l,e.documentUpdates).next(g=>{h=g.Vs,f=g.fs})),!i.isEqual(Ne.min())){const g=t.Hr.getLastRemoteSnapshotVersion(o).next(y=>t.Hr.setTargetsMetadata(o,o.currentSequenceNumber,i));c.push(g)}return ie.waitFor(c).next(()=>l.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,h,f)).next(()=>h)}).then(o=>(t.Ts=s,o))}function Wz(n,e,t){let i=Ge(),s=Ge();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let l=mr();return t.forEach((c,h)=>{const f=o.get(c);h.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(c)),h.isNoDocument()&&h.version.isEqual(Ne.min())?(e.removeEntry(c,h.readTime),l=l.insert(c,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),l=l.insert(c,h)):me(kE,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",h.version)}),{Vs:l,fs:s}})}function Yz(n,e){const t=De(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=wE),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Qz(n,e){const t=De(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return t.Hr.getTargetData(i,e).next(o=>o?(s=o,ie.resolve(s)):t.Hr.allocateTargetId(i).next(l=>(s=new ra(e,l,"TargetPurposeListen",i.currentSequenceNumber),t.Hr.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=t.Ts.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(i.targetId,i),t.Is.set(e,i.targetId)),i})}async function x_(n,e,t){const i=De(n),s=i.Ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",o,l=>i.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!_u(l))throw l;me(kE,`Failed to update sequence numbers for target ${e}: ${l}`)}i.Ts=i.Ts.remove(e),i.Is.delete(s.target)}function I2(n,e,t){const i=De(n);let s=Ne.min(),o=Ge();return i.persistence.runTransaction("Execute query","readwrite",l=>function(h,f,g){const y=De(h),_=y.Is.get(g);return _!==void 0?ie.resolve(y.Ts.get(_)):y.Hr.getTargetData(f,g)}(i,l,ys(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(l,c.targetId).next(h=>{o=h})}).next(()=>i.Ps.getDocumentsMatchingQuery(l,e,t?s:Ne.min(),t?o:Ge())).next(c=>(Xz(i,LB(e),c),{documents:c,gs:o})))}function Xz(n,e,t){let i=n.Es.get(e)||Ne.min();t.forEach((s,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Es.set(e,i)}class N2{constructor(){this.activeTargetIds=FB()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Zz{constructor(){this.ho=new N2,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,i){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new N2,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jz{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2="ConnectivityMonitor";class D2{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){me(P2,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){me(P2,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rf=null;function C_(){return Rf===null?Rf=function(){return 268435456+Math.round(2147483648*Math.random())}():Rf++,"0x"+Rf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy="RestConnection",eF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tF{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${i}/databases/${s}`,this.wo=this.databaseId.database===Np?`project_id=${i}`:`project_id=${i}&database_id=${s}`}So(e,t,i,s,o){const l=C_(),c=this.bo(e,t.toUriEncodedString());me(vy,`Sending RPC '${e}' ${l}:`,c,i);const h={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(h,s,o),this.vo(e,c,h,i).then(f=>(me(vy,`Received RPC '${e}' ${l}: `,f),f),f=>{throw Zl(vy,`RPC '${e}' ${l} failed with error: `,f,"url: ",c,"request:",i),f})}Co(e,t,i,s,o,l){return this.So(e,t,i,s,o)}Do(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,o)=>e[o]=s),i&&i.headers.forEach((s,o)=>e[o]=s)}bo(e,t){const i=eF[e];return`${this.po}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An="WebChannelConnection";class iF extends tF{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,i,s){const o=C_();return new Promise((l,c)=>{const h=new rN;h.setWithCredentials(!0),h.listenOnce(aN.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case qf.NO_ERROR:const g=h.getResponseJson();me(An,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),l(g);break;case qf.TIMEOUT:me(An,`RPC '${e}' ${o} timed out`),c(new be(le.DEADLINE_EXCEEDED,"Request time out"));break;case qf.HTTP_ERROR:const y=h.getStatus();if(me(An,`RPC '${e}' ${o} failed with status:`,y,"response text:",h.getResponseText()),y>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const T=_==null?void 0:_.error;if(T&&T.status&&T.message){const x=function(j){const P=j.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(P)>=0?P:le.UNKNOWN}(T.status);c(new be(x,T.message))}else c(new be(le.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new be(le.UNAVAILABLE,"Connection failed."));break;default:Ie()}}finally{me(An,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(s);me(An,`RPC '${e}' ${o} sending request:`,s),h.send(t,"POST",f,i,15)})}Wo(e,t,i){const s=C_(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=uN(),c=lN(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Do(h.initMessageHeaders,t,i),h.encodeInitMessageHeaders=!0;const g=o.join("");me(An,`Creating RPC '${e}' stream ${s}: ${g}`,h);const y=l.createWebChannel(g,h);let _=!1,T=!1;const x=new nF({Fo:j=>{T?me(An,`Not sending because RPC '${e}' stream ${s} is closed:`,j):(_||(me(An,`Opening RPC '${e}' stream ${s} transport.`),y.open(),_=!0),me(An,`RPC '${e}' stream ${s} sending:`,j),y.send(j))},Mo:()=>y.close()}),D=(j,P,I)=>{j.listen(P,L=>{try{I(L)}catch(q){setTimeout(()=>{throw q},0)}})};return D(y,zc.EventType.OPEN,()=>{T||(me(An,`RPC '${e}' stream ${s} transport opened.`),x.Qo())}),D(y,zc.EventType.CLOSE,()=>{T||(T=!0,me(An,`RPC '${e}' stream ${s} transport closed`),x.Ko())}),D(y,zc.EventType.ERROR,j=>{T||(T=!0,Zl(An,`RPC '${e}' stream ${s} transport errored:`,j),x.Ko(new be(le.UNAVAILABLE,"The operation could not be completed")))}),D(y,zc.EventType.MESSAGE,j=>{var P;if(!T){const I=j.data[0];at(!!I);const L=I,q=(L==null?void 0:L.error)||((P=L[0])===null||P===void 0?void 0:P.error);if(q){me(An,`RPC '${e}' stream ${s} received error:`,q);const H=q.status;let Z=function(C){const R=Ht[C];if(R!==void 0)return BN(R)}(H),O=q.message;Z===void 0&&(Z=le.INTERNAL,O="Unknown error status: "+H+" with message "+q.message),T=!0,x.Ko(new be(Z,O)),y.close()}else me(An,`RPC '${e}' stream ${s} received:`,I),x.Uo(I)}}),D(c,oN.STAT_EVENT,j=>{j.stat===m_.PROXY?me(An,`RPC '${e}' stream ${s} detected buffering proxy`):j.stat===m_.NOPROXY&&me(An,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{x.$o()},0),x}}function yy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(n){return new oz(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e,t,i=1e3,s=1.5,o=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=s,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),s=Math.max(0,t-i);s>0&&me("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2="PersistentStream";class tP{constructor(e,t,i,s,o,l,c,h){this.Ti=e,this.n_=i,this.r_=s,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new eP(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===le.RESOURCE_EXHAUSTED?(pr(t.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.i_===t&&this.V_(i,s)},i=>{e(()=>{const s=new be(le.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(s)})})}V_(e,t){const i=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{i(()=>this.m_(s))}),this.stream.onMessage(s=>{i(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return me(M2,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(me(M2,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sF extends tP{constructor(e,t,i,s,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,s,l),this.serializer=o}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=cz(this.serializer,e),i=function(o){if(!("targetChange"in o))return Ne.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Ne.min():l.readTime?_s(l.readTime):Ne.min()}(e);return this.listener.p_(t,i)}y_(e){const t={};t.database=S_(this.serializer),t.addTarget=function(o,l){let c;const h=l.target;if(c=__(h)?{documents:fz(o,h)}:{query:pz(o,h).ht},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=HN(o,l.resumeToken);const f=w_(o,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(Ne.min())>0){c.readTime=Lp(o,l.snapshotVersion.toTimestamp());const f=w_(o,l.expectedCount);f!==null&&(c.expectedCount=f)}return c}(this.serializer,e);const i=gz(this.serializer,e);i&&(t.labels=i),this.I_(t)}w_(e){const t={};t.database=S_(this.serializer),t.removeTarget=e,this.I_(t)}}class rF extends tP{constructor(e,t,i,s,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,s,l),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return at(!!e.streamToken),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){at(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=dz(e.writeResults,e.commitTime),i=_s(e.commitTime);return this.listener.v_(i,t)}C_(){const e={};e.database=S_(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>hz(this.serializer,i))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{}class oF extends aF{constructor(e,t,i,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new be(le.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.So(e,T_(t,i),s,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new be(le.UNKNOWN,o.toString())})}Co(e,t,i,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Co(e,T_(t,i),s,l,c,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new be(le.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class lF{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(pr(t),this.N_=!1):me("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So="RemoteStore";class uF{constructor(e,t,i,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(l=>{i.enqueueAndForget(async()=>{Mo(this)&&(me(So,"Restarting streams for network reachability change."),await async function(h){const f=De(h);f.W_.add(4),await $h(f),f.j_.set("Unknown"),f.W_.delete(4),await Pm(f)}(this))})}),this.j_=new lF(i,s)}}async function Pm(n){if(Mo(n))for(const e of n.G_)await e(!0)}async function $h(n){for(const e of n.G_)await e(!1)}function nP(n,e){const t=De(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),UE(t)?jE(t):Eu(t).c_()&&VE(t,e))}function LE(n,e){const t=De(n),i=Eu(t);t.U_.delete(e),i.c_()&&iP(t,e),t.U_.size===0&&(i.c_()?i.P_():Mo(t)&&t.j_.set("Unknown"))}function VE(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Eu(n).y_(e)}function iP(n,e){n.H_.Ne(e),Eu(n).w_(e)}function jE(n){n.H_=new iz({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Eu(n).start(),n.j_.B_()}function UE(n){return Mo(n)&&!Eu(n).u_()&&n.U_.size>0}function Mo(n){return De(n).W_.size===0}function sP(n){n.H_=void 0}async function cF(n){n.j_.set("Online")}async function hF(n){n.U_.forEach((e,t)=>{VE(n,e)})}async function dF(n,e){sP(n),UE(n)?(n.j_.q_(e),jE(n)):n.j_.set("Unknown")}async function fF(n,e,t){if(n.j_.set("Online"),e instanceof FN&&e.state===2&&e.cause)try{await async function(s,o){const l=o.cause;for(const c of o.targetIds)s.U_.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.U_.delete(c),s.H_.removeTarget(c))}(n,e)}catch(i){me(So,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await jp(n,i)}else if(e instanceof Wf?n.H_.We(e):e instanceof zN?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Ne.min()))try{const i=await JN(n.localStore);t.compareTo(i)>=0&&await function(o,l){const c=o.H_.ot(l);return c.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const g=o.U_.get(f);g&&o.U_.set(f,g.withResumeToken(h.resumeToken,l))}}),c.targetMismatches.forEach((h,f)=>{const g=o.U_.get(h);if(!g)return;o.U_.set(h,g.withResumeToken(bn.EMPTY_BYTE_STRING,g.snapshotVersion)),iP(o,h);const y=new ra(g.target,h,f,g.sequenceNumber);VE(o,y)}),o.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(i){me(So,"Failed to raise snapshot:",i),await jp(n,i)}}async function jp(n,e,t){if(!_u(e))throw e;n.W_.add(1),await $h(n),n.j_.set("Offline"),t||(t=()=>JN(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{me(So,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await Pm(n)})}function rP(n,e){return e().catch(t=>jp(n,t,e))}async function Dm(n){const e=De(n),t=Sa(e);let i=e.K_.length>0?e.K_[e.K_.length-1].batchId:wE;for(;pF(e);)try{const s=await Yz(e.localStore,i);if(s===null){e.K_.length===0&&t.P_();break}i=s.batchId,mF(e,s)}catch(s){await jp(e,s)}aP(e)&&oP(e)}function pF(n){return Mo(n)&&n.K_.length<10}function mF(n,e){n.K_.push(e);const t=Sa(n);t.c_()&&t.S_&&t.b_(e.mutations)}function aP(n){return Mo(n)&&!Sa(n).u_()&&n.K_.length>0}function oP(n){Sa(n).start()}async function gF(n){Sa(n).C_()}async function vF(n){const e=Sa(n);for(const t of n.K_)e.b_(t.mutations)}async function yF(n,e,t){const i=n.K_.shift(),s=IE.from(i,e,t);await rP(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await Dm(n)}async function _F(n,e){e&&Sa(n).S_&&await async function(i,s){if(function(l){return ez(l)&&l!==le.ABORTED}(s.code)){const o=i.K_.shift();Sa(i).h_(),await rP(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),await Dm(i)}}(n,e),aP(n)&&oP(n)}async function O2(n,e){const t=De(n);t.asyncQueue.verifyOperationInProgress(),me(So,"RemoteStore received new credentials");const i=Mo(t);t.W_.add(3),await $h(t),i&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Pm(t)}async function EF(n,e){const t=De(n);e?(t.W_.delete(2),await Pm(t)):e||(t.W_.add(2),await $h(t),t.j_.set("Unknown"))}function Eu(n){return n.J_||(n.J_=function(t,i,s){const o=De(t);return o.M_(),new sF(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{xo:cF.bind(null,n),No:hF.bind(null,n),Lo:dF.bind(null,n),p_:fF.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),UE(n)?jE(n):n.j_.set("Unknown")):(await n.J_.stop(),sP(n))})),n.J_}function Sa(n){return n.Y_||(n.Y_=function(t,i,s){const o=De(t);return o.M_(),new rF(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:gF.bind(null,n),Lo:_F.bind(null,n),D_:vF.bind(null,n),v_:yF.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Dm(n)):(await n.Y_.stop(),n.K_.length>0&&(me(So,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e,t,i,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=s,this.removalCallback=o,this.deferred=new da,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,s,o){const l=Date.now()+i,c=new BE(e,t,l,s,o);return c.start(i),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zE(n,e){if(pr("AsyncQueue",`${e}: ${n}`),_u(n))return new be(le.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{static emptySet(e){return new Bl(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Se.comparator(t.key,i.key):(t,i)=>Se.comparator(t.key,i.key),this.keyedMap=Fc(),this.sortedSet=new xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Bl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=i.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Bl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(){this.Z_=new xt(Se.comparator)}track(e){const t=e.doc.key,i=this.Z_.get(t);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(t):e.type===1&&i.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ie():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class iu{constructor(e,t,i,s,o,l,c,h,f){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,t,i,s,o){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new iu(e,t,Bl.emptySet(t),l,i,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==i[s].type||!t[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class TF{constructor(){this.queries=L2(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,i){const s=De(t),o=s.queries;s.queries=L2(),o.forEach((l,c)=>{for(const h of c.ta)h.onError(i)})})(this,new be(le.ABORTED,"Firestore shutting down"))}}function L2(){return new Do(n=>RN(n),xm)}async function bF(n,e){const t=De(n);let i=3;const s=e.query;let o=t.queries.get(s);o?!o.na()&&e.ra()&&(i=2):(o=new wF,i=e.ra()?0:1);try{switch(i){case 0:o.ea=await t.onListen(s,!0);break;case 1:o.ea=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(l){const c=zE(l,`Initialization of query '${bl(e.query)}' failed`);return void e.onError(c)}t.queries.set(s,o),o.ta.push(e),e.sa(t.onlineState),o.ea&&e.oa(o.ea)&&FE(t)}async function SF(n,e){const t=De(n),i=e.query;let s=3;const o=t.queries.get(i);if(o){const l=o.ta.indexOf(e);l>=0&&(o.ta.splice(l,1),o.ta.length===0?s=e.ra()?0:1:!o.na()&&e.ra()&&(s=2))}switch(s){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function xF(n,e){const t=De(n);let i=!1;for(const s of e){const o=s.query,l=t.queries.get(o);if(l){for(const c of l.ta)c.oa(s)&&(i=!0);l.ea=s}}i&&FE(t)}function CF(n,e,t){const i=De(n),s=i.queries.get(e);if(s)for(const o of s.ta)o.onError(t);i.queries.delete(e)}function FE(n){n.ia.forEach(e=>{e.next()})}var A_,V2;(V2=A_||(A_={}))._a="default",V2.Cache="cache";class AF{constructor(e,t,i){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new iu(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const i=t!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=iu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==A_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e){this.key=e}}class uP{constructor(e){this.key=e}}class RF{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ge(),this.mutatedKeys=Ge(),this.ya=IN(e),this.wa=new Bl(this.ya)}get Sa(){return this.fa}ba(e,t){const i=t?t.Da:new k2,s=t?t.wa:this.wa;let o=t?t.mutatedKeys:this.mutatedKeys,l=s,c=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((g,y)=>{const _=s.get(g),T=Cm(this.query,y)?y:null,x=!!_&&this.mutatedKeys.has(_.key),D=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let j=!1;_&&T?_.data.isEqual(T.data)?x!==D&&(i.track({type:3,doc:T}),j=!0):this.va(_,T)||(i.track({type:2,doc:T}),j=!0,(h&&this.ya(T,h)>0||f&&this.ya(T,f)<0)&&(c=!0)):!_&&T?(i.track({type:0,doc:T}),j=!0):_&&!T&&(i.track({type:1,doc:_}),j=!0,(h||f)&&(c=!0)),j&&(T?(l=l.add(T),o=D?o.add(g):o.delete(g)):(l=l.delete(g),o=o.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),o=o.delete(g.key),i.track({type:1,doc:g})}return{wa:l,Da:i,ls:c,mutatedKeys:o}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,s){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((g,y)=>function(T,x){const D=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie()}};return D(T)-D(x)}(g.type,y.type)||this.ya(g.doc,y.doc)),this.Ca(i),s=s!=null&&s;const c=t&&!s?this.Fa():[],h=this.pa.size===0&&this.current&&!s?1:0,f=h!==this.ga;return this.ga=h,l.length!==0||f?{snapshot:new iu(this.query,e.wa,o,l,e.mutatedKeys,h===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new k2,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ge(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const t=[];return e.forEach(i=>{this.pa.has(i)||t.push(new uP(i))}),this.pa.forEach(i=>{e.has(i)||t.push(new lP(i))}),t}Oa(e){this.fa=e.gs,this.pa=Ge();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return iu.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const HE="SyncEngine";class IF{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class NF{constructor(e){this.key=e,this.Ba=!1}}class PF{constructor(e,t,i,s,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new Do(c=>RN(c),xm),this.qa=new Map,this.Qa=new Set,this.$a=new xt(Se.comparator),this.Ka=new Map,this.Ua=new DE,this.Wa={},this.Ga=new Map,this.za=nu.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function DF(n,e,t=!0){const i=mP(n);let s;const o=i.ka.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.Na()):s=await cP(i,e,t,!0),s}async function MF(n,e){const t=mP(n);await cP(t,e,!0,!1)}async function cP(n,e,t,i){const s=await Qz(n.localStore,ys(e)),o=s.targetId,l=n.sharedClientState.addLocalQueryTarget(o,t);let c;return i&&(c=await OF(n,e,o,l==="current",s.resumeToken)),n.isPrimaryClient&&t&&nP(n.remoteStore,s),c}async function OF(n,e,t,i,s){n.Ha=(y,_,T)=>async function(D,j,P,I){let L=j.view.ba(P);L.ls&&(L=await I2(D.localStore,j.query,!1).then(({documents:O})=>j.view.ba(O,L)));const q=I&&I.targetChanges.get(j.targetId),H=I&&I.targetMismatches.get(j.targetId)!=null,Z=j.view.applyChanges(L,D.isPrimaryClient,q,H);return U2(D,j.targetId,Z.Ma),Z.snapshot}(n,y,_,T);const o=await I2(n.localStore,e,!0),l=new RF(e,o.gs),c=l.ba(o.documents),h=Gh.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",s),f=l.applyChanges(c,n.isPrimaryClient,h);U2(n,t,f.Ma);const g=new IF(e,t,l);return n.ka.set(e,g),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),f.snapshot}async function kF(n,e,t){const i=De(n),s=i.ka.get(e),o=i.qa.get(s.targetId);if(o.length>1)return i.qa.set(s.targetId,o.filter(l=>!xm(l,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await x_(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),t&&LE(i.remoteStore,s.targetId),R_(i,s.targetId)}).catch(yu)):(R_(i,s.targetId),await x_(i.localStore,s.targetId,!0))}async function LF(n,e){const t=De(n),i=t.ka.get(e),s=t.qa.get(i.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),LE(t.remoteStore,i.targetId))}async function VF(n,e,t){const i=qF(n);try{const s=await function(l,c){const h=De(l),f=Zt.now(),g=c.reduce((T,x)=>T.add(x.key),Ge());let y,_;return h.persistence.runTransaction("Locally write mutations","readwrite",T=>{let x=mr(),D=Ge();return h.ds.getEntries(T,g).next(j=>{x=j,x.forEach((P,I)=>{I.isValidDocument()||(D=D.add(P))})}).next(()=>h.localDocuments.getOverlayedDocuments(T,x)).next(j=>{y=j;const P=[];for(const I of c){const L=YB(I,y.get(I.key).overlayedDocument);L!=null&&P.push(new Na(I.key,L,wN(L.value.mapValue),Ui.exists(!0)))}return h.mutationQueue.addMutationBatch(T,f,P,c)}).next(j=>{_=j;const P=j.applyToLocalDocumentSet(y,D);return h.documentOverlayCache.saveOverlays(T,j.batchId,P)})}).then(()=>({batchId:_.batchId,changes:PN(y)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(l,c,h){let f=l.Wa[l.currentUser.toKey()];f||(f=new xt(Ke)),f=f.insert(c,h),l.Wa[l.currentUser.toKey()]=f}(i,s.batchId,t),await Kh(i,s.changes),await Dm(i.remoteStore)}catch(s){const o=zE(s,"Failed to persist write");t.reject(o)}}async function hP(n,e){const t=De(n);try{const i=await Kz(t.localStore,e);e.targetChanges.forEach((s,o)=>{const l=t.Ka.get(o);l&&(at(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.Ba=!0:s.modifiedDocuments.size>0?at(l.Ba):s.removedDocuments.size>0&&(at(l.Ba),l.Ba=!1))}),await Kh(t,i,e)}catch(i){await yu(i)}}function j2(n,e,t){const i=De(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const s=[];i.ka.forEach((o,l)=>{const c=l.view.sa(e);c.snapshot&&s.push(c.snapshot)}),function(l,c){const h=De(l);h.onlineState=c;let f=!1;h.queries.forEach((g,y)=>{for(const _ of y.ta)_.sa(c)&&(f=!0)}),f&&FE(h)}(i.eventManager,e),s.length&&i.La.p_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function jF(n,e,t){const i=De(n);i.sharedClientState.updateQueryState(e,"rejected",t);const s=i.Ka.get(e),o=s&&s.key;if(o){let l=new xt(Se.comparator);l=l.insert(o,Nn.newNoDocument(o,Ne.min()));const c=Ge().add(o),h=new Im(Ne.min(),new Map,new xt(Ke),l,c);await hP(i,h),i.$a=i.$a.remove(o),i.Ka.delete(e),qE(i)}else await x_(i.localStore,e,!1).then(()=>R_(i,e,t)).catch(yu)}async function UF(n,e){const t=De(n),i=e.batch.batchId;try{const s=await $z(t.localStore,e);fP(t,i,null),dP(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Kh(t,s)}catch(s){await yu(s)}}async function BF(n,e,t){const i=De(n);try{const s=await function(l,c){const h=De(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let g;return h.mutationQueue.lookupMutationBatch(f,c).next(y=>(at(y!==null),g=y.keys(),h.mutationQueue.removeMutationBatch(f,y))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,g,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g)).next(()=>h.localDocuments.getDocuments(f,g))})}(i.localStore,e);fP(i,e,t),dP(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Kh(i,s)}catch(s){await yu(s)}}function dP(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function fP(n,e,t){const i=De(n);let s=i.Wa[i.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),i.Wa[i.currentUser.toKey()]=s}}function R_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.qa.get(e))n.ka.delete(i),t&&n.La.Ja(i,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.br(e).forEach(i=>{n.Ua.containsKey(i)||pP(n,i)})}function pP(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(LE(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),qE(n))}function U2(n,e,t){for(const i of t)i instanceof lP?(n.Ua.addReference(i.key,e),zF(n,i)):i instanceof uP?(me(HE,"Document no longer in limbo: "+i.key),n.Ua.removeReference(i.key,e),n.Ua.containsKey(i.key)||pP(n,i.key)):Ie()}function zF(n,e){const t=e.key,i=t.path.canonicalString();n.$a.get(t)||n.Qa.has(i)||(me(HE,"New document in limbo: "+t),n.Qa.add(i),qE(n))}function qE(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Se(yt.fromString(e)),i=n.za.next();n.Ka.set(i,new NF(t)),n.$a=n.$a.insert(t,i),nP(n.remoteStore,new ra(ys(CE(t.path)),i,"TargetPurposeLimboResolution",wm.ae))}}async function Kh(n,e,t){const i=De(n),s=[],o=[],l=[];i.ka.isEmpty()||(i.ka.forEach((c,h)=>{l.push(i.Ha(h,e,t).then(f=>{var g;if((f||t)&&i.isPrimaryClient){const y=f?!f.fromCache:(g=t==null?void 0:t.targetChanges.get(h.targetId))===null||g===void 0?void 0:g.current;i.sharedClientState.updateQueryState(h.targetId,y?"current":"not-current")}if(f){s.push(f);const y=OE.Yi(h.targetId,f);o.push(y)}}))}),await Promise.all(l),i.La.p_(s),await async function(h,f){const g=De(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>ie.forEach(f,_=>ie.forEach(_.Hi,T=>g.persistence.referenceDelegate.addReference(y,_.targetId,T)).next(()=>ie.forEach(_.Ji,T=>g.persistence.referenceDelegate.removeReference(y,_.targetId,T)))))}catch(y){if(!_u(y))throw y;me(kE,"Failed to update sequence numbers: "+y)}for(const y of f){const _=y.targetId;if(!y.fromCache){const T=g.Ts.get(_),x=T.snapshotVersion,D=T.withLastLimboFreeSnapshotVersion(x);g.Ts=g.Ts.insert(_,D)}}}(i.localStore,o))}async function FF(n,e){const t=De(n);if(!t.currentUser.isEqual(e)){me(HE,"User change. New user:",e.toKey());const i=await ZN(t.localStore,e);t.currentUser=e,function(o,l){o.Ga.forEach(c=>{c.forEach(h=>{h.reject(new be(le.CANCELLED,l))})}),o.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Kh(t,i.Rs)}}function HF(n,e){const t=De(n),i=t.Ka.get(e);if(i&&i.Ba)return Ge().add(i.key);{let s=Ge();const o=t.qa.get(e);if(!o)return s;for(const l of o){const c=t.ka.get(l);s=s.unionWith(c.view.Sa)}return s}}function mP(n){const e=De(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=hP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jF.bind(null,e),e.La.p_=xF.bind(null,e.eventManager),e.La.Ja=CF.bind(null,e.eventManager),e}function qF(n){const e=De(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=UF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BF.bind(null,e),e}class Up{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nm(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return Gz(this.persistence,new Fz,e.initialUser,this.serializer)}Xa(e){return new XN(ME.ri,this.serializer)}Za(e){return new Zz}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Up.provider={build:()=>new Up};class GF extends Up{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){at(this.persistence.referenceDelegate instanceof Vp);const i=this.persistence.referenceDelegate.garbageCollector;return new Az(i,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Gn.withCacheSize(this.cacheSizeBytes):Gn.DEFAULT;return new XN(i=>Vp.ri(i,t),this.serializer)}}class I_{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>j2(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=FF.bind(null,this.syncEngine),await EF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new TF}()}createDatastore(e){const t=Nm(e.databaseInfo.databaseId),i=function(o){return new iF(o)}(e.databaseInfo);return function(o,l,c,h){return new oF(o,l,c,h)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,s,o,l,c){return new uF(i,s,o,l,c)}(this.localStore,this.datastore,e.asyncQueue,t=>j2(this.syncEngine,t,0),function(){return D2.D()?new D2:new Jz}())}createSyncEngine(e,t){return function(s,o,l,c,h,f,g){const y=new PF(s,o,l,c,h,f);return g&&(y.ja=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const o=De(s);me(So,"RemoteStore shutting down."),o.W_.add(5),await $h(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}I_.provider={build:()=>new I_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):pr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa="FirestoreClient";class KF{constructor(e,t,i,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=s,this.user=In.UNAUTHENTICATED,this.clientId=hN.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async l=>{me(xa,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(i,l=>(me(xa,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new da;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=zE(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function _y(n,e){n.asyncQueue.verifyOperationInProgress(),me(xa,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async s=>{i.isEqual(s)||(await ZN(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function B2(n,e){n.asyncQueue.verifyOperationInProgress();const t=await WF(n);me(xa,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>O2(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>O2(e.remoteStore,s)),n._onlineComponents=e}async function WF(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){me(xa,"Using user provided OfflineComponentProvider");try{await _y(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===le.FAILED_PRECONDITION||s.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Zl("Error using user provided cache. Falling back to memory cache: "+t),await _y(n,new Up)}}else me(xa,"Using default OfflineComponentProvider"),await _y(n,new GF(void 0));return n._offlineComponents}async function gP(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(me(xa,"Using user provided OnlineComponentProvider"),await B2(n,n._uninitializedComponentsProvider._online)):(me(xa,"Using default OnlineComponentProvider"),await B2(n,new I_))),n._onlineComponents}function YF(n){return gP(n).then(e=>e.syncEngine)}async function QF(n){const e=await gP(n),t=e.eventManager;return t.onListen=DF.bind(null,e.syncEngine),t.onUnlisten=kF.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=MF.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=LF.bind(null,e.syncEngine),t}function XF(n,e,t={}){const i=new da;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,c,h,f){const g=new $F({next:_=>{g.su(),l.enqueueAndForget(()=>SF(o,y));const T=_.docs.has(c);!T&&_.fromCache?f.reject(new be(le.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&_.fromCache&&h&&h.source==="server"?f.reject(new be(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(_)},error:_=>f.reject(_)}),y=new AF(CE(c.path),g,{includeMetadataChanges:!0,Ta:!0});return bF(o,y)}(await QF(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(n,e,t){if(!t)throw new be(le.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function ZF(n,e,t,i){if(e===!0&&i===!0)throw new be(le.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function F2(n){if(!Se.isDocumentKey(n))throw new be(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function H2(n){if(Se.isDocumentKey(n))throw new be(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function GE(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ie()}function xo(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new be(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=GE(n);throw new be(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P="firestore.googleapis.com",q2=!0;class G2{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new be(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_P,this.ssl=q2}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:q2;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=QN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<xz)throw new be(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ZF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vP((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new be(le.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new be(le.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new be(le.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mm{constructor(e,t,i,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new G2({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new G2(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new tB;switch(i.type){case"firstParty":return new rB(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new be(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=z2.get(t);i&&(me("ComponentProvider","Removing Datastore"),z2.delete(t),i.terminate())}(this),Promise.resolve()}}function JF(n,e,t,i={}){var s;const o=(n=xo(n,Mm))._getSettings(),l=`${e}:${t}`;if(o.host!==_P&&o.host!==l&&Zl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:l,ssl:!1})),i.mockUserToken){let c,h;if(typeof i.mockUserToken=="string")c=i.mockUserToken,h=In.MOCK_USER;else{c=iR(i.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new be(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new In(f)}n._authCredentials=new nB(new cN(c,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new $E(this.firestore,e,this._query)}}class ri{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ri(this.firestore,e,this._key)}}class fa extends $E{constructor(e,t,i){super(e,t,CE(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ri(this.firestore,null,new Se(e))}withConverter(e){return new fa(this.firestore,e,this._path)}}function $2(n,e,...t){if(n=St(n),yP("collection","path",e),n instanceof Mm){const i=yt.fromString(e,...t);return H2(i),new fa(n,null,i)}{if(!(n instanceof ri||n instanceof fa))throw new be(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(yt.fromString(e,...t));return H2(i),new fa(n.firestore,null,i)}}function N_(n,e,...t){if(n=St(n),arguments.length===1&&(e=hN.newId()),yP("doc","path",e),n instanceof Mm){const i=yt.fromString(e,...t);return F2(i),new ri(n,null,new Se(i))}{if(!(n instanceof ri||n instanceof fa))throw new be(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(yt.fromString(e,...t));return F2(i),new ri(n.firestore,n instanceof fa?n.converter:null,new Se(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2="AsyncQueue";class W2{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new eP(this,"async_queue_retry"),this.Su=()=>{const i=yy();i&&me(K2,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const t=yy();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=yy();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new da;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!_u(e))throw e;me(K2,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const s=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(i);throw pr("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.pu=!1,i))));return this.bu=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const s=BE.createAndSchedule(this,e,t,i,o=>this.Fu(o));return this.fu.push(s),s}Du(){this.gu&&Ie()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Wh extends Mm{constructor(e,t,i,s){super(e,t,i,s),this.type="firestore",this._queue=new W2,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new W2(e),this._firestoreClient=void 0,await e}}}function eH(n,e){const t=typeof n=="object"?n:R0(),i=typeof n=="string"?n:Np,s=im(t,"firestore").getImmediate({identifier:i});if(!s._initialized){const o=eR("firestore");o&&JF(s,...o)}return s}function EP(n){if(n._terminated)throw new be(le.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||tH(n),n._firestoreClient}function tH(n){var e,t,i;const s=n._freezeSettings(),o=function(c,h,f,g){return new _B(c,h,f,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,vP(g.experimentalLongPollingOptions),g.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new KF(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e){this._byteString=e}static fromBase64String(e){try{return new su(bn.fromBase64String(e))}catch(t){throw new be(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new su(bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new be(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new be(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new be(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==s[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nH=/^__.*__$/;class iH{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Na(e,this.data,this.fieldMask,t,this.fieldTransforms):new qh(e,this.data,t,this.fieldTransforms)}}class wP{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Na(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function TP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie()}}class QE{constructor(e,t,i,s,o,l){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=s,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new QE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:i,Qu:!1});return s.$u(e),s}Ku(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:i,Qu:!1});return s.Bu(),s}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Bp(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(TP(this.Lu)&&nH.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class sH{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Nm(e)}ju(e,t,i,s=!1){return new QE({Lu:e,methodName:t,zu:i,path:wn.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bP(n){const e=n._freezeSettings(),t=Nm(n._databaseId);return new sH(n._databaseId,!!e.ignoreUndefinedProperties,t)}function rH(n,e,t,i,s,o={}){const l=n.ju(o.merge||o.mergeFields?2:0,e,t,s);XE("Data must be an object, but it was:",l,i);const c=SP(i,l);let h,f;if(o.merge)h=new ii(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const g=[];for(const y of o.mergeFields){const _=P_(e,y,t);if(!l.contains(_))throw new be(le.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);CP(g,_)||g.push(_)}h=new ii(g),f=l.fieldTransforms.filter(y=>h.covers(y.field))}else h=null,f=l.fieldTransforms;return new iH(new $n(c),h,f)}class km extends KE{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof km}}function aH(n,e,t,i){const s=n.ju(1,e,t);XE("Data must be an object, but it was:",s,i);const o=[],l=$n.empty();Ia(i,(h,f)=>{const g=ZE(e,h,t);f=St(f);const y=s.Ku(g);if(f instanceof km)o.push(g);else{const _=Lm(f,y);_!=null&&(o.push(g),l.set(g,_))}});const c=new ii(o);return new wP(l,c,s.fieldTransforms)}function oH(n,e,t,i,s,o){const l=n.ju(1,e,t),c=[P_(e,i,t)],h=[s];if(o.length%2!=0)throw new be(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)c.push(P_(e,o[_])),h.push(o[_+1]);const f=[],g=$n.empty();for(let _=c.length-1;_>=0;--_)if(!CP(f,c[_])){const T=c[_];let x=h[_];x=St(x);const D=l.Ku(T);if(x instanceof km)f.push(T);else{const j=Lm(x,D);j!=null&&(f.push(T),g.set(T,j))}}const y=new ii(f);return new wP(g,y,l.fieldTransforms)}function Lm(n,e){if(xP(n=St(n)))return XE("Unsupported field value:",e,n),SP(n,e);if(n instanceof KE)return function(i,s){if(!TP(s.Lu))throw s.Wu(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,s){const o=[];let l=0;for(const c of i){let h=Lm(c,s.Uu(l));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),l++}return{arrayValue:{values:o}}}(n,e)}return function(i,s){if((i=St(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return HB(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=Zt.fromDate(i);return{timestampValue:Lp(s.serializer,o)}}if(i instanceof Zt){const o=new Zt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Lp(s.serializer,o)}}if(i instanceof WE)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof su)return{bytesValue:HN(s.serializer,i._byteString)};if(i instanceof ri){const o=s.databaseId,l=i.firestore._databaseId;if(!l.isEqual(o))throw s.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:PE(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof YE)return function(l,c){return{mapValue:{fields:{[_N]:{stringValue:EN},[Pp]:{arrayValue:{values:l.toArray().map(f=>{if(typeof f!="number")throw c.Wu("VectorValues must only contain numeric values.");return AE(c.serializer,f)})}}}}}}(i,s);throw s.Wu(`Unsupported field value: ${GE(i)}`)}(n,e)}function SP(n,e){const t={};return fN(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ia(n,(i,s)=>{const o=Lm(s,e.qu(i));o!=null&&(t[i]=o)}),{mapValue:{fields:t}}}function xP(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Zt||n instanceof WE||n instanceof su||n instanceof ri||n instanceof KE||n instanceof YE)}function XE(n,e,t){if(!xP(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const i=GE(t);throw i==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+i)}}function P_(n,e,t){if((e=St(e))instanceof Om)return e._internalPath;if(typeof e=="string")return ZE(n,e);throw Bp("Field path arguments must be of type string or ",n,!1,void 0,t)}const lH=new RegExp("[~\\*/\\[\\]]");function ZE(n,e,t){if(e.search(lH)>=0)throw Bp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Om(...e.split("."))._internalPath}catch{throw Bp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Bp(n,e,t,i,s){const o=i&&!i.isEmpty(),l=s!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(o||l)&&(h+=" (found",o&&(h+=` in field ${i}`),l&&(h+=` in document ${s}`),h+=")"),new be(le.INVALID_ARGUMENT,c+n+h)}function CP(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(e,t,i,s,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ri(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(RP("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class uH extends AP{data(){return super.data()}}function RP(n,e){return typeof e=="string"?ZE(n,e):e instanceof Om?e._internalPath:e._delegate._internalPath}class cH{convertValue(e,t="none"){switch(ba(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ta(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Ia(e,(s,o)=>{i[s]=this.convertValue(o,t)}),i}convertVectorValue(e){var t,i,s;const o=(s=(i=(t=e.fields)===null||t===void 0?void 0:t[Pp].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(l=>jt(l.doubleValue));return new YE(o)}convertGeoPoint(e){return new WE(jt(e.latitude),jt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=bm(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Sh(e));default:return null}}convertTimestamp(e){const t=wa(e);return new Zt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=yt.fromString(e);at(YN(i));const s=new xh(i.get(1),i.get(3)),o=new Se(i.popFirst(5));return s.isEqual(t)||pr(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hH(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dH{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class IP extends AP{constructor(e,t,i,s,o,l){super(e,t,i,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new fH(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(RP("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class fH extends IP{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pH(n){n=xo(n,ri);const e=xo(n.firestore,Wh);return XF(EP(e),n._key).then(t=>yH(e,n,t))}class mH extends cH{constructor(e){super(),this.firestore=e}convertBytes(e){return new su(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ri(this.firestore,null,t)}}function gH(n,e,t,...i){n=xo(n,ri);const s=xo(n.firestore,Wh),o=bP(s);let l;return l=typeof(e=St(e))=="string"||e instanceof Om?oH(o,"updateDoc",n._key,e,t,i):aH(o,"updateDoc",n._key,e),JE(s,[l.toMutation(n._key,Ui.exists(!0))])}function vH(n){return JE(xo(n.firestore,Wh),[new RE(n._key,Ui.none())])}function Y2(n,e){const t=xo(n.firestore,Wh),i=N_(n),s=hH(n.converter,e);return JE(t,[rH(bP(n.firestore),"addDoc",i._key,s,n.converter!==null,{}).toMutation(i._key,Ui.exists(!1))]).then(()=>i)}function JE(n,e){return function(i,s){const o=new da;return i.asyncQueue.enqueueAndForget(async()=>VF(await YF(i),s,o)),o.promise}(EP(n),e)}function yH(n,e,t){const i=t.docs.get(e._key),s=new mH(n);return new IP(n,s,e._key,i,new dH(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){vu=s})(Ro),vo(new va("firestore",(i,{instanceIdentifier:s,options:o})=>{const l=i.getProvider("app").getImmediate(),c=new Wh(new iB(i.getProvider("auth-internal")),new aB(l,i.getProvider("app-check-internal")),function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new be(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xh(f.options.projectId,g)}(l,s),l);return o=Object.assign({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),ps(e2,t2,e),ps(e2,t2,"esm2017")})();const _H={apiKey:"AIzaSyC_aTfZtrXc8cFufHlvEjQJ5R_wl9Rgnas",authDomain:"chasam-5d05c.firebaseapp.com",databaseURL:"https://chasam-5d05c-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"chasam-5d05c",storageBucket:"chasam-5d05c.firebasestorage.app",messagingSenderId:"883788806730",appId:"1:883788806730:web:99454d79d47dc23bca04b3",measurementId:"G-HXZWJ24E34"},ew=lR(_H),EH=fr(ew),If=eH(ew),Pn=bI(ew);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),NP=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var TH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bH=U.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:s="",children:o,iconNode:l,...c},h)=>U.createElement("svg",{ref:h,...TH,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:NP("lucide",s),...c},[...l.map(([f,g])=>U.createElement(f,g)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=(n,e)=>{const t=U.forwardRef(({className:i,...s},o)=>U.createElement(bH,{ref:o,iconNode:e,className:NP(`lucide-${wH(n)}`,i),...s}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],PP=tw("ChevronLeft",SH);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],DP=tw("ChevronRight",xH);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CH=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],AH=tw("X",CH),RH=({openPopUp:n,setOpenPopUp:e,productId:t})=>{const[i,s]=U.useState(null),[o,l]=U.useState(!0),[c,h]=U.useState(!1),[f,g]=U.useState(0),[y,_]=U.useState([]),[T,x]=U.useState(null);if(U.useEffect(()=>{if(!t)return;l(!0);const q=En(Pn,`products/${t}`),H=ms(q,Z=>{const O=Z.val();if(O){s({id:t,...O}),O.bgImage&&x(O.bgImage),console.log("Product data:",O);let A=[];O.images&&(typeof O.images=="object"&&!Array.isArray(O.images)?A=Object.values(O.images).filter(C=>C&&typeof C=="string"):Array.isArray(O.images)&&(A=O.images.filter(C=>C&&typeof C=="string"))),A.length===0&&O.image&&typeof O.image=="string"&&(A=[O.image]),console.log("Images array:",A),_(A)}else s(null),_([]),x(null);l(!1)});return()=>H()},[t]),o)return w.jsx("div",{className:"fixed top-0 bottom-0 left-0 right-0 bg-[#178000] z-[999] flex justify-center items-center",children:w.jsx("div",{className:"bg-white p-6 rounded-lg",children:w.jsx("p",{children:"Loading product details..."})})});if(!i)return w.jsx("div",{className:"fixed top-0 bottom-0 left-0 right-0 bg-[#178000] z-[999] flex justify-center items-center",children:w.jsx("div",{className:"bg-white p-6 rounded-lg",children:w.jsx("p",{children:"Product not found"})})});let D=0;const j=()=>{g(q=>q>0?q-1:y.length-1)},P=()=>{g(q=>q<y.length-1?q+1:0)},I=q=>{D=q.touches[0].clientX},L=q=>{const H=q.changedTouches[0].clientX,Z=D-H;Z>50?P():Z<-50&&j()};return w.jsxs("div",{className:"fixed top-0 bottom-0 left-0 right-0 bg-[#178000] z-[999]",children:[w.jsxs("div",{className:"absolute w-full bottom-0 py-2 bg-[#fff] z-[999] flex justify-center items-center gap-5 BoxShadow",children:[w.jsxs("button",{className:"TextFont BoxShadow font-semibold px-10 py-2 rounded-lg bg-[#178000] text-[#fff] flex items-center gap-1 text-sm",children:[w.jsx(EC,{}),"Mail Us"]}),w.jsxs("button",{className:"TextFont BoxShadow px-10 py-2 font-semibold rounded-lg bg-[#178000] text-[#fff] flex items-center gap-1 text-sm",children:[w.jsx(wO,{}),"Contact Us"]})]}),w.jsx("div",{className:"px-2 md:px-[25%] md:pt-[-10px]",children:w.jsx(zS.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1,transition:{duration:1.2,ease:"backInOut"}},className:"fixed w-[95%] md:w-[50%] md:flex md:flex-col md:justify-center mx-auto top-[2%] md:top-[50%] md:-translate-y-1/2 bottom-0 md:bottom-auto rounded-t-3xl z-[998] popUpBg bg-[#fff] backdrop-blur-sm overflow-y-auto md:overflow-y-visible scrollBar max-h-[90vh] md:max-h-[90vh]",children:w.jsxs("div",{className:"w-full h-full overflow-y-auto scrollBar ",children:[w.jsx("div",{className:"flex pt-4 pl-4 mb-5",children:w.jsx("span",{className:"bg-[#0000] p-1 rounded-full text-[#178000] text-xl",onClick:()=>e(!1),children:w.jsx(yC,{})})}),w.jsxs("div",{className:"md:flex ",children:[w.jsxs("div",{className:"w-full md:w-[70%] flex justify-center items-center rounded-2xl h-[280px] backdrop-blur-sm mb-2  relative overflow-hidden",onTouchStart:I,onTouchEnd:L,children:[w.jsx("div",{className:"w-full h-full flex justify-center items-center z-10",children:w.jsx(zS.img,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3,ease:"easeInOut"},src:y.length>0?y[f]:sO,alt:`${(i==null?void 0:i.name)||"Product"} - Image ${f+1}`,className:"w-full h-full object-contain drop-shadow-md"},f)}),y.length>1&&w.jsxs(w.Fragment,{children:[w.jsx("button",{onClick:j,className:"absolute left-4 top-1/2 transform -translate-y-1/2 z-20 bg-green-600 text-white rounded-full p-2 opacity-80 hover:opacity-100","aria-label":"Previous image",children:w.jsx(PP,{size:20})}),w.jsx("button",{onClick:P,className:"absolute right-4 top-1/2 transform -translate-y-1/2 z-20 bg-green-600 text-white rounded-full p-2 opacity-80 hover:opacity-100","aria-label":"Next image",children:w.jsx(DP,{size:20})})]}),y.length>1&&w.jsx("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center space-x-2 z-20",children:y.map((q,H)=>w.jsx("button",{onClick:()=>g(H),className:`w-2 h-2 rounded-full ${f===H?"bg-white":"bg-gray-400"}`,"aria-label":`Go to image ${H+1}`},H))})]}),y.length>1&&w.jsx("div",{className:"overflow-x-auto md:overflow-y-auto md:h-[280px] w-full md:w-[30%] scrollBar px-2 py-1",children:w.jsx("div",{className:"flex md:flex-col gap-2 mb-3 w-max md:w-full",children:y.map((q,H)=>w.jsx("div",{onClick:()=>g(H),className:`w-[100px] h-[100px] bg-[#fff] shadow-2xl rounded-md cursor-pointer overflow-hidden ${f===H?"ring-2 ring-green-600":""}`,children:w.jsx("img",{src:q,alt:`Thumbnail ${H+1}`,className:"w-full h-full object-contain"})},H))})})]}),w.jsxs("div",{className:"px-4 py-2 mb-2 BoxShadow",children:[w.jsx("div",{className:"text-xl font-bold text-[#000000] TextFont1",children:i.name}),w.jsx("div",{className:"text-sm font-semibold text-[#6e736d]",children:i.category}),w.jsxs("div",{className:"flex items-center font-bold TextFont",children:[w.jsx(_C,{}),w.jsx("span",{className:"text-lg",children:i.price})]})]}),w.jsxs("div",{className:"px-4 py-4 text-[12px] text-[#000000] mb-3 font-semibold BoxShadow",children:[w.jsx("h3",{className:"text-[16px] font-bold mb-2",children:"Indication"}),w.jsx("div",{className:"flex flex-col gap-1 ",children:i.features&&i.features.length>0?i.features.map((q,H)=>w.jsx("div",{className:"flex items-start",children:w.jsx("span",{children:q})},H)):w.jsx("div",{className:"flex items-start",children:w.jsx("span",{children:i.description||"No description available"})})})]}),w.jsxs("div",{className:`px-4 BoxShadow pb-2 ${c?"mb-5":"mb-14"}`,children:[w.jsxs("div",{className:"relative",children:[w.jsx("div",{className:"font-bold mb-2",children:"Usage"}),w.jsx("div",{className:"font-semibold text-[12px]",children:i.usage||"Usage information not available"})]}),w.jsx("div",{className:"text-[12px] font-semibold items-center flex justify-end right-0",children:w.jsx("div",{className:"flex items-center cursor-pointer",onClick:()=>h(!c),children:c?w.jsxs("div",{className:"flex items-center gap-0.5",children:[w.jsx(Y6,{}),"Less"]}):w.jsxs("div",{className:"flex items-center gap-0.5",children:[w.jsx(Q6,{}),"More"]})})})]}),c&&w.jsxs("div",{className:"px-4 text-sm text-[#000000] mb-14 font-semibold",children:[w.jsx("div",{className:"TextFont font-bold text-xl mb-2",children:"Other Information"}),w.jsxs("ul",{className:"flex flex-col gap-1",children:[w.jsxs("li",{className:"flex items-start w-full gap-2",children:[w.jsxs("div",{className:"w-[40%] flex text-[12px] items-center font-bold",children:[w.jsx("span",{className:"text-2xl",children:w.jsx(Ic,{})}),"MRP"]}),w.jsxs("div",{className:"w-[60%] text-[12px]",children:[": Rs. ",i.price,".00 inclusive of all taxes"," ",w.jsx("span",{className:"block",children:"(MRP changes as per size selection)"})]})]}),w.jsxs("li",{className:"flex items-start w-full gap-2",children:[w.jsxs("div",{className:"w-[40%] flex text-[12px] items-center font-bold",children:[w.jsx("span",{className:"text-2xl",children:w.jsx(Ic,{})}),"Net Qty"]}),w.jsxs("div",{className:"w-[60%] text-[12px]",children:[": ",i.quantity||"1 N"]})]}),w.jsxs("li",{className:"flex items-start w-full gap-2",children:[w.jsxs("div",{className:"w-[40%] flex text-[12px] items-center font-bold",children:[w.jsx("span",{className:"text-2xl",children:w.jsx(Ic,{})}),"Manufactured By"]}),w.jsxs("div",{className:"w-[60%] text-[12px]",children:[":"," ",i.manufacturer||"Chasam Ayurvedic Clinic, Vythiri, Wayanad, Kerala"]})]}),w.jsxs("li",{className:"flex items-center w-full gap-2",children:[w.jsxs("div",{className:"w-[40%] flex text-[12px] items-center font-bold",children:[w.jsx("span",{className:"text-2xl",children:w.jsx(Ic,{})}),"Country Of Origin"]}),w.jsxs("div",{className:"w-[60%] text-[12px]",children:[": ",i.country||"India"]})]}),w.jsxs("li",{className:"flex items-center w-full gap-2",children:[w.jsxs("div",{className:"w-[40%] flex text-[12px] items-center font-bold",children:[w.jsx("span",{className:"text-2xl",children:w.jsx(Ic,{})}),"Customer Care Address"]}),w.jsxs("div",{className:"w-[60%] text-[12px]",children:[": ",i.customerCare||"India"]})]})]})]})]})})})]})},IH="/assets/homeimage1-DZ5e7-BS.png",NH="/assets/homeimage2-CzomThMO.png",PH="/assets/homeimage3-wFBo2ORF.png";function DH(n){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.31 48 48 141.32 48 256c0 114.86 93.14 208 208 208 114.69 0 208-93.31 208-208 0-114.87-93.13-208-208-208zm94 219a94 94 0 1 1-94-94h4.21l-24-24L256 129.2l59.8 59.8-59.8 59.8-19.8-19.8 27.92-27.92c-2.4-.08-5.12-.08-8.12-.08a66 66 0 1 0 66 66v-14h28z"},child:[]}]})(n)}function Q2(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function nw(n,e){n===void 0&&(n={}),e===void 0&&(e={});const t=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>t.indexOf(i)<0).forEach(i=>{typeof n[i]>"u"?n[i]=e[i]:Q2(e[i])&&Q2(n[i])&&Object.keys(e[i]).length>0&&nw(n[i],e[i])})}const MP={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Es(){const n=typeof document<"u"?document:{};return nw(n,MP),n}const MH={document:MP,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function Fn(){const n=typeof window<"u"?window:{};return nw(n,MH),n}function OH(n){return n===void 0&&(n=""),n.trim().split(" ").filter(e=>!!e.trim())}function kH(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function D_(n,e){return e===void 0&&(e=0),setTimeout(n,e)}function zp(){return Date.now()}function LH(n){const e=Fn();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function VH(n,e){e===void 0&&(e="x");const t=Fn();let i,s,o;const l=LH(n);return t.WebKitCSSMatrix?(s=l.transform||l.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(c=>c.replace(",",".")).join(", ")),o=new t.WebKitCSSMatrix(s==="none"?"":s)):(o=l.MozTransform||l.OTransform||l.MsTransform||l.msTransform||l.transform||l.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=o.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?s=o.m41:i.length===16?s=parseFloat(i[12]):s=parseFloat(i[4])),e==="y"&&(t.WebKitCSSMatrix?s=o.m42:i.length===16?s=parseFloat(i[13]):s=parseFloat(i[5])),s||0}function Nf(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function jH(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function ni(){const n=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const i=t<0||arguments.length<=t?void 0:arguments[t];if(i!=null&&!jH(i)){const s=Object.keys(Object(i)).filter(o=>e.indexOf(o)<0);for(let o=0,l=s.length;o<l;o+=1){const c=s[o],h=Object.getOwnPropertyDescriptor(i,c);h!==void 0&&h.enumerable&&(Nf(n[c])&&Nf(i[c])?i[c].__swiper__?n[c]=i[c]:ni(n[c],i[c]):!Nf(n[c])&&Nf(i[c])?(n[c]={},i[c].__swiper__?n[c]=i[c]:ni(n[c],i[c])):n[c]=i[c])}}}return n}function Pf(n,e,t){n.style.setProperty(e,t)}function OP(n){let{swiper:e,targetPosition:t,side:i}=n;const s=Fn(),o=-e.translate;let l=null,c;const h=e.params.speed;e.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(e.cssModeFrameID);const f=t>o?"next":"prev",g=(_,T)=>f==="next"&&_>=T||f==="prev"&&_<=T,y=()=>{c=new Date().getTime(),l===null&&(l=c);const _=Math.max(Math.min((c-l)/h,1),0),T=.5-Math.cos(_*Math.PI)/2;let x=o+T*(t-o);if(g(x,t)&&(x=t),e.wrapperEl.scrollTo({[i]:x}),g(x,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[i]:x})}),s.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=s.requestAnimationFrame(y)};y()}function hs(n,e){e===void 0&&(e="");const t=Fn(),i=[...n.children];return t.HTMLSlotElement&&n instanceof HTMLSlotElement&&i.push(...n.assignedElements()),e?i.filter(s=>s.matches(e)):i}function UH(n,e){const t=[e];for(;t.length>0;){const i=t.shift();if(n===i)return!0;t.push(...i.children,...i.shadowRoot?i.shadowRoot.children:[],...i.assignedElements?i.assignedElements():[])}}function BH(n,e){const t=Fn();let i=e.contains(n);return!i&&t.HTMLSlotElement&&e instanceof HTMLSlotElement&&(i=[...e.assignedElements()].includes(n),i||(i=UH(n,e))),i}function Fp(n){try{console.warn(n);return}catch{}}function Hp(n,e){e===void 0&&(e=[]);const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:OH(e)),t}function zH(n,e){const t=[];for(;n.previousElementSibling;){const i=n.previousElementSibling;e?i.matches(e)&&t.push(i):t.push(i),n=i}return t}function FH(n,e){const t=[];for(;n.nextElementSibling;){const i=n.nextElementSibling;e?i.matches(e)&&t.push(i):t.push(i),n=i}return t}function aa(n,e){return Fn().getComputedStyle(n,null).getPropertyValue(e)}function qp(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function kP(n,e){const t=[];let i=n.parentElement;for(;i;)e?i.matches(e)&&t.push(i):t.push(i),i=i.parentElement;return t}function M_(n,e,t){const i=Fn();return n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function Xs(n){return(Array.isArray(n)?n:[n]).filter(e=>!!e)}let Ey;function HH(){const n=Fn(),e=Es();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function LP(){return Ey||(Ey=HH()),Ey}let wy;function qH(n){let{userAgent:e}=n===void 0?{}:n;const t=LP(),i=Fn(),s=i.navigator.platform,o=e||i.navigator.userAgent,l={ios:!1,android:!1},c=i.screen.width,h=i.screen.height,f=o.match(/(Android);?[\s\/]+([\d.]+)?/);let g=o.match(/(iPad).*OS\s([\d_]+)/);const y=o.match(/(iPod)(.*OS\s([\d_]+))?/),_=!g&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),T=s==="Win32";let x=s==="MacIntel";const D=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!g&&x&&t.touch&&D.indexOf(`${c}x${h}`)>=0&&(g=o.match(/(Version)\/([\d.]+)/),g||(g=[0,1,"13_0_0"]),x=!1),f&&!T&&(l.os="android",l.android=!0),(g||_||y)&&(l.os="ios",l.ios=!0),l}function VP(n){return n===void 0&&(n={}),wy||(wy=qH(n)),wy}let Ty;function GH(){const n=Fn(),e=VP();let t=!1;function i(){const c=n.navigator.userAgent.toLowerCase();return c.indexOf("safari")>=0&&c.indexOf("chrome")<0&&c.indexOf("android")<0}if(i()){const c=String(n.navigator.userAgent);if(c.includes("Version/")){const[h,f]=c.split("Version/")[1].split(" ")[0].split(".").map(g=>Number(g));t=h<16||h===16&&f<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),o=i(),l=o||s&&e.ios;return{isSafari:t||o,needPerspectiveFix:t,need3dFix:l,isWebView:s}}function jP(){return Ty||(Ty=GH()),Ty}function $H(n){let{swiper:e,on:t,emit:i}=n;const s=Fn();let o=null,l=null;const c=()=>{!e||e.destroyed||!e.initialized||(i("beforeResize"),i("resize"))},h=()=>{!e||e.destroyed||!e.initialized||(o=new ResizeObserver(y=>{l=s.requestAnimationFrame(()=>{const{width:_,height:T}=e;let x=_,D=T;y.forEach(j=>{let{contentBoxSize:P,contentRect:I,target:L}=j;L&&L!==e.el||(x=I?I.width:(P[0]||P).inlineSize,D=I?I.height:(P[0]||P).blockSize)}),(x!==_||D!==T)&&c()})}),o.observe(e.el))},f=()=>{l&&s.cancelAnimationFrame(l),o&&o.unobserve&&e.el&&(o.unobserve(e.el),o=null)},g=()=>{!e||e.destroyed||!e.initialized||i("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof s.ResizeObserver<"u"){h();return}s.addEventListener("resize",c),s.addEventListener("orientationchange",g)}),t("destroy",()=>{f(),s.removeEventListener("resize",c),s.removeEventListener("orientationchange",g)})}function KH(n){let{swiper:e,extendParams:t,on:i,emit:s}=n;const o=[],l=Fn(),c=function(g,y){y===void 0&&(y={});const _=l.MutationObserver||l.WebkitMutationObserver,T=new _(x=>{if(e.__preventObserver__)return;if(x.length===1){s("observerUpdate",x[0]);return}const D=function(){s("observerUpdate",x[0])};l.requestAnimationFrame?l.requestAnimationFrame(D):l.setTimeout(D,0)});T.observe(g,{attributes:typeof y.attributes>"u"?!0:y.attributes,childList:e.isElement||(typeof y.childList>"u"?!0:y).childList,characterData:typeof y.characterData>"u"?!0:y.characterData}),o.push(T)},h=()=>{if(e.params.observer){if(e.params.observeParents){const g=kP(e.hostEl);for(let y=0;y<g.length;y+=1)c(g[y])}c(e.hostEl,{childList:e.params.observeSlideChildren}),c(e.wrapperEl,{attributes:!1})}},f=()=>{o.forEach(g=>{g.disconnect()}),o.splice(0,o.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",h),i("destroy",f)}var WH={on(n,e,t){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;const s=t?"unshift":"push";return n.split(" ").forEach(o=>{i.eventsListeners[o]||(i.eventsListeners[o]=[]),i.eventsListeners[o][s](e)}),i},once(n,e,t){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;function s(){i.off(n,s),s.__emitterProxy&&delete s.__emitterProxy;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];e.apply(i,l)}return s.__emitterProxy=e,i.on(n,s,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;const i=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[i](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(i=>{typeof e>"u"?t.eventsListeners[i]=[]:t.eventsListeners[i]&&t.eventsListeners[i].forEach((s,o)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&t.eventsListeners[i].splice(o,1)})}),t},emit(){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let e,t,i;for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];return typeof o[0]=="string"||Array.isArray(o[0])?(e=o[0],t=o.slice(1,o.length),i=n):(e=o[0].events,t=o[0].data,i=o[0].context||n),t.unshift(i),(Array.isArray(e)?e:e.split(" ")).forEach(h=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(f=>{f.apply(i,[h,...t])}),n.eventsListeners&&n.eventsListeners[h]&&n.eventsListeners[h].forEach(f=>{f.apply(i,t)})}),n}};function YH(){const n=this;let e,t;const i=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=i.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=i.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(aa(i,"padding-left")||0,10)-parseInt(aa(i,"padding-right")||0,10),t=t-parseInt(aa(i,"padding-top")||0,10)-parseInt(aa(i,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function QH(){const n=this;function e(R,k){return parseFloat(R.getPropertyValue(n.getDirectionLabel(k))||0)}const t=n.params,{wrapperEl:i,slidesEl:s,size:o,rtlTranslate:l,wrongRTL:c}=n,h=n.virtual&&t.virtual.enabled,f=h?n.virtual.slides.length:n.slides.length,g=hs(s,`.${n.params.slideClass}, swiper-slide`),y=h?n.virtual.slides.length:g.length;let _=[];const T=[],x=[];let D=t.slidesOffsetBefore;typeof D=="function"&&(D=t.slidesOffsetBefore.call(n));let j=t.slidesOffsetAfter;typeof j=="function"&&(j=t.slidesOffsetAfter.call(n));const P=n.snapGrid.length,I=n.slidesGrid.length;let L=t.spaceBetween,q=-D,H=0,Z=0;if(typeof o>"u")return;typeof L=="string"&&L.indexOf("%")>=0?L=parseFloat(L.replace("%",""))/100*o:typeof L=="string"&&(L=parseFloat(L)),n.virtualSize=-L,g.forEach(R=>{l?R.style.marginLeft="":R.style.marginRight="",R.style.marginBottom="",R.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(Pf(i,"--swiper-centered-offset-before",""),Pf(i,"--swiper-centered-offset-after",""));const O=t.grid&&t.grid.rows>1&&n.grid;O?n.grid.initSlides(g):n.grid&&n.grid.unsetSlides();let A;const C=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(R=>typeof t.breakpoints[R].slidesPerView<"u").length>0;for(let R=0;R<y;R+=1){A=0;let k;if(g[R]&&(k=g[R]),O&&n.grid.updateSlide(R,k,g),!(g[R]&&aa(k,"display")==="none")){if(t.slidesPerView==="auto"){C&&(g[R].style[n.getDirectionLabel("width")]="");const B=getComputedStyle(k),V=k.style.transform,he=k.style.webkitTransform;if(V&&(k.style.transform="none"),he&&(k.style.webkitTransform="none"),t.roundLengths)A=n.isHorizontal()?M_(k,"width"):M_(k,"height");else{const ye=e(B,"width"),ae=e(B,"padding-left"),de=e(B,"padding-right"),re=e(B,"margin-left"),ve=e(B,"margin-right"),F=B.getPropertyValue("box-sizing");if(F&&F==="border-box")A=ye+re+ve;else{const{clientWidth:ne,offsetWidth:ge}=k;A=ye+ae+de+re+ve+(ge-ne)}}V&&(k.style.transform=V),he&&(k.style.webkitTransform=he),t.roundLengths&&(A=Math.floor(A))}else A=(o-(t.slidesPerView-1)*L)/t.slidesPerView,t.roundLengths&&(A=Math.floor(A)),g[R]&&(g[R].style[n.getDirectionLabel("width")]=`${A}px`);g[R]&&(g[R].swiperSlideSize=A),x.push(A),t.centeredSlides?(q=q+A/2+H/2+L,H===0&&R!==0&&(q=q-o/2-L),R===0&&(q=q-o/2-L),Math.abs(q)<1/1e3&&(q=0),t.roundLengths&&(q=Math.floor(q)),Z%t.slidesPerGroup===0&&_.push(q),T.push(q)):(t.roundLengths&&(q=Math.floor(q)),(Z-Math.min(n.params.slidesPerGroupSkip,Z))%n.params.slidesPerGroup===0&&_.push(q),T.push(q),q=q+A+L),n.virtualSize+=A+L,H=A,Z+=1}}if(n.virtualSize=Math.max(n.virtualSize,o)+j,l&&c&&(t.effect==="slide"||t.effect==="coverflow")&&(i.style.width=`${n.virtualSize+L}px`),t.setWrapperSize&&(i.style[n.getDirectionLabel("width")]=`${n.virtualSize+L}px`),O&&n.grid.updateWrapperSize(A,_),!t.centeredSlides){const R=[];for(let k=0;k<_.length;k+=1){let B=_[k];t.roundLengths&&(B=Math.floor(B)),_[k]<=n.virtualSize-o&&R.push(B)}_=R,Math.floor(n.virtualSize-o)-Math.floor(_[_.length-1])>1&&_.push(n.virtualSize-o)}if(h&&t.loop){const R=x[0]+L;if(t.slidesPerGroup>1){const k=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/t.slidesPerGroup),B=R*t.slidesPerGroup;for(let V=0;V<k;V+=1)_.push(_[_.length-1]+B)}for(let k=0;k<n.virtual.slidesBefore+n.virtual.slidesAfter;k+=1)t.slidesPerGroup===1&&_.push(_[_.length-1]+R),T.push(T[T.length-1]+R),n.virtualSize+=R}if(_.length===0&&(_=[0]),L!==0){const R=n.isHorizontal()&&l?"marginLeft":n.getDirectionLabel("marginRight");g.filter((k,B)=>!t.cssMode||t.loop?!0:B!==g.length-1).forEach(k=>{k.style[R]=`${L}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let R=0;x.forEach(B=>{R+=B+(L||0)}),R-=L;const k=R>o?R-o:0;_=_.map(B=>B<=0?-D:B>k?k+j:B)}if(t.centerInsufficientSlides){let R=0;x.forEach(B=>{R+=B+(L||0)}),R-=L;const k=(t.slidesOffsetBefore||0)+(t.slidesOffsetAfter||0);if(R+k<o){const B=(o-R-k)/2;_.forEach((V,he)=>{_[he]=V-B}),T.forEach((V,he)=>{T[he]=V+B})}}if(Object.assign(n,{slides:g,snapGrid:_,slidesGrid:T,slidesSizesGrid:x}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){Pf(i,"--swiper-centered-offset-before",`${-_[0]}px`),Pf(i,"--swiper-centered-offset-after",`${n.size/2-x[x.length-1]/2}px`);const R=-n.snapGrid[0],k=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(B=>B+R),n.slidesGrid=n.slidesGrid.map(B=>B+k)}if(y!==f&&n.emit("slidesLengthChange"),_.length!==P&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),T.length!==I&&n.emit("slidesGridLengthChange"),t.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!h&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const R=`${t.containerModifierClass}backface-hidden`,k=n.el.classList.contains(R);y<=t.maxBackfaceHiddenSlides?k||n.el.classList.add(R):k&&n.el.classList.remove(R)}}function XH(n){const e=this,t=[],i=e.virtual&&e.params.virtual.enabled;let s=0,o;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);const l=c=>i?e.slides[e.getSlideIndexByData(c)]:e.slides[c];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(c=>{t.push(c)});else for(o=0;o<Math.ceil(e.params.slidesPerView);o+=1){const c=e.activeIndex+o;if(c>e.slides.length&&!i)break;t.push(l(c))}else t.push(l(e.activeIndex));for(o=0;o<t.length;o+=1)if(typeof t[o]<"u"){const c=t[o].offsetHeight;s=c>s?c:s}(s||s===0)&&(e.wrapperEl.style.height=`${s}px`)}function ZH(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let i=0;i<e.length;i+=1)e[i].swiperSlideOffset=(n.isHorizontal()?e[i].offsetLeft:e[i].offsetTop)-t-n.cssOverflowAdjustment()}const X2=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function JH(n){n===void 0&&(n=this&&this.translate||0);const e=this,t=e.params,{slides:i,rtlTranslate:s,snapGrid:o}=e;if(i.length===0)return;typeof i[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let l=-n;s&&(l=n),e.visibleSlidesIndexes=[],e.visibleSlides=[];let c=t.spaceBetween;typeof c=="string"&&c.indexOf("%")>=0?c=parseFloat(c.replace("%",""))/100*e.size:typeof c=="string"&&(c=parseFloat(c));for(let h=0;h<i.length;h+=1){const f=i[h];let g=f.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(g-=i[0].swiperSlideOffset);const y=(l+(t.centeredSlides?e.minTranslate():0)-g)/(f.swiperSlideSize+c),_=(l-o[0]+(t.centeredSlides?e.minTranslate():0)-g)/(f.swiperSlideSize+c),T=-(l-g),x=T+e.slidesSizesGrid[h],D=T>=0&&T<=e.size-e.slidesSizesGrid[h],j=T>=0&&T<e.size-1||x>1&&x<=e.size||T<=0&&x>=e.size;j&&(e.visibleSlides.push(f),e.visibleSlidesIndexes.push(h)),X2(f,j,t.slideVisibleClass),X2(f,D,t.slideFullyVisibleClass),f.progress=s?-y:y,f.originalProgress=s?-_:_}}function eq(n){const e=this;if(typeof n>"u"){const g=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*g||0}const t=e.params,i=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:o,isEnd:l,progressLoop:c}=e;const h=o,f=l;if(i===0)s=0,o=!0,l=!0;else{s=(n-e.minTranslate())/i;const g=Math.abs(n-e.minTranslate())<1,y=Math.abs(n-e.maxTranslate())<1;o=g||s<=0,l=y||s>=1,g&&(s=0),y&&(s=1)}if(t.loop){const g=e.getSlideIndexByData(0),y=e.getSlideIndexByData(e.slides.length-1),_=e.slidesGrid[g],T=e.slidesGrid[y],x=e.slidesGrid[e.slidesGrid.length-1],D=Math.abs(n);D>=_?c=(D-_)/x:c=(D+x-T)/x,c>1&&(c-=1)}Object.assign(e,{progress:s,progressLoop:c,isBeginning:o,isEnd:l}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),o&&!h&&e.emit("reachBeginning toEdge"),l&&!f&&e.emit("reachEnd toEdge"),(h&&!o||f&&!l)&&e.emit("fromEdge"),e.emit("progress",s)}const by=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function tq(){const n=this,{slides:e,params:t,slidesEl:i,activeIndex:s}=n,o=n.virtual&&t.virtual.enabled,l=n.grid&&t.grid&&t.grid.rows>1,c=y=>hs(i,`.${t.slideClass}${y}, swiper-slide${y}`)[0];let h,f,g;if(o)if(t.loop){let y=s-n.virtual.slidesBefore;y<0&&(y=n.virtual.slides.length+y),y>=n.virtual.slides.length&&(y-=n.virtual.slides.length),h=c(`[data-swiper-slide-index="${y}"]`)}else h=c(`[data-swiper-slide-index="${s}"]`);else l?(h=e.find(y=>y.column===s),g=e.find(y=>y.column===s+1),f=e.find(y=>y.column===s-1)):h=e[s];h&&(l||(g=FH(h,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!g&&(g=e[0]),f=zH(h,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!f===0&&(f=e[e.length-1]))),e.forEach(y=>{by(y,y===h,t.slideActiveClass),by(y,y===g,t.slideNextClass),by(y,y===f,t.slidePrevClass)}),n.emitSlidesClasses()}const Yf=(n,e)=>{if(!n||n.destroyed||!n.params)return;const t=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,i=e.closest(t());if(i){let s=i.querySelector(`.${n.params.lazyPreloaderClass}`);!s&&n.isElement&&(i.shadowRoot?s=i.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{i.shadowRoot&&(s=i.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),s&&s.remove())})),s&&s.remove()}},Sy=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},O_=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const i=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),s=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const l=s,c=[l-e];c.push(...Array.from({length:e}).map((h,f)=>l+i+f)),n.slides.forEach((h,f)=>{c.includes(h.column)&&Sy(n,f)});return}const o=s+i-1;if(n.params.rewind||n.params.loop)for(let l=s-e;l<=o+e;l+=1){const c=(l%t+t)%t;(c<s||c>o)&&Sy(n,c)}else for(let l=Math.max(s-e,0);l<=Math.min(o+e,t-1);l+=1)l!==s&&(l>o||l<s)&&Sy(n,l)};function nq(n){const{slidesGrid:e,params:t}=n,i=n.rtlTranslate?n.translate:-n.translate;let s;for(let o=0;o<e.length;o+=1)typeof e[o+1]<"u"?i>=e[o]&&i<e[o+1]-(e[o+1]-e[o])/2?s=o:i>=e[o]&&i<e[o+1]&&(s=o+1):i>=e[o]&&(s=o);return t.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function iq(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:i,params:s,activeIndex:o,realIndex:l,snapIndex:c}=e;let h=n,f;const g=T=>{let x=T-e.virtual.slidesBefore;return x<0&&(x=e.virtual.slides.length+x),x>=e.virtual.slides.length&&(x-=e.virtual.slides.length),x};if(typeof h>"u"&&(h=nq(e)),i.indexOf(t)>=0)f=i.indexOf(t);else{const T=Math.min(s.slidesPerGroupSkip,h);f=T+Math.floor((h-T)/s.slidesPerGroup)}if(f>=i.length&&(f=i.length-1),h===o&&!e.params.loop){f!==c&&(e.snapIndex=f,e.emit("snapIndexChange"));return}if(h===o&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=g(h);return}const y=e.grid&&s.grid&&s.grid.rows>1;let _;if(e.virtual&&s.virtual.enabled&&s.loop)_=g(h);else if(y){const T=e.slides.find(D=>D.column===h);let x=parseInt(T.getAttribute("data-swiper-slide-index"),10);Number.isNaN(x)&&(x=Math.max(e.slides.indexOf(T),0)),_=Math.floor(x/s.grid.rows)}else if(e.slides[h]){const T=e.slides[h].getAttribute("data-swiper-slide-index");T?_=parseInt(T,10):_=h}else _=h;Object.assign(e,{previousSnapIndex:c,snapIndex:f,previousRealIndex:l,realIndex:_,previousIndex:o,activeIndex:h}),e.initialized&&O_(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(l!==_&&e.emit("realIndexChange"),e.emit("slideChange"))}function sq(n,e){const t=this,i=t.params;let s=n.closest(`.${i.slideClass}, swiper-slide`);!s&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(c=>{!s&&c.matches&&c.matches(`.${i.slideClass}, swiper-slide`)&&(s=c)});let o=!1,l;if(s){for(let c=0;c<t.slides.length;c+=1)if(t.slides[c]===s){o=!0,l=c;break}}if(s&&o)t.clickedSlide=s,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=l;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}i.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var rq={updateSize:YH,updateSlides:QH,updateAutoHeight:XH,updateSlidesOffset:ZH,updateSlidesProgress:JH,updateProgress:eq,updateSlidesClasses:tq,updateActiveIndex:iq,updateClickedSlide:sq};function aq(n){n===void 0&&(n=this.isHorizontal()?"x":"y");const e=this,{params:t,rtlTranslate:i,translate:s,wrapperEl:o}=e;if(t.virtualTranslate)return i?-s:s;if(t.cssMode)return s;let l=VH(o,n);return l+=e.cssOverflowAdjustment(),i&&(l=-l),l||0}function oq(n,e){const t=this,{rtlTranslate:i,params:s,wrapperEl:o,progress:l}=t;let c=0,h=0;const f=0;t.isHorizontal()?c=i?-n:n:h=n,s.roundLengths&&(c=Math.floor(c),h=Math.floor(h)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?c:h,s.cssMode?o[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-c:-h:s.virtualTranslate||(t.isHorizontal()?c-=t.cssOverflowAdjustment():h-=t.cssOverflowAdjustment(),o.style.transform=`translate3d(${c}px, ${h}px, ${f}px)`);let g;const y=t.maxTranslate()-t.minTranslate();y===0?g=0:g=(n-t.minTranslate())/y,g!==l&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function lq(){return-this.snapGrid[0]}function uq(){return-this.snapGrid[this.snapGrid.length-1]}function cq(n,e,t,i,s){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),i===void 0&&(i=!0);const o=this,{params:l,wrapperEl:c}=o;if(o.animating&&l.preventInteractionOnTransition)return!1;const h=o.minTranslate(),f=o.maxTranslate();let g;if(i&&n>h?g=h:i&&n<f?g=f:g=n,o.updateProgress(g),l.cssMode){const y=o.isHorizontal();if(e===0)c[y?"scrollLeft":"scrollTop"]=-g;else{if(!o.support.smoothScroll)return OP({swiper:o,targetPosition:-g,side:y?"left":"top"}),!0;c.scrollTo({[y?"left":"top"]:-g,behavior:"smooth"})}return!0}return e===0?(o.setTransition(0),o.setTranslate(g),t&&(o.emit("beforeTransitionStart",e,s),o.emit("transitionEnd"))):(o.setTransition(e),o.setTranslate(g),t&&(o.emit("beforeTransitionStart",e,s),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(_){!o||o.destroyed||_.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,o.animating=!1,t&&o.emit("transitionEnd"))}),o.wrapperEl.addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd))),!0}var hq={getTranslate:aq,setTranslate:oq,minTranslate:lq,maxTranslate:uq,translateTo:cq};function dq(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`,t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function UP(n){let{swiper:e,runCallbacks:t,direction:i,step:s}=n;const{activeIndex:o,previousIndex:l}=e;let c=i;if(c||(o>l?c="next":o<l?c="prev":c="reset"),e.emit(`transition${s}`),t&&o!==l){if(c==="reset"){e.emit(`slideResetTransition${s}`);return}e.emit(`slideChangeTransition${s}`),c==="next"?e.emit(`slideNextTransition${s}`):e.emit(`slidePrevTransition${s}`)}}function fq(n,e){n===void 0&&(n=!0);const t=this,{params:i}=t;i.cssMode||(i.autoHeight&&t.updateAutoHeight(),UP({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function pq(n,e){n===void 0&&(n=!0);const t=this,{params:i}=t;t.animating=!1,!i.cssMode&&(t.setTransition(0),UP({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var mq={setTransition:dq,transitionStart:fq,transitionEnd:pq};function gq(n,e,t,i,s){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const o=this;let l=n;l<0&&(l=0);const{params:c,snapGrid:h,slidesGrid:f,previousIndex:g,activeIndex:y,rtlTranslate:_,wrapperEl:T,enabled:x}=o;if(!x&&!i&&!s||o.destroyed||o.animating&&c.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=o.params.speed);const D=Math.min(o.params.slidesPerGroupSkip,l);let j=D+Math.floor((l-D)/o.params.slidesPerGroup);j>=h.length&&(j=h.length-1);const P=-h[j];if(c.normalizeSlideIndex)for(let O=0;O<f.length;O+=1){const A=-Math.floor(P*100),C=Math.floor(f[O]*100),R=Math.floor(f[O+1]*100);typeof f[O+1]<"u"?A>=C&&A<R-(R-C)/2?l=O:A>=C&&A<R&&(l=O+1):A>=C&&(l=O)}if(o.initialized&&l!==y&&(!o.allowSlideNext&&(_?P>o.translate&&P>o.minTranslate():P<o.translate&&P<o.minTranslate())||!o.allowSlidePrev&&P>o.translate&&P>o.maxTranslate()&&(y||0)!==l))return!1;l!==(g||0)&&t&&o.emit("beforeSlideChangeStart"),o.updateProgress(P);let I;l>y?I="next":l<y?I="prev":I="reset";const L=o.virtual&&o.params.virtual.enabled;if(!(L&&s)&&(_&&-P===o.translate||!_&&P===o.translate))return o.updateActiveIndex(l),c.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),c.effect!=="slide"&&o.setTranslate(P),I!=="reset"&&(o.transitionStart(t,I),o.transitionEnd(t,I)),!1;if(c.cssMode){const O=o.isHorizontal(),A=_?P:-P;if(e===0)L&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),L&&!o._cssModeVirtualInitialSet&&o.params.initialSlide>0?(o._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{T[O?"scrollLeft":"scrollTop"]=A})):T[O?"scrollLeft":"scrollTop"]=A,L&&requestAnimationFrame(()=>{o.wrapperEl.style.scrollSnapType="",o._immediateVirtual=!1});else{if(!o.support.smoothScroll)return OP({swiper:o,targetPosition:A,side:O?"left":"top"}),!0;T.scrollTo({[O?"left":"top"]:A,behavior:"smooth"})}return!0}const Z=jP().isSafari;return L&&!s&&Z&&o.isElement&&o.virtual.update(!1,!1,l),o.setTransition(e),o.setTranslate(P),o.updateActiveIndex(l),o.updateSlidesClasses(),o.emit("beforeTransitionStart",e,i),o.transitionStart(t,I),e===0?o.transitionEnd(t,I):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(A){!o||o.destroyed||A.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(t,I))}),o.wrapperEl.addEventListener("transitionend",o.onSlideToWrapperTransitionEnd)),!0}function vq(n,e,t,i){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const s=this;if(s.destroyed)return;typeof e>"u"&&(e=s.params.speed);const o=s.grid&&s.params.grid&&s.params.grid.rows>1;let l=n;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)l=l+s.virtual.slidesBefore;else{let c;if(o){const _=l*s.params.grid.rows;c=s.slides.find(T=>T.getAttribute("data-swiper-slide-index")*1===_).column}else c=s.getSlideIndexByData(l);const h=o?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:f}=s.params;let g=s.params.slidesPerView;g==="auto"?g=s.slidesPerViewDynamic():(g=Math.ceil(parseFloat(s.params.slidesPerView,10)),f&&g%2===0&&(g=g+1));let y=h-c<g;if(f&&(y=y||c<Math.ceil(g/2)),i&&f&&s.params.slidesPerView!=="auto"&&!o&&(y=!1),y){const _=f?c<s.activeIndex?"prev":"next":c-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:_,slideTo:!0,activeSlideIndex:_==="next"?c+1:c-h+1,slideRealIndex:_==="next"?s.realIndex:void 0})}if(o){const _=l*s.params.grid.rows;l=s.slides.find(T=>T.getAttribute("data-swiper-slide-index")*1===_).column}else l=s.getSlideIndexByData(l)}return requestAnimationFrame(()=>{s.slideTo(l,e,t,i)}),s}function yq(n,e,t){e===void 0&&(e=!0);const i=this,{enabled:s,params:o,animating:l}=i;if(!s||i.destroyed)return i;typeof n>"u"&&(n=i.params.speed);let c=o.slidesPerGroup;o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(c=Math.max(i.slidesPerViewDynamic("current",!0),1));const h=i.activeIndex<o.slidesPerGroupSkip?1:c,f=i.virtual&&o.virtual.enabled;if(o.loop){if(l&&!f&&o.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&o.cssMode)return requestAnimationFrame(()=>{i.slideTo(i.activeIndex+h,n,e,t)}),!0}return o.rewind&&i.isEnd?i.slideTo(0,n,e,t):i.slideTo(i.activeIndex+h,n,e,t)}function _q(n,e,t){e===void 0&&(e=!0);const i=this,{params:s,snapGrid:o,slidesGrid:l,rtlTranslate:c,enabled:h,animating:f}=i;if(!h||i.destroyed)return i;typeof n>"u"&&(n=i.params.speed);const g=i.virtual&&s.virtual.enabled;if(s.loop){if(f&&!g&&s.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}const y=c?i.translate:-i.translate;function _(I){return I<0?-Math.floor(Math.abs(I)):Math.floor(I)}const T=_(y),x=o.map(I=>_(I)),D=s.freeMode&&s.freeMode.enabled;let j=o[x.indexOf(T)-1];if(typeof j>"u"&&(s.cssMode||D)){let I;o.forEach((L,q)=>{T>=L&&(I=q)}),typeof I<"u"&&(j=D?o[I]:o[I>0?I-1:I])}let P=0;if(typeof j<"u"&&(P=l.indexOf(j),P<0&&(P=i.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(P=P-i.slidesPerViewDynamic("previous",!0)+1,P=Math.max(P,0))),s.rewind&&i.isBeginning){const I=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(I,n,e,t)}else if(s.loop&&i.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{i.slideTo(P,n,e,t)}),!0;return i.slideTo(P,n,e,t)}function Eq(n,e,t){e===void 0&&(e=!0);const i=this;if(!i.destroyed)return typeof n>"u"&&(n=i.params.speed),i.slideTo(i.activeIndex,n,e,t)}function wq(n,e,t,i){e===void 0&&(e=!0),i===void 0&&(i=.5);const s=this;if(s.destroyed)return;typeof n>"u"&&(n=s.params.speed);let o=s.activeIndex;const l=Math.min(s.params.slidesPerGroupSkip,o),c=l+Math.floor((o-l)/s.params.slidesPerGroup),h=s.rtlTranslate?s.translate:-s.translate;if(h>=s.snapGrid[c]){const f=s.snapGrid[c],g=s.snapGrid[c+1];h-f>(g-f)*i&&(o+=s.params.slidesPerGroup)}else{const f=s.snapGrid[c-1],g=s.snapGrid[c];h-f<=(g-f)*i&&(o-=s.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,s.slidesGrid.length-1),s.slideTo(o,n,e,t)}function Tq(){const n=this;if(n.destroyed)return;const{params:e,slidesEl:t}=n,i=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView;let s=n.clickedIndex,o;const l=n.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(n.animating)return;o=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?s<n.loopedSlides-i/2||s>n.slides.length-n.loopedSlides+i/2?(n.loopFix(),s=n.getSlideIndex(hs(t,`${l}[data-swiper-slide-index="${o}"]`)[0]),D_(()=>{n.slideTo(s)})):n.slideTo(s):s>n.slides.length-i?(n.loopFix(),s=n.getSlideIndex(hs(t,`${l}[data-swiper-slide-index="${o}"]`)[0]),D_(()=>{n.slideTo(s)})):n.slideTo(s)}else n.slideTo(s)}var bq={slideTo:gq,slideToLoop:vq,slideNext:yq,slidePrev:_q,slideReset:Eq,slideToClosest:wq,slideToClickedSlide:Tq};function Sq(n){const e=this,{params:t,slidesEl:i}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;const s=()=>{hs(i,`.${t.slideClass}, swiper-slide`).forEach((y,_)=>{y.setAttribute("data-swiper-slide-index",_)})},o=e.grid&&t.grid&&t.grid.rows>1,l=t.slidesPerGroup*(o?t.grid.rows:1),c=e.slides.length%l!==0,h=o&&e.slides.length%t.grid.rows!==0,f=g=>{for(let y=0;y<g;y+=1){const _=e.isElement?Hp("swiper-slide",[t.slideBlankClass]):Hp("div",[t.slideClass,t.slideBlankClass]);e.slidesEl.append(_)}};if(c){if(t.loopAddBlankSlides){const g=l-e.slides.length%l;f(g),e.recalcSlides(),e.updateSlides()}else Fp("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(h){if(t.loopAddBlankSlides){const g=t.grid.rows-e.slides.length%t.grid.rows;f(g),e.recalcSlides(),e.updateSlides()}else Fp("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();e.loopFix({slideRealIndex:n,direction:t.centeredSlides?void 0:"next"})}function xq(n){let{slideRealIndex:e,slideTo:t=!0,direction:i,setTranslate:s,activeSlideIndex:o,byController:l,byMousewheel:c}=n===void 0?{}:n;const h=this;if(!h.params.loop)return;h.emit("beforeLoopFix");const{slides:f,allowSlidePrev:g,allowSlideNext:y,slidesEl:_,params:T}=h,{centeredSlides:x}=T;if(h.allowSlidePrev=!0,h.allowSlideNext=!0,h.virtual&&T.virtual.enabled){t&&(!T.centeredSlides&&h.snapIndex===0?h.slideTo(h.virtual.slides.length,0,!1,!0):T.centeredSlides&&h.snapIndex<T.slidesPerView?h.slideTo(h.virtual.slides.length+h.snapIndex,0,!1,!0):h.snapIndex===h.snapGrid.length-1&&h.slideTo(h.virtual.slidesBefore,0,!1,!0)),h.allowSlidePrev=g,h.allowSlideNext=y,h.emit("loopFix");return}let D=T.slidesPerView;D==="auto"?D=h.slidesPerViewDynamic():(D=Math.ceil(parseFloat(T.slidesPerView,10)),x&&D%2===0&&(D=D+1));const j=T.slidesPerGroupAuto?D:T.slidesPerGroup;let P=j;P%j!==0&&(P+=j-P%j),P+=T.loopAdditionalSlides,h.loopedSlides=P;const I=h.grid&&T.grid&&T.grid.rows>1;f.length<D+P?Fp("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):I&&T.grid.fill==="row"&&Fp("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const L=[],q=[];let H=h.activeIndex;typeof o>"u"?o=h.getSlideIndex(f.find(V=>V.classList.contains(T.slideActiveClass))):H=o;const Z=i==="next"||!i,O=i==="prev"||!i;let A=0,C=0;const R=I?Math.ceil(f.length/T.grid.rows):f.length,B=(I?f[o].column:o)+(x&&typeof s>"u"?-D/2+.5:0);if(B<P){A=Math.max(P-B,j);for(let V=0;V<P-B;V+=1){const he=V-Math.floor(V/R)*R;if(I){const ye=R-he-1;for(let ae=f.length-1;ae>=0;ae-=1)f[ae].column===ye&&L.push(ae)}else L.push(R-he-1)}}else if(B+D>R-P){C=Math.max(B-(R-P*2),j);for(let V=0;V<C;V+=1){const he=V-Math.floor(V/R)*R;I?f.forEach((ye,ae)=>{ye.column===he&&q.push(ae)}):q.push(he)}}if(h.__preventObserver__=!0,requestAnimationFrame(()=>{h.__preventObserver__=!1}),O&&L.forEach(V=>{f[V].swiperLoopMoveDOM=!0,_.prepend(f[V]),f[V].swiperLoopMoveDOM=!1}),Z&&q.forEach(V=>{f[V].swiperLoopMoveDOM=!0,_.append(f[V]),f[V].swiperLoopMoveDOM=!1}),h.recalcSlides(),T.slidesPerView==="auto"?h.updateSlides():I&&(L.length>0&&O||q.length>0&&Z)&&h.slides.forEach((V,he)=>{h.grid.updateSlide(he,V,h.slides)}),T.watchSlidesProgress&&h.updateSlidesOffset(),t){if(L.length>0&&O){if(typeof e>"u"){const V=h.slidesGrid[H],ye=h.slidesGrid[H+A]-V;c?h.setTranslate(h.translate-ye):(h.slideTo(H+Math.ceil(A),0,!1,!0),s&&(h.touchEventsData.startTranslate=h.touchEventsData.startTranslate-ye,h.touchEventsData.currentTranslate=h.touchEventsData.currentTranslate-ye))}else if(s){const V=I?L.length/T.grid.rows:L.length;h.slideTo(h.activeIndex+V,0,!1,!0),h.touchEventsData.currentTranslate=h.translate}}else if(q.length>0&&Z)if(typeof e>"u"){const V=h.slidesGrid[H],ye=h.slidesGrid[H-C]-V;c?h.setTranslate(h.translate-ye):(h.slideTo(H-C,0,!1,!0),s&&(h.touchEventsData.startTranslate=h.touchEventsData.startTranslate-ye,h.touchEventsData.currentTranslate=h.touchEventsData.currentTranslate-ye))}else{const V=I?q.length/T.grid.rows:q.length;h.slideTo(h.activeIndex-V,0,!1,!0)}}if(h.allowSlidePrev=g,h.allowSlideNext=y,h.controller&&h.controller.control&&!l){const V={slideRealIndex:e,direction:i,setTranslate:s,activeSlideIndex:o,byController:!0};Array.isArray(h.controller.control)?h.controller.control.forEach(he=>{!he.destroyed&&he.params.loop&&he.loopFix({...V,slideTo:he.params.slidesPerView===T.slidesPerView?t:!1})}):h.controller.control instanceof h.constructor&&h.controller.control.params.loop&&h.controller.control.loopFix({...V,slideTo:h.controller.control.params.slidesPerView===T.slidesPerView?t:!1})}h.emit("loopFix")}function Cq(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const i=[];n.slides.forEach(s=>{const o=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;i[o]=s}),n.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),i.forEach(s=>{t.append(s)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var Aq={loopCreate:Sq,loopFix:xq,loopDestroy:Cq};function Rq(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function Iq(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var Nq={setGrabCursor:Rq,unsetGrabCursor:Iq};function Pq(n,e){e===void 0&&(e=this);function t(i){if(!i||i===Es()||i===Fn())return null;i.assignedSlot&&(i=i.assignedSlot);const s=i.closest(n);return!s&&!i.getRootNode?null:s||t(i.getRootNode().host)}return t(e)}function Z2(n,e,t){const i=Fn(),{params:s}=n,o=s.edgeSwipeDetection,l=s.edgeSwipeThreshold;return o&&(t<=l||t>=i.innerWidth-l)?o==="prevent"?(e.preventDefault(),!0):!1:!0}function Dq(n){const e=this,t=Es();let i=n;i.originalEvent&&(i=i.originalEvent);const s=e.touchEventsData;if(i.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==i.pointerId)return;s.pointerId=i.pointerId}else i.type==="touchstart"&&i.targetTouches.length===1&&(s.touchId=i.targetTouches[0].identifier);if(i.type==="touchstart"){Z2(e,i,i.targetTouches[0].pageX);return}const{params:o,touches:l,enabled:c}=e;if(!c||!o.simulateTouch&&i.pointerType==="mouse"||e.animating&&o.preventInteractionOnTransition)return;!e.animating&&o.cssMode&&o.loop&&e.loopFix();let h=i.target;if(o.touchEventsTarget==="wrapper"&&!BH(h,e.wrapperEl)||"which"in i&&i.which===3||"button"in i&&i.button>0||s.isTouched&&s.isMoved)return;const f=!!o.noSwipingClass&&o.noSwipingClass!=="",g=i.composedPath?i.composedPath():i.path;f&&i.target&&i.target.shadowRoot&&g&&(h=g[0]);const y=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`,_=!!(i.target&&i.target.shadowRoot);if(o.noSwiping&&(_?Pq(y,h):h.closest(y))){e.allowClick=!0;return}if(o.swipeHandler&&!h.closest(o.swipeHandler))return;l.currentX=i.pageX,l.currentY=i.pageY;const T=l.currentX,x=l.currentY;if(!Z2(e,i,T))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),l.startX=T,l.startY=x,s.touchStartTime=zp(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,o.threshold>0&&(s.allowThresholdMove=!1);let D=!0;h.matches(s.focusableElements)&&(D=!1,h.nodeName==="SELECT"&&(s.isTouched=!1)),t.activeElement&&t.activeElement.matches(s.focusableElements)&&t.activeElement!==h&&(i.pointerType==="mouse"||i.pointerType!=="mouse"&&!h.matches(s.focusableElements))&&t.activeElement.blur();const j=D&&e.allowTouchMove&&o.touchStartPreventDefault;(o.touchStartForcePreventDefault||j)&&!h.isContentEditable&&i.preventDefault(),o.freeMode&&o.freeMode.enabled&&e.freeMode&&e.animating&&!o.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",i)}function Mq(n){const e=Es(),t=this,i=t.touchEventsData,{params:s,touches:o,rtlTranslate:l,enabled:c}=t;if(!c||!s.simulateTouch&&n.pointerType==="mouse")return;let h=n;if(h.originalEvent&&(h=h.originalEvent),h.type==="pointermove"&&(i.touchId!==null||h.pointerId!==i.pointerId))return;let f;if(h.type==="touchmove"){if(f=[...h.changedTouches].find(H=>H.identifier===i.touchId),!f||f.identifier!==i.touchId)return}else f=h;if(!i.isTouched){i.startMoving&&i.isScrolling&&t.emit("touchMoveOpposite",h);return}const g=f.pageX,y=f.pageY;if(h.preventedByNestedSwiper){o.startX=g,o.startY=y;return}if(!t.allowTouchMove){h.target.matches(i.focusableElements)||(t.allowClick=!1),i.isTouched&&(Object.assign(o,{startX:g,startY:y,currentX:g,currentY:y}),i.touchStartTime=zp());return}if(s.touchReleaseOnEdges&&!s.loop){if(t.isVertical()){if(y<o.startY&&t.translate<=t.maxTranslate()||y>o.startY&&t.translate>=t.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else if(g<o.startX&&t.translate<=t.maxTranslate()||g>o.startX&&t.translate>=t.minTranslate())return}if(e.activeElement&&e.activeElement.matches(i.focusableElements)&&e.activeElement!==h.target&&h.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&h.target===e.activeElement&&h.target.matches(i.focusableElements)){i.isMoved=!0,t.allowClick=!1;return}i.allowTouchCallbacks&&t.emit("touchMove",h),o.previousX=o.currentX,o.previousY=o.currentY,o.currentX=g,o.currentY=y;const _=o.currentX-o.startX,T=o.currentY-o.startY;if(t.params.threshold&&Math.sqrt(_**2+T**2)<t.params.threshold)return;if(typeof i.isScrolling>"u"){let H;t.isHorizontal()&&o.currentY===o.startY||t.isVertical()&&o.currentX===o.startX?i.isScrolling=!1:_*_+T*T>=25&&(H=Math.atan2(Math.abs(T),Math.abs(_))*180/Math.PI,i.isScrolling=t.isHorizontal()?H>s.touchAngle:90-H>s.touchAngle)}if(i.isScrolling&&t.emit("touchMoveOpposite",h),typeof i.startMoving>"u"&&(o.currentX!==o.startX||o.currentY!==o.startY)&&(i.startMoving=!0),i.isScrolling||h.type==="touchmove"&&i.preventTouchMoveFromPointerMove){i.isTouched=!1;return}if(!i.startMoving)return;t.allowClick=!1,!s.cssMode&&h.cancelable&&h.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&h.stopPropagation();let x=t.isHorizontal()?_:T,D=t.isHorizontal()?o.currentX-o.previousX:o.currentY-o.previousY;s.oneWayMovement&&(x=Math.abs(x)*(l?1:-1),D=Math.abs(D)*(l?1:-1)),o.diff=x,x*=s.touchRatio,l&&(x=-x,D=-D);const j=t.touchesDirection;t.swipeDirection=x>0?"prev":"next",t.touchesDirection=D>0?"prev":"next";const P=t.params.loop&&!s.cssMode,I=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!i.isMoved){if(P&&I&&t.loopFix({direction:t.swipeDirection}),i.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const H=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(H)}i.allowMomentumBounce=!1,s.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",h)}if(new Date().getTime(),s._loopSwapReset!==!1&&i.isMoved&&i.allowThresholdMove&&j!==t.touchesDirection&&P&&I&&Math.abs(x)>=1){Object.assign(o,{startX:g,startY:y,currentX:g,currentY:y,startTranslate:i.currentTranslate}),i.loopSwapReset=!0,i.startTranslate=i.currentTranslate;return}t.emit("sliderMove",h),i.isMoved=!0,i.currentTranslate=x+i.startTranslate;let L=!0,q=s.resistanceRatio;if(s.touchReleaseOnEdges&&(q=0),x>0?(P&&I&&i.allowThresholdMove&&i.currentTranslate>(s.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(s.slidesPerView!=="auto"&&t.slides.length-s.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>t.minTranslate()&&(L=!1,s.resistance&&(i.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+i.startTranslate+x)**q))):x<0&&(P&&I&&i.allowThresholdMove&&i.currentTranslate<(s.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(s.slidesPerView!=="auto"&&t.slides.length-s.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(s.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),i.currentTranslate<t.maxTranslate()&&(L=!1,s.resistance&&(i.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-i.startTranslate-x)**q))),L&&(h.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(i.currentTranslate=i.startTranslate),s.threshold>0)if(Math.abs(x)>s.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,i.currentTranslate=i.startTranslate,o.diff=t.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY;return}}else{i.currentTranslate=i.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&t.freeMode||s.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(i.currentTranslate),t.setTranslate(i.currentTranslate))}function Oq(n){const e=this,t=e.touchEventsData;let i=n;i.originalEvent&&(i=i.originalEvent);let s;if(i.type==="touchend"||i.type==="touchcancel"){if(s=[...i.changedTouches].find(H=>H.identifier===t.touchId),!s||s.identifier!==t.touchId)return}else{if(t.touchId!==null||i.pointerId!==t.pointerId)return;s=i}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(i.type)&&!(["pointercancel","contextmenu"].includes(i.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:l,touches:c,rtlTranslate:h,slidesGrid:f,enabled:g}=e;if(!g||!l.simulateTouch&&i.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",i),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&l.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}l.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const y=zp(),_=y-t.touchStartTime;if(e.allowClick){const H=i.path||i.composedPath&&i.composedPath();e.updateClickedSlide(H&&H[0]||i.target,H),e.emit("tap click",i),_<300&&y-t.lastClickTime<300&&e.emit("doubleTap doubleClick",i)}if(t.lastClickTime=zp(),D_(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||c.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let T;if(l.followFinger?T=h?e.translate:-e.translate:T=-t.currentTranslate,l.cssMode)return;if(l.freeMode&&l.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:T});return}const x=T>=-e.maxTranslate()&&!e.params.loop;let D=0,j=e.slidesSizesGrid[0];for(let H=0;H<f.length;H+=H<l.slidesPerGroupSkip?1:l.slidesPerGroup){const Z=H<l.slidesPerGroupSkip-1?1:l.slidesPerGroup;typeof f[H+Z]<"u"?(x||T>=f[H]&&T<f[H+Z])&&(D=H,j=f[H+Z]-f[H]):(x||T>=f[H])&&(D=H,j=f[f.length-1]-f[f.length-2])}let P=null,I=null;l.rewind&&(e.isBeginning?I=l.virtual&&l.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(P=0));const L=(T-f[D])/j,q=D<l.slidesPerGroupSkip-1?1:l.slidesPerGroup;if(_>l.longSwipesMs){if(!l.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(L>=l.longSwipesRatio?e.slideTo(l.rewind&&e.isEnd?P:D+q):e.slideTo(D)),e.swipeDirection==="prev"&&(L>1-l.longSwipesRatio?e.slideTo(D+q):I!==null&&L<0&&Math.abs(L)>l.longSwipesRatio?e.slideTo(I):e.slideTo(D))}else{if(!l.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(i.target===e.navigation.nextEl||i.target===e.navigation.prevEl)?i.target===e.navigation.nextEl?e.slideTo(D+q):e.slideTo(D):(e.swipeDirection==="next"&&e.slideTo(P!==null?P:D+q),e.swipeDirection==="prev"&&e.slideTo(I!==null?I:D))}}function J2(){const n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:s,snapGrid:o}=n,l=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const c=l&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!c?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!l?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=s,n.allowSlideNext=i,n.params.watchOverflow&&o!==n.snapGrid&&n.checkOverflow()}function kq(n){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function Lq(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:i}=n;if(!i)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let s;const o=n.maxTranslate()-n.minTranslate();o===0?s=0:s=(n.translate-n.minTranslate())/o,s!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function Vq(n){const e=this;Yf(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function jq(){const n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}const BP=(n,e)=>{const t=Es(),{params:i,el:s,wrapperEl:o,device:l}=n,c=!!i.nested,h=e==="on"?"addEventListener":"removeEventListener",f=e;!s||typeof s=="string"||(t[h]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:c}),s[h]("touchstart",n.onTouchStart,{passive:!1}),s[h]("pointerdown",n.onTouchStart,{passive:!1}),t[h]("touchmove",n.onTouchMove,{passive:!1,capture:c}),t[h]("pointermove",n.onTouchMove,{passive:!1,capture:c}),t[h]("touchend",n.onTouchEnd,{passive:!0}),t[h]("pointerup",n.onTouchEnd,{passive:!0}),t[h]("pointercancel",n.onTouchEnd,{passive:!0}),t[h]("touchcancel",n.onTouchEnd,{passive:!0}),t[h]("pointerout",n.onTouchEnd,{passive:!0}),t[h]("pointerleave",n.onTouchEnd,{passive:!0}),t[h]("contextmenu",n.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&s[h]("click",n.onClick,!0),i.cssMode&&o[h]("scroll",n.onScroll),i.updateOnWindowResize?n[f](l.ios||l.android?"resize orientationchange observerUpdate":"resize observerUpdate",J2,!0):n[f]("observerUpdate",J2,!0),s[h]("load",n.onLoad,{capture:!0}))};function Uq(){const n=this,{params:e}=n;n.onTouchStart=Dq.bind(n),n.onTouchMove=Mq.bind(n),n.onTouchEnd=Oq.bind(n),n.onDocumentTouchStart=jq.bind(n),e.cssMode&&(n.onScroll=Lq.bind(n)),n.onClick=kq.bind(n),n.onLoad=Vq.bind(n),BP(n,"on")}function Bq(){BP(this,"off")}var zq={attachEvents:Uq,detachEvents:Bq};const eC=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function Fq(){const n=this,{realIndex:e,initialized:t,params:i,el:s}=n,o=i.breakpoints;if(!o||o&&Object.keys(o).length===0)return;const l=Es(),c=i.breakpointsBase==="window"||!i.breakpointsBase?i.breakpointsBase:"container",h=["window","container"].includes(i.breakpointsBase)||!i.breakpointsBase?n.el:l.querySelector(i.breakpointsBase),f=n.getBreakpoint(o,c,h);if(!f||n.currentBreakpoint===f)return;const y=(f in o?o[f]:void 0)||n.originalParams,_=eC(n,i),T=eC(n,y),x=n.params.grabCursor,D=y.grabCursor,j=i.enabled;_&&!T?(s.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),n.emitContainerClasses()):!_&&T&&(s.classList.add(`${i.containerModifierClass}grid`),(y.grid.fill&&y.grid.fill==="column"||!y.grid.fill&&i.grid.fill==="column")&&s.classList.add(`${i.containerModifierClass}grid-column`),n.emitContainerClasses()),x&&!D?n.unsetGrabCursor():!x&&D&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(Z=>{if(typeof y[Z]>"u")return;const O=i[Z]&&i[Z].enabled,A=y[Z]&&y[Z].enabled;O&&!A&&n[Z].disable(),!O&&A&&n[Z].enable()});const P=y.direction&&y.direction!==i.direction,I=i.loop&&(y.slidesPerView!==i.slidesPerView||P),L=i.loop;P&&t&&n.changeDirection(),ni(n.params,y);const q=n.params.enabled,H=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),j&&!q?n.disable():!j&&q&&n.enable(),n.currentBreakpoint=f,n.emit("_beforeBreakpoint",y),t&&(I?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!L&&H?(n.loopCreate(e),n.updateSlides()):L&&!H&&n.loopDestroy()),n.emit("breakpoint",y)}function Hq(n,e,t){if(e===void 0&&(e="window"),!n||e==="container"&&!t)return;let i=!1;const s=Fn(),o=e==="window"?s.innerHeight:t.clientHeight,l=Object.keys(n).map(c=>{if(typeof c=="string"&&c.indexOf("@")===0){const h=parseFloat(c.substr(1));return{value:o*h,point:c}}return{value:c,point:c}});l.sort((c,h)=>parseInt(c.value,10)-parseInt(h.value,10));for(let c=0;c<l.length;c+=1){const{point:h,value:f}=l[c];e==="window"?s.matchMedia(`(min-width: ${f}px)`).matches&&(i=h):f<=t.clientWidth&&(i=h)}return i||"max"}var qq={setBreakpoint:Fq,getBreakpoint:Hq};function Gq(n,e){const t=[];return n.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(s=>{i[s]&&t.push(e+s)}):typeof i=="string"&&t.push(e+i)}),t}function $q(){const n=this,{classNames:e,params:t,rtl:i,el:s,device:o}=n,l=Gq(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:i},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:o.android},{ios:o.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...l),s.classList.add(...e),n.emitContainerClasses()}function Kq(){const n=this,{el:e,classNames:t}=n;!e||typeof e=="string"||(e.classList.remove(...t),n.emitContainerClasses())}var Wq={addClasses:$q,removeClasses:Kq};function Yq(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:i}=t;if(i){const s=n.slides.length-1,o=n.slidesGrid[s]+n.slidesSizesGrid[s]+i*2;n.isLocked=n.size>o}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var Qq={checkOverflow:Yq},k_={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function Xq(n,e){return function(i){i===void 0&&(i={});const s=Object.keys(i)[0],o=i[s];if(typeof o!="object"||o===null){ni(e,i);return}if(n[s]===!0&&(n[s]={enabled:!0}),s==="navigation"&&n[s]&&n[s].enabled&&!n[s].prevEl&&!n[s].nextEl&&(n[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&n[s]&&n[s].enabled&&!n[s].el&&(n[s].auto=!0),!(s in n&&"enabled"in o)){ni(e,i);return}typeof n[s]=="object"&&!("enabled"in n[s])&&(n[s].enabled=!0),n[s]||(n[s]={enabled:!1}),ni(e,i)}}const xy={eventsEmitter:WH,update:rq,translate:hq,transition:mq,slide:bq,loop:Aq,grabCursor:Nq,events:zq,breakpoints:qq,checkOverflow:Qq,classes:Wq},Cy={};let iw=class Js{constructor(){let e,t;for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];s.length===1&&s[0].constructor&&Object.prototype.toString.call(s[0]).slice(8,-1)==="Object"?t=s[0]:[e,t]=s,t||(t={}),t=ni({},t),e&&!t.el&&(t.el=e);const l=Es();if(t.el&&typeof t.el=="string"&&l.querySelectorAll(t.el).length>1){const g=[];return l.querySelectorAll(t.el).forEach(y=>{const _=ni({},t,{el:y});g.push(new Js(_))}),g}const c=this;c.__swiper__=!0,c.support=LP(),c.device=VP({userAgent:t.userAgent}),c.browser=jP(),c.eventsListeners={},c.eventsAnyListeners=[],c.modules=[...c.__modules__],t.modules&&Array.isArray(t.modules)&&c.modules.push(...t.modules);const h={};c.modules.forEach(g=>{g({params:t,swiper:c,extendParams:Xq(t,h),on:c.on.bind(c),once:c.once.bind(c),off:c.off.bind(c),emit:c.emit.bind(c)})});const f=ni({},k_,h);return c.params=ni({},f,Cy,t),c.originalParams=ni({},c.params),c.passedParams=ni({},t),c.params&&c.params.on&&Object.keys(c.params.on).forEach(g=>{c.on(g,c.params.on[g])}),c.params&&c.params.onAny&&c.onAny(c.params.onAny),Object.assign(c,{enabled:c.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return c.params.direction==="horizontal"},isVertical(){return c.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:c.params.allowSlideNext,allowSlidePrev:c.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:c.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:c.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),c.emit("_swiper"),c.params.init&&c.init(),c}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:i}=this,s=hs(t,`.${i.slideClass}, swiper-slide`),o=qp(s[0]);return qp(e)-o}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>t.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:t,params:i}=e;e.slides=hs(t,`.${i.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const i=this;e=Math.min(Math.max(e,0),1);const s=i.minTranslate(),l=(i.maxTranslate()-s)*e+s;i.translateTo(l,typeof t>"u"?0:t),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(i=>{const s=e.getSlideClasses(i);t.push({slideEl:i,classNames:s}),e.emit("_slideClass",i,s)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);const i=this,{params:s,slides:o,slidesGrid:l,slidesSizesGrid:c,size:h,activeIndex:f}=i;let g=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let y=o[f]?Math.ceil(o[f].swiperSlideSize):0,_;for(let T=f+1;T<o.length;T+=1)o[T]&&!_&&(y+=Math.ceil(o[T].swiperSlideSize),g+=1,y>h&&(_=!0));for(let T=f-1;T>=0;T-=1)o[T]&&!_&&(y+=o[T].swiperSlideSize,g+=1,y>h&&(_=!0))}else if(e==="current")for(let y=f+1;y<o.length;y+=1)(t?l[y]+c[y]-l[f]<h:l[y]-l[f]<h)&&(g+=1);else for(let y=f-1;y>=0;y-=1)l[f]-l[y]<h&&(g+=1);return g}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:i}=e;i.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(l=>{l.complete&&Yf(e,l)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){const l=e.rtlTranslate?e.translate*-1:e.translate,c=Math.min(Math.max(l,e.maxTranslate()),e.minTranslate());e.setTranslate(c),e.updateActiveIndex(),e.updateSlidesClasses()}let o;if(i.freeMode&&i.freeMode.enabled&&!i.cssMode)s(),i.autoHeight&&e.updateAutoHeight();else{if((i.slidesPerView==="auto"||i.slidesPerView>1)&&e.isEnd&&!i.centeredSlides){const l=e.virtual&&i.virtual.enabled?e.virtual.slides:e.slides;o=e.slideTo(l.length-1,0,!1,!0)}else o=e.slideTo(e.activeIndex,0,!1,!0);o||s()}i.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);const i=this,s=i.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(i.el.classList.remove(`${i.params.containerModifierClass}${s}`),i.el.classList.add(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.forEach(o=>{e==="vertical"?o.style.width="":o.style.height=""}),i.emit("changeDirection"),t&&i.update()),i}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let i=e||t.params.el;if(typeof i=="string"&&(i=document.querySelector(i)),!i)return!1;i.swiper=t,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const s=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let l=i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(s()):hs(i,s())[0];return!l&&t.params.createElements&&(l=Hp("div",t.params.wrapperClass),i.append(l),hs(i,`.${t.params.slideClass}`).forEach(c=>{l.append(c)})),Object.assign(t,{el:i,wrapperEl:l,slidesEl:t.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:l,hostEl:t.isElement?i.parentNode.host:i,mounted:!0,rtl:i.dir.toLowerCase()==="rtl"||aa(i,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(i.dir.toLowerCase()==="rtl"||aa(i,"direction")==="rtl"),wrongRTL:aa(l,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(),t.attachEvents();const s=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&s.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(o=>{o.complete?Yf(t,o):o.addEventListener("load",l=>{Yf(t,l.target)})}),O_(t),t.initialized=!0,O_(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);const i=this,{params:s,el:o,wrapperEl:l,slides:c}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),s.loop&&i.loopDestroy(),t&&(i.removeClasses(),o&&typeof o!="string"&&o.removeAttribute("style"),l&&l.removeAttribute("style"),c&&c.length&&c.forEach(h=>{h.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),h.removeAttribute("style"),h.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(h=>{i.off(h)}),e!==!1&&(i.el&&typeof i.el!="string"&&(i.el.swiper=null),kH(i)),i.destroyed=!0),null}static extendDefaults(e){ni(Cy,e)}static get extendedDefaults(){return Cy}static get defaults(){return k_}static installModule(e){Js.prototype.__modules__||(Js.prototype.__modules__=[]);const t=Js.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>Js.installModule(t)),Js):(Js.installModule(e),Js)}};Object.keys(xy).forEach(n=>{Object.keys(xy[n]).forEach(e=>{iw.prototype[e]=xy[n][e]})});iw.use([$H,KH]);const zP=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Co(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"&&!n.__swiper__}function zl(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>t.indexOf(i)<0).forEach(i=>{typeof n[i]>"u"?n[i]=e[i]:Co(e[i])&&Co(n[i])&&Object.keys(e[i]).length>0?e[i].__swiper__?n[i]=e[i]:zl(n[i],e[i]):n[i]=e[i]})}function FP(n){return n===void 0&&(n={}),n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}function HP(n){return n===void 0&&(n={}),n.pagination&&typeof n.pagination.el>"u"}function qP(n){return n===void 0&&(n={}),n.scrollbar&&typeof n.scrollbar.el>"u"}function GP(n){n===void 0&&(n="");const e=n.split(" ").map(i=>i.trim()).filter(i=>!!i),t=[];return e.forEach(i=>{t.indexOf(i)<0&&t.push(i)}),t.join(" ")}function Zq(n){return n===void 0&&(n=""),n?n.includes("swiper-wrapper")?n:`swiper-wrapper ${n}`:"swiper-wrapper"}function Jq(n){let{swiper:e,slides:t,passedParams:i,changedParams:s,nextEl:o,prevEl:l,scrollbarEl:c,paginationEl:h}=n;const f=s.filter(C=>C!=="children"&&C!=="direction"&&C!=="wrapperClass"),{params:g,pagination:y,navigation:_,scrollbar:T,virtual:x,thumbs:D}=e;let j,P,I,L,q,H,Z,O;s.includes("thumbs")&&i.thumbs&&i.thumbs.swiper&&!i.thumbs.swiper.destroyed&&g.thumbs&&(!g.thumbs.swiper||g.thumbs.swiper.destroyed)&&(j=!0),s.includes("controller")&&i.controller&&i.controller.control&&g.controller&&!g.controller.control&&(P=!0),s.includes("pagination")&&i.pagination&&(i.pagination.el||h)&&(g.pagination||g.pagination===!1)&&y&&!y.el&&(I=!0),s.includes("scrollbar")&&i.scrollbar&&(i.scrollbar.el||c)&&(g.scrollbar||g.scrollbar===!1)&&T&&!T.el&&(L=!0),s.includes("navigation")&&i.navigation&&(i.navigation.prevEl||l)&&(i.navigation.nextEl||o)&&(g.navigation||g.navigation===!1)&&_&&!_.prevEl&&!_.nextEl&&(q=!0);const A=C=>{e[C]&&(e[C].destroy(),C==="navigation"?(e.isElement&&(e[C].prevEl.remove(),e[C].nextEl.remove()),g[C].prevEl=void 0,g[C].nextEl=void 0,e[C].prevEl=void 0,e[C].nextEl=void 0):(e.isElement&&e[C].el.remove(),g[C].el=void 0,e[C].el=void 0))};s.includes("loop")&&e.isElement&&(g.loop&&!i.loop?H=!0:!g.loop&&i.loop?Z=!0:O=!0),f.forEach(C=>{if(Co(g[C])&&Co(i[C]))Object.assign(g[C],i[C]),(C==="navigation"||C==="pagination"||C==="scrollbar")&&"enabled"in i[C]&&!i[C].enabled&&A(C);else{const R=i[C];(R===!0||R===!1)&&(C==="navigation"||C==="pagination"||C==="scrollbar")?R===!1&&A(C):g[C]=i[C]}}),f.includes("controller")&&!P&&e.controller&&e.controller.control&&g.controller&&g.controller.control&&(e.controller.control=g.controller.control),s.includes("children")&&t&&x&&g.virtual.enabled?(x.slides=t,x.update(!0)):s.includes("virtual")&&x&&g.virtual.enabled&&(t&&(x.slides=t),x.update(!0)),s.includes("children")&&t&&g.loop&&(O=!0),j&&D.init()&&D.update(!0),P&&(e.controller.control=g.controller.control),I&&(e.isElement&&(!h||typeof h=="string")&&(h=document.createElement("div"),h.classList.add("swiper-pagination"),h.part.add("pagination"),e.el.appendChild(h)),h&&(g.pagination.el=h),y.init(),y.render(),y.update()),L&&(e.isElement&&(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-scrollbar"),c.part.add("scrollbar"),e.el.appendChild(c)),c&&(g.scrollbar.el=c),T.init(),T.updateSize(),T.setTranslate()),q&&(e.isElement&&((!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-next"),o.innerHTML=e.hostEl.constructor.nextButtonSvg,o.part.add("button-next"),e.el.appendChild(o)),(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-button-prev"),l.innerHTML=e.hostEl.constructor.prevButtonSvg,l.part.add("button-prev"),e.el.appendChild(l))),o&&(g.navigation.nextEl=o),l&&(g.navigation.prevEl=l),_.init(),_.update()),s.includes("allowSlideNext")&&(e.allowSlideNext=i.allowSlideNext),s.includes("allowSlidePrev")&&(e.allowSlidePrev=i.allowSlidePrev),s.includes("direction")&&e.changeDirection(i.direction,!1),(H||O)&&e.loopDestroy(),(Z||O)&&e.loopCreate(),e.update()}function eG(n,e){n===void 0&&(n={}),e===void 0&&(e=!0);const t={on:{}},i={},s={};zl(t,k_),t._emitClasses=!0,t.init=!1;const o={},l=zP.map(h=>h.replace(/_/,"")),c=Object.assign({},n);return Object.keys(c).forEach(h=>{typeof n[h]>"u"||(l.indexOf(h)>=0?Co(n[h])?(t[h]={},s[h]={},zl(t[h],n[h]),zl(s[h],n[h])):(t[h]=n[h],s[h]=n[h]):h.search(/on[A-Z]/)===0&&typeof n[h]=="function"?e?i[`${h[2].toLowerCase()}${h.substr(3)}`]=n[h]:t.on[`${h[2].toLowerCase()}${h.substr(3)}`]=n[h]:o[h]=n[h])}),["navigation","pagination","scrollbar"].forEach(h=>{t[h]===!0&&(t[h]={}),t[h]===!1&&delete t[h]}),{params:t,passedParams:s,rest:o,events:i}}function tG(n,e){let{el:t,nextEl:i,prevEl:s,paginationEl:o,scrollbarEl:l,swiper:c}=n;FP(e)&&i&&s&&(c.params.navigation.nextEl=i,c.originalParams.navigation.nextEl=i,c.params.navigation.prevEl=s,c.originalParams.navigation.prevEl=s),HP(e)&&o&&(c.params.pagination.el=o,c.originalParams.pagination.el=o),qP(e)&&l&&(c.params.scrollbar.el=l,c.originalParams.scrollbar.el=l),c.init(t)}function nG(n,e,t,i,s){const o=[];if(!e)return o;const l=h=>{o.indexOf(h)<0&&o.push(h)};if(t&&i){const h=i.map(s),f=t.map(s);h.join("")!==f.join("")&&l("children"),i.length!==t.length&&l("children")}return zP.filter(h=>h[0]==="_").map(h=>h.replace(/_/,"")).forEach(h=>{if(h in n&&h in e)if(Co(n[h])&&Co(e[h])){const f=Object.keys(n[h]),g=Object.keys(e[h]);f.length!==g.length?l(h):(f.forEach(y=>{n[h][y]!==e[h][y]&&l(h)}),g.forEach(y=>{n[h][y]!==e[h][y]&&l(h)}))}else n[h]!==e[h]&&l(h)}),o}const iG=n=>{!n||n.destroyed||!n.params.virtual||n.params.virtual&&!n.params.virtual.enabled||(n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.parallax&&n.params.parallax&&n.params.parallax.enabled&&n.parallax.setTranslate())};function Gp(){return Gp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Gp.apply(this,arguments)}function $P(n){return n.type&&n.type.displayName&&n.type.displayName.includes("SwiperSlide")}function KP(n){const e=[];return ht.Children.toArray(n).forEach(t=>{$P(t)?e.push(t):t.props&&t.props.children&&KP(t.props.children).forEach(i=>e.push(i))}),e}function sG(n){const e=[],t={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return ht.Children.toArray(n).forEach(i=>{if($P(i))e.push(i);else if(i.props&&i.props.slot&&t[i.props.slot])t[i.props.slot].push(i);else if(i.props&&i.props.children){const s=KP(i.props.children);s.length>0?s.forEach(o=>e.push(o)):t["container-end"].push(i)}else t["container-end"].push(i)}),{slides:e,slots:t}}function rG(n,e,t){if(!t)return null;const i=g=>{let y=g;return g<0?y=e.length+g:y>=e.length&&(y=y-e.length),y},s=n.isHorizontal()?{[n.rtlTranslate?"right":"left"]:`${t.offset}px`}:{top:`${t.offset}px`},{from:o,to:l}=t,c=n.params.loop?-e.length:0,h=n.params.loop?e.length*2:e.length,f=[];for(let g=c;g<h;g+=1)g>=o&&g<=l&&f.push(e[i(g)]);return f.map((g,y)=>ht.cloneElement(g,{swiper:n,style:s,key:g.props.virtualIndex||g.key||`slide-${y}`}))}function ih(n,e){return typeof window>"u"?U.useEffect(n,e):U.useLayoutEffect(n,e)}const tC=U.createContext(null),aG=U.createContext(null),sw=U.forwardRef(function(n,e){let{className:t,tag:i="div",wrapperTag:s="div",children:o,onSwiper:l,...c}=n===void 0?{}:n,h=!1;const[f,g]=U.useState("swiper"),[y,_]=U.useState(null),[T,x]=U.useState(!1),D=U.useRef(!1),j=U.useRef(null),P=U.useRef(null),I=U.useRef(null),L=U.useRef(null),q=U.useRef(null),H=U.useRef(null),Z=U.useRef(null),O=U.useRef(null),{params:A,passedParams:C,rest:R,events:k}=eG(c),{slides:B,slots:V}=sG(o),he=()=>{x(!T)};Object.assign(A.on,{_containerClasses(ve,F){g(F)}});const ye=()=>{Object.assign(A.on,k),h=!0;const ve={...A};if(delete ve.wrapperClass,P.current=new iw(ve),P.current.virtual&&P.current.params.virtual.enabled){P.current.virtual.slides=B;const F={cache:!1,slides:B,renderExternal:_,renderExternalUpdate:!1};zl(P.current.params.virtual,F),zl(P.current.originalParams.virtual,F)}};j.current||ye(),P.current&&P.current.on("_beforeBreakpoint",he);const ae=()=>{h||!k||!P.current||Object.keys(k).forEach(ve=>{P.current.on(ve,k[ve])})},de=()=>{!k||!P.current||Object.keys(k).forEach(ve=>{P.current.off(ve,k[ve])})};U.useEffect(()=>()=>{P.current&&P.current.off("_beforeBreakpoint",he)}),U.useEffect(()=>{!D.current&&P.current&&(P.current.emitSlidesClasses(),D.current=!0)}),ih(()=>{if(e&&(e.current=j.current),!!j.current)return P.current.destroyed&&ye(),tG({el:j.current,nextEl:q.current,prevEl:H.current,paginationEl:Z.current,scrollbarEl:O.current,swiper:P.current},A),l&&!P.current.destroyed&&l(P.current),()=>{P.current&&!P.current.destroyed&&P.current.destroy(!0,!1)}},[]),ih(()=>{ae();const ve=nG(C,I.current,B,L.current,F=>F.key);return I.current=C,L.current=B,ve.length&&P.current&&!P.current.destroyed&&Jq({swiper:P.current,slides:B,passedParams:C,changedParams:ve,nextEl:q.current,prevEl:H.current,scrollbarEl:O.current,paginationEl:Z.current}),()=>{de()}}),ih(()=>{iG(P.current)},[y]);function re(){return A.virtual?rG(P.current,B,y):B.map((ve,F)=>ht.cloneElement(ve,{swiper:P.current,swiperSlideIndex:F}))}return ht.createElement(i,Gp({ref:j,className:GP(`${f}${t?` ${t}`:""}`)},R),ht.createElement(aG.Provider,{value:P.current},V["container-start"],ht.createElement(s,{className:Zq(A.wrapperClass)},V["wrapper-start"],re(),V["wrapper-end"]),FP(A)&&ht.createElement(ht.Fragment,null,ht.createElement("div",{ref:H,className:"swiper-button-prev"}),ht.createElement("div",{ref:q,className:"swiper-button-next"})),qP(A)&&ht.createElement("div",{ref:O,className:"swiper-scrollbar"}),HP(A)&&ht.createElement("div",{ref:Z,className:"swiper-pagination"}),V["container-end"]))});sw.displayName="Swiper";const rw=U.forwardRef(function(n,e){let{tag:t="div",children:i,className:s="",swiper:o,zoom:l,lazy:c,virtualIndex:h,swiperSlideIndex:f,...g}=n===void 0?{}:n;const y=U.useRef(null),[_,T]=U.useState("swiper-slide"),[x,D]=U.useState(!1);function j(q,H,Z){H===y.current&&T(Z)}ih(()=>{if(typeof f<"u"&&(y.current.swiperSlideIndex=f),e&&(e.current=y.current),!(!y.current||!o)){if(o.destroyed){_!=="swiper-slide"&&T("swiper-slide");return}return o.on("_slideClass",j),()=>{o&&o.off("_slideClass",j)}}}),ih(()=>{o&&y.current&&!o.destroyed&&T(o.getSlideClasses(y.current))},[o]);const P={isActive:_.indexOf("swiper-slide-active")>=0,isVisible:_.indexOf("swiper-slide-visible")>=0,isPrev:_.indexOf("swiper-slide-prev")>=0,isNext:_.indexOf("swiper-slide-next")>=0},I=()=>typeof i=="function"?i(P):i,L=()=>{D(!0)};return ht.createElement(t,Gp({ref:y,className:GP(`${_}${s?` ${s}`:""}`),"data-swiper-slide-index":h,onLoad:L},g),l&&ht.createElement(tC.Provider,{value:P},ht.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof l=="number"?l:void 0},I(),c&&!x&&ht.createElement("div",{className:"swiper-lazy-preloader"}))),!l&&ht.createElement(tC.Provider,{value:P},I(),c&&!x&&ht.createElement("div",{className:"swiper-lazy-preloader"})))});rw.displayName="SwiperSlide";function oG(n,e,t,i){return n.params.createElements&&Object.keys(i).forEach(s=>{if(!t[s]&&t.auto===!0){let o=hs(n.el,`.${i[s]}`)[0];o||(o=Hp("div",i[s]),o.className=i[s],n.el.append(o)),t[s]=o,e[s]=o}}),t}function kc(n){return n===void 0&&(n=""),`.${n.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function WP(n){let{swiper:e,extendParams:t,on:i,emit:s}=n;const o="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:I=>I,formatFractionTotal:I=>I,bulletClass:`${o}-bullet`,bulletActiveClass:`${o}-bullet-active`,modifierClass:`${o}-`,currentClass:`${o}-current`,totalClass:`${o}-total`,hiddenClass:`${o}-hidden`,progressbarFillClass:`${o}-progressbar-fill`,progressbarOppositeClass:`${o}-progressbar-opposite`,clickableClass:`${o}-clickable`,lockClass:`${o}-lock`,horizontalClass:`${o}-horizontal`,verticalClass:`${o}-vertical`,paginationDisabledClass:`${o}-disabled`}}),e.pagination={el:null,bullets:[]};let l,c=0;function h(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function f(I,L){const{bulletActiveClass:q}=e.params.pagination;I&&(I=I[`${L==="prev"?"previous":"next"}ElementSibling`],I&&(I.classList.add(`${q}-${L}`),I=I[`${L==="prev"?"previous":"next"}ElementSibling`],I&&I.classList.add(`${q}-${L}-${L}`)))}function g(I,L,q){if(I=I%q,L=L%q,L===I+1)return"next";if(L===I-1)return"previous"}function y(I){const L=I.target.closest(kc(e.params.pagination.bulletClass));if(!L)return;I.preventDefault();const q=qp(L)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===q)return;const H=g(e.realIndex,q,e.slides.length);H==="next"?e.slideNext():H==="previous"?e.slidePrev():e.slideToLoop(q)}else e.slideTo(q)}function _(){const I=e.rtl,L=e.params.pagination;if(h())return;let q=e.pagination.el;q=Xs(q);let H,Z;const O=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,A=e.params.loop?Math.ceil(O/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(Z=e.previousRealIndex||0,H=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(H=e.snapIndex,Z=e.previousSnapIndex):(Z=e.previousIndex||0,H=e.activeIndex||0),L.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const C=e.pagination.bullets;let R,k,B;if(L.dynamicBullets&&(l=M_(C[0],e.isHorizontal()?"width":"height"),q.forEach(V=>{V.style[e.isHorizontal()?"width":"height"]=`${l*(L.dynamicMainBullets+4)}px`}),L.dynamicMainBullets>1&&Z!==void 0&&(c+=H-(Z||0),c>L.dynamicMainBullets-1?c=L.dynamicMainBullets-1:c<0&&(c=0)),R=Math.max(H-c,0),k=R+(Math.min(C.length,L.dynamicMainBullets)-1),B=(k+R)/2),C.forEach(V=>{const he=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(ye=>`${L.bulletActiveClass}${ye}`)].map(ye=>typeof ye=="string"&&ye.includes(" ")?ye.split(" "):ye).flat();V.classList.remove(...he)}),q.length>1)C.forEach(V=>{const he=qp(V);he===H?V.classList.add(...L.bulletActiveClass.split(" ")):e.isElement&&V.setAttribute("part","bullet"),L.dynamicBullets&&(he>=R&&he<=k&&V.classList.add(...`${L.bulletActiveClass}-main`.split(" ")),he===R&&f(V,"prev"),he===k&&f(V,"next"))});else{const V=C[H];if(V&&V.classList.add(...L.bulletActiveClass.split(" ")),e.isElement&&C.forEach((he,ye)=>{he.setAttribute("part",ye===H?"bullet-active":"bullet")}),L.dynamicBullets){const he=C[R],ye=C[k];for(let ae=R;ae<=k;ae+=1)C[ae]&&C[ae].classList.add(...`${L.bulletActiveClass}-main`.split(" "));f(he,"prev"),f(ye,"next")}}if(L.dynamicBullets){const V=Math.min(C.length,L.dynamicMainBullets+4),he=(l*V-l)/2-B*l,ye=I?"right":"left";C.forEach(ae=>{ae.style[e.isHorizontal()?ye:"top"]=`${he}px`})}}q.forEach((C,R)=>{if(L.type==="fraction"&&(C.querySelectorAll(kc(L.currentClass)).forEach(k=>{k.textContent=L.formatFractionCurrent(H+1)}),C.querySelectorAll(kc(L.totalClass)).forEach(k=>{k.textContent=L.formatFractionTotal(A)})),L.type==="progressbar"){let k;L.progressbarOpposite?k=e.isHorizontal()?"vertical":"horizontal":k=e.isHorizontal()?"horizontal":"vertical";const B=(H+1)/A;let V=1,he=1;k==="horizontal"?V=B:he=B,C.querySelectorAll(kc(L.progressbarFillClass)).forEach(ye=>{ye.style.transform=`translate3d(0,0,0) scaleX(${V}) scaleY(${he})`,ye.style.transitionDuration=`${e.params.speed}ms`})}L.type==="custom"&&L.renderCustom?(C.innerHTML=L.renderCustom(e,H+1,A),R===0&&s("paginationRender",C)):(R===0&&s("paginationRender",C),s("paginationUpdate",C)),e.params.watchOverflow&&e.enabled&&C.classList[e.isLocked?"add":"remove"](L.lockClass)})}function T(){const I=e.params.pagination;if(h())return;const L=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let q=e.pagination.el;q=Xs(q);let H="";if(I.type==="bullets"){let Z=e.params.loop?Math.ceil(L/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&Z>L&&(Z=L);for(let O=0;O<Z;O+=1)I.renderBullet?H+=I.renderBullet.call(e,O,I.bulletClass):H+=`<${I.bulletElement} ${e.isElement?'part="bullet"':""} class="${I.bulletClass}"></${I.bulletElement}>`}I.type==="fraction"&&(I.renderFraction?H=I.renderFraction.call(e,I.currentClass,I.totalClass):H=`<span class="${I.currentClass}"></span> / <span class="${I.totalClass}"></span>`),I.type==="progressbar"&&(I.renderProgressbar?H=I.renderProgressbar.call(e,I.progressbarFillClass):H=`<span class="${I.progressbarFillClass}"></span>`),e.pagination.bullets=[],q.forEach(Z=>{I.type!=="custom"&&(Z.innerHTML=H||""),I.type==="bullets"&&e.pagination.bullets.push(...Z.querySelectorAll(kc(I.bulletClass)))}),I.type!=="custom"&&s("paginationRender",q[0])}function x(){e.params.pagination=oG(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const I=e.params.pagination;if(!I.el)return;let L;typeof I.el=="string"&&e.isElement&&(L=e.el.querySelector(I.el)),!L&&typeof I.el=="string"&&(L=[...document.querySelectorAll(I.el)]),L||(L=I.el),!(!L||L.length===0)&&(e.params.uniqueNavElements&&typeof I.el=="string"&&Array.isArray(L)&&L.length>1&&(L=[...e.el.querySelectorAll(I.el)],L.length>1&&(L=L.find(q=>kP(q,".swiper")[0]===e.el))),Array.isArray(L)&&L.length===1&&(L=L[0]),Object.assign(e.pagination,{el:L}),L=Xs(L),L.forEach(q=>{I.type==="bullets"&&I.clickable&&q.classList.add(...(I.clickableClass||"").split(" ")),q.classList.add(I.modifierClass+I.type),q.classList.add(e.isHorizontal()?I.horizontalClass:I.verticalClass),I.type==="bullets"&&I.dynamicBullets&&(q.classList.add(`${I.modifierClass}${I.type}-dynamic`),c=0,I.dynamicMainBullets<1&&(I.dynamicMainBullets=1)),I.type==="progressbar"&&I.progressbarOpposite&&q.classList.add(I.progressbarOppositeClass),I.clickable&&q.addEventListener("click",y),e.enabled||q.classList.add(I.lockClass)}))}function D(){const I=e.params.pagination;if(h())return;let L=e.pagination.el;L&&(L=Xs(L),L.forEach(q=>{q.classList.remove(I.hiddenClass),q.classList.remove(I.modifierClass+I.type),q.classList.remove(e.isHorizontal()?I.horizontalClass:I.verticalClass),I.clickable&&(q.classList.remove(...(I.clickableClass||"").split(" ")),q.removeEventListener("click",y))})),e.pagination.bullets&&e.pagination.bullets.forEach(q=>q.classList.remove(...I.bulletActiveClass.split(" ")))}i("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const I=e.params.pagination;let{el:L}=e.pagination;L=Xs(L),L.forEach(q=>{q.classList.remove(I.horizontalClass,I.verticalClass),q.classList.add(e.isHorizontal()?I.horizontalClass:I.verticalClass)})}),i("init",()=>{e.params.pagination.enabled===!1?P():(x(),T(),_())}),i("activeIndexChange",()=>{typeof e.snapIndex>"u"&&_()}),i("snapIndexChange",()=>{_()}),i("snapGridLengthChange",()=>{T(),_()}),i("destroy",()=>{D()}),i("enable disable",()=>{let{el:I}=e.pagination;I&&(I=Xs(I),I.forEach(L=>L.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),i("lock unlock",()=>{_()}),i("click",(I,L)=>{const q=L.target,H=Xs(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&H&&H.length>0&&!q.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&q===e.navigation.nextEl||e.navigation.prevEl&&q===e.navigation.prevEl))return;const Z=H[0].classList.contains(e.params.pagination.hiddenClass);s(Z===!0?"paginationShow":"paginationHide"),H.forEach(O=>O.classList.toggle(e.params.pagination.hiddenClass))}});const j=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:I}=e.pagination;I&&(I=Xs(I),I.forEach(L=>L.classList.remove(e.params.pagination.paginationDisabledClass))),x(),T(),_()},P=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:I}=e.pagination;I&&(I=Xs(I),I.forEach(L=>L.classList.add(e.params.pagination.paginationDisabledClass))),D()};Object.assign(e.pagination,{enable:j,disable:P,render:T,update:_,init:x,destroy:D})}function YP(n){let{swiper:e,extendParams:t,on:i,emit:s,params:o}=n;e.autoplay={running:!1,paused:!1,timeLeft:0},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let l,c,h=o&&o.autoplay?o.autoplay.delay:3e3,f=o&&o.autoplay?o.autoplay.delay:3e3,g,y=new Date().getTime(),_,T,x,D,j,P,I;function L(re){!e||e.destroyed||!e.wrapperEl||re.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",L),!(I||re.detail&&re.detail.bySwiperTouchMove)&&R())}const q=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?_=!0:_&&(f=g,_=!1);const re=e.autoplay.paused?g:y+f-new Date().getTime();e.autoplay.timeLeft=re,s("autoplayTimeLeft",re,re/h),c=requestAnimationFrame(()=>{q()})},H=()=>{let re;return e.virtual&&e.params.virtual.enabled?re=e.slides.find(F=>F.classList.contains("swiper-slide-active")):re=e.slides[e.activeIndex],re?parseInt(re.getAttribute("data-swiper-autoplay"),10):void 0},Z=re=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(c),q();let ve=typeof re>"u"?e.params.autoplay.delay:re;h=e.params.autoplay.delay,f=e.params.autoplay.delay;const F=H();!Number.isNaN(F)&&F>0&&typeof re>"u"&&(ve=F,h=F,f=F),g=ve;const ne=e.params.speed,ge=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(ne,!0,!0),s("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,ne,!0,!0),s("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(ne,!0,!0),s("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,ne,!0,!0),s("autoplay")),e.params.cssMode&&(y=new Date().getTime(),requestAnimationFrame(()=>{Z()})))};return ve>0?(clearTimeout(l),l=setTimeout(()=>{ge()},ve)):requestAnimationFrame(()=>{ge()}),ve},O=()=>{y=new Date().getTime(),e.autoplay.running=!0,Z(),s("autoplayStart")},A=()=>{e.autoplay.running=!1,clearTimeout(l),cancelAnimationFrame(c),s("autoplayStop")},C=(re,ve)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(l),re||(P=!0);const F=()=>{s("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",L):R()};if(e.autoplay.paused=!0,ve){j&&(g=e.params.autoplay.delay),j=!1,F();return}g=(g||e.params.autoplay.delay)-(new Date().getTime()-y),!(e.isEnd&&g<0&&!e.params.loop)&&(g<0&&(g=0),F())},R=()=>{e.isEnd&&g<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(y=new Date().getTime(),P?(P=!1,Z(g)):Z(),e.autoplay.paused=!1,s("autoplayResume"))},k=()=>{if(e.destroyed||!e.autoplay.running)return;const re=Es();re.visibilityState==="hidden"&&(P=!0,C(!0)),re.visibilityState==="visible"&&R()},B=re=>{re.pointerType==="mouse"&&(P=!0,I=!0,!(e.animating||e.autoplay.paused)&&C(!0))},V=re=>{re.pointerType==="mouse"&&(I=!1,e.autoplay.paused&&R())},he=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",B),e.el.addEventListener("pointerleave",V))},ye=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",B),e.el.removeEventListener("pointerleave",V))},ae=()=>{Es().addEventListener("visibilitychange",k)},de=()=>{Es().removeEventListener("visibilitychange",k)};i("init",()=>{e.params.autoplay.enabled&&(he(),ae(),O())}),i("destroy",()=>{ye(),de(),e.autoplay.running&&A()}),i("_freeModeStaticRelease",()=>{(x||P)&&R()}),i("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?A():C(!0,!0)}),i("beforeTransitionStart",(re,ve,F)=>{e.destroyed||!e.autoplay.running||(F||!e.params.autoplay.disableOnInteraction?C(!0,!0):A())}),i("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){A();return}T=!0,x=!1,P=!1,D=setTimeout(()=>{P=!0,x=!0,C(!0)},200)}}),i("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!T)){if(clearTimeout(D),clearTimeout(l),e.params.autoplay.disableOnInteraction){x=!1,T=!1;return}x&&e.params.cssMode&&R(),x=!1,T=!1}}),i("slideChange",()=>{e.destroyed||!e.autoplay.running||(j=!0)}),Object.assign(e.autoplay,{start:O,stop:A,pause:C,resume:R})}const lG=()=>{const[n,e]=U.useState([]),t=Ai();U.useEffect(()=>{const l=En(Pn,"banners"),c=ms(l,h=>{if(h.exists()){const f=h.val(),g=Object.keys(f).map(y=>({id:y,...f[y]})).filter(y=>y.status==="active");e(g)}else e([])});return()=>c()},[]);const[i,s]=U.useState([]);U.useEffect(()=>{const l=bI(),c=En(l,"categories");ms(c,h=>{if(h.exists()){const f=h.val(),g=Object.keys(f).map(y=>({id:y,...f[y]}));s(g)}})},[]);const o=l=>{t(`/products?category=${l}`)};return w.jsx("div",{className:"w-full h-full overflow-x-hidden ",children:w.jsxs("div",{className:"relative w-full h-full overflow-x-hidden pt-0",children:[w.jsx("div",{className:"absolute top-0 bottom-0 left-0 right-0",children:w.jsx("img",{src:"https://img.freepik.com/free-vector/hand-drawn-olive-green-background_23-2149725222.jpg?t=st=1739964142~exp=1739967742~hmac=2bc705054c2a2430867275dad61e87e6b18ad0dda207c3f165ca54f906f8a593&w=1060",alt:"",className:"w-full h-full object-cover opacity-20"})}),w.jsx("section",{className:"relative overflow-hidden md:px-6",children:w.jsxs("div",{children:[w.jsx("div",{className:"w-[600px] md:w-[1200px] md:h-[1200px] lg:w-[1600px] lg:h-[1600px] BannerCircle lg:top-[-900px] z-0 absolute h-[600px] rounded-full md:top-[-550px] top-[-290px] bgGradient overflow-hidden"}),w.jsx("div",{className:"w-[600px] md:w-[1200px] md:h-[1200px] -z-10 absolute h-[600px] BannerCircle2 rounded-full top-[-270px] lg:top-[-880px] md:top-[-520px] bgGradient opacity-30 "}),w.jsx("div",{className:" absolute w-[70px] h-[70px]  left-[10px] top-2 drop-shadow-md",children:w.jsx("img",{src:mC,alt:"",className:"md:hidden"})}),w.jsxs("div",{className:"relative text-[#fff] pr-2 pt-5 leading-tight",children:[w.jsx("div",{className:"text-[12px]  text-[#B1C29E] text-end font-semibold",children:"Leading Spice Retailer in Wayanad"}),w.jsx("div",{className:"text-2xl text-end font-bold TextFont1 ",children:"Chasam Ayurvedic"}),w.jsx("div",{className:"text-[12px] text-[#B1C29E] text-end font-semibold",children:"Authentic Ayurvedic & Spice Products"})]}),w.jsxs("div",{className:"overflow-x-auto mx-auto max-w-[1400px] scrollBar md:flex md:justify-center md:items-center md:gap-5 md:px-4",children:[w.jsxs("div",{className:"flex justify-between md:justify-center items-center gap-5 relative pt-[50px] px-2 mb-5",children:[w.jsxs("div",{className:"w-[100px] relative h-[100px] flex justify-center items-center flex-col gap-2 overflow-hidden bg-[#EFE3C2] border border-[#fff] rounded-xl HeaderElements",children:[w.jsx("div",{className:"w-[100px] HeaderElementsimg relative h-[60px]  overflow-hidden rounded-xl",children:w.jsx("img",{src:IH,alt:"",className:"w-full h-full object-contain drop-shadow-md"})}),w.jsx("div",{className:"text-center font-bold text-[10px] leading-tight bottom-1 HeaderElementstext",children:"100% Organic"})]}),w.jsxs("div",{className:"w-[100px] relative h-[100px] HeaderElements flex justify-center items-center flex-col gap-2 overflow-hidden bg-[#EFE3C2] border border-[#fff] rounded-xl",children:[w.jsx("div",{className:"w-[100px] HeaderElementsimg relative h-[60px] overflow-hidden rounded-xl",children:w.jsx("img",{src:NH,alt:"",className:"w-full h-full object-contain drop-shadow-md"})}),w.jsx("div",{className:"text-center font-bold text-[10px] leading-tight bottom-1 HeaderElementstext",children:"Genuine Product"})]}),w.jsxs("div",{className:"w-[100px] relative h-[100px] HeaderElements flex justify-center items-center flex-col gap-2 overflow-hidden bg-[#EFE3C2] border border-[#fff] rounded-xl",children:[w.jsx("div",{className:"w-[100px] HeaderElementsimg relative h-[60px] overflow-hidden rounded-xl",children:w.jsx("img",{src:PH,alt:"",className:"w-full h-full object-contain drop-shadow-md"})}),w.jsx("div",{className:"text-center font-bold text-[10px] leading-tight bottom-1 HeaderElementstext",children:"Quality Guranteed"})]})]}),w.jsx("div",{className:"hidden md:flex md:relative text-[#fff]",children:w.jsx("p",{className:"mt-4 text-lg md:text-xl text-white font-medium",children:"Chasam Ayurvedic & Spice Garden Shop offers pure Ayurvedic products, exotic spices, and natural remedies sourced from nature. We provide herbal supplements, organic spices, essential oils, and handcrafted wellness products to support a healthy lifestyle."})})]}),w.jsx("div",{className:"mb-3 relative mt-2 md:px-2 px-2",children:n.length>1?w.jsx(sw,{modules:[WP,YP],pagination:{clickable:!0,renderBullet:(l,c)=>`
                    <span class="${c}" style="background-color: #95CD41; width: 10px; height: 10px; margin-bottom: 10px;"></span>
                  `},autoplay:{delay:3e3,disableOnInteraction:!1},loop:!0,className:"w-full h-[250px] sm:h-[300px] md:h-[400px] lg:h-[500px] BoxShadow border-[#fff] border rounded-xl overflow-hidden",children:n.map(l=>w.jsx(rw,{className:"h-full",children:w.jsx("img",{src:l.image,alt:"Banner",className:"w-full h-full object-cover object-center"})},l.id))}):n.length===1?w.jsx("div",{className:"w-full h-[250px] sm:h-[300px] md:h-[400px] lg:h-[500px] BoxShadow border-[#fff] border rounded-xl overflow-hidden",children:w.jsx("img",{src:n[0].image,alt:"Banner",className:"w-full h-full object-cover object-center"})}):w.jsx("p",{children:"No active banners"})}),w.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 px-2 gap-2 mb-5",children:[i.map(l=>w.jsx("div",{onClick:()=>o(l.id),className:"cursor-pointer",children:w.jsxs("div",{className:"w-full h-[150px] md:h-[200px] lg:h-[300px] rounded-3xl overflow-hidden relative BoxShadow border border-[#fff]",children:[w.jsx("div",{className:"absolute w-full h-full bg-[#06660c48]"}),w.jsx("div",{className:"absolute bottom-1 text-[#fff] text-center px-2 w-full md:text-3xl",children:l.name}),w.jsx("img",{src:l.image||"default-image-url.jpg",className:"w-full h-full object-cover",alt:l.name})]})},l.id)),w.jsx(rr,{to:"/products",children:w.jsxs("div",{className:"w-full h-[150px] md:h-[200px] lg:h-[300px] rounded-3xl overflow-hidden relative BoxShadow border border-[#fff]",children:[w.jsx("div",{className:"absolute w-full h-full bg-[#06660c48]"}),w.jsx("span",{className:"text-5xl md:text-8xl relative flex justify-center items-center h-full",children:w.jsx(DH,{className:"border border-[#fff] rounded-full"})}),w.jsx("div",{className:"absolute bottom-1 text-[#fff] text-center px-2 w-full md:text-3xl",children:"See More"})]})})]})]})}),w.jsx("section",{className:"w-full flex flex-col justify-center items-center bg-[#000000] h-auto mb-[53px] md:mb-0 lg:mb-[90px]",children:w.jsx("div",{className:" w-full  backdrop-blur-3xl",children:w.jsxs("div",{className:"w-full h-full `rounded-[calc(1.5rem-1px)] bg-[#000] py-5",children:[w.jsx("div",{className:"text-center font-bold text-lg text-[#fff] lg:text-4xl lg:mb-2",children:"Vythiri Care"}),w.jsx("div",{className:"text-center px-2 text-[13px] text-[#fff] lg:text-xl",children:"Chasam Ayurvedic & Spices Garden Shop in Wayanad is one of the leading businesses in the Spice Retailers."})]})})})]})})};function QP(n){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M399 384.2C376.9 345.8 335.4 320 288 320l-64 0c-47.4 0-88.9 25.8-111 64.2c35.2 39.2 86.2 63.8 143 63.8s107.8-24.7 143-63.8zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm256 16a72 72 0 1 0 0-144 72 72 0 1 0 0 144z"},child:[]}]})(n)}function uG(n){return We({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304l-91.4 0z"},child:[]}]})(n)}function XP(n){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M211.1 33c-25.9 0-49.4 2.68-65.7 6.76-8.2 2.04-14.6 4.51-18.2 6.65-1.3.78-1.7 1.18-2.1 1.59.4.41.8.81 2.1 1.59 3.6 2.14 10 4.61 18.2 6.65 16.3 4.08 39.8 6.76 65.7 6.76 25.9 0 49.4-2.68 65.7-6.76 8.2-2.04 14.6-4.51 18.2-6.65 1.3-.78 1.7-1.18 2.1-1.59-.4-.41-.8-.81-2.1-1.59-3.6-2.14-10-4.61-18.2-6.65C260.5 35.68 237 33 211.1 33zm-87 35.13v40.07c6.5 3.3 15 6.6 21.3 8.2 16.3 4.1 39.8 6.8 65.7 6.8 25.9 0 49.4-2.7 65.7-6.8 12-2.9 13.4-3.2 21.3-8.2V68.13c-4.9 2.16-10.5 3.97-16.9 5.57-18.5 4.61-43 7.3-70.1 7.3-27.1 0-51.6-2.69-70.1-7.3-6.4-1.6-12-3.41-16.9-5.57zm8.6 63.47c-8.3 2.9-16.5 8.1-23.2 14.8C98.88 156.9 92.1 171 92.1 184v64c0 5 2.2 9.3 7.86 14.2 5.64 4.8 14.74 9.5 25.94 13.3 22.6 7.5 53.9 11.5 85.2 11.5 31.2 0 62.6-4 85.2-11.5 11.2-3.8 20.3-8.5 25.9-13.3 5.7-4.9 7.9-9.2 7.9-14.2v-64c0-13-6.8-27.1-17.4-37.6-6.7-6.7-14.8-11.9-23.2-14.8-2.6.8-5.4 1.6-8.3 2.3-18.5 4.6-43 7.3-70.1 7.3-27.1 0-51.6-2.7-70.1-7.3-2.9-.7-5.7-1.5-8.3-2.3zM92.1 278.9V344c0 5 2.2 9.3 7.86 14.2 5.64 4.8 14.74 9.5 25.94 13.3 22.6 7.5 53.9 11.5 85.2 11.5 31.2 0 62.6-4 85.2-11.5 11.2-3.8 20.3-8.5 25.9-13.3 5.7-4.9 7.9-9.2 7.9-14.2v-65.1c-7.8 5.6-17.3 10-28.2 13.6-25.4 8.5-58.1 12.5-90.8 12.5-32.8 0-65.4-4-90.8-12.5-10.9-3.6-20.45-8-28.2-13.6zm0 96V440c0 5 2.2 9.3 7.86 14.2 5.64 4.8 14.74 9.5 25.94 13.3 22.6 7.5 53.9 11.5 85.2 11.5 17.5 0 35.2-1.3 51.2-3.7-3.2-4.5-5.2-9.6-5.2-15.4 0-11.8 8.3-21.1 18.7-26.9 6.3-3.6 13.8-6.1 22-7.6 2.2-8.9 9.4-16 17.9-20.8 4.3-2.4 9.2-4.4 14.4-5.9v-23.8c-7.8 5.6-17.3 10-28.2 13.6-25.4 8.5-58.1 12.5-90.8 12.5-32.8 0-65.4-4-90.8-12.5-10.9-3.6-20.45-8-28.2-13.6zM354 413.6c-11.9 0-22.6 2.8-29.5 6.7-2.3 1.3-4 2.6-5.4 3.8 12.6.7 24.2 3.8 33.3 8.9 6.2 3.5 11.7 8.2 15 13.9 3-7.5 9.4-13.6 17-17.8 2-1.1 4.1-2.1 6.3-3.1-1.5-1.8-3.8-3.8-7.2-5.7-6.9-3.9-17.6-6.7-29.5-6.7zm68.7 24.5c-11.9 0-22.6 2.8-29.5 6.7-7 3.9-9.5 8.1-9.5 11.2 0 3.1 2.5 7.3 9.5 11.2 6.9 3.9 17.6 6.7 29.5 6.7 11.9 0 22.6-2.8 29.5-6.7 7-3.9 9.5-8.1 9.5-11.2 0-3.1-2.5-7.3-9.5-11.2-6.9-3.9-17.6-6.7-29.5-6.7zM314.1 442c-11.9 0-22.6 2.8-29.5 6.7-7 3.9-9.5 8.1-9.5 11.2 0 3.1 2.5 7.3 9.5 11.2 6.9 3.9 17.6 6.7 29.5 6.7 11.9 0 22.6-2.8 29.5-6.7 7-3.9 9.5-8.1 9.5-11.2 0-3.1-2.5-7.3-9.5-11.2-6.9-3.9-17.6-6.7-29.5-6.7z"},child:[]}]})(n)}function ZP(n){return We({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m13 16 5-4-5-4v3H4v2h9z"},child:[]},{tag:"path",attr:{d:"M20 3h-9c-1.103 0-2 .897-2 2v4h2V5h9v14h-9v-4H9v4c0 1.103.897 2 2 2h9c1.103 0 2-.897 2-2V5c0-1.103-.897-2-2-2z"},child:[]}]})(n)}function L_(n){return We({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M6 22h12a2 2 0 0 0 2-2V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2zm7-18 5 5h-5V4zm-4.5 7a1.5 1.5 0 1 1-.001 3.001A1.5 1.5 0 0 1 8.5 11zm.5 5 1.597 1.363L13 13l4 6H7l2-3z"},child:[]}]})(n)}function cG(n){return We({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.001 2.002c-5.522 0-9.999 4.477-9.999 9.999 0 4.99 3.656 9.126 8.437 9.879v-6.988h-2.54v-2.891h2.54V9.798c0-2.508 1.493-3.891 3.776-3.891 1.094 0 2.24.195 2.24.195v2.459h-1.264c-1.24 0-1.628.772-1.628 1.563v1.875h2.771l-.443 2.891h-2.328v6.988C18.344 21.129 22 16.992 22 12.001c0-5.522-4.477-9.999-9.999-9.999z"},child:[]}]})(n)}const hG="/assets/vythiri-CTiiw4zM.png",dG=()=>{const n=Ai(),e=()=>{n("/login")};return w.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-[#3E7B27] text-white z-50",children:w.jsx("nav",{className:"w-full bg-gradient-to-r from-[#8d8d8d] via-[#ffffff] to-[#3E7B27] pt-[5px] backdrop-blur-3xl",children:w.jsx("div",{className:"w-full h-full bg-[#000] md:bg-white",children:w.jsxs("ul",{className:"flex justify-evenly items-center gap-10 py-3 px-4 text-2xl",children:[w.jsx(rr,{to:"/",children:w.jsxs("li",{className:"flex flex-col items-center",children:[w.jsx(G_,{}),w.jsx("span",{className:"text-sm",children:"Home"})]})}),w.jsx(rr,{to:"/products",children:w.jsxs("li",{className:"flex flex-col items-center",children:[w.jsx(XP,{}),w.jsx("span",{className:"text-sm",children:"Products"})]})}),w.jsx(rr,{to:"/contact",children:w.jsxs("li",{className:"flex flex-col items-center",children:[w.jsx(QP,{}),w.jsx("span",{className:"text-sm",children:"Contact"})]})}),w.jsxs("li",{className:"flex flex-col items-center cursor-pointer",onClick:e,children:[w.jsx(ZP,{}),w.jsx("span",{className:"text-sm",children:"Login"})]})]})})})})},fG=()=>{const n=Ai(),e=()=>{n("/login")};return w.jsx("div",{className:"hidden md:block fixed top-0 bottom-0 left-0 w-[15%] z-50",children:w.jsx("div",{className:"h-screen",children:w.jsx("nav",{className:"w-full bg-gradient-to-b from-[#8d8d8d] via-[#ffffff] to-[#3E7B27] backdrop-blur-3xl h-full",children:w.jsxs("div",{className:"w-full h-full bg-black text-white md:bg-white md:text-black flex flex-col",children:[w.jsx("div",{className:"flex justify-center items-center py-6",children:w.jsx("img",{src:hG,alt:"Logo",className:"w-16 h-25"})}),w.jsxs("ul",{className:"flex flex-col h-full justify-start items-start gap-16 mt-8 px-8 text-4xl",children:[w.jsx(rr,{to:"/",className:"w-full border-b-1",children:w.jsxs("li",{className:"flex flex-row items-center gap-3",children:[w.jsx(G_,{}),w.jsx("span",{className:"text-lg",children:"Home"})]})}),w.jsx(rr,{to:"/products",className:"w-full border-b-1",children:w.jsxs("li",{className:"flex flex-row items-center gap-3",children:[w.jsx(XP,{}),w.jsx("span",{className:"text-lg",children:"Products"})]})}),w.jsx(rr,{to:"/contact",className:"w-full border-b-1",children:w.jsxs("li",{className:"flex flex-row items-center gap-3",children:[w.jsx(QP,{}),w.jsx("span",{className:"text-lg",children:"Contact"})]})}),w.jsxs("li",{className:"flex flex-row items-center gap-3 cursor-pointer w-full border-b-1",onClick:e,children:[w.jsx(ZP,{}),w.jsx("span",{className:"text-lg",children:"Login"})]})]})]})})})})},pG="/assets/an-BR3wQVO_.webm",mG=()=>w.jsx("div",{className:"bg-[#ffffff] h-screen w-full flex flex-col justify-center items-center fixed top-0 bottom-0 left-0 right-0 z-[999]",children:w.jsx("div",{children:w.jsx("div",{className:"w-[100px] h-[100px]",children:w.jsx("video",{src:pG,playsInline:!0,autoPlay:!0,loop:!0,muted:!0,className:"w-full h-full object-contain drop-shadow-md"})})})}),Yh="/assets/chasam-B6Fz_ORD.png";function gG(n){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M217.9 256L345 129c9.4-9.4 9.4-24.6 0-33.9-9.4-9.4-24.6-9.3-34 0L167 239c-9.1 9.1-9.3 23.7-.7 33.1L310.9 417c4.7 4.7 10.9 7 17 7s12.3-2.3 17-7c9.4-9.4 9.4-24.6 0-33.9L217.9 256z"},child:[]}]})(n)}function vG(n){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M295.6 163.7c-5.1 5-5.1 13.3-.1 18.4l60.8 60.9H124.9c-7.1 0-12.9 5.8-12.9 13s5.8 13 12.9 13h231.3l-60.8 60.9c-5 5.1-4.9 13.3.1 18.4 5.1 5 13.2 5 18.3-.1l82.4-83c1.1-1.2 2-2.5 2.7-4.1.7-1.6 1-3.3 1-5 0-3.4-1.3-6.6-3.7-9.1l-82.4-83c-4.9-5.2-13.1-5.3-18.2-.3z"},child:[]}]})(n)}function yG(n){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M435.9 64.9l-367.1 160c-6.5 3.1-6.3 12.4.3 15.3l99.3 56.1c5.9 3.3 13.2 2.6 18.3-1.8l195.8-168.8c1.3-1.1 4.4-3.2 5.6-2 1.3 1.3-.7 4.3-1.8 5.6L216.9 320.1c-4.7 5.3-5.4 13.1-1.6 19.1l64.9 104.1c3.2 6.3 12.3 6.2 15.2-.2L447.2 76c3.3-7.2-4.2-14.5-11.3-11.1z"},child:[]}]})(n)}function _G(n){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M260.062 32C138.605 32 40.134 129.701 40.134 250.232c0 41.23 11.532 79.79 31.559 112.687L32 480l121.764-38.682c31.508 17.285 67.745 27.146 106.298 27.146C381.535 468.464 480 370.749 480 250.232 480 129.701 381.535 32 260.062 32zm109.362 301.11c-5.174 12.827-28.574 24.533-38.899 25.072-10.314.547-10.608 7.994-66.84-16.434-56.225-24.434-90.052-83.844-92.719-87.67-2.669-3.812-21.78-31.047-20.749-58.455 1.038-27.413 16.047-40.346 21.404-45.725 5.351-5.387 11.486-6.352 15.232-6.413 4.428-.072 7.296-.132 10.573-.011 3.274.124 8.192-.685 12.45 10.639 4.256 11.323 14.443 39.153 15.746 41.989 1.302 2.839 2.108 6.126.102 9.771-2.012 3.653-3.042 5.935-5.961 9.083-2.935 3.148-6.174 7.042-8.792 9.449-2.92 2.665-5.97 5.572-2.9 11.269 3.068 5.693 13.653 24.356 29.779 39.736 20.725 19.771 38.598 26.329 44.098 29.317 5.515 3.004 8.806 2.67 12.226-.929 3.404-3.599 14.639-15.746 18.596-21.169 3.955-5.438 7.661-4.373 12.742-2.329 5.078 2.052 32.157 16.556 37.673 19.551 5.51 2.989 9.193 4.529 10.51 6.9 1.317 2.38.901 13.531-4.271 26.359z"},child:[]}]})(n)}function Vm(n){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M192 277.4h189.7l-43.6 44.7L368 352l96-96-96-96-31 29.9 44.7 44.7H192v42.8z"},child:[]},{tag:"path",attr:{d:"M255.7 421.3c-44.1 0-85.5-17.2-116.7-48.4-31.2-31.2-48.3-72.7-48.3-116.9 0-44.1 17.2-85.7 48.3-116.9 31.2-31.2 72.6-48.4 116.7-48.4 44 0 85.3 17.1 116.5 48.2l30.3-30.3c-8.5-8.4-17.8-16.2-27.7-23.2C339.7 61 298.6 48 255.7 48 141.2 48 48 141.3 48 256s93.2 208 207.7 208c42.9 0 84-13 119-37.5 10-7 19.2-14.7 27.7-23.2l-30.2-30.2c-31.1 31.1-72.5 48.2-116.5 48.2zM448.004 256.847l-.849-.848.849-.849.848.849z"},child:[]}]})(n)}const EG=()=>{const[n,e]=U.useState(""),[t,i]=U.useState(""),[s,o]=U.useState(""),[l,c]=U.useState(!1),h=Ai(),f=async g=>{g.preventDefault(),c(!0),o("");try{const _=(await z8(EH,n,t)).user;n==="admin@gmail.com"&&t==="123456"?h("/admin"):o("Unauthorized access. Only admins can log in.")}catch{o("Failed to log in. Check your credentials.")}finally{c(!1)}};return w.jsx("div",{className:"w-full h-screen flex items-center justify-center bg-gray-100 px-4",children:w.jsxs("div",{className:"bg-white relative p-6 rounded-2xl shadow-lg w-full max-w-sm",children:[w.jsx("div",{className:" absolute left-2 top-4",children:w.jsx("span",{onClick:()=>h("/"),className:"cursor-pointer",children:w.jsx(gG,{className:"text-[#178000] text-2xl"})})}),w.jsx("div",{className:"flex justify-center mb-6",children:w.jsx("img",{src:Yh,alt:"Logo",className:"w-24 h-24"})}),w.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-6",children:"Sign In"}),s&&w.jsx("p",{className:"text-red-500 text-center mb-4",children:s}),w.jsxs("form",{onSubmit:f,children:[w.jsxs("div",{className:"relative mb-4",children:[w.jsx(pO,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),w.jsx("input",{type:"email",placeholder:"Enter your email",value:n,onChange:g=>e(g.target.value),className:"w-full pl-10 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),w.jsxs("div",{className:"relative mb-4",children:[w.jsx(vO,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),w.jsx("input",{type:"password",placeholder:"Enter your password",value:t,onChange:g=>i(g.target.value),className:"w-full pl-10 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),w.jsx("button",{type:"submit",className:"w-full bg-green-500 text-white p-3 rounded-lg text-lg font-semibold hover:bg-green-600 transition disabled:bg-gray-400",disabled:l,children:l?"Signing In...":"Sign In"})]})]})})},jm=()=>{const n=Ai(),e=t=>{n(t)};return w.jsxs("nav",{className:"md:fixed pt-24 md:pt-0  left-0 h-full w-14 md:w-64 md:bg-[#00000062] text-white flex flex-col items-center md:items-start py-8 space-y-6",children:[w.jsxs("button",{className:"flex items-center gap-4 p-3 rounded-lg hover:text-yellow-200 w-full md:pt-32",onClick:()=>e("/admin"),children:[w.jsx(G_,{className:"text-2xl "}),w.jsx("span",{className:"hidden md:inline-block text-lg font-medium ",children:"Home"})]}),w.jsxs("button",{className:"flex items-center gap-4 p-3 rounded-lg hover:text-yellow-200 w-full",onClick:()=>e("/imagebanner"),children:[w.jsx(mO,{className:"text-2xl"}),w.jsx("span",{className:"hidden md:inline-block text-lg font-medium",children:"Banners"})]}),w.jsxs("button",{className:"flex items-center gap-4 p-3 rounded-lg hover:text-yellow-200 w-full",onClick:()=>e("/product"),children:[w.jsx(dO,{className:"text-2xl"}),w.jsx("span",{className:"hidden md:inline-block text-lg font-medium",children:"Products"})]}),w.jsxs("button",{className:"flex items-center gap-4 p-3 rounded-lg hover:text-yellow-200 w-full",onClick:()=>e("/category"),children:[w.jsx(gO,{className:"text-2xl"}),w.jsx("span",{className:"hidden md:inline-block text-lg font-medium",children:"Categories"})]})]})},wG="/assets/adminbg-G0YSHEFU.jpeg",TG=()=>{const n=Ai(),[e,t]=U.useState(!1),[i,s]=U.useState(!0);U.useEffect(()=>{const l=fr(),c=vm(l,h=>{s(!!h)});return()=>c()},[]);const o=()=>{const l=fr();ym(l).then(()=>{s(!1),n("/login")}).catch(c=>{console.error("Logout Error:",c)})};return w.jsxs("div",{className:"flex h-screen overflow-hidden bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${wG})`},children:[w.jsx("div",{className:`sidebar fixed top-0 left-0 h-full z-[999] bg-[#00000007] backdrop-blur-sm shadow-lg md:w-64 w-14 transform transition-transform ${e?"translate-x-0":"-translate-x-full md:translate-x-0"}`,children:w.jsx(jm,{closeMenu:()=>t(!1)})}),w.jsxs("div",{className:"flex flex-col w-full ml-0 md:ml-64",children:[w.jsxs("div",{className:"flex items-center py-4 px-0 z-[999] sticky top-0 w-full md:bg-white md:shadow-md rounded-b-3xl",children:[w.jsx("button",{className:"text-white text-2xl p-4 focus:outline-none ml-0 md:hidden",onClick:()=>t(!e),children:w.jsx(Wp,{className:"text-3xl"})}),w.jsx("div",{className:"ml-[-5px] flex justify-center",children:w.jsx("img",{src:Yh,alt:"Logo",className:"w-14"})}),w.jsx("div",{className:"flex justify-center ml-auto pr-3 text-2xl cursor-pointer",onClick:o,children:w.jsx(Vm,{className:"text-3xl md:text-black text-white"})})]}),w.jsx("div",{className:"flex flex-col items-center justify-center w-full mt-5 px-4",children:w.jsxs("div",{className:"max-w-4xl text-center bg-black/20 backdrop-blur-sm p-5 rounded-lg",children:[w.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-white",children:[" Natures ",w.jsx("span",{className:"block",children:"Wellness Hub!"})]}),w.jsx("p",{className:"mt-4 text-lg md:text-xl text-white font-medium",children:"Chasam Ayurvedic & Spice Garden Shop offers pure Ayurvedic products, exotic spices, and natural remedies sourced from nature."}),w.jsx("p",{className:"mt-2 text-lg md:text-xl text-white font-medium",children:"Discover healing herbs, aromatic spices, and Ayurvedic beauty essentials  all sustainably sourced for your well-being. Step into Chasam and embrace the power of nature! "})]})})]})]})},bG="/assets/imgb1-DyqoLXDI.jpeg",SG="/assets/imgb2-BJd5ULGS.jpeg",aw="/assets/imgbg-BEyhKrRX.jpeg",xG=()=>{const n=Ai(),[e,t]=U.useState(!1),[i,s]=U.useState(!1),[o,l]=U.useState(!1),[c,h]=U.useState(null),[f,g]=U.useState({}),[y,_]=U.useState(!1);U.useEffect(()=>{const x=En(Pn,"banners");ms(x,D=>{const j=D.val();g(j||{})})},[]),U.useEffect(()=>{const x=()=>{_(window.scrollY>50)};return window.addEventListener("scroll",x),()=>window.removeEventListener("scroll",x)},[]);const T=()=>{const x=fr();ym(x).then(()=>n("/login")).catch(D=>console.error("Logout Error:",D))};return w.jsxs("div",{className:"flex h-screen  bg-cover bg-center bg-no-repeat object-contain",style:{backgroundImage:`url(${aw})`},children:[w.jsx("div",{className:`fixed top-0 left-0 h-full z-[999] bg-[#00000007] backdrop-blur-sm shadow-lg md:w-64 w-14 transform transition-transform ${e?"translate-x-0":"-translate-x-full md:translate-x-0"}`,children:w.jsx(jm,{closeMenu:()=>t(!1)})}),w.jsxs("div",{className:"flex flex-1 flex-col ml-0 md:ml-64 transition-all",children:[w.jsxs("div",{className:"flex items-center py-4 px-0 z-[999] sticky top-0 w-full md:bg-white md:shadow-md rounded-b-3xl",children:[w.jsx("button",{className:"text-white text-2xl p-4 focus:outline-none ml-0 md:hidden",onClick:()=>t(!e),children:w.jsx(Wp,{className:"text-3xl"})}),w.jsx("div",{className:"ml-[-5px] flex justify-center",children:w.jsx("img",{src:Yh,alt:"Logo",className:"w-14"})}),w.jsx("div",{className:"flex justify-center ml-auto pr-3 text-2xl cursor-pointer",onClick:T,children:w.jsx(Vm,{className:"text-3xl md:text-black text-white"})})]}),w.jsx("div",{className:"relative flex-1 pt-[80px] p-4",children:w.jsxs("div",{className:"relative z-10",children:[w.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center justify-center pt-5",children:"MANAGE BANNERS"}),w.jsxs("div",{className:"flex gap-2 w-full",children:[w.jsxs("div",{className:"relative w-[50%] h-[180px] flex justify-center items-center rounded-3xl bg-cover bg-center cursor-pointer",style:{backgroundImage:`url(${bG})`},onClick:()=>{s(x=>!x),l(!1)},children:[w.jsx("div",{className:"bg-black absolute inset-0 w-full h-full opacity-30 rounded-3xl"}),w.jsx("button",{className:"text-white relative px-6 py-3 text-2xl font-black",children:"ADD BANNER"})]}),w.jsxs("div",{className:"relative w-[50%] h-[180px] flex justify-center items-center rounded-3xl bg-cover bg-center cursor-pointer",style:{backgroundImage:`url(${SG})`},onClick:()=>{l(x=>!x),s(!1)},children:[w.jsx("div",{className:"bg-black absolute inset-0 w-full h-full opacity-30 rounded-3xl"}),w.jsx("button",{className:"text-white relative px-6 py-3 text-2xl font-black",children:"VIEW BANNERS"})]})]}),i&&w.jsxs("div",{className:"w-full max-w-md mx-auto bg-[#CBBA9E] p-6 mt-6 rounded-lg shadow-lg",children:[w.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white mb-4 text-center",children:"ADD NEW BANNER"}),w.jsx("input",{type:"file",className:"w-full border border-[#51372A] bg-white p-2 rounded-lg focus:outline-none"}),w.jsxs("div",{className:"mt-4 flex justify-center gap-2 w-full",children:[w.jsx("button",{className:"px-4 py-2 bg-[#8B6254] text-white rounded-lg w-full",onClick:()=>s(!1),children:"Cancel"}),w.jsx("button",{className:"px-4 py-2 bg-[#435933] hover:bg-[#304421] text-white rounded-lg w-full",children:"Submit"})]})]}),o&&w.jsxs("div",{className:"mt-8 w-full relative bg-white p-4 rounded-lg shadow-lg",children:[w.jsx("h3",{className:"text-xl font-bold text-black mb-4 text-center",children:"UPLOADED BANNERS"}),Object.keys(f).length===0?w.jsx("p",{className:"text-black",children:"No banners uploaded yet."}):w.jsx("div",{className:"grid md:grid-cols-3 grid-cols-1 gap-4",children:Object.entries(f).map(([x,D])=>w.jsxs("div",{className:"shadow-lg bg-[#ab8c59] rounded-lg overflow-hidden",children:[w.jsx("img",{src:D.image,alt:"Banner",className:"w-full h-40 object-cover"}),w.jsxs("div",{className:"p-3 flex justify-between items-center",children:[w.jsx("button",{className:`px-3 py-1 rounded ${D.status==="active"?"bg-green-500":"bg-red-500"} text-white`,children:D.status}),w.jsx("button",{className:"px-3 py-1 bg-red-600 text-white rounded",children:"Delete"})]})]},x))})]})]})})]})]})},CG="/assets/pbg1-vF5Ze8HB.jpeg",AG="/assets/pbg2-BikijSuf.jpeg";function RG(n){return We({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"},child:[]}]})(n)}const IG="/assets/product-default-DWdPPkff.png",NG=()=>{const n=Ai(),[e,t]=U.useState(!1),[i,s]=U.useState(!1),[o,l]=U.useState(!1),[c,h]=U.useState([]),[f,g]=U.useState(""),[y,_]=U.useState([]),[T,x]=U.useState(!1),[D,j]=U.useState(null),[P,I]=U.useState({name:"",category:"",price:"",purpose:"",description:"",usage:"",netQty:"",images:[],mainImageIndex:0,status:"active"}),[L,q]=U.useState(!1),[H,Z]=U.useState(null);U.useEffect(()=>{const oe=()=>{window.scrollY>50?q(!0):q(!1)};return window.addEventListener("scroll",oe),()=>window.removeEventListener("scroll",oe)},[]);const[O,A]=U.useState(!0);U.useEffect(()=>{const oe=fr(),we=vm(oe,He=>{A(!!He)});return()=>we()},[]),U.useEffect(()=>{(async()=>{try{const He=await(await fetch(IG)).blob(),qe=await ge(He);Z(qe)}catch(we){console.error("Error loading default image:",we)}})()},[]);const[C,R]=U.useState([]),[k,B]=U.useState([]),[V,he]=U.useState(!1),[ye,ae]=U.useState([]),[de,re]=U.useState(0);let ve=0;U.useEffect(()=>{const oe=En(Pn,"products");ms(oe,He=>{const qe=He.val();if(qe){const Ut=Object.entries(qe).map(([qt,$i])=>({id:qt,...$i}));h(Ut)}else h([])});const we=En(Pn,"categories");ms(we,He=>{const qe=He.val();_(qe?Object.values(qe):[])})},[]);const F=()=>{const oe=fr();ym(oe).then(()=>{A(!1),n("/login")}).catch(we=>{console.error("Logout Error:",we)})},ne=oe=>{I({...P,[oe.target.name]:oe.target.value})},ge=oe=>new Promise((we,He)=>{const qe=new FileReader;qe.readAsDataURL(oe),qe.onload=()=>we(qe.result),qe.onerror=Ut=>He(Ut)}),fe=oe=>{I(we=>({...we,mainImageIndex:oe}))},pe=(oe,we)=>{if(!oe||oe.length===0)return[];if(we===0||we===void 0)return oe;const He=[...oe],qe=He.splice(we,1)[0];return He.unshift(qe),He},Oe=async()=>{if(!P.name||!P.category){alert("Please provide a product name and select a category");return}try{let oe=[];P.images&&P.images.length>0?oe=pe(P.images,P.mainImageIndex):H&&(oe=[H]);const we={...P,price:P.price||"",purpose:P.purpose||"",description:P.description||"",usage:P.usage||"",netQty:P.netQty||"",images:oe,mainImageIndex:0,status:T?P.status:"active"};if(T&&D){const He=En(Pn,`products/${D.id}`);await c_(He,we);const qe=N_(If,"productImages",D.id);if((await pH(qe)).exists())await gH(qe,{images:oe});else{const qt={productId:D.id,images:oe};await Y2($2(If,"productImages"),qt)}alert("Product updated successfully!")}else{const He=En(Pn,"products"),Ut={productId:(await EI(He,we)).key,images:oe};await Y2($2(If,"productImages"),Ut),alert("Product added successfully!")}Qe(),s(!1),x(!1),R([]),j(null),l(!0),I({name:"",category:"",price:"",purpose:"",description:"",usage:"",netQty:"",images:[],mainImageIndex:0,status:"active"})}catch(oe){console.error("Error saving product:",oe),alert("Error saving product. Please try again.")}},Me=async oe=>{if(window.confirm("Are you sure you want to delete this product?"))try{const we=En(Pn,`products/${oe}`);await wI(we);const He=N_(If,"productImages",oe);await vH(He),alert("Product deleted successfully!")}catch(we){console.error("Error deleting product:",we),alert("Error deleting product. Please try again.")}},Ct=oe=>{j(oe);const we={...oe};we.bgImage&&delete we.bgImage,we.mainImageIndex===void 0&&(we.mainImageIndex=0),I(we),x(!0),s(!0),l(!1),oe.images&&oe.images.length>0?(R(oe.images),B(oe.images.map((He,qe)=>`image-${qe+1}.jpg`))):(R([]),B([]))},Ye=async oe=>{const we=Array.from(oe.target.files);if(we.length>6){alert("You can only upload up to 6 images.");return}const He=we.map(qe=>URL.createObjectURL(qe));R(He);try{const qe=await Promise.all(we.map(async Ut=>{const qt=await vt(Ut,800);return await ge(qt)}));I({...P,images:qe,mainImageIndex:0}),B(we.map(Ut=>Ut.name))}catch(qe){console.error("Error processing images:",qe),alert("Error processing images. Please try again with smaller files.")}},vt=(oe,we)=>new Promise(He=>{const qe=new FileReader;qe.readAsDataURL(oe),qe.onload=Ut=>{const qt=new Image;qt.src=Ut.target.result,qt.onload=()=>{const $i=document.createElement("canvas");let Ri=qt.width,Gt=qt.height;Ri>we&&(Gt=we*Gt/Ri,Ri=we),$i.width=Ri,$i.height=Gt,$i.getContext("2d").drawImage(qt,0,0,Ri,Gt),$i.toBlob(Ot=>{He(new File([Ot],oe.name,{type:"image/jpeg",lastModified:Date.now()}))},"image/jpeg",.7)}}}),Qe=()=>{R([]),B([]),I({name:"",category:"",price:"",purpose:"",description:"",usage:"",netQty:"",images:[],mainImageIndex:0,status:"active"}),x(!1),j(null)},dn=(oe,we=0)=>{oe&&oe.length>0&&(ae(oe),re(we),he(!0))},ai=()=>{re(oe=>oe>0?oe-1:ye.length-1)},On=()=>{re(oe=>oe<ye.length-1?oe+1:0)},qi=oe=>{ve=oe.touches[0].clientX},Gi=oe=>{const we=oe.changedTouches[0].clientX,He=ve-we;Math.abs(He)>50&&(He>0?On():ai())};return w.jsxs("div",{className:"flex h-screen  bg-cover bg-center bg-no-repeat object-contain",style:{backgroundImage:`url(${aw})`},children:[w.jsx("div",{className:`fixed top-0 left-0 h-full z-[999] bg-[#00000007] backdrop-blur-sm shadow-lg md:w-64 w-14 transform transition-transform ${e?"translate-x-0":"-translate-x-full md:translate-x-0"}`,children:w.jsx(jm,{closeMenu:()=>t(!1)})}),w.jsxs("div",{className:"flex flex-1 flex-col ml-0 md:ml-64 transition-all",children:[w.jsxs("div",{className:"flex items-center py-4 px-0 z-[999] sticky top-0 w-full md:bg-white md:shadow-md rounded-b-3xl",children:[w.jsx("button",{className:"text-white text-2xl p-4 focus:outline-none ml-0 md:hidden",onClick:()=>t(!e),children:w.jsx(Wp,{className:"text-3xl"})}),w.jsx("div",{className:"ml-[-5px] flex justify-center",children:w.jsx("img",{src:Yh,alt:"Logo",className:"w-14"})}),w.jsx("div",{className:"flex justify-center ml-auto pr-3 text-2xl cursor-pointer",onClick:F,children:w.jsx(Vm,{className:"text-3xl md:text-black text-white"})})]}),w.jsxs("div",{className:"relative flex-1 pt-[80px] p-4",children:[w.jsxs("div",{className:"relative z-10",children:[w.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center justify-center pt-5",children:"MANAGE CATEGORY"}),w.jsxs("div",{className:"flex gap-2 w-full",children:[w.jsxs("div",{className:"relative w-[50%] h-[180px] flex justify-center items-center rounded-3xl bg-cover bg-center cursor-pointer ",style:{backgroundImage:`url(${CG})`},onClick:()=>{s(!i),l(!1),i||(Qe(),x(!1),j(null))},children:[w.jsx("div",{className:"bg-[#000] absolute inset-0 w-full h-full -z-0 mix-blend-multiply opacity-30 rounded-3xl"}),w.jsx("button",{className:"text-white relative px-6 py-3 rounded-lg text-2xl font-black",children:"ADD PRODUCT"})]}),w.jsxs("div",{className:"relative w-[50%] h-[180px] flex justify-center items-center rounded-3xl bg-cover bg-center cursor-pointer",style:{backgroundImage:`url(${AG})`},onClick:()=>{l(!o),s(!1),R([]),Qe()},children:[w.jsx("div",{className:"bg-[#000] absolute inset-0 w-full h-full -z-0 mix-blend-multiply opacity-30 rounded-3xl"}),w.jsx("button",{className:"text-white relative px-6 py-3 rounded-lg text-2xl font-black",children:"VIEW PRODUCTS"})]})]}),i&&w.jsxs("div",{className:"mb-8",children:[w.jsx("h3",{className:"text-xl font-bold text-black mb-4 text-center",children:T?"EDIT PRODUCT":"ADD NEW PRODUCT"}),w.jsx("div",{children:w.jsxs("label",{className:"w-full border cursor-pointer p-2 rounded-lg mb-2 flex justify-center items-center gap-2 bg-white",children:[w.jsx(L_,{size:20}),w.jsx("span",{children:k.length?k.join(", "):"Product Images (Optional)"}),w.jsx("input",{type:"file",multiple:!0,className:"hidden",onChange:Ye,accept:"image/*"})]})}),C.length>0&&w.jsxs("div",{children:[w.jsx("p",{className:"text-sm text-center mb-2",children:"Click on a star icon to set as main product image"}),w.jsx("div",{className:"grid grid-cols-3 gap-2 mb-4",children:C.map((oe,we)=>w.jsxs("div",{className:"relative",children:[w.jsx("img",{src:oe,alt:`Preview ${we}`,className:"h-16 w-16 object-cover rounded"}),w.jsx("button",{className:"absolute top-1 right-1 bg-white rounded-full p-1",onClick:()=>fe(we),children:w.jsx(RG,{size:12,className:P.mainImageIndex===we?"text-yellow-500":"text-gray-300"})})]},we))})]}),w.jsxs("select",{name:"category",value:P.category,onChange:ne,className:"w-full border p-2 rounded-lg mb-2 bg-white",required:!0,children:[w.jsx("option",{value:"",disabled:!0,children:"Select Category *"}),y.map((oe,we)=>w.jsx("option",{value:oe.name,children:oe.name},we))]}),w.jsx("input",{type:"text",name:"name",placeholder:"Product Name *",value:P.name,onChange:ne,className:"w-full border p-2 rounded-lg mb-2 bg-white",required:!0}),w.jsx("input",{type:"text",name:"price",placeholder:"Price (Optional)",value:P.price,onChange:ne,className:"w-full border p-2 rounded-lg mb-2 bg-white"}),w.jsx("textarea",{name:"description",placeholder:"Description (Optional)",value:P.description,onChange:ne,className:"w-full border p-2 rounded-lg mb-2 bg-white"}),w.jsx("textarea",{name:"usage",placeholder:"Product Usage Instructions (Optional)",value:P.usage,onChange:ne,className:"w-full border p-2 rounded-lg mb-2 bg-white"}),w.jsx("input",{type:"text",name:"purpose",placeholder:"Purpose (Optional)",value:P.purpose,onChange:ne,className:"w-full border p-2 rounded-lg mb-2 bg-white"}),w.jsx("input",{type:"text",name:"netQty",placeholder:"Net Qty (Optional)",value:P.netQty,onChange:ne,className:"w-full border p-2 rounded-lg mb-2 bg-white"}),w.jsxs("div",{className:"mt-4 flex justify-center gap-2 w-full",children:[w.jsx("button",{className:"px-4 py-2 bg-[#8B6254] text-white rounded-lg w-full",onClick:()=>{s(!1),x(!1),j(null),Qe()},children:"Cancel"}),w.jsx("button",{className:"px-4 py-2 bg-[#435933] hover:bg-[#304421] text-white rounded-lg w-full",onClick:Oe,children:T?"Update":"Submit"})]})]}),o&&w.jsxs("div",{className:"mt-8 w-full backdrop-blur-xl p-4 rounded-lg shadow-lg",children:[w.jsx("h3",{className:"text-xl font-bold text-black mb-4 text-center",children:"PRODUCT LIST"}),w.jsx("div",{className:"overflow-auto max-h-[500px]",children:w.jsx("div",{className:"w-full overflow-x-auto overflow-auto",children:w.jsxs("table",{className:"w-full  bg-white border rounded-lg md:overflow-auto",children:[w.jsx("thead",{className:"sticky top-0 bg-gray-200 z-10 shadow-md ",children:w.jsxs("tr",{className:"text-xs sm:text-sm md:text-base",children:[w.jsx("th",{className:"p-2",children:"Images"}),w.jsx("th",{className:"p-2",children:"Name"}),w.jsx("th",{className:"p-2 hidden sm:table-cell",children:"Category"}),w.jsx("th",{className:"p-2 ",children:"Price"}),w.jsx("th",{className:"p-2 hidden md:table-cell ",children:"Description"}),w.jsx("th",{className:"p-2 hidden lg:table-cell ",children:"Purpose"}),w.jsx("th",{className:"p-2 hidden xl:table-cell",children:"Usage"}),w.jsx("th",{className:"p-2 hidden xl:table-cell",children:"Net Qty"}),w.jsx("th",{className:"p-2 hidden xl:table-cell",children:"Status"}),w.jsx("th",{className:"p-2 hidden xl:table-cell",children:"Actions"})]})}),w.jsx("tbody",{children:c.map(oe=>w.jsxs("tr",{className:"border-b border-r text-center text-xs sm:text-sm md:text-base",children:[w.jsx("td",{className:"p-2",children:oe.images&&oe.images.length>0?w.jsx("div",{className:"w-12 h-12 cursor-pointer",children:w.jsx("img",{src:oe.images[0],alt:"Thumbnail",className:"w-full h-full object-cover rounded",onClick:()=>dn(oe.images,0)})}):w.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded flex items-center justify-center",children:w.jsx(L_,{size:20,className:"text-gray-400"})})}),w.jsx("td",{className:"p-2",children:oe.name}),w.jsx("td",{className:"p-2 hidden sm:table-cell",children:oe.category}),w.jsx("td",{className:"p-2",children:oe.price||"-"}),w.jsx("td",{className:"p-2 hidden md:table-cell max-w-[150px] truncate",children:oe.description||"-"}),w.jsx("td",{className:"p-2 hidden lg:table-cell",children:oe.purpose||"-"}),w.jsx("td",{className:"p-2 hidden xl:table-cell",children:oe.usage||"-"}),w.jsx("td",{className:"p-2 hidden xl:table-cell",children:oe.netQty||"-"}),w.jsx("td",{className:"p-2 hidden xl:table-cell",children:w.jsx("button",{className:`px-3 py-1 rounded-full text-sm ${oe.status==="active"?"bg-green-500 text-white":"bg-red-500 text-white"}`,onClick:()=>{const we=oe.status==="active"?"inactive":"active",He=En(Pn,`products/${oe.id}`);c_(He,{status:we})},children:oe.status==="active"?"Active":"Inactive"})}),w.jsx("td",{className:"p-2 hidden xl:table-cell",children:w.jsxs("div",{className:"flex justify-center gap-2",children:[w.jsx("button",{className:"bg-yellow-500 hover:bg-yellow-600 text-white px-3 py-1 rounded-md text-xs sm:text-sm",onClick:()=>Ct(oe),children:"Edit"}),w.jsx("button",{className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded-md text-xs sm:text-sm",onClick:()=>Me(oe.id),children:"Delete"})]})})]},oe.id))})]})})})]})]}),V&&w.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 backdrop-blur-sm",onClick:()=>he(!1),children:w.jsxs("div",{className:"relative max-w-4xl w-full h-full flex items-center justify-center",onClick:oe=>oe.stopPropagation(),onTouchStart:qi,onTouchEnd:Gi,children:[w.jsx("button",{className:"absolute top-24 right-4 z-20 bg-gray-200 rounded-full p-1",onClick:()=>he(!1),children:w.jsx(AH,{size:24})}),w.jsx("button",{className:"absolute left-4 z-20 bg-gray-200 rounded-full p-2 opacity-80 hover:opacity-100",onClick:oe=>{oe.stopPropagation(),ai()},children:w.jsx(PP,{size:24})}),w.jsxs("div",{className:"relative max-h-screen max-w-full p-4",children:[w.jsx("img",{src:ye[de],alt:"Product View",className:"max-h-[90vh] max-w-full object-contain"}),w.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-gray-200 px-3 py-1 rounded-full text-sm",children:[de+1," / ",ye.length]})]}),w.jsx("button",{className:"absolute right-4 z-20 bg-gray-200 rounded-full p-2 opacity-80 hover:opacity-100",onClick:oe=>{oe.stopPropagation(),On()},children:w.jsx(DP,{size:24})})]})})]})]})]})},PG="/assets/catbg1-CSrqY68K.jpg",DG="/assets/catbg2-B8U5fr-g.jpg",MG=()=>{const n=Ai(),[e,t]=U.useState(!1),[i,s]=U.useState(!1),[o,l]=U.useState(!1),[c,h]=U.useState(null),[f,g]=U.useState(""),[y,_]=U.useState([]),[T,x]=U.useState(!1),[D,j]=U.useState(null),[P,I]=U.useState(!0);U.useEffect(()=>{const k=fr(),B=vm(k,V=>{I(!!V)});return()=>B()},[]),U.useEffect(()=>{const k=En(Pn,"categories");ms(k,B=>{const V=B.val();if(V){const he=Object.entries(V).map(([ye,ae])=>({id:ye,...ae}));_(he)}else _([])})},[]);const L=()=>{const k=fr();ym(k).then(()=>{I(!1),n("/login")}).catch(B=>{console.error("Logout Error:",B)})},q=k=>{const B=k.target.files[0];if(B){const V=new FileReader;V.readAsDataURL(B),V.onloadend=()=>{h(V.result)}}},H=()=>{s(!1),h(null),g(""),x(!1),j(null)},Z=async()=>{if(!c||!f){alert("Please enter category name and select an image!");return}const k={image:c,name:f,date:new Date().toLocaleString()};try{if(T&&D){const B=En(Pn,`categories/${D}`);await c_(B,k),alert("Category updated successfully!")}else{const B=En(Pn,"categories");await EI(B,k),alert("Category added successfully!")}H()}catch(B){console.error("Error saving category:",B),alert("Failed to save category.")}},O=k=>{x(!0),j(k.id),g(k.name),h(k.image),s(!0),l(!1)},A=async k=>{if(window.confirm("Are you sure you want to delete this category?"))try{const B=En(Pn,`categories/${k}`);await wI(B),alert("Category deleted successfully!")}catch(B){console.error("Error deleting category:",B),alert("Failed to delete category.")}},[C,R]=U.useState(!1);return U.useEffect(()=>{const k=()=>{window.scrollY>50?R(!0):R(!1)};return window.addEventListener("scroll",k),()=>window.removeEventListener("scroll",k)},[]),U.useEffect(()=>{const k=B=>{e&&window.innerWidth<768&&t(!1)};return document.addEventListener("mousedown",k),()=>{document.removeEventListener("mousedown",k)}},[e]),w.jsxs("div",{className:"flex min-h-screen bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${aw})`},children:[w.jsx("div",{className:`fixed top-0 left-0 h-full z-[999] bg-[#00000007] backdrop-blur-sm shadow-lg md:w-64 w-14 transform transition-transform ${e?"translate-x-0":"-translate-x-full md:translate-x-0"}`,children:w.jsx(jm,{closeMenu:()=>t(!1)})}),w.jsxs("div",{className:"flex flex-1 flex-col ml-0 md:ml-64 transition-all",children:[w.jsxs("div",{className:"flex items-center py-4 px-0 z-[999] sticky top-0 w-full md:bg-white md:shadow-md rounded-b-3xl",children:[w.jsx("button",{className:"text-white text-2xl p-4 focus:outline-none ml-0 md:hidden",onClick:()=>t(!e),children:w.jsx(Wp,{className:"text-3xl"})}),w.jsx("div",{className:"ml-[-5px] flex justify-center",children:w.jsx("img",{src:Yh,alt:"Logo",className:"w-14"})}),w.jsx("div",{className:"flex justify-center ml-auto pr-3 text-2xl cursor-pointer",onClick:L,children:w.jsx(Vm,{className:"text-3xl md:text-black text-white"})})]}),w.jsx("div",{className:"relative flex-1 px-4 pb-4 pt-16 md:pt-20 overflow-x-hidden",children:w.jsx("div",{className:"relative z-10 w-full max-w-5xl mx-auto",children:w.jsxs("div",{className:"relative z-10",children:[w.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center justify-center pt-5",children:"MANAGE BANNERS"}),w.jsxs("div",{className:"flex gap-2 w-full",children:[w.jsxs("div",{className:"relative w-[50%] h-[180px] flex justify-center items-center rounded-3xl bg-cover bg-center cursor-pointer",style:{backgroundImage:`url(${PG})`},onClick:()=>{H(),s(!0),l(!1)},children:[w.jsx("div",{className:"bg-black absolute inset-0 w-full h-full opacity-30 rounded-3xl"}),w.jsx("button",{className:"text-white relative px-6 py-3 text-xl md:text-2xl font-black",children:"ADD CATEGORY"})]}),w.jsxs("div",{className:"relative w-[50%] h-[180px] flex justify-center items-center rounded-3xl bg-cover bg-center cursor-pointer",style:{backgroundImage:`url(${DG})`},onClick:()=>{l(k=>!k),s(!1)},children:[w.jsx("div",{className:"bg-black absolute inset-0 w-full h-full opacity-30 rounded-3xl"}),w.jsx("button",{className:"text-white relative px-6 py-3 text-xl md:text-2xl font-black",children:"VIEW CATEGORIES"})]})]}),i&&w.jsxs("div",{className:"w-full max-w-md mx-auto bg-[#CBBA9E] p-6 mt-6 rounded-lg shadow-lg",children:[w.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white mb-4 text-center",children:T?"EDIT CATEGORY":"ADD NEW CATEGORY"}),w.jsx("input",{type:"text",placeholder:"Category Name",className:"w-full border border-[#51372A] bg-white p-2 rounded-lg focus:outline-none",value:f,onChange:k=>g(k.target.value)}),w.jsxs("div",{className:"mt-2 relative border rounded-lg p-2 bg-white",children:[w.jsx("input",{type:"file",id:"categoryImage",className:"opacity-0 absolute inset-0 w-full h-full cursor-pointer",onChange:q}),w.jsxs("div",{className:"flex items-center justify-center",children:[w.jsx(L_,{className:"text-gray-500 mr-2"}),w.jsx("span",{className:"text-gray-500",children:c?"Change Image":"Select Image"})]})]}),c&&w.jsxs("div",{className:"mt-2",children:[w.jsx("p",{className:"text-white text-sm mb-1",children:"Image Preview:"}),w.jsx("img",{src:c,alt:"Preview",className:"w-full h-40 object-cover rounded-lg"})]}),w.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row justify-center gap-2 w-full",children:[w.jsx("button",{className:"px-4 py-2 bg-[#8B6254] text-white rounded-lg w-full mb-2 sm:mb-0",onClick:H,children:"Cancel"}),w.jsx("button",{className:"px-4 py-2 bg-[#435933] hover:bg-[#304421] text-white rounded-lg w-full",onClick:Z,children:T?"Update":"Submit"})]})]}),o&&w.jsxs("div",{className:"mt-8 w-full relative bg-white p-4 rounded-lg shadow-lg",children:[w.jsx("h3",{className:"text-xl font-bold text-black mb-4 text-center",children:"UPLOADED CATEGORIES"}),y.length===0?w.jsx("p",{className:"text-black text-center",children:"No categories uploaded yet."}):w.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:y.map(k=>w.jsxs("div",{className:"shadow-lg bg-[#ab8c59] rounded-lg overflow-hidden",children:[w.jsx("img",{src:k.image,alt:"Category",className:"w-full h-40 object-cover"}),w.jsx("p",{className:"text-black text-center mt-2 font-bold px-2 truncate",children:k.name}),w.jsxs("div",{className:"p-3 flex justify-between items-center",children:[w.jsx("button",{onClick:()=>O(k),className:"p-2 rounded-full text-blue-600","aria-label":"Edit category",children:w.jsx(fO,{})}),w.jsx("button",{onClick:()=>A(k.id),className:"p-2 rounded-full text-red-600","aria-label":"Delete category",children:w.jsx(yO,{})})]})]},k.id))})]})]})})})]})]})};function OG(n){return We({attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M18.319 14.4326C20.7628 11.2941 20.542 6.75347 17.6569 3.86829C14.5327 0.744098 9.46734 0.744098 6.34315 3.86829C3.21895 6.99249 3.21895 12.0578 6.34315 15.182C9.22833 18.0672 13.769 18.2879 16.9075 15.8442C16.921 15.8595 16.9351 15.8745 16.9497 15.8891L21.1924 20.1317C21.5829 20.5223 22.2161 20.5223 22.6066 20.1317C22.9971 19.7412 22.9971 19.1081 22.6066 18.7175L18.364 14.4749C18.3493 14.4603 18.3343 14.4462 18.319 14.4326ZM16.2426 5.28251C18.5858 7.62565 18.5858 11.4246 16.2426 13.7678C13.8995 16.1109 10.1005 16.1109 7.75736 13.7678C5.41421 11.4246 5.41421 7.62565 7.75736 5.28251C10.1005 2.93936 13.8995 2.93936 16.2426 5.28251Z",fill:"currentColor"},child:[]}]})(n)}const kG=()=>{const[n,e]=U.useState([]),[t,i]=U.useState([]),[s,o]=U.useState(null),[l,c]=U.useState(!1),[h,f]=U.useState([]),[g,y]=U.useState(""),[_,T]=U.useState([]),[x,D]=U.useState(!1);U.useRef(null);const j=Ss(),P=Ai();U.useEffect(()=>{const A=new URLSearchParams(j.search).get("category");A&&o(A)},[j]),U.useEffect(()=>{const O=En(Pn,"categories");ms(O,A=>{const C=A.val();if(C){const R=Object.entries(C).map(([k,B])=>({id:k,...B}));e(R)}})},[]),U.useEffect(()=>{const O=En(Pn,"products");ms(O,A=>{const C=A.val();if(C){const R=Object.entries(C).map(([k,B])=>({id:k,...B})).filter(k=>k.status!=="inactive");i(R),I(R,s)}else i([]),T([])})},[]),U.useEffect(()=>{I(t,s);const O=new URLSearchParams(j.search);s?O.set("category",s):O.delete("category"),P({pathname:j.pathname,search:O.toString()},{replace:!0})},[s,t]);const I=(O,A)=>{if(!A){T(O);return}const C=n.find(k=>k.id===A);if(!C){T(O);return}const R=O.filter(k=>k.category===C.name);T(R)},L=O=>{const A=O.target.value.toLowerCase();if(y(A),A.trim()==="")I(t,s);else{const C=_.filter(R=>R.name.toLowerCase().includes(A));T(C)}},q=O=>{o(O),y(""),window.scrollTo({top:-50,behavior:"smooth"})};U.useEffect(()=>{const O=En(Pn,"banners"),A=ms(O,C=>{if(C.exists()){const R=C.val(),k=Object.keys(R).map(B=>({id:B,...R[B]})).filter(B=>B.status==="active");f(k)}else f([])});return()=>A()},[]);const[H,Z]=U.useState(null);return w.jsxs("div",{className:"w-full min-h-screen bg-white relative ",children:[w.jsx("div",{className:"absolute top-0 bottom-0 left-[-2px] right-0",children:w.jsx("img",{src:"https://img.freepik.com/free-vector/hand-drawn-olive-green-background_23-2149725222.jpg?t=st=1739964142~exp=1739967742~hmac=2bc705054c2a2430867275dad61e87e6b18ad0dda207c3f165ca54f906f8a593&w=1060",alt:"",className:"w-full h-full object-cover opacity-20"})}),w.jsx("section",{className:"relative overflow-hidden max-w-7xl mx-auto px-0 md:px-6",children:w.jsxs("div",{children:[w.jsx("div",{className:" lg:hidden w-[600px] md:w-[1200px] md:h-[1200px] lg:w-[1600px] lg:h-[1600px] BannerCircle lg:top-[-900px] z-0 absolute h-[600px] rounded-full md:top-[-550px] top-[-290px] bgGradient overflow-hidden"}),w.jsx("div",{className:"lg:hidden w-[600px] md:w-[1200px] md:h-[1200px] -z-10 absolute h-[600px] BannerCircle2 rounded-full top-[-270px] lg:top-[-880px] md:top-[-520px] bgGradient opacity-30"}),w.jsx("div",{className:"absolute w-[70px] h-[70px] left-[10px] top-2 drop-shadow-md pb-5",children:w.jsx("img",{src:mC,alt:"",className:"md:hidden"})}),w.jsxs("div",{className:"relative text-[#fff] pr-2 pt-5 leading-tight mb-5",children:[w.jsx("div",{className:"text-[12px] text-[#B1C29E] text-end font-semibold lg:text-[#577E15] lg:text-lg",children:"Leading Spice Retailer in Wayanad"}),w.jsx("div",{className:"text-2xl text-end font-bold TextFont1 lg:text-[#112C21] lg:text-4xl",children:"Chasam Ayurvedic"}),w.jsx("div",{className:"text-[12px] text-[#B1C29E] text-end font-semibold lg:text-[#577E15] lg:text-lg",children:"Authentic Ayurvedic & Spice Products"})]}),w.jsx("div",{className:"mb-3 relative mt-2 px-2",children:h.length>1?w.jsx(sw,{modules:[WP,YP],pagination:{clickable:!0,renderBullet:(O,A)=>`
                    <span class="${A}" style="background-color: #95CD41; width: 10px; height: 10px; margin-bottom: 10px;"></span>
                  `},autoplay:{delay:3e3,disableOnInteraction:!1},loop:!0,className:"w-full h-[250px] sm:h-[300px] md:h-[400px] lg:h-[500px] BoxShadow border-[#fff] border rounded-xl overflow-hidden",children:h.map(O=>w.jsx(rw,{className:"h-full",children:w.jsx("img",{src:O.image,alt:"Banner",className:"w-full h-full object-cover object-center"})},O.id))}):h.length===1?w.jsx("div",{className:"w-full h-[250px] sm:h-[300px] md:h-[400px] lg:h-[500px] BoxShadow border-[#fff] border rounded-xl overflow-hidden",children:w.jsx("img",{src:h[0].image,alt:"Banner",className:"w-full h-full object-cover object-center"})}):w.jsx("p",{children:"No active banners"})}),w.jsx("div",{className:"w-full mb-3 px-2",children:w.jsx("div",{className:"bg-gradient-to-r from-[#13c200] via-[#7eff87] to-[#006000] rounded-3xl p-[1px]",children:w.jsxs("div",{className:"relative w-full flex items-center bg-[#fff] py-3 lg:py-4 rounded-3xl",children:[w.jsx("input",{type:"text",placeholder:"Search Product...",className:"border-none w-full outline-none px-4 text-[#5B913B]",value:g,onChange:L}),w.jsx("div",{className:"absolute right-5 text-2xl text-[#5B913B]",children:w.jsx(OG,{})})]})})}),w.jsx("div",{className:"mb-5 overflow-x-auto relative whitespace-nowrap w-full scrollBar",children:w.jsxs("ul",{className:"flex items-center lg:justify-center gap-2 font-semibold flex-shrink-0 min-w-fit px-4",children:[w.jsxs("li",{className:"flex justify-center items-center flex-col text-[12px] font-semibold gap-1 cursor-pointer",onClick:()=>q(null),children:[w.jsx("div",{className:`w-[80px] h-[80px] rounded-full border-[2px] overflow-hidden bgGradient ${s===null?"border-yellow-400":"border-[#00aa0b]"}`,children:w.jsx("div",{className:"w-full h-full flex items-center justify-center text-center",children:w.jsx("span",{className:"text-white text-lg font-bold",children:"ALL"})})}),w.jsx("span",{className:`text-nowrap ${s===null?"font-bold text-yellow-400":"text-[#00aa0b]"}`,children:"All Products"})]}),n.map(O=>w.jsxs("li",{className:"flex justify-center items-center flex-col text-[12px] font-semibold gap-1 cursor-pointer",onClick:()=>q(O.id),children:[w.jsx("div",{className:`w-[80px] h-[80px] rounded-full border-[2px] overflow-hidden bg-[#1A1A19] ${s===O.id?"border-yellow-400":"border-[#00aa0b]"}`,children:w.jsx("img",{src:O.image,className:"w-full h-full object-cover",alt:O.name})}),w.jsx("span",{className:`text-nowrap ${s===O.id?"font-bold text-yellow-400":"text-[#00aa0b]"}`,children:O.name})]},O.id))]})})]})}),w.jsx("section",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8 pb-16",children:w.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 relative z-20",children:_.length>0?_.map(O=>w.jsx("div",{className:"w-full",children:w.jsxs("div",{className:"w-full relative flex flex-col gap-3 drop-shadow-sm h-[250px] p-1 backdrop-blur-sm rounded-xl border border-[#fff] bg-[#fff] hover:shadow-lg transition-shadow duration-300",onClick:()=>{Z(O.id),c(!0)},children:[w.jsx("div",{className:"w-full h-[150px] rounded-xl border-[#fff] border overflow-hidden",children:w.jsx("img",{src:O.image||O.images&&O.images[0],alt:O.name,className:"w-full h-full object-cover"})}),w.jsxs("div",{className:"flex flex-col gap-1 bg-amber-100 w-full px-2 rounded-b-xl",children:[w.jsx("div",{className:"text-[#000] font-bold TextFont1 truncate",children:O.name}),w.jsxs("div",{className:"text-[#000] font-base flex items-center",children:[w.jsx(_C,{}),w.jsx("span",{className:"text-[17px] font-bold",children:O.price})]}),w.jsxs("div",{className:"flex justify-start items-center gap-0.5 text-sm font-medium mb-2",children:["View More ",w.jsx(vG,{className:"text-xl"})]})]})]})},O.id)):w.jsx("div",{className:"col-span-full text-center text-gray-600 text-lg py-4",children:"No products found"})})}),l&&w.jsx(RH,{openPopUp:l,setOpenPopUp:c,productId:H})]})};function LG(n){return We({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13.0281 2.00073C14.1535 2.00259 14.7238 2.00855 15.2166 2.02322L15.4107 2.02956C15.6349 2.03753 15.8561 2.04753 16.1228 2.06003C17.1869 2.1092 17.9128 2.27753 18.5503 2.52503C19.2094 2.7792 19.7661 3.12253 20.3219 3.67837C20.8769 4.2342 21.2203 4.79253 21.4753 5.45003C21.7219 6.0867 21.8903 6.81337 21.9403 7.87753C21.9522 8.1442 21.9618 8.3654 21.9697 8.58964L21.976 8.78373C21.9906 9.27647 21.9973 9.84686 21.9994 10.9723L22.0002 11.7179C22.0003 11.809 22.0003 11.903 22.0003 12L22.0002 12.2821L21.9996 13.0278C21.9977 14.1532 21.9918 14.7236 21.9771 15.2163L21.9707 15.4104C21.9628 15.6347 21.9528 15.8559 21.9403 16.1225C21.8911 17.1867 21.7219 17.9125 21.4753 18.55C21.2211 19.2092 20.8769 19.7659 20.3219 20.3217C19.7661 20.8767 19.2069 21.22 18.5503 21.475C17.9128 21.7217 17.1869 21.89 16.1228 21.94C15.8561 21.9519 15.6349 21.9616 15.4107 21.9694L15.2166 21.9757C14.7238 21.9904 14.1535 21.997 13.0281 21.9992L12.2824 22C12.1913 22 12.0973 22 12.0003 22L11.7182 22L10.9725 21.9993C9.8471 21.9975 9.27672 21.9915 8.78397 21.9768L8.58989 21.9705C8.36564 21.9625 8.14444 21.9525 7.87778 21.94C6.81361 21.8909 6.08861 21.7217 5.45028 21.475C4.79194 21.2209 4.23444 20.8767 3.67861 20.3217C3.12278 19.7659 2.78028 19.2067 2.52528 18.55C2.27778 17.9125 2.11028 17.1867 2.06028 16.1225C2.0484 15.8559 2.03871 15.6347 2.03086 15.4104L2.02457 15.2163C2.00994 14.7236 2.00327 14.1532 2.00111 13.0278L2.00098 10.9723C2.00284 9.84686 2.00879 9.27647 2.02346 8.78373L2.02981 8.58964C2.03778 8.3654 2.04778 8.1442 2.06028 7.87753C2.10944 6.81253 2.27778 6.08753 2.52528 5.45003C2.77944 4.7917 3.12278 4.2342 3.67861 3.67837C4.23444 3.12253 4.79278 2.78003 5.45028 2.52503C6.08778 2.27753 6.81278 2.11003 7.87778 2.06003C8.14444 2.04816 8.36564 2.03847 8.58989 2.03062L8.78397 2.02433C9.27672 2.00969 9.8471 2.00302 10.9725 2.00086L13.0281 2.00073ZM12.0003 7.00003C9.23738 7.00003 7.00028 9.23956 7.00028 12C7.00028 14.7629 9.23981 17 12.0003 17C14.7632 17 17.0003 14.7605 17.0003 12C17.0003 9.23713 14.7607 7.00003 12.0003 7.00003ZM12.0003 9.00003C13.6572 9.00003 15.0003 10.3427 15.0003 12C15.0003 13.6569 13.6576 15 12.0003 15C10.3434 15 9.00028 13.6574 9.00028 12C9.00028 10.3431 10.3429 9.00003 12.0003 9.00003ZM17.2503 5.50003C16.561 5.50003 16.0003 6.05994 16.0003 6.74918C16.0003 7.43843 16.5602 7.9992 17.2503 7.9992C17.9395 7.9992 18.5003 7.4393 18.5003 6.74918C18.5003 6.05994 17.9386 5.49917 17.2503 5.50003Z"},child:[]}]})(n)}const Df="/assets/waveorg-COFwNQey.png";function VG(n){return We({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm167 633.6C638.4 735 583 757 516.9 757c-95.7 0-178.5-54.9-218.8-134.9C281.5 589 272 551.6 272 512s9.5-77 26.1-110.1c40.3-80.1 123.1-135 218.8-135 66 0 121.4 24.3 163.9 63.8L610.6 401c-25.4-24.3-57.7-36.6-93.6-36.6-63.8 0-117.8 43.1-137.1 101-4.9 14.7-7.7 30.4-7.7 46.6s2.8 31.9 7.7 46.6c19.3 57.9 73.3 101 137 101 33 0 61-8.7 82.9-23.4 26-17.4 43.2-43.3 48.9-74H516.9v-94.8h230.7c2.9 16.1 4.4 32.8 4.4 50.1 0 74.7-26.7 137.4-73 180.1z"},child:[]}]})(n)}const jG=()=>{const[n,e]=ht.useState(""),t=async i=>{i.preventDefault(),e("Sending....");const s=new FormData(i.target);s.append("access_key","3e557a00-0b21-45e5-b274-496427ac9210");const l=await(await fetch("https://api.web3forms.com/submit",{method:"POST",body:s})).json();l.success?(e("Message Sent Successfully!"),i.target.reset(),setTimeout(()=>{e("")},3e3)):(console.log("Error",l),e(l.message),setTimeout(()=>{e("")},3e3))};return w.jsx("div",{className:"h-full ContactBg relative bgGradient mix-blend-multiply md:max-w-[1400px] md:mx-auto w-full md:ml-[2px] overflow-y-hidden",children:w.jsxs("div",{className:"flex flex-col items-center justify-center py-5  w-full max-w-[1400px] mx-auto",children:[w.jsx("a",{href:"/",children:w.jsx("div",{className:"absolute top-4 left-4 text-xl bg-[#fff] p-1 rounded-full",children:w.jsx(yC,{})})}),w.jsxs("div",{className:"relative w-full flex justify-center md:hidden",children:[w.jsx("img",{src:Df,alt:"",className:"max-w-full"}),w.jsx("img",{src:Df,alt:"",className:"opacity-10 absolute top-2 drop-shadow-sm rotate-3 max-w-full"})]}),w.jsx("div",{className:"md:pt-10 text-center mb-3 text-3xl md:text-3xl drop-shadow-2xl font-bold text-[#fff]",children:"Contact Us"}),w.jsxs("div",{className:"md:flex md:justify-center md:items-start w-full md:gap-10 max-w-[1200px] mx-auto md:pt-10",children:[w.jsxs("div",{className:"flex flex-col justify-center items-center w-full px-2 md:w-[60%]",children:[w.jsxs("form",{action:"",className:"w-full flex flex-col gap-2 mb-5",onSubmit:t,children:[w.jsxs("div",{className:"relative flex items-center w-full",children:[w.jsx("input",{type:"text",placeholder:"First Name",className:"w-full px-8 py-2 rounded-3xl border-[2px] border-[#fff] backdrop-blur-sm outline-none text-[#fff]",name:"firstname"}),w.jsx("span",{className:" absolute right-4 text-[#fff]",children:w.jsx(uG,{})})]}),w.jsxs("div",{className:"relative flex items-center w-full",children:[w.jsx("input",{type:"number",placeholder:"Phone Number",className:"w-full px-8 py-2 rounded-3xl border-[2px] border-[#fff] backdrop-blur-sm outline-none text-[#fff]",name:"phonenumber"}),w.jsx("span",{className:" absolute right-4 text-[#fff]",children:w.jsx(EO,{})})]}),w.jsxs("div",{className:"relative flex items-center w-full",children:[w.jsx("input",{type:"email",placeholder:"Email",className:"w-full px-8 py-2 rounded-3xl border-[2px] border-[#fff] backdrop-blur-sm outline-none text-[#fff]",name:"email"}),w.jsx("span",{className:"absolute right-4 text-[#fff]",children:w.jsx(EC,{})})]}),w.jsxs("div",{className:"relative flex items-start w-full",children:[w.jsx("textarea",{name:"message",placeholder:"Message",id:"",className:"w-full px-8 py-2 rounded-3xl border-[2px] border-[#fff] backdrop-blur-sm outline-none text-[#fff]"}),w.jsx("span",{className:"absolute right-4 text-[#fff] top-2",children:w.jsx(_O,{})})]}),w.jsx("div",{className:"flex justify-between w-full rounded-2xl bg-[#fff]",children:w.jsxs("button",{className:"flex items-center textGradient2 justify-center font-bold gap-2 px-10 w-full py-2 rounded-2xl",children:["Submit ",w.jsx(yG,{className:"text-[#00af0f]"})]})})]}),w.jsx("span",{children:n}),w.jsxs("div",{className:"flex justify-center items-center gap-4 border-t w-full pt-3 border-[#fff]",children:[w.jsx("a",{href:"https://search.google.com/local/writereview?placeid=ChIJG6gdUlVzpjsR8Sj5q9DT2h4",target:"_blank",rel:"noopener noreferrer",className:"text-2xl text-[#fff]",children:w.jsx(VG,{})}),w.jsx("div",{className:"text-2xl text-[#fff]",children:w.jsx(cG,{})}),w.jsx("a",{href:"https://www.instagram.com/chasamayurvedicspicesgarden?utm_source=ig_web_button_share_sheet&igsh=ZDNlZDc0MzIxNw==",target:"_blank",rel:"noopener noreferrer",className:"text-2xl text-[#fff]",children:w.jsx(LG,{})}),w.jsx("a",{href:"https://wa.me/919072423493",target:"_blank",rel:"noopener noreferrer",className:"text-2xl text-[#fff]",children:w.jsx(_G,{})}),w.jsx("a",{href:"https://maps.app.goo.gl/sFaWva2sS49HMHip7",target:"_blank",rel:"noopener noreferrer",className:"text-2xl text-[#fff]",children:w.jsx(TO,{})})]})]}),w.jsxs("div",{className:"hidden md:flex md:flex-col md:w-[40%]",children:[w.jsx("div",{className:"mb-2 text-3xl font-semibold text-[#fff]",children:" Experience the Essence of Ayurveda & Pure Spices "}),w.jsxs("div",{className:"text-[#fff]",children:["We are always here to assist you! Whether you have questions about our Ayurvedic products, need guidance on our organic spices, or want to visit our store, feel free to reach out.",w.jsx("span",{className:"block font-bold",children:" Address "}),"   Chasam Ayurvedic & Spices Garden Vythiri, Wayanad, Kerala, India",w.jsx("span",{className:"block font-bold",children:" Get in Touch"}),"   Phone: +91 90724 23493 ",w.jsx("span",{className:"block",children:" Email: chasamayurvedic@gmail.com"})]})]})]}),w.jsxs("div",{className:"relative w-full flex justify-center mt-1 ",children:[w.jsx("img",{src:Df,alt:"",className:"max-w-full"}),w.jsx("img",{src:Df,alt:"",className:"opacity-10 absolute top-2 drop-shadow-sm rotate-3 max-w-full"})]})]})})},UG=()=>w.jsx(W4,{children:w.jsx(BG,{})}),BG=()=>{const n=Ss(),e=["/login","/admin","/imagebanner","/product","/category"],[t,i]=U.useState(!1);U.useEffect(()=>{if(n.pathname==="/"){i(!0);const g=setTimeout(()=>{i(!1)},3e3);return()=>clearTimeout(g)}else i(!1)},[n.pathname]);const[s,o]=U.useState(!0),[l,c]=U.useState(!1);U.useEffect(()=>{const g=fr(),y=vm(g,T=>{c(!!T)}),_=setTimeout(()=>{o(!1)},500);return()=>{clearTimeout(_),y()}},[]);const h=({element:g})=>l?g:w.jsx(T4,{to:"/login",replace:!0}),f=!e.includes(n.pathname);return w.jsxs("div",{className:"flex min-h-screen bg-white",children:[f&&w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"md:hidden fixed bottom-0 left-0 w-full z-50 bg-white",children:w.jsx(dG,{})}),w.jsx("div",{className:"hidden md:block fixed top-0 left-0 w-[15%] h-full bg-white",children:w.jsx(fG,{})})]}),w.jsx("div",{className:`flex-1 w-full ${f?"md:ml-[15%] md:pt-0":""} overflow-x-hidden`,children:t?w.jsx(mG,{}):w.jsxs(S4,{children:[w.jsx(Zs,{path:"/",element:w.jsx(lG,{})}),w.jsx(Zs,{path:"/login",element:w.jsx(EG,{})}),w.jsx(Zs,{path:"/admin",element:w.jsx(h,{element:w.jsx(TG,{})})}),w.jsx(Zs,{path:"/imagebanner",element:w.jsx(h,{element:w.jsx(xG,{})})}),w.jsx(Zs,{path:"/product",element:w.jsx(h,{element:w.jsx(NG,{})})}),w.jsx(Zs,{path:"/category",element:w.jsx(h,{element:w.jsx(MG,{})})}),w.jsx(Zs,{path:"/products",element:w.jsx(kG,{})}),w.jsx(Zs,{path:"/contact",element:w.jsx(jG,{})})]})})]})};MM.createRoot(document.getElementById("root")).render(w.jsx(U.StrictMode,{children:w.jsx(UG,{})}));
