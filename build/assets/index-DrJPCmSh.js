(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();function _M(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ly={exports:{}},Sc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ob;function EM(){if(ob)return Sc;ob=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,s,o){var l=null;if(o!==void 0&&(l=""+o),s.key!==void 0&&(l=""+s.key),"key"in s){o={};for(var c in s)c!=="key"&&(o[c]=s[c])}else o=s;return s=o.ref,{$$typeof:n,type:i,key:l,ref:s!==void 0?s:null,props:o}}return Sc.Fragment=e,Sc.jsx=t,Sc.jsxs=t,Sc}var lb;function TM(){return lb||(lb=1,Ly.exports=EM()),Ly.exports}var T=TM(),Vy={exports:{}},ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ub;function wM(){if(ub)return ke;ub=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function _(F){return F===null||typeof F!="object"?null:(F=y&&F[y]||F["@@iterator"],typeof F=="function"?F:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,O={};function V(F,ie,ye){this.props=F,this.context=ie,this.refs=O,this.updater=ye||w}V.prototype.isReactComponent={},V.prototype.setState=function(F,ie){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,ie,"setState")},V.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function P(){}P.prototype=V.prototype;function I(F,ie,ye){this.props=F,this.context=ie,this.refs=O,this.updater=ye||w}var N=I.prototype=new P;N.constructor=I,x(N,V.prototype),N.isPureReactComponent=!0;var H=Array.isArray,q={H:null,A:null,T:null,S:null},Z=Object.prototype.hasOwnProperty;function k(F,ie,ye,pe,me,Oe){return ye=Oe.ref,{$$typeof:n,type:F,key:ie,ref:ye!==void 0?ye:null,props:Oe}}function A(F,ie){return k(F.type,ie,void 0,void 0,void 0,F.props)}function C(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function R(F){var ie={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ye){return ie[ye]})}var j=/\/+/g;function z(F,ie){return typeof F=="object"&&F!==null&&F.key!=null?R(""+F.key):ie.toString(36)}function L(){}function de(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(L,L):(F.status="pending",F.then(function(ie){F.status==="pending"&&(F.status="fulfilled",F.value=ie)},function(ie){F.status==="pending"&&(F.status="rejected",F.reason=ie)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function _e(F,ie,ye,pe,me){var Oe=typeof F;(Oe==="undefined"||Oe==="boolean")&&(F=null);var Me=!1;if(F===null)Me=!0;else switch(Oe){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(F.$$typeof){case n:case e:Me=!0;break;case g:return Me=F._init,_e(Me(F._payload),ie,ye,pe,me)}}if(Me)return me=me(F),Me=pe===""?"."+z(F,0):pe,H(me)?(ye="",Me!=null&&(ye=Me.replace(j,"$&/")+"/"),_e(me,ie,ye,"",function(yt){return yt})):me!=null&&(C(me)&&(me=A(me,ye+(me.key==null||F&&F.key===me.key?"":(""+me.key).replace(j,"$&/")+"/")+Me)),ie.push(me)),1;Me=0;var Ct=pe===""?".":pe+":";if(H(F))for(var We=0;We<F.length;We++)pe=F[We],Oe=Ct+z(pe,We),Me+=_e(pe,ie,ye,Oe,me);else if(We=_(F),typeof We=="function")for(F=We.call(F),We=0;!(pe=F.next()).done;)pe=pe.value,Oe=Ct+z(pe,We++),Me+=_e(pe,ie,ye,Oe,me);else if(Oe==="object"){if(typeof F.then=="function")return _e(de(F),ie,ye,pe,me);throw ie=String(F),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Me}function re(F,ie,ye){if(F==null)return F;var pe=[],me=0;return _e(F,pe,"","",function(Oe){return ie.call(ye,Oe,me++)}),pe}function he(F){if(F._status===-1){var ie=F._result;ie=ie(),ie.then(function(ye){(F._status===0||F._status===-1)&&(F._status=1,F._result=ye)},function(ye){(F._status===0||F._status===-1)&&(F._status=2,F._result=ye)}),F._status===-1&&(F._status=0,F._result=ie)}if(F._status===1)return F._result.default;throw F._result}var ae=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function fe(){}return ke.Children={map:re,forEach:function(F,ie,ye){re(F,function(){ie.apply(this,arguments)},ye)},count:function(F){var ie=0;return re(F,function(){ie++}),ie},toArray:function(F){return re(F,function(ie){return ie})||[]},only:function(F){if(!C(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},ke.Component=V,ke.Fragment=t,ke.Profiler=s,ke.PureComponent=I,ke.StrictMode=i,ke.Suspense=h,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,ke.act=function(){throw Error("act(...) is not supported in production builds of React.")},ke.cache=function(F){return function(){return F.apply(null,arguments)}},ke.cloneElement=function(F,ie,ye){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var pe=x({},F.props),me=F.key,Oe=void 0;if(ie!=null)for(Me in ie.ref!==void 0&&(Oe=void 0),ie.key!==void 0&&(me=""+ie.key),ie)!Z.call(ie,Me)||Me==="key"||Me==="__self"||Me==="__source"||Me==="ref"&&ie.ref===void 0||(pe[Me]=ie[Me]);var Me=arguments.length-2;if(Me===1)pe.children=ye;else if(1<Me){for(var Ct=Array(Me),We=0;We<Me;We++)Ct[We]=arguments[We+2];pe.children=Ct}return k(F.type,me,void 0,void 0,Oe,pe)},ke.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:o,_context:F},F},ke.createElement=function(F,ie,ye){var pe,me={},Oe=null;if(ie!=null)for(pe in ie.key!==void 0&&(Oe=""+ie.key),ie)Z.call(ie,pe)&&pe!=="key"&&pe!=="__self"&&pe!=="__source"&&(me[pe]=ie[pe]);var Me=arguments.length-2;if(Me===1)me.children=ye;else if(1<Me){for(var Ct=Array(Me),We=0;We<Me;We++)Ct[We]=arguments[We+2];me.children=Ct}if(F&&F.defaultProps)for(pe in Me=F.defaultProps,Me)me[pe]===void 0&&(me[pe]=Me[pe]);return k(F,Oe,void 0,void 0,null,me)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(F){return{$$typeof:c,render:F}},ke.isValidElement=C,ke.lazy=function(F){return{$$typeof:g,_payload:{_status:-1,_result:F},_init:he}},ke.memo=function(F,ie){return{$$typeof:f,type:F,compare:ie===void 0?null:ie}},ke.startTransition=function(F){var ie=q.T,ye={};q.T=ye;try{var pe=F(),me=q.S;me!==null&&me(ye,pe),typeof pe=="object"&&pe!==null&&typeof pe.then=="function"&&pe.then(fe,ae)}catch(Oe){ae(Oe)}finally{q.T=ie}},ke.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},ke.use=function(F){return q.H.use(F)},ke.useActionState=function(F,ie,ye){return q.H.useActionState(F,ie,ye)},ke.useCallback=function(F,ie){return q.H.useCallback(F,ie)},ke.useContext=function(F){return q.H.useContext(F)},ke.useDebugValue=function(){},ke.useDeferredValue=function(F,ie){return q.H.useDeferredValue(F,ie)},ke.useEffect=function(F,ie){return q.H.useEffect(F,ie)},ke.useId=function(){return q.H.useId()},ke.useImperativeHandle=function(F,ie,ye){return q.H.useImperativeHandle(F,ie,ye)},ke.useInsertionEffect=function(F,ie){return q.H.useInsertionEffect(F,ie)},ke.useLayoutEffect=function(F,ie){return q.H.useLayoutEffect(F,ie)},ke.useMemo=function(F,ie){return q.H.useMemo(F,ie)},ke.useOptimistic=function(F,ie){return q.H.useOptimistic(F,ie)},ke.useReducer=function(F,ie,ye){return q.H.useReducer(F,ie,ye)},ke.useRef=function(F){return q.H.useRef(F)},ke.useState=function(F){return q.H.useState(F)},ke.useSyncExternalStore=function(F,ie,ye){return q.H.useSyncExternalStore(F,ie,ye)},ke.useTransition=function(){return q.H.useTransition()},ke.version="19.0.0",ke}var cb;function k_(){return cb||(cb=1,Vy.exports=wM()),Vy.exports}var U=k_();const ht=_M(U);var jy={exports:{}},xc={},Uy={exports:{}},By={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hb;function bM(){return hb||(hb=1,function(n){function e(re,he){var ae=re.length;re.push(he);e:for(;0<ae;){var fe=ae-1>>>1,F=re[fe];if(0<s(F,he))re[fe]=he,re[ae]=F,ae=fe;else break e}}function t(re){return re.length===0?null:re[0]}function i(re){if(re.length===0)return null;var he=re[0],ae=re.pop();if(ae!==he){re[0]=ae;e:for(var fe=0,F=re.length,ie=F>>>1;fe<ie;){var ye=2*(fe+1)-1,pe=re[ye],me=ye+1,Oe=re[me];if(0>s(pe,ae))me<F&&0>s(Oe,pe)?(re[fe]=Oe,re[me]=ae,fe=me):(re[fe]=pe,re[ye]=ae,fe=ye);else if(me<F&&0>s(Oe,ae))re[fe]=Oe,re[me]=ae,fe=me;else break e}}return he}function s(re,he){var ae=re.sortIndex-he.sortIndex;return ae!==0?ae:re.id-he.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var h=[],f=[],g=1,y=null,_=3,w=!1,x=!1,O=!1,V=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function N(re){for(var he=t(f);he!==null;){if(he.callback===null)i(f);else if(he.startTime<=re)i(f),he.sortIndex=he.expirationTime,e(h,he);else break;he=t(f)}}function H(re){if(O=!1,N(re),!x)if(t(h)!==null)x=!0,de();else{var he=t(f);he!==null&&_e(H,he.startTime-re)}}var q=!1,Z=-1,k=5,A=-1;function C(){return!(n.unstable_now()-A<k)}function R(){if(q){var re=n.unstable_now();A=re;var he=!0;try{e:{x=!1,O&&(O=!1,P(Z),Z=-1),w=!0;var ae=_;try{t:{for(N(re),y=t(h);y!==null&&!(y.expirationTime>re&&C());){var fe=y.callback;if(typeof fe=="function"){y.callback=null,_=y.priorityLevel;var F=fe(y.expirationTime<=re);if(re=n.unstable_now(),typeof F=="function"){y.callback=F,N(re),he=!0;break t}y===t(h)&&i(h),N(re)}else i(h);y=t(h)}if(y!==null)he=!0;else{var ie=t(f);ie!==null&&_e(H,ie.startTime-re),he=!1}}break e}finally{y=null,_=ae,w=!1}he=void 0}}finally{he?j():q=!1}}}var j;if(typeof I=="function")j=function(){I(R)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,L=z.port2;z.port1.onmessage=R,j=function(){L.postMessage(null)}}else j=function(){V(R,0)};function de(){q||(q=!0,j())}function _e(re,he){Z=V(function(){re(n.unstable_now())},he)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_continueExecution=function(){x||w||(x=!0,de())},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(re){switch(_){case 1:case 2:case 3:var he=3;break;default:he=_}var ae=_;_=he;try{return re()}finally{_=ae}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(re,he){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var ae=_;_=re;try{return he()}finally{_=ae}},n.unstable_scheduleCallback=function(re,he,ae){var fe=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?fe+ae:fe):ae=fe,re){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=ae+F,re={id:g++,callback:he,priorityLevel:re,startTime:ae,expirationTime:F,sortIndex:-1},ae>fe?(re.sortIndex=ae,e(f,re),t(h)===null&&re===t(f)&&(O?(P(Z),Z=-1):O=!0,_e(H,ae-fe))):(re.sortIndex=F,e(h,re),x||w||(x=!0,de())),re},n.unstable_shouldYield=C,n.unstable_wrapCallback=function(re){var he=_;return function(){var ae=_;_=he;try{return re.apply(this,arguments)}finally{_=ae}}}}(By)),By}var db;function SM(){return db||(db=1,Uy.exports=bM()),Uy.exports}var zy={exports:{}},An={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fb;function xM(){if(fb)return An;fb=1;var n=k_();function e(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(h,f,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:h,containerInfo:f,implementation:g}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return An.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,An.createPortal=function(h,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(h,f,null,g)},An.flushSync=function(h){var f=l.T,g=i.p;try{if(l.T=null,i.p=2,h)return h()}finally{l.T=f,i.p=g,i.d.f()}},An.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(h,f))},An.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},An.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var g=f.as,y=c(g,f.crossOrigin),_=typeof f.integrity=="string"?f.integrity:void 0,w=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?i.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:w}):g==="script"&&i.d.X(h,{crossOrigin:y,integrity:_,fetchPriority:w,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},An.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=c(f.as,f.crossOrigin);i.d.M(h,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(h)},An.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,y=c(g,f.crossOrigin);i.d.L(h,g,{crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},An.preloadModule=function(h,f){if(typeof h=="string")if(f){var g=c(f.as,f.crossOrigin);i.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(h)},An.requestFormReset=function(h){i.d.r(h)},An.unstable_batchedUpdates=function(h,f){return h(f)},An.useFormState=function(h,f,g){return l.H.useFormState(h,f,g)},An.useFormStatus=function(){return l.H.useHostTransitionStatus()},An.version="19.0.0",An}var pb;function CM(){if(pb)return zy.exports;pb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),zy.exports=xM(),zy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mb;function AM(){if(mb)return xc;mb=1;var n=SM(),e=k_(),t=CM();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}var o=Symbol.for("react.element"),l=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),_=Symbol.for("react.consumer"),w=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),N=Symbol.for("react.offscreen"),H=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function Z(r){return r===null||typeof r!="object"?null:(r=q&&r[q]||r["@@iterator"],typeof r=="function"?r:null)}var k=Symbol.for("react.client.reference");function A(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===k?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case h:return"Fragment";case c:return"Portal";case g:return"Profiler";case f:return"StrictMode";case O:return"Suspense";case V:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case w:return(r.displayName||"Context")+".Provider";case _:return(r._context.displayName||"Context")+".Consumer";case x:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case P:return a=r.displayName||null,a!==null?a:A(r.type)||"Memo";case I:a=r._payload,r=r._init;try{return A(r(a))}catch{}}return null}var C=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R=Object.assign,j,z;function L(r){if(j===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);j=a&&a[1]||"",z=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+j+r+z}var de=!1;function _e(r,a){if(!r||de)return"";de=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(a){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(J){var Q=J}Reflect.construct(r,[],se)}else{try{se.call()}catch(J){Q=J}r.call(se.prototype)}}else{try{throw Error()}catch(J){Q=J}(se=r())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(J){if(J&&Q&&typeof J.stack=="string")return[J.stack,Q.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=d.DetermineComponentFrameRoot(),S=v[0],D=v[1];if(S&&D){var B=S.split(`
`),$=D.split(`
`);for(m=d=0;d<B.length&&!B[d].includes("DetermineComponentFrameRoot");)d++;for(;m<$.length&&!$[m].includes("DetermineComponentFrameRoot");)m++;if(d===B.length||m===$.length)for(d=B.length-1,m=$.length-1;1<=d&&0<=m&&B[d]!==$[m];)m--;for(;1<=d&&0<=m;d--,m--)if(B[d]!==$[m]){if(d!==1||m!==1)do if(d--,m--,0>m||B[d]!==$[m]){var ee=`
`+B[d].replace(" at new "," at ");return r.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",r.displayName)),ee}while(1<=d&&0<=m);break}}}finally{de=!1,Error.prepareStackTrace=u}return(u=r?r.displayName||r.name:"")?L(u):""}function re(r){switch(r.tag){case 26:case 27:case 5:return L(r.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 15:return r=_e(r.type,!1),r;case 11:return r=_e(r.type.render,!1),r;case 1:return r=_e(r.type,!0),r;default:return""}}function he(r){try{var a="";do a+=re(r),r=r.return;while(r);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function ae(r){var a=r,u=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,a.flags&4098&&(u=a.return),r=a.return;while(r)}return a.tag===3?u:null}function fe(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function F(r){if(ae(r)!==r)throw Error(i(188))}function ie(r){var a=r.alternate;if(!a){if(a=ae(r),a===null)throw Error(i(188));return a!==r?null:r}for(var u=r,d=a;;){var m=u.return;if(m===null)break;var v=m.alternate;if(v===null){if(d=m.return,d!==null){u=d;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===u)return F(m),r;if(v===d)return F(m),a;v=v.sibling}throw Error(i(188))}if(u.return!==d.return)u=m,d=v;else{for(var S=!1,D=m.child;D;){if(D===u){S=!0,u=m,d=v;break}if(D===d){S=!0,d=m,u=v;break}D=D.sibling}if(!S){for(D=v.child;D;){if(D===u){S=!0,u=v,d=m;break}if(D===d){S=!0,d=v,u=m;break}D=D.sibling}if(!S)throw Error(i(189))}}if(u.alternate!==d)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?r:a}function ye(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=ye(r),a!==null)return a;r=r.sibling}return null}var pe=Array.isArray,me=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Oe={pending:!1,data:null,method:null,action:null},Me=[],Ct=-1;function We(r){return{current:r}}function yt(r){0>Ct||(r.current=Me[Ct],Me[Ct]=null,Ct--)}function Ye(r,a){Ct++,Me[Ct]=r.current,r.current=a}var pn=We(null),ai=We(null),On=We(null),qi=We(null);function Gi(r,a){switch(Ye(On,a),Ye(ai,r),Ye(pn,null),r=a.nodeType,r){case 9:case 11:a=(a=a.documentElement)&&(a=a.namespaceURI)?L1(a):0;break;default:if(r=r===8?a.parentNode:a,a=r.tagName,r=r.namespaceURI)r=L1(r),a=V1(r,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}yt(pn),Ye(pn,a)}function oe(){yt(pn),yt(ai),yt(On)}function we(r){r.memoizedState!==null&&Ye(qi,r);var a=pn.current,u=V1(a,r.type);a!==u&&(Ye(ai,r),Ye(pn,u))}function Qe(r){ai.current===r&&(yt(pn),yt(ai)),qi.current===r&&(yt(qi),_c._currentValue=Oe)}var He=Object.prototype.hasOwnProperty,Ut=n.unstable_scheduleCallback,Gt=n.unstable_cancelCallback,$i=n.unstable_shouldYield,Ai=n.unstable_requestPaint,$t=n.unstable_now,Eu=n.unstable_getCurrentPriorityLevel,Ot=n.unstable_ImmediatePriority,nn=n.unstable_UserBlockingPriority,Cs=n.unstable_NormalPriority,Yh=n.unstable_LowPriority,Tu=n.unstable_IdlePriority,Um=n.log,Ia=n.unstable_setDisableYieldValue,mr=null,xn=null;function wu(r){if(xn&&typeof xn.onCommitFiberRoot=="function")try{xn.onCommitFiberRoot(mr,r,void 0,(r.current.flags&128)===128)}catch{}}function Ki(r){if(typeof Um=="function"&&Ia(r),xn&&typeof xn.setStrictMode=="function")try{xn.setStrictMode(mr,r)}catch{}}var kn=Math.clz32?Math.clz32:Xh,bu=Math.log,Qh=Math.LN2;function Xh(r){return r>>>=0,r===0?32:31-(bu(r)/Qh|0)|0}var Wi=128,gr=4194304;function Ri(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function oi(r,a){var u=r.pendingLanes;if(u===0)return 0;var d=0,m=r.suspendedLanes,v=r.pingedLanes,S=r.warmLanes;r=r.finishedLanes!==0;var D=u&134217727;return D!==0?(u=D&~m,u!==0?d=Ri(u):(v&=D,v!==0?d=Ri(v):r||(S=D&~S,S!==0&&(d=Ri(S))))):(D=u&~m,D!==0?d=Ri(D):v!==0?d=Ri(v):r||(S=u&~S,S!==0&&(d=Ri(S)))),d===0?0:a!==0&&a!==d&&!(a&m)&&(m=d&-d,S=a&-a,m>=S||m===32&&(S&4194176)!==0)?a:d}function yr(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function Do(r,a){switch(r){case 1:case 2:case 4:case 8:return a+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Su(){var r=Wi;return Wi<<=1,!(Wi&4194176)&&(Wi=128),r}function vr(){var r=gr;return gr<<=1,!(gr&62914560)&&(gr=4194304),r}function Mo(r){for(var a=[],u=0;31>u;u++)a.push(r);return a}function kt(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Zh(r,a,u,d,m,v){var S=r.pendingLanes;r.pendingLanes=u,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=u,r.entangledLanes&=u,r.errorRecoveryDisabledLanes&=u,r.shellSuspendCounter=0;var D=r.entanglements,B=r.expirationTimes,$=r.hiddenUpdates;for(u=S&~u;0<u;){var ee=31-kn(u),se=1<<ee;D[ee]=0,B[ee]=-1;var Q=$[ee];if(Q!==null)for($[ee]=null,ee=0;ee<Q.length;ee++){var J=Q[ee];J!==null&&(J.lane&=-536870913)}u&=~se}d!==0&&_r(r,d,0),v!==0&&m===0&&r.tag!==0&&(r.suspendedLanes|=v&~(S&~a))}function _r(r,a,u){r.pendingLanes|=a,r.suspendedLanes&=~a;var d=31-kn(a);r.entangledLanes|=a,r.entanglements[d]=r.entanglements[d]|1073741824|u&4194218}function Er(r,a){var u=r.entangledLanes|=a;for(r=r.entanglements;u;){var d=31-kn(u),m=1<<d;m&a|r[d]&a&&(r[d]|=a),u&=~m}}function Jh(r){return r&=-r,2<r?8<r?r&134217727?32:268435456:8:2}function ed(){var r=me.p;return r!==0?r:(r=window.event,r===void 0?32:tb(r.type))}function Tr(r,a){var u=me.p;try{return me.p=r,a()}finally{me.p=u}}var Yi=Math.random().toString(36).slice(2),sn="__reactFiber$"+Yi,Kt="__reactProps$"+Yi,As="__reactContainer$"+Yi,Na="__reactEvents$"+Yi,Oo="__reactListeners$"+Yi,Qi="__reactHandles$"+Yi,xu="__reactResources$"+Yi,wr="__reactMarker$"+Yi;function Pa(r){delete r[sn],delete r[Kt],delete r[Na],delete r[Oo],delete r[Qi]}function Ii(r){var a=r[sn];if(a)return a;for(var u=r.parentNode;u;){if(a=u[As]||u[sn]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(r=B1(r);r!==null;){if(u=r[sn])return u;r=B1(r)}return a}r=u,u=r.parentNode}return null}function Rs(r){if(r=r[sn]||r[As]){var a=r.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return r}return null}function br(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function Sr(r){var a=r[xu];return a||(a=r[xu]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Et(r){r[wr]=!0}var Cu=new Set,ko={};function Wn(r,a){Hn(r,a),Hn(r+"Capture",a)}function Hn(r,a){for(ko[r]=a,r=0;r<a.length;r++)Cu.add(a[r])}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bm=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Au={},Ru={};function td(r){return He.call(Ru,r)?!0:He.call(Au,r)?!1:Bm.test(r)?Ru[r]=!0:(Au[r]=!0,!1)}function xr(r,a,u){if(td(a))if(u===null)r.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var d=a.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+u)}}function Cr(r,a,u){if(u===null)r.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+u)}}function li(r,a,u,d){if(d===null)r.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(u);return}r.setAttributeNS(a,u,""+d)}}function Ln(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function nd(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function zm(r){var a=nd(r)?"checked":"value",u=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),d=""+r[a];if(!r.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,v=u.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return m.call(this)},set:function(S){d=""+S,v.call(this,S)}}),Object.defineProperty(r,a,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(S){d=""+S},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function Da(r){r._valueTracker||(r._valueTracker=zm(r))}function Iu(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var u=a.getValue(),d="";return r&&(d=nd(r)?r.checked?"true":"false":r.value),r=d,r!==u?(a.setValue(r),!0):!1}function Lo(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Is=/[\n"\\]/g;function At(r){return r.replace(Is,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Ar(r,a,u,d,m,v,S,D){r.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.type=S:r.removeAttribute("type"),a!=null?S==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+Ln(a)):r.value!==""+Ln(a)&&(r.value=""+Ln(a)):S!=="submit"&&S!=="reset"||r.removeAttribute("value"),a!=null?Vo(r,S,Ln(a)):u!=null?Vo(r,S,Ln(u)):d!=null&&r.removeAttribute("value"),m==null&&v!=null&&(r.defaultChecked=!!v),m!=null&&(r.checked=m&&typeof m!="function"&&typeof m!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?r.name=""+Ln(D):r.removeAttribute("name")}function Ma(r,a,u,d,m,v,S,D){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(r.type=v),a!=null||u!=null){if(!(v!=="submit"&&v!=="reset"||a!=null))return;u=u!=null?""+Ln(u):"",a=a!=null?""+Ln(a):u,D||a===r.value||(r.value=a),r.defaultValue=a}d=d??m,d=typeof d!="function"&&typeof d!="symbol"&&!!d,r.checked=D?r.checked:!!d,r.defaultChecked=!!d,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(r.name=S)}function Vo(r,a,u){a==="number"&&Lo(r.ownerDocument)===r||r.defaultValue===""+u||(r.defaultValue=""+u)}function tt(r,a,u,d){if(r=r.options,a){a={};for(var m=0;m<u.length;m++)a["$"+u[m]]=!0;for(u=0;u<r.length;u++)m=a.hasOwnProperty("$"+r[u].value),r[u].selected!==m&&(r[u].selected=m),m&&d&&(r[u].defaultSelected=!0)}else{for(u=""+Ln(u),a=null,m=0;m<r.length;m++){if(r[m].value===u){r[m].selected=!0,d&&(r[m].defaultSelected=!0);return}a!==null||r[m].disabled||(a=r[m])}a!==null&&(a.selected=!0)}}function Oa(r,a,u){if(a!=null&&(a=""+Ln(a),a!==r.value&&(r.value=a),u==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=u!=null?""+Ln(u):""}function Rr(r,a,u,d){if(a==null){if(d!=null){if(u!=null)throw Error(i(92));if(pe(d)){if(1<d.length)throw Error(i(93));d=d[0]}u=d}u==null&&(u=""),a=u}u=Ln(a),r.defaultValue=u,d=r.textContent,d===u&&d!==""&&d!==null&&(r.value=d)}function ui(r,a){if(a){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=a;return}}r.textContent=a}var Fm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nu(r,a,u){var d=a.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?d?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":d?r.setProperty(a,u):typeof u!="number"||u===0||Fm.has(a)?a==="float"?r.cssFloat=u:r[a]=(""+u).trim():r[a]=u+"px"}function id(r,a,u){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,u!=null){for(var d in u)!u.hasOwnProperty(d)||a!=null&&a.hasOwnProperty(d)||(d.indexOf("--")===0?r.setProperty(d,""):d==="float"?r.cssFloat="":r[d]="");for(var m in a)d=a[m],a.hasOwnProperty(m)&&u[m]!==d&&Nu(r,m,d)}else for(var v in a)a.hasOwnProperty(v)&&Nu(r,v,a[v])}function Pu(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xi(r){return qm.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var ci=null;function jo(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ns=null,Ps=null;function Ds(r){var a=Rs(r);if(a&&(r=a.stateNode)){var u=r[Kt]||null;e:switch(r=a.stateNode,a.type){case"input":if(Ar(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),a=u.name,u.type==="radio"&&a!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+At(""+a)+'"][type="radio"]'),a=0;a<u.length;a++){var d=u[a];if(d!==r&&d.form===r.form){var m=d[Kt]||null;if(!m)throw Error(i(90));Ar(d,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<u.length;a++)d=u[a],d.form===r.form&&Iu(d)}break e;case"textarea":Oa(r,u.value,u.defaultValue);break e;case"select":a=u.value,a!=null&&tt(r,!!u.multiple,a,!1)}}}var Du=!1;function sd(r,a,u){if(Du)return r(a,u);Du=!0;try{var d=r(a);return d}finally{if(Du=!1,(Ns!==null||Ps!==null)&&(Yd(),Ns&&(a=Ns,r=Ps,Ps=Ns=null,Ds(a),r)))for(a=0;a<r.length;a++)Ds(r[a])}}function ka(r,a){var u=r.stateNode;if(u===null)return null;var d=u[Kt]||null;if(d===null)return null;u=d[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(i(231,a,typeof u));return u}var hi=!1;if(Yn)try{var La={};Object.defineProperty(La,"passive",{get:function(){hi=!0}}),window.addEventListener("test",La,La),window.removeEventListener("test",La,La)}catch{hi=!1}var Zi=null,Ir=null,Ms=null;function Mu(){if(Ms)return Ms;var r,a=Ir,u=a.length,d,m="value"in Zi?Zi.value:Zi.textContent,v=m.length;for(r=0;r<u&&a[r]===m[r];r++);var S=u-r;for(d=1;d<=S&&a[u-d]===m[v-d];d++);return Ms=m.slice(r,1<d?1-d:void 0)}function Ji(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function es(){return!0}function Ou(){return!1}function rn(r){function a(u,d,m,v,S){this._reactName=u,this._targetInst=m,this.type=d,this.nativeEvent=v,this.target=S,this.currentTarget=null;for(var D in r)r.hasOwnProperty(D)&&(u=r[D],this[D]=u?u(v):v[D]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?es:Ou,this.isPropagationStopped=Ou,this}return R(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=es)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=es)},persist:function(){},isPersistent:es}),a}var rt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uo=rn(rt),Va=R({},rt,{view:0,detail:0}),rd=rn(Va),Bo,zo,ts,ja=R({},Va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:za,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ts&&(ts&&r.type==="mousemove"?(Bo=r.screenX-ts.screenX,zo=r.screenY-ts.screenY):zo=Bo=0,ts=r),Bo)},movementY:function(r){return"movementY"in r?r.movementY:zo}}),di=rn(ja),ad=R({},ja,{dataTransfer:0}),Gm=rn(ad),Ua=R({},Va,{relatedTarget:0}),Fo=rn(Ua),ku=R({},rt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ho=rn(ku),od=R({},rt,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),qo=rn(od),$m=R({},rt,{data:0}),Lu=rn($m),Ba={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ld={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ud={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vu(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=ud[r])?!!a[r]:!1}function za(){return Vu}var cd=R({},Va,{key:function(r){if(r.key){var a=Ba[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=Ji(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?ld[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:za,charCode:function(r){return r.type==="keypress"?Ji(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ji(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Go=rn(cd),hd=R({},ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ju=rn(hd),Os=R({},Va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:za}),dd=rn(Os),fd=R({},rt,{propertyName:0,elapsedTime:0,pseudoElement:0}),pd=rn(fd),md=R({},ja,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),$o=rn(md),Vn=R({},rt,{newState:0,oldState:0}),gd=rn(Vn),yd=[9,13,27,32],ns=Yn&&"CompositionEvent"in window,p=null;Yn&&"documentMode"in document&&(p=document.documentMode);var E=Yn&&"TextEvent"in window&&!p,b=Yn&&(!ns||p&&8<p&&11>=p),M=" ",W=!1;function X(r,a){switch(r){case"keyup":return yd.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ce(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Xe=!1;function Wt(r,a){switch(r){case"compositionend":return ce(a);case"keypress":return a.which!==32?null:(W=!0,M);case"textInput":return r=a.data,r===M&&W?null:r;default:return null}}function Ze(r,a){if(Xe)return r==="compositionend"||!ns&&X(r,a)?(r=Mu(),Ms=Ir=Zi=null,Xe=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return b&&a.locale!=="ko"?null:a.data;default:return null}}var an={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yt(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!an[r.type]:a==="textarea"}function ks(r,a,u,d){Ns?Ps?Ps.push(d):Ps=[d]:Ns=d,a=ef(a,"onChange"),0<a.length&&(u=new Uo("onChange","change",null,u,d),r.push({event:u,listeners:a}))}var mn=null,is=null;function Uu(r){P1(r,0)}function vd(r){var a=br(r);if(Iu(a))return r}function aT(r,a){if(r==="change")return a}var oT=!1;if(Yn){var Km;if(Yn){var Wm="oninput"in document;if(!Wm){var lT=document.createElement("div");lT.setAttribute("oninput","return;"),Wm=typeof lT.oninput=="function"}Km=Wm}else Km=!1;oT=Km&&(!document.documentMode||9<document.documentMode)}function uT(){mn&&(mn.detachEvent("onpropertychange",cT),is=mn=null)}function cT(r){if(r.propertyName==="value"&&vd(is)){var a=[];ks(a,is,r,jo(r)),sd(Uu,a)}}function YP(r,a,u){r==="focusin"?(uT(),mn=a,is=u,mn.attachEvent("onpropertychange",cT)):r==="focusout"&&uT()}function QP(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return vd(is)}function XP(r,a){if(r==="click")return vd(a)}function ZP(r,a){if(r==="input"||r==="change")return vd(a)}function JP(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var Qn=typeof Object.is=="function"?Object.is:JP;function Bu(r,a){if(Qn(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var u=Object.keys(r),d=Object.keys(a);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var m=u[d];if(!He.call(a,m)||!Qn(r[m],a[m]))return!1}return!0}function hT(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function dT(r,a){var u=hT(r);r=0;for(var d;u;){if(u.nodeType===3){if(d=r+u.textContent.length,r<=a&&d>=a)return{node:u,offset:a-r};r=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=hT(u)}}function fT(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?fT(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function pT(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=Lo(r.document);a instanceof r.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)r=a.contentWindow;else break;a=Lo(r.document)}return a}function Ym(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}function eD(r,a){var u=pT(a);a=r.focusedElem;var d=r.selectionRange;if(u!==a&&a&&a.ownerDocument&&fT(a.ownerDocument.documentElement,a)){if(d!==null&&Ym(a)){if(r=d.start,u=d.end,u===void 0&&(u=r),"selectionStart"in a)a.selectionStart=r,a.selectionEnd=Math.min(u,a.value.length);else if(u=(r=a.ownerDocument||document)&&r.defaultView||window,u.getSelection){u=u.getSelection();var m=a.textContent.length,v=Math.min(d.start,m);d=d.end===void 0?v:Math.min(d.end,m),!u.extend&&v>d&&(m=d,d=v,v=m),m=dT(a,v);var S=dT(a,d);m&&S&&(u.rangeCount!==1||u.anchorNode!==m.node||u.anchorOffset!==m.offset||u.focusNode!==S.node||u.focusOffset!==S.offset)&&(r=r.createRange(),r.setStart(m.node,m.offset),u.removeAllRanges(),v>d?(u.addRange(r),u.extend(S.node,S.offset)):(r.setEnd(S.node,S.offset),u.addRange(r)))}}for(r=[],u=a;u=u.parentNode;)u.nodeType===1&&r.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<r.length;a++)u=r[a],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var tD=Yn&&"documentMode"in document&&11>=document.documentMode,Ko=null,Qm=null,zu=null,Xm=!1;function mT(r,a,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Xm||Ko==null||Ko!==Lo(d)||(d=Ko,"selectionStart"in d&&Ym(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),zu&&Bu(zu,d)||(zu=d,d=ef(Qm,"onSelect"),0<d.length&&(a=new Uo("onSelect","select",null,a,u),r.push({event:a,listeners:d}),a.target=Ko)))}function Fa(r,a){var u={};return u[r.toLowerCase()]=a.toLowerCase(),u["Webkit"+r]="webkit"+a,u["Moz"+r]="moz"+a,u}var Wo={animationend:Fa("Animation","AnimationEnd"),animationiteration:Fa("Animation","AnimationIteration"),animationstart:Fa("Animation","AnimationStart"),transitionrun:Fa("Transition","TransitionRun"),transitionstart:Fa("Transition","TransitionStart"),transitioncancel:Fa("Transition","TransitionCancel"),transitionend:Fa("Transition","TransitionEnd")},Zm={},gT={};Yn&&(gT=document.createElement("div").style,"AnimationEvent"in window||(delete Wo.animationend.animation,delete Wo.animationiteration.animation,delete Wo.animationstart.animation),"TransitionEvent"in window||delete Wo.transitionend.transition);function Ha(r){if(Zm[r])return Zm[r];if(!Wo[r])return r;var a=Wo[r],u;for(u in a)if(a.hasOwnProperty(u)&&u in gT)return Zm[r]=a[u];return r}var yT=Ha("animationend"),vT=Ha("animationiteration"),_T=Ha("animationstart"),nD=Ha("transitionrun"),iD=Ha("transitionstart"),sD=Ha("transitioncancel"),ET=Ha("transitionend"),TT=new Map,wT="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Ni(r,a){TT.set(r,a),Wn(a,[r])}var fi=[],Yo=0,Jm=0;function _d(){for(var r=Yo,a=Jm=Yo=0;a<r;){var u=fi[a];fi[a++]=null;var d=fi[a];fi[a++]=null;var m=fi[a];fi[a++]=null;var v=fi[a];if(fi[a++]=null,d!==null&&m!==null){var S=d.pending;S===null?m.next=m:(m.next=S.next,S.next=m),d.pending=m}v!==0&&bT(u,m,v)}}function Ed(r,a,u,d){fi[Yo++]=r,fi[Yo++]=a,fi[Yo++]=u,fi[Yo++]=d,Jm|=d,r.lanes|=d,r=r.alternate,r!==null&&(r.lanes|=d)}function eg(r,a,u,d){return Ed(r,a,u,d),Td(r)}function Nr(r,a){return Ed(r,null,null,a),Td(r)}function bT(r,a,u){r.lanes|=u;var d=r.alternate;d!==null&&(d.lanes|=u);for(var m=!1,v=r.return;v!==null;)v.childLanes|=u,d=v.alternate,d!==null&&(d.childLanes|=u),v.tag===22&&(r=v.stateNode,r===null||r._visibility&1||(m=!0)),r=v,v=v.return;m&&a!==null&&r.tag===3&&(v=r.stateNode,m=31-kn(u),v=v.hiddenUpdates,r=v[m],r===null?v[m]=[a]:r.push(a),a.lane=u|536870912)}function Td(r){if(50<dc)throw dc=0,ay=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var Qo={},ST=new WeakMap;function pi(r,a){if(typeof r=="object"&&r!==null){var u=ST.get(r);return u!==void 0?u:(a={value:r,source:a,stack:he(a)},ST.set(r,a),a)}return{value:r,source:a,stack:he(a)}}var Xo=[],Zo=0,wd=null,bd=0,mi=[],gi=0,qa=null,Ls=1,Vs="";function Ga(r,a){Xo[Zo++]=bd,Xo[Zo++]=wd,wd=r,bd=a}function xT(r,a,u){mi[gi++]=Ls,mi[gi++]=Vs,mi[gi++]=qa,qa=r;var d=Ls;r=Vs;var m=32-kn(d)-1;d&=~(1<<m),u+=1;var v=32-kn(a)+m;if(30<v){var S=m-m%5;v=(d&(1<<S)-1).toString(32),d>>=S,m-=S,Ls=1<<32-kn(a)+m|u<<m|d,Vs=v+r}else Ls=1<<v|u<<m|d,Vs=r}function tg(r){r.return!==null&&(Ga(r,1),xT(r,1,0))}function ng(r){for(;r===wd;)wd=Xo[--Zo],Xo[Zo]=null,bd=Xo[--Zo],Xo[Zo]=null;for(;r===qa;)qa=mi[--gi],mi[gi]=null,Vs=mi[--gi],mi[gi]=null,Ls=mi[--gi],mi[gi]=null}var jn=null,gn=null,nt=!1,Pi=null,ss=!1,ig=Error(i(519));function $a(r){var a=Error(i(418,""));throw qu(pi(a,r)),ig}function CT(r){var a=r.stateNode,u=r.type,d=r.memoizedProps;switch(a[sn]=r,a[Kt]=d,u){case"dialog":Ge("cancel",a),Ge("close",a);break;case"iframe":case"object":case"embed":Ge("load",a);break;case"video":case"audio":for(u=0;u<pc.length;u++)Ge(pc[u],a);break;case"source":Ge("error",a);break;case"img":case"image":case"link":Ge("error",a),Ge("load",a);break;case"details":Ge("toggle",a);break;case"input":Ge("invalid",a),Ma(a,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),Da(a);break;case"select":Ge("invalid",a);break;case"textarea":Ge("invalid",a),Rr(a,d.value,d.defaultValue,d.children),Da(a)}u=d.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||a.textContent===""+u||d.suppressHydrationWarning===!0||k1(a.textContent,u)?(d.popover!=null&&(Ge("beforetoggle",a),Ge("toggle",a)),d.onScroll!=null&&Ge("scroll",a),d.onScrollEnd!=null&&Ge("scrollend",a),d.onClick!=null&&(a.onclick=tf),a=!0):a=!1,a||$a(r)}function AT(r){for(jn=r.return;jn;)switch(jn.tag){case 3:case 27:ss=!0;return;case 5:case 13:ss=!1;return;default:jn=jn.return}}function Fu(r){if(r!==jn)return!1;if(!nt)return AT(r),nt=!0,!1;var a=!1,u;if((u=r.tag!==3&&r.tag!==27)&&((u=r.tag===5)&&(u=r.type,u=!(u!=="form"&&u!=="button")||by(r.type,r.memoizedProps)),u=!u),u&&(a=!0),a&&gn&&$a(r),AT(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8)if(u=r.data,u==="/$"){if(a===0){gn=Mi(r.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++;r=r.nextSibling}gn=null}}else gn=jn?Mi(r.stateNode.nextSibling):null;return!0}function Hu(){gn=jn=null,nt=!1}function qu(r){Pi===null?Pi=[r]:Pi.push(r)}var Gu=Error(i(460)),RT=Error(i(474)),sg={then:function(){}};function IT(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Sd(){}function NT(r,a,u){switch(u=r[u],u===void 0?r.push(a):u!==a&&(a.then(Sd,Sd),a=u),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,r===Gu?Error(i(483)):r;default:if(typeof a.status=="string")a.then(Sd,Sd);else{if(r=dt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(d){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=d}},function(d){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=d}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,r===Gu?Error(i(483)):r}throw $u=a,Gu}}var $u=null;function PT(){if($u===null)throw Error(i(459));var r=$u;return $u=null,r}var Jo=null,Ku=0;function xd(r){var a=Ku;return Ku+=1,Jo===null&&(Jo=[]),NT(Jo,r,a)}function Wu(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function Cd(r,a){throw a.$$typeof===o?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function DT(r){var a=r._init;return a(r._payload)}function MT(r){function a(K,G){if(r){var Y=K.deletions;Y===null?(K.deletions=[G],K.flags|=16):Y.push(G)}}function u(K,G){if(!r)return null;for(;G!==null;)a(K,G),G=G.sibling;return null}function d(K){for(var G=new Map;K!==null;)K.key!==null?G.set(K.key,K):G.set(K.index,K),K=K.sibling;return G}function m(K,G){return K=Fr(K,G),K.index=0,K.sibling=null,K}function v(K,G,Y){return K.index=Y,r?(Y=K.alternate,Y!==null?(Y=Y.index,Y<G?(K.flags|=33554434,G):Y):(K.flags|=33554434,G)):(K.flags|=1048576,G)}function S(K){return r&&K.alternate===null&&(K.flags|=33554434),K}function D(K,G,Y,te){return G===null||G.tag!==6?(G=Zg(Y,K.mode,te),G.return=K,G):(G=m(G,Y),G.return=K,G)}function B(K,G,Y,te){var ve=Y.type;return ve===h?ee(K,G,Y.props.children,te,Y.key):G!==null&&(G.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===I&&DT(ve)===G.type)?(G=m(G,Y.props),Wu(G,Y),G.return=K,G):(G=qd(Y.type,Y.key,Y.props,null,K.mode,te),Wu(G,Y),G.return=K,G)}function $(K,G,Y,te){return G===null||G.tag!==4||G.stateNode.containerInfo!==Y.containerInfo||G.stateNode.implementation!==Y.implementation?(G=Jg(Y,K.mode,te),G.return=K,G):(G=m(G,Y.children||[]),G.return=K,G)}function ee(K,G,Y,te,ve){return G===null||G.tag!==7?(G=no(Y,K.mode,te,ve),G.return=K,G):(G=m(G,Y),G.return=K,G)}function se(K,G,Y){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Zg(""+G,K.mode,Y),G.return=K,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case l:return Y=qd(G.type,G.key,G.props,null,K.mode,Y),Wu(Y,G),Y.return=K,Y;case c:return G=Jg(G,K.mode,Y),G.return=K,G;case I:var te=G._init;return G=te(G._payload),se(K,G,Y)}if(pe(G)||Z(G))return G=no(G,K.mode,Y,null),G.return=K,G;if(typeof G.then=="function")return se(K,xd(G),Y);if(G.$$typeof===w)return se(K,zd(K,G),Y);Cd(K,G)}return null}function Q(K,G,Y,te){var ve=G!==null?G.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return ve!==null?null:D(K,G,""+Y,te);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case l:return Y.key===ve?B(K,G,Y,te):null;case c:return Y.key===ve?$(K,G,Y,te):null;case I:return ve=Y._init,Y=ve(Y._payload),Q(K,G,Y,te)}if(pe(Y)||Z(Y))return ve!==null?null:ee(K,G,Y,te,null);if(typeof Y.then=="function")return Q(K,G,xd(Y),te);if(Y.$$typeof===w)return Q(K,G,zd(K,Y),te);Cd(K,Y)}return null}function J(K,G,Y,te,ve){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return K=K.get(Y)||null,D(G,K,""+te,ve);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case l:return K=K.get(te.key===null?Y:te.key)||null,B(G,K,te,ve);case c:return K=K.get(te.key===null?Y:te.key)||null,$(G,K,te,ve);case I:var Ve=te._init;return te=Ve(te._payload),J(K,G,Y,te,ve)}if(pe(te)||Z(te))return K=K.get(Y)||null,ee(G,K,te,ve,null);if(typeof te.then=="function")return J(K,G,Y,xd(te),ve);if(te.$$typeof===w)return J(K,G,Y,zd(G,te),ve);Cd(G,te)}return null}function Ee(K,G,Y,te){for(var ve=null,Ve=null,Te=G,xe=G=0,un=null;Te!==null&&xe<Y.length;xe++){Te.index>xe?(un=Te,Te=null):un=Te.sibling;var it=Q(K,Te,Y[xe],te);if(it===null){Te===null&&(Te=un);break}r&&Te&&it.alternate===null&&a(K,Te),G=v(it,G,xe),Ve===null?ve=it:Ve.sibling=it,Ve=it,Te=un}if(xe===Y.length)return u(K,Te),nt&&Ga(K,xe),ve;if(Te===null){for(;xe<Y.length;xe++)Te=se(K,Y[xe],te),Te!==null&&(G=v(Te,G,xe),Ve===null?ve=Te:Ve.sibling=Te,Ve=Te);return nt&&Ga(K,xe),ve}for(Te=d(Te);xe<Y.length;xe++)un=J(Te,K,xe,Y[xe],te),un!==null&&(r&&un.alternate!==null&&Te.delete(un.key===null?xe:un.key),G=v(un,G,xe),Ve===null?ve=un:Ve.sibling=un,Ve=un);return r&&Te.forEach(function(Yr){return a(K,Yr)}),nt&&Ga(K,xe),ve}function Pe(K,G,Y,te){if(Y==null)throw Error(i(151));for(var ve=null,Ve=null,Te=G,xe=G=0,un=null,it=Y.next();Te!==null&&!it.done;xe++,it=Y.next()){Te.index>xe?(un=Te,Te=null):un=Te.sibling;var Yr=Q(K,Te,it.value,te);if(Yr===null){Te===null&&(Te=un);break}r&&Te&&Yr.alternate===null&&a(K,Te),G=v(Yr,G,xe),Ve===null?ve=Yr:Ve.sibling=Yr,Ve=Yr,Te=un}if(it.done)return u(K,Te),nt&&Ga(K,xe),ve;if(Te===null){for(;!it.done;xe++,it=Y.next())it=se(K,it.value,te),it!==null&&(G=v(it,G,xe),Ve===null?ve=it:Ve.sibling=it,Ve=it);return nt&&Ga(K,xe),ve}for(Te=d(Te);!it.done;xe++,it=Y.next())it=J(Te,K,xe,it.value,te),it!==null&&(r&&it.alternate!==null&&Te.delete(it.key===null?xe:it.key),G=v(it,G,xe),Ve===null?ve=it:Ve.sibling=it,Ve=it);return r&&Te.forEach(function(vM){return a(K,vM)}),nt&&Ga(K,xe),ve}function Nt(K,G,Y,te){if(typeof Y=="object"&&Y!==null&&Y.type===h&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case l:e:{for(var ve=Y.key;G!==null;){if(G.key===ve){if(ve=Y.type,ve===h){if(G.tag===7){u(K,G.sibling),te=m(G,Y.props.children),te.return=K,K=te;break e}}else if(G.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===I&&DT(ve)===G.type){u(K,G.sibling),te=m(G,Y.props),Wu(te,Y),te.return=K,K=te;break e}u(K,G);break}else a(K,G);G=G.sibling}Y.type===h?(te=no(Y.props.children,K.mode,te,Y.key),te.return=K,K=te):(te=qd(Y.type,Y.key,Y.props,null,K.mode,te),Wu(te,Y),te.return=K,K=te)}return S(K);case c:e:{for(ve=Y.key;G!==null;){if(G.key===ve)if(G.tag===4&&G.stateNode.containerInfo===Y.containerInfo&&G.stateNode.implementation===Y.implementation){u(K,G.sibling),te=m(G,Y.children||[]),te.return=K,K=te;break e}else{u(K,G);break}else a(K,G);G=G.sibling}te=Jg(Y,K.mode,te),te.return=K,K=te}return S(K);case I:return ve=Y._init,Y=ve(Y._payload),Nt(K,G,Y,te)}if(pe(Y))return Ee(K,G,Y,te);if(Z(Y)){if(ve=Z(Y),typeof ve!="function")throw Error(i(150));return Y=ve.call(Y),Pe(K,G,Y,te)}if(typeof Y.then=="function")return Nt(K,G,xd(Y),te);if(Y.$$typeof===w)return Nt(K,G,zd(K,Y),te);Cd(K,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,G!==null&&G.tag===6?(u(K,G.sibling),te=m(G,Y),te.return=K,K=te):(u(K,G),te=Zg(Y,K.mode,te),te.return=K,K=te),S(K)):u(K,G)}return function(K,G,Y,te){try{Ku=0;var ve=Nt(K,G,Y,te);return Jo=null,ve}catch(Te){if(Te===Gu)throw Te;var Ve=Ei(29,Te,null,K.mode);return Ve.lanes=te,Ve.return=K,Ve}finally{}}}var Ka=MT(!0),OT=MT(!1),el=We(null),Ad=We(0);function kT(r,a){r=Ws,Ye(Ad,r),Ye(el,a),Ws=r|a.baseLanes}function rg(){Ye(Ad,Ws),Ye(el,el.current)}function ag(){Ws=Ad.current,yt(el),yt(Ad)}var yi=We(null),rs=null;function Pr(r){var a=r.alternate;Ye(Qt,Qt.current&1),Ye(yi,r),rs===null&&(a===null||el.current!==null||a.memoizedState!==null)&&(rs=r)}function LT(r){if(r.tag===22){if(Ye(Qt,Qt.current),Ye(yi,r),rs===null){var a=r.alternate;a!==null&&a.memoizedState!==null&&(rs=r)}}else Dr()}function Dr(){Ye(Qt,Qt.current),Ye(yi,yi.current)}function js(r){yt(yi),rs===r&&(rs=null),yt(Qt)}var Qt=We(0);function Rd(r){for(var a=r;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var rD=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(u,d){r.push(d)}};this.abort=function(){a.aborted=!0,r.forEach(function(u){return u()})}},aD=n.unstable_scheduleCallback,oD=n.unstable_NormalPriority,Xt={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function og(){return{controller:new rD,data:new Map,refCount:0}}function Yu(r){r.refCount--,r.refCount===0&&aD(oD,function(){r.controller.abort()})}var Qu=null,lg=0,tl=0,nl=null;function lD(r,a){if(Qu===null){var u=Qu=[];lg=0,tl=py(),nl={status:"pending",value:void 0,then:function(d){u.push(d)}}}return lg++,a.then(VT,VT),a}function VT(){if(--lg===0&&Qu!==null){nl!==null&&(nl.status="fulfilled");var r=Qu;Qu=null,tl=0,nl=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function uD(r,a){var u=[],d={status:"pending",value:null,reason:null,then:function(m){u.push(m)}};return r.then(function(){d.status="fulfilled",d.value=a;for(var m=0;m<u.length;m++)(0,u[m])(a)},function(m){for(d.status="rejected",d.reason=m,m=0;m<u.length;m++)(0,u[m])(void 0)}),d}var jT=C.S;C.S=function(r,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&lD(r,a),jT!==null&&jT(r,a)};var Wa=We(null);function ug(){var r=Wa.current;return r!==null?r:dt.pooledCache}function Id(r,a){a===null?Ye(Wa,Wa.current):Ye(Wa,a.pool)}function UT(){var r=ug();return r===null?null:{parent:Xt._currentValue,pool:r}}var Mr=0,Le=null,ot=null,Bt=null,Nd=!1,il=!1,Ya=!1,Pd=0,Xu=0,sl=null,cD=0;function Lt(){throw Error(i(321))}function cg(r,a){if(a===null)return!1;for(var u=0;u<a.length&&u<r.length;u++)if(!Qn(r[u],a[u]))return!1;return!0}function hg(r,a,u,d,m,v){return Mr=v,Le=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,C.H=r===null||r.memoizedState===null?Qa:Or,Ya=!1,v=u(d,m),Ya=!1,il&&(v=zT(a,u,d,m)),BT(r),v}function BT(r){C.H=as;var a=ot!==null&&ot.next!==null;if(Mr=0,Bt=ot=Le=null,Nd=!1,Xu=0,sl=null,a)throw Error(i(300));r===null||on||(r=r.dependencies,r!==null&&Bd(r)&&(on=!0))}function zT(r,a,u,d){Le=r;var m=0;do{if(il&&(sl=null),Xu=0,il=!1,25<=m)throw Error(i(301));if(m+=1,Bt=ot=null,r.updateQueue!=null){var v=r.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}C.H=Xa,v=a(u,d)}while(il);return v}function hD(){var r=C.H,a=r.useState()[0];return a=typeof a.then=="function"?Zu(a):a,r=r.useState()[0],(ot!==null?ot.memoizedState:null)!==r&&(Le.flags|=1024),a}function dg(){var r=Pd!==0;return Pd=0,r}function fg(r,a,u){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~u}function pg(r){if(Nd){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Nd=!1}Mr=0,Bt=ot=Le=null,il=!1,Xu=Pd=0,sl=null}function qn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?Le.memoizedState=Bt=r:Bt=Bt.next=r,Bt}function zt(){if(ot===null){var r=Le.alternate;r=r!==null?r.memoizedState:null}else r=ot.next;var a=Bt===null?Le.memoizedState:Bt.next;if(a!==null)Bt=a,ot=r;else{if(r===null)throw Le.alternate===null?Error(i(467)):Error(i(310));ot=r,r={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},Bt===null?Le.memoizedState=Bt=r:Bt=Bt.next=r}return Bt}var Dd;Dd=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Zu(r){var a=Xu;return Xu+=1,sl===null&&(sl=[]),r=NT(sl,r,a),a=Le,(Bt===null?a.memoizedState:Bt.next)===null&&(a=a.alternate,C.H=a===null||a.memoizedState===null?Qa:Or),r}function Md(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Zu(r);if(r.$$typeof===w)return Cn(r)}throw Error(i(438,String(r)))}function mg(r){var a=null,u=Le.updateQueue;if(u!==null&&(a=u.memoCache),a==null){var d=Le.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(a={data:d.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),u===null&&(u=Dd(),Le.updateQueue=u),u.memoCache=a,u=a.data[a.index],u===void 0)for(u=a.data[a.index]=Array(r),d=0;d<r;d++)u[d]=H;return a.index++,u}function Us(r,a){return typeof a=="function"?a(r):a}function Od(r){var a=zt();return gg(a,ot,r)}function gg(r,a,u){var d=r.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=u;var m=r.baseQueue,v=d.pending;if(v!==null){if(m!==null){var S=m.next;m.next=v.next,v.next=S}a.baseQueue=m=v,d.pending=null}if(v=r.baseState,m===null)r.memoizedState=v;else{a=m.next;var D=S=null,B=null,$=a,ee=!1;do{var se=$.lane&-536870913;if(se!==$.lane?(Je&se)===se:(Mr&se)===se){var Q=$.revertLane;if(Q===0)B!==null&&(B=B.next={lane:0,revertLane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),se===tl&&(ee=!0);else if((Mr&Q)===Q){$=$.next,Q===tl&&(ee=!0);continue}else se={lane:0,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},B===null?(D=B=se,S=v):B=B.next=se,Le.lanes|=Q,Hr|=Q;se=$.action,Ya&&u(v,se),v=$.hasEagerState?$.eagerState:u(v,se)}else Q={lane:se,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},B===null?(D=B=Q,S=v):B=B.next=Q,Le.lanes|=se,Hr|=se;$=$.next}while($!==null&&$!==a);if(B===null?S=v:B.next=D,!Qn(v,r.memoizedState)&&(on=!0,ee&&(u=nl,u!==null)))throw u;r.memoizedState=v,r.baseState=S,r.baseQueue=B,d.lastRenderedState=v}return m===null&&(d.lanes=0),[r.memoizedState,d.dispatch]}function yg(r){var a=zt(),u=a.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=r;var d=u.dispatch,m=u.pending,v=a.memoizedState;if(m!==null){u.pending=null;var S=m=m.next;do v=r(v,S.action),S=S.next;while(S!==m);Qn(v,a.memoizedState)||(on=!0),a.memoizedState=v,a.baseQueue===null&&(a.baseState=v),u.lastRenderedState=v}return[v,d]}function FT(r,a,u){var d=Le,m=zt(),v=nt;if(v){if(u===void 0)throw Error(i(407));u=u()}else u=a();var S=!Qn((ot||m).memoizedState,u);if(S&&(m.memoizedState=u,on=!0),m=m.queue,Eg(GT.bind(null,d,m,r),[r]),m.getSnapshot!==a||S||Bt!==null&&Bt.memoizedState.tag&1){if(d.flags|=2048,rl(9,qT.bind(null,d,m,u,a),{destroy:void 0},null),dt===null)throw Error(i(349));v||Mr&60||HT(d,a,u)}return u}function HT(r,a,u){r.flags|=16384,r={getSnapshot:a,value:u},a=Le.updateQueue,a===null?(a=Dd(),Le.updateQueue=a,a.stores=[r]):(u=a.stores,u===null?a.stores=[r]:u.push(r))}function qT(r,a,u,d){a.value=u,a.getSnapshot=d,$T(a)&&KT(r)}function GT(r,a,u){return u(function(){$T(a)&&KT(r)})}function $T(r){var a=r.getSnapshot;r=r.value;try{var u=a();return!Qn(r,u)}catch{return!0}}function KT(r){var a=Nr(r,2);a!==null&&Un(a,r,2)}function vg(r){var a=qn();if(typeof r=="function"){var u=r;if(r=u(),Ya){Ki(!0);try{u()}finally{Ki(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Us,lastRenderedState:r},a}function WT(r,a,u,d){return r.baseState=u,gg(r,ot,typeof d=="function"?d:Us)}function dD(r,a,u,d,m){if(Vd(r))throw Error(i(485));if(r=a.action,r!==null){var v={payload:m,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){v.listeners.push(S)}};C.T!==null?u(!0):v.isTransition=!1,d(v),u=a.pending,u===null?(v.next=a.pending=v,YT(a,v)):(v.next=u.next,a.pending=u.next=v)}}function YT(r,a){var u=a.action,d=a.payload,m=r.state;if(a.isTransition){var v=C.T,S={};C.T=S;try{var D=u(m,d),B=C.S;B!==null&&B(S,D),QT(r,a,D)}catch($){_g(r,a,$)}finally{C.T=v}}else try{v=u(m,d),QT(r,a,v)}catch($){_g(r,a,$)}}function QT(r,a,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(d){XT(r,a,d)},function(d){return _g(r,a,d)}):XT(r,a,u)}function XT(r,a,u){a.status="fulfilled",a.value=u,ZT(a),r.state=u,a=r.pending,a!==null&&(u=a.next,u===a?r.pending=null:(u=u.next,a.next=u,YT(r,u)))}function _g(r,a,u){var d=r.pending;if(r.pending=null,d!==null){d=d.next;do a.status="rejected",a.reason=u,ZT(a),a=a.next;while(a!==d)}r.action=null}function ZT(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function JT(r,a){return a}function ew(r,a){if(nt){var u=dt.formState;if(u!==null){e:{var d=Le;if(nt){if(gn){t:{for(var m=gn,v=ss;m.nodeType!==8;){if(!v){m=null;break t}if(m=Mi(m.nextSibling),m===null){m=null;break t}}v=m.data,m=v==="F!"||v==="F"?m:null}if(m){gn=Mi(m.nextSibling),d=m.data==="F!";break e}}$a(d)}d=!1}d&&(a=u[0])}}return u=qn(),u.memoizedState=u.baseState=a,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:JT,lastRenderedState:a},u.queue=d,u=vw.bind(null,Le,d),d.dispatch=u,d=vg(!1),v=xg.bind(null,Le,!1,d.queue),d=qn(),m={state:a,dispatch:null,action:r,pending:null},d.queue=m,u=dD.bind(null,Le,m,v,u),m.dispatch=u,d.memoizedState=r,[a,u,!1]}function tw(r){var a=zt();return nw(a,ot,r)}function nw(r,a,u){a=gg(r,a,JT)[0],r=Od(Us)[0],a=typeof a=="object"&&a!==null&&typeof a.then=="function"?Zu(a):a;var d=zt(),m=d.queue,v=m.dispatch;return u!==d.memoizedState&&(Le.flags|=2048,rl(9,fD.bind(null,m,u),{destroy:void 0},null)),[a,v,r]}function fD(r,a){r.action=a}function iw(r){var a=zt(),u=ot;if(u!==null)return nw(a,u,r);zt(),a=a.memoizedState,u=zt();var d=u.queue.dispatch;return u.memoizedState=r,[a,d,!1]}function rl(r,a,u,d){return r={tag:r,create:a,inst:u,deps:d,next:null},a=Le.updateQueue,a===null&&(a=Dd(),Le.updateQueue=a),u=a.lastEffect,u===null?a.lastEffect=r.next=r:(d=u.next,u.next=r,r.next=d,a.lastEffect=r),r}function sw(){return zt().memoizedState}function kd(r,a,u,d){var m=qn();Le.flags|=r,m.memoizedState=rl(1|a,u,{destroy:void 0},d===void 0?null:d)}function Ld(r,a,u,d){var m=zt();d=d===void 0?null:d;var v=m.memoizedState.inst;ot!==null&&d!==null&&cg(d,ot.memoizedState.deps)?m.memoizedState=rl(a,u,v,d):(Le.flags|=r,m.memoizedState=rl(1|a,u,v,d))}function rw(r,a){kd(8390656,8,r,a)}function Eg(r,a){Ld(2048,8,r,a)}function aw(r,a){return Ld(4,2,r,a)}function ow(r,a){return Ld(4,4,r,a)}function lw(r,a){if(typeof a=="function"){r=r();var u=a(r);return function(){typeof u=="function"?u():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function uw(r,a,u){u=u!=null?u.concat([r]):null,Ld(4,4,lw.bind(null,a,r),u)}function Tg(){}function cw(r,a){var u=zt();a=a===void 0?null:a;var d=u.memoizedState;return a!==null&&cg(a,d[1])?d[0]:(u.memoizedState=[r,a],r)}function hw(r,a){var u=zt();a=a===void 0?null:a;var d=u.memoizedState;if(a!==null&&cg(a,d[1]))return d[0];if(d=r(),Ya){Ki(!0);try{r()}finally{Ki(!1)}}return u.memoizedState=[d,a],d}function wg(r,a,u){return u===void 0||Mr&1073741824?r.memoizedState=a:(r.memoizedState=u,r=f1(),Le.lanes|=r,Hr|=r,u)}function dw(r,a,u,d){return Qn(u,a)?u:el.current!==null?(r=wg(r,u,d),Qn(r,a)||(on=!0),r):Mr&42?(r=f1(),Le.lanes|=r,Hr|=r,a):(on=!0,r.memoizedState=u)}function fw(r,a,u,d,m){var v=me.p;me.p=v!==0&&8>v?v:8;var S=C.T,D={};C.T=D,xg(r,!1,a,u);try{var B=m(),$=C.S;if($!==null&&$(D,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var ee=uD(B,d);Ju(r,a,ee,ei(r))}else Ju(r,a,d,ei(r))}catch(se){Ju(r,a,{then:function(){},status:"rejected",reason:se},ei())}finally{me.p=v,C.T=S}}function pD(){}function bg(r,a,u,d){if(r.tag!==5)throw Error(i(476));var m=pw(r).queue;fw(r,m,a,Oe,u===null?pD:function(){return mw(r),u(d)})}function pw(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:Oe,baseState:Oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Us,lastRenderedState:Oe},next:null};var u={};return a.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Us,lastRenderedState:u},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function mw(r){var a=pw(r).next.queue;Ju(r,a,{},ei())}function Sg(){return Cn(_c)}function gw(){return zt().memoizedState}function yw(){return zt().memoizedState}function mD(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var u=ei();r=Vr(u);var d=jr(a,r,u);d!==null&&(Un(d,a,u),nc(d,a,u)),a={cache:og()},r.payload=a;return}a=a.return}}function gD(r,a,u){var d=ei();u={lane:d,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Vd(r)?_w(a,u):(u=eg(r,a,u,d),u!==null&&(Un(u,r,d),Ew(u,a,d)))}function vw(r,a,u){var d=ei();Ju(r,a,u,d)}function Ju(r,a,u,d){var m={lane:d,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Vd(r))_w(a,m);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=a.lastRenderedReducer,v!==null))try{var S=a.lastRenderedState,D=v(S,u);if(m.hasEagerState=!0,m.eagerState=D,Qn(D,S))return Ed(r,a,m,0),dt===null&&_d(),!1}catch{}finally{}if(u=eg(r,a,m,d),u!==null)return Un(u,r,d),Ew(u,a,d),!0}return!1}function xg(r,a,u,d){if(d={lane:2,revertLane:py(),action:d,hasEagerState:!1,eagerState:null,next:null},Vd(r)){if(a)throw Error(i(479))}else a=eg(r,u,d,2),a!==null&&Un(a,r,2)}function Vd(r){var a=r.alternate;return r===Le||a!==null&&a===Le}function _w(r,a){il=Nd=!0;var u=r.pending;u===null?a.next=a:(a.next=u.next,u.next=a),r.pending=a}function Ew(r,a,u){if(u&4194176){var d=a.lanes;d&=r.pendingLanes,u|=d,a.lanes=u,Er(r,u)}}var as={readContext:Cn,use:Md,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useLayoutEffect:Lt,useInsertionEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useSyncExternalStore:Lt,useId:Lt};as.useCacheRefresh=Lt,as.useMemoCache=Lt,as.useHostTransitionStatus=Lt,as.useFormState=Lt,as.useActionState=Lt,as.useOptimistic=Lt;var Qa={readContext:Cn,use:Md,useCallback:function(r,a){return qn().memoizedState=[r,a===void 0?null:a],r},useContext:Cn,useEffect:rw,useImperativeHandle:function(r,a,u){u=u!=null?u.concat([r]):null,kd(4194308,4,lw.bind(null,a,r),u)},useLayoutEffect:function(r,a){return kd(4194308,4,r,a)},useInsertionEffect:function(r,a){kd(4,2,r,a)},useMemo:function(r,a){var u=qn();a=a===void 0?null:a;var d=r();if(Ya){Ki(!0);try{r()}finally{Ki(!1)}}return u.memoizedState=[d,a],d},useReducer:function(r,a,u){var d=qn();if(u!==void 0){var m=u(a);if(Ya){Ki(!0);try{u(a)}finally{Ki(!1)}}}else m=a;return d.memoizedState=d.baseState=m,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:m},d.queue=r,r=r.dispatch=gD.bind(null,Le,r),[d.memoizedState,r]},useRef:function(r){var a=qn();return r={current:r},a.memoizedState=r},useState:function(r){r=vg(r);var a=r.queue,u=vw.bind(null,Le,a);return a.dispatch=u,[r.memoizedState,u]},useDebugValue:Tg,useDeferredValue:function(r,a){var u=qn();return wg(u,r,a)},useTransition:function(){var r=vg(!1);return r=fw.bind(null,Le,r.queue,!0,!1),qn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,u){var d=Le,m=qn();if(nt){if(u===void 0)throw Error(i(407));u=u()}else{if(u=a(),dt===null)throw Error(i(349));Je&60||HT(d,a,u)}m.memoizedState=u;var v={value:u,getSnapshot:a};return m.queue=v,rw(GT.bind(null,d,v,r),[r]),d.flags|=2048,rl(9,qT.bind(null,d,v,u,a),{destroy:void 0},null),u},useId:function(){var r=qn(),a=dt.identifierPrefix;if(nt){var u=Vs,d=Ls;u=(d&~(1<<32-kn(d)-1)).toString(32)+u,a=":"+a+"R"+u,u=Pd++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=cD++,a=":"+a+"r"+u.toString(32)+":";return r.memoizedState=a},useCacheRefresh:function(){return qn().memoizedState=mD.bind(null,Le)}};Qa.useMemoCache=mg,Qa.useHostTransitionStatus=Sg,Qa.useFormState=ew,Qa.useActionState=ew,Qa.useOptimistic=function(r){var a=qn();a.memoizedState=a.baseState=r;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=u,a=xg.bind(null,Le,!0,u),u.dispatch=a,[r,a]};var Or={readContext:Cn,use:Md,useCallback:cw,useContext:Cn,useEffect:Eg,useImperativeHandle:uw,useInsertionEffect:aw,useLayoutEffect:ow,useMemo:hw,useReducer:Od,useRef:sw,useState:function(){return Od(Us)},useDebugValue:Tg,useDeferredValue:function(r,a){var u=zt();return dw(u,ot.memoizedState,r,a)},useTransition:function(){var r=Od(Us)[0],a=zt().memoizedState;return[typeof r=="boolean"?r:Zu(r),a]},useSyncExternalStore:FT,useId:gw};Or.useCacheRefresh=yw,Or.useMemoCache=mg,Or.useHostTransitionStatus=Sg,Or.useFormState=tw,Or.useActionState=tw,Or.useOptimistic=function(r,a){var u=zt();return WT(u,ot,r,a)};var Xa={readContext:Cn,use:Md,useCallback:cw,useContext:Cn,useEffect:Eg,useImperativeHandle:uw,useInsertionEffect:aw,useLayoutEffect:ow,useMemo:hw,useReducer:yg,useRef:sw,useState:function(){return yg(Us)},useDebugValue:Tg,useDeferredValue:function(r,a){var u=zt();return ot===null?wg(u,r,a):dw(u,ot.memoizedState,r,a)},useTransition:function(){var r=yg(Us)[0],a=zt().memoizedState;return[typeof r=="boolean"?r:Zu(r),a]},useSyncExternalStore:FT,useId:gw};Xa.useCacheRefresh=yw,Xa.useMemoCache=mg,Xa.useHostTransitionStatus=Sg,Xa.useFormState=iw,Xa.useActionState=iw,Xa.useOptimistic=function(r,a){var u=zt();return ot!==null?WT(u,ot,r,a):(u.baseState=r,[r,u.queue.dispatch])};function Cg(r,a,u,d){a=r.memoizedState,u=u(d,a),u=u==null?a:R({},a,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var Ag={isMounted:function(r){return(r=r._reactInternals)?ae(r)===r:!1},enqueueSetState:function(r,a,u){r=r._reactInternals;var d=ei(),m=Vr(d);m.payload=a,u!=null&&(m.callback=u),a=jr(r,m,d),a!==null&&(Un(a,r,d),nc(a,r,d))},enqueueReplaceState:function(r,a,u){r=r._reactInternals;var d=ei(),m=Vr(d);m.tag=1,m.payload=a,u!=null&&(m.callback=u),a=jr(r,m,d),a!==null&&(Un(a,r,d),nc(a,r,d))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var u=ei(),d=Vr(u);d.tag=2,a!=null&&(d.callback=a),a=jr(r,d,u),a!==null&&(Un(a,r,u),nc(a,r,u))}};function Tw(r,a,u,d,m,v,S){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,v,S):a.prototype&&a.prototype.isPureReactComponent?!Bu(u,d)||!Bu(m,v):!0}function ww(r,a,u,d){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,d),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,d),a.state!==r&&Ag.enqueueReplaceState(a,a.state,null)}function Za(r,a){var u=a;if("ref"in a){u={};for(var d in a)d!=="ref"&&(u[d]=a[d])}if(r=r.defaultProps){u===a&&(u=R({},u));for(var m in r)u[m]===void 0&&(u[m]=r[m])}return u}var jd=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function bw(r){jd(r)}function Sw(r){console.error(r)}function xw(r){jd(r)}function Ud(r,a){try{var u=r.onUncaughtError;u(a.value,{componentStack:a.stack})}catch(d){setTimeout(function(){throw d})}}function Cw(r,a,u){try{var d=r.onCaughtError;d(u.value,{componentStack:u.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Rg(r,a,u){return u=Vr(u),u.tag=3,u.payload={element:null},u.callback=function(){Ud(r,a)},u}function Aw(r){return r=Vr(r),r.tag=3,r}function Rw(r,a,u,d){var m=u.type.getDerivedStateFromError;if(typeof m=="function"){var v=d.value;r.payload=function(){return m(v)},r.callback=function(){Cw(a,u,d)}}var S=u.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(r.callback=function(){Cw(a,u,d),typeof m!="function"&&(qr===null?qr=new Set([this]):qr.add(this));var D=d.stack;this.componentDidCatch(d.value,{componentStack:D!==null?D:""})})}function yD(r,a,u,d,m){if(u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(a=u.alternate,a!==null&&tc(a,u,m,!0),u=yi.current,u!==null){switch(u.tag){case 13:return rs===null?uy():u.alternate===null&&It===0&&(It=3),u.flags&=-257,u.flags|=65536,u.lanes=m,d===sg?u.flags|=16384:(a=u.updateQueue,a===null?u.updateQueue=new Set([d]):a.add(d),hy(r,d,m)),!1;case 22:return u.flags|=65536,d===sg?u.flags|=16384:(a=u.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([d])},u.updateQueue=a):(u=a.retryQueue,u===null?a.retryQueue=new Set([d]):u.add(d)),hy(r,d,m)),!1}throw Error(i(435,u.tag))}return hy(r,d,m),uy(),!1}if(nt)return a=yi.current,a!==null?(!(a.flags&65536)&&(a.flags|=256),a.flags|=65536,a.lanes=m,d!==ig&&(r=Error(i(422),{cause:d}),qu(pi(r,u)))):(d!==ig&&(a=Error(i(423),{cause:d}),qu(pi(a,u))),r=r.current.alternate,r.flags|=65536,m&=-m,r.lanes|=m,d=pi(d,u),m=Rg(r.stateNode,d,m),Hg(r,m),It!==4&&(It=2)),!1;var v=Error(i(520),{cause:d});if(v=pi(v,u),cc===null?cc=[v]:cc.push(v),It!==4&&(It=2),a===null)return!0;d=pi(d,u),u=a;do{switch(u.tag){case 3:return u.flags|=65536,r=m&-m,u.lanes|=r,r=Rg(u.stateNode,d,r),Hg(u,r),!1;case 1:if(a=u.type,v=u.stateNode,(u.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(qr===null||!qr.has(v))))return u.flags|=65536,m&=-m,u.lanes|=m,m=Aw(m),Rw(m,r,u,d),Hg(u,m),!1}u=u.return}while(u!==null);return!1}var Iw=Error(i(461)),on=!1;function yn(r,a,u,d){a.child=r===null?OT(a,null,u,d):Ka(a,r.child,u,d)}function Nw(r,a,u,d,m){u=u.render;var v=a.ref;if("ref"in d){var S={};for(var D in d)D!=="ref"&&(S[D]=d[D])}else S=d;return eo(a),d=hg(r,a,u,S,v,m),D=dg(),r!==null&&!on?(fg(r,a,m),Bs(r,a,m)):(nt&&D&&tg(a),a.flags|=1,yn(r,a,d,m),a.child)}function Pw(r,a,u,d,m){if(r===null){var v=u.type;return typeof v=="function"&&!Xg(v)&&v.defaultProps===void 0&&u.compare===null?(a.tag=15,a.type=v,Dw(r,a,v,d,m)):(r=qd(u.type,null,d,a,a.mode,m),r.ref=a.ref,r.return=a,a.child=r)}if(v=r.child,!Vg(r,m)){var S=v.memoizedProps;if(u=u.compare,u=u!==null?u:Bu,u(S,d)&&r.ref===a.ref)return Bs(r,a,m)}return a.flags|=1,r=Fr(v,d),r.ref=a.ref,r.return=a,a.child=r}function Dw(r,a,u,d,m){if(r!==null){var v=r.memoizedProps;if(Bu(v,d)&&r.ref===a.ref)if(on=!1,a.pendingProps=d=v,Vg(r,m))r.flags&131072&&(on=!0);else return a.lanes=r.lanes,Bs(r,a,m)}return Ig(r,a,u,d,m)}function Mw(r,a,u){var d=a.pendingProps,m=d.children,v=(a.stateNode._pendingVisibility&2)!==0,S=r!==null?r.memoizedState:null;if(ec(r,a),d.mode==="hidden"||v){if(a.flags&128){if(d=S!==null?S.baseLanes|u:u,r!==null){for(m=a.child=r.child,v=0;m!==null;)v=v|m.lanes|m.childLanes,m=m.sibling;a.childLanes=v&~d}else a.childLanes=0,a.child=null;return Ow(r,a,d,u)}if(u&536870912)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&Id(a,S!==null?S.cachePool:null),S!==null?kT(a,S):rg(),LT(a);else return a.lanes=a.childLanes=536870912,Ow(r,a,S!==null?S.baseLanes|u:u,u)}else S!==null?(Id(a,S.cachePool),kT(a,S),Dr(),a.memoizedState=null):(r!==null&&Id(a,null),rg(),Dr());return yn(r,a,m,u),a.child}function Ow(r,a,u,d){var m=ug();return m=m===null?null:{parent:Xt._currentValue,pool:m},a.memoizedState={baseLanes:u,cachePool:m},r!==null&&Id(a,null),rg(),LT(a),r!==null&&tc(r,a,d,!0),null}function ec(r,a){var u=a.ref;if(u===null)r!==null&&r.ref!==null&&(a.flags|=2097664);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(r===null||r.ref!==u)&&(a.flags|=2097664)}}function Ig(r,a,u,d,m){return eo(a),u=hg(r,a,u,d,void 0,m),d=dg(),r!==null&&!on?(fg(r,a,m),Bs(r,a,m)):(nt&&d&&tg(a),a.flags|=1,yn(r,a,u,m),a.child)}function kw(r,a,u,d,m,v){return eo(a),a.updateQueue=null,u=zT(a,d,u,m),BT(r),d=dg(),r!==null&&!on?(fg(r,a,v),Bs(r,a,v)):(nt&&d&&tg(a),a.flags|=1,yn(r,a,u,v),a.child)}function Lw(r,a,u,d,m){if(eo(a),a.stateNode===null){var v=Qo,S=u.contextType;typeof S=="object"&&S!==null&&(v=Cn(S)),v=new u(d,v),a.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Ag,a.stateNode=v,v._reactInternals=a,v=a.stateNode,v.props=d,v.state=a.memoizedState,v.refs={},zg(a),S=u.contextType,v.context=typeof S=="object"&&S!==null?Cn(S):Qo,v.state=a.memoizedState,S=u.getDerivedStateFromProps,typeof S=="function"&&(Cg(a,u,S,d),v.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(S=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),S!==v.state&&Ag.enqueueReplaceState(v,v.state,null),sc(a,d,v,m),ic(),v.state=a.memoizedState),typeof v.componentDidMount=="function"&&(a.flags|=4194308),d=!0}else if(r===null){v=a.stateNode;var D=a.memoizedProps,B=Za(u,D);v.props=B;var $=v.context,ee=u.contextType;S=Qo,typeof ee=="object"&&ee!==null&&(S=Cn(ee));var se=u.getDerivedStateFromProps;ee=typeof se=="function"||typeof v.getSnapshotBeforeUpdate=="function",D=a.pendingProps!==D,ee||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(D||$!==S)&&ww(a,v,d,S),Lr=!1;var Q=a.memoizedState;v.state=Q,sc(a,d,v,m),ic(),$=a.memoizedState,D||Q!==$||Lr?(typeof se=="function"&&(Cg(a,u,se,d),$=a.memoizedState),(B=Lr||Tw(a,u,B,d,Q,$,S))?(ee||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(a.flags|=4194308)):(typeof v.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=d,a.memoizedState=$),v.props=d,v.state=$,v.context=S,d=B):(typeof v.componentDidMount=="function"&&(a.flags|=4194308),d=!1)}else{v=a.stateNode,Fg(r,a),S=a.memoizedProps,ee=Za(u,S),v.props=ee,se=a.pendingProps,Q=v.context,$=u.contextType,B=Qo,typeof $=="object"&&$!==null&&(B=Cn($)),D=u.getDerivedStateFromProps,($=typeof D=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==se||Q!==B)&&ww(a,v,d,B),Lr=!1,Q=a.memoizedState,v.state=Q,sc(a,d,v,m),ic();var J=a.memoizedState;S!==se||Q!==J||Lr||r!==null&&r.dependencies!==null&&Bd(r.dependencies)?(typeof D=="function"&&(Cg(a,u,D,d),J=a.memoizedState),(ee=Lr||Tw(a,u,ee,d,Q,J,B)||r!==null&&r.dependencies!==null&&Bd(r.dependencies))?($||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(d,J,B),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(d,J,B)),typeof v.componentDidUpdate=="function"&&(a.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof v.componentDidUpdate!="function"||S===r.memoizedProps&&Q===r.memoizedState||(a.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&Q===r.memoizedState||(a.flags|=1024),a.memoizedProps=d,a.memoizedState=J),v.props=d,v.state=J,v.context=B,d=ee):(typeof v.componentDidUpdate!="function"||S===r.memoizedProps&&Q===r.memoizedState||(a.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&Q===r.memoizedState||(a.flags|=1024),d=!1)}return v=d,ec(r,a),d=(a.flags&128)!==0,v||d?(v=a.stateNode,u=d&&typeof u.getDerivedStateFromError!="function"?null:v.render(),a.flags|=1,r!==null&&d?(a.child=Ka(a,r.child,null,m),a.child=Ka(a,null,u,m)):yn(r,a,u,m),a.memoizedState=v.state,r=a.child):r=Bs(r,a,m),r}function Vw(r,a,u,d){return Hu(),a.flags|=256,yn(r,a,u,d),a.child}var Ng={dehydrated:null,treeContext:null,retryLane:0};function Pg(r){return{baseLanes:r,cachePool:UT()}}function Dg(r,a,u){return r=r!==null?r.childLanes&~u:0,a&&(r|=Ti),r}function jw(r,a,u){var d=a.pendingProps,m=!1,v=(a.flags&128)!==0,S;if((S=v)||(S=r!==null&&r.memoizedState===null?!1:(Qt.current&2)!==0),S&&(m=!0,a.flags&=-129),S=(a.flags&32)!==0,a.flags&=-33,r===null){if(nt){if(m?Pr(a):Dr(),nt){var D=gn,B;if(B=D){e:{for(B=D,D=ss;B.nodeType!==8;){if(!D){D=null;break e}if(B=Mi(B.nextSibling),B===null){D=null;break e}}D=B}D!==null?(a.memoizedState={dehydrated:D,treeContext:qa!==null?{id:Ls,overflow:Vs}:null,retryLane:536870912},B=Ei(18,null,null,0),B.stateNode=D,B.return=a,a.child=B,jn=a,gn=null,B=!0):B=!1}B||$a(a)}if(D=a.memoizedState,D!==null&&(D=D.dehydrated,D!==null))return D.data==="$!"?a.lanes=16:a.lanes=536870912,null;js(a)}return D=d.children,d=d.fallback,m?(Dr(),m=a.mode,D=Og({mode:"hidden",children:D},m),d=no(d,m,u,null),D.return=a,d.return=a,D.sibling=d,a.child=D,m=a.child,m.memoizedState=Pg(u),m.childLanes=Dg(r,S,u),a.memoizedState=Ng,d):(Pr(a),Mg(a,D))}if(B=r.memoizedState,B!==null&&(D=B.dehydrated,D!==null)){if(v)a.flags&256?(Pr(a),a.flags&=-257,a=kg(r,a,u)):a.memoizedState!==null?(Dr(),a.child=r.child,a.flags|=128,a=null):(Dr(),m=d.fallback,D=a.mode,d=Og({mode:"visible",children:d.children},D),m=no(m,D,u,null),m.flags|=2,d.return=a,m.return=a,d.sibling=m,a.child=d,Ka(a,r.child,null,u),d=a.child,d.memoizedState=Pg(u),d.childLanes=Dg(r,S,u),a.memoizedState=Ng,a=m);else if(Pr(a),D.data==="$!"){if(S=D.nextSibling&&D.nextSibling.dataset,S)var $=S.dgst;S=$,d=Error(i(419)),d.stack="",d.digest=S,qu({value:d,source:null,stack:null}),a=kg(r,a,u)}else if(on||tc(r,a,u,!1),S=(u&r.childLanes)!==0,on||S){if(S=dt,S!==null){if(d=u&-u,d&42)d=1;else switch(d){case 2:d=1;break;case 8:d=4;break;case 32:d=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:d=64;break;case 268435456:d=134217728;break;default:d=0}if(d=d&(S.suspendedLanes|u)?0:d,d!==0&&d!==B.retryLane)throw B.retryLane=d,Nr(r,d),Un(S,r,d),Iw}D.data==="$?"||uy(),a=kg(r,a,u)}else D.data==="$?"?(a.flags|=128,a.child=r.child,a=DD.bind(null,r),D._reactRetry=a,a=null):(r=B.treeContext,gn=Mi(D.nextSibling),jn=a,nt=!0,Pi=null,ss=!1,r!==null&&(mi[gi++]=Ls,mi[gi++]=Vs,mi[gi++]=qa,Ls=r.id,Vs=r.overflow,qa=a),a=Mg(a,d.children),a.flags|=4096);return a}return m?(Dr(),m=d.fallback,D=a.mode,B=r.child,$=B.sibling,d=Fr(B,{mode:"hidden",children:d.children}),d.subtreeFlags=B.subtreeFlags&31457280,$!==null?m=Fr($,m):(m=no(m,D,u,null),m.flags|=2),m.return=a,d.return=a,d.sibling=m,a.child=d,d=m,m=a.child,D=r.child.memoizedState,D===null?D=Pg(u):(B=D.cachePool,B!==null?($=Xt._currentValue,B=B.parent!==$?{parent:$,pool:$}:B):B=UT(),D={baseLanes:D.baseLanes|u,cachePool:B}),m.memoizedState=D,m.childLanes=Dg(r,S,u),a.memoizedState=Ng,d):(Pr(a),u=r.child,r=u.sibling,u=Fr(u,{mode:"visible",children:d.children}),u.return=a,u.sibling=null,r!==null&&(S=a.deletions,S===null?(a.deletions=[r],a.flags|=16):S.push(r)),a.child=u,a.memoizedState=null,u)}function Mg(r,a){return a=Og({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function Og(r,a){return c1(r,a,0,null)}function kg(r,a,u){return Ka(a,r.child,null,u),r=Mg(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function Uw(r,a,u){r.lanes|=a;var d=r.alternate;d!==null&&(d.lanes|=a),Ug(r.return,a,u)}function Lg(r,a,u,d,m){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:m}:(v.isBackwards=a,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=u,v.tailMode=m)}function Bw(r,a,u){var d=a.pendingProps,m=d.revealOrder,v=d.tail;if(yn(r,a,d.children,u),d=Qt.current,d&2)d=d&1|2,a.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Uw(r,u,a);else if(r.tag===19)Uw(r,u,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}switch(Ye(Qt,d),m){case"forwards":for(u=a.child,m=null;u!==null;)r=u.alternate,r!==null&&Rd(r)===null&&(m=u),u=u.sibling;u=m,u===null?(m=a.child,a.child=null):(m=u.sibling,u.sibling=null),Lg(a,!1,m,u,v);break;case"backwards":for(u=null,m=a.child,a.child=null;m!==null;){if(r=m.alternate,r!==null&&Rd(r)===null){a.child=m;break}r=m.sibling,m.sibling=u,u=m,m=r}Lg(a,!0,u,null,v);break;case"together":Lg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Bs(r,a,u){if(r!==null&&(a.dependencies=r.dependencies),Hr|=a.lanes,!(u&a.childLanes))if(r!==null){if(tc(r,a,u,!1),(u&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,u=Fr(r,r.pendingProps),a.child=u,u.return=a;r.sibling!==null;)r=r.sibling,u=u.sibling=Fr(r,r.pendingProps),u.return=a;u.sibling=null}return a.child}function Vg(r,a){return r.lanes&a?!0:(r=r.dependencies,!!(r!==null&&Bd(r)))}function vD(r,a,u){switch(a.tag){case 3:Gi(a,a.stateNode.containerInfo),kr(a,Xt,r.memoizedState.cache),Hu();break;case 27:case 5:we(a);break;case 4:Gi(a,a.stateNode.containerInfo);break;case 10:kr(a,a.type,a.memoizedProps.value);break;case 13:var d=a.memoizedState;if(d!==null)return d.dehydrated!==null?(Pr(a),a.flags|=128,null):u&a.child.childLanes?jw(r,a,u):(Pr(a),r=Bs(r,a,u),r!==null?r.sibling:null);Pr(a);break;case 19:var m=(r.flags&128)!==0;if(d=(u&a.childLanes)!==0,d||(tc(r,a,u,!1),d=(u&a.childLanes)!==0),m){if(d)return Bw(r,a,u);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Ye(Qt,Qt.current),d)break;return null;case 22:case 23:return a.lanes=0,Mw(r,a,u);case 24:kr(a,Xt,r.memoizedState.cache)}return Bs(r,a,u)}function zw(r,a,u){if(r!==null)if(r.memoizedProps!==a.pendingProps)on=!0;else{if(!Vg(r,u)&&!(a.flags&128))return on=!1,vD(r,a,u);on=!!(r.flags&131072)}else on=!1,nt&&a.flags&1048576&&xT(a,bd,a.index);switch(a.lanes=0,a.tag){case 16:e:{r=a.pendingProps;var d=a.elementType,m=d._init;if(d=m(d._payload),a.type=d,typeof d=="function")Xg(d)?(r=Za(d,r),a.tag=1,a=Lw(null,a,d,r,u)):(a.tag=0,a=Ig(null,a,d,r,u));else{if(d!=null){if(m=d.$$typeof,m===x){a.tag=11,a=Nw(null,a,d,r,u);break e}else if(m===P){a.tag=14,a=Pw(null,a,d,r,u);break e}}throw a=A(d)||d,Error(i(306,a,""))}}return a;case 0:return Ig(r,a,a.type,a.pendingProps,u);case 1:return d=a.type,m=Za(d,a.pendingProps),Lw(r,a,d,m,u);case 3:e:{if(Gi(a,a.stateNode.containerInfo),r===null)throw Error(i(387));var v=a.pendingProps;m=a.memoizedState,d=m.element,Fg(r,a),sc(a,v,null,u);var S=a.memoizedState;if(v=S.cache,kr(a,Xt,v),v!==m.cache&&Bg(a,[Xt],u,!0),ic(),v=S.element,m.isDehydrated)if(m={element:v,isDehydrated:!1,cache:S.cache},a.updateQueue.baseState=m,a.memoizedState=m,a.flags&256){a=Vw(r,a,v,u);break e}else if(v!==d){d=pi(Error(i(424)),a),qu(d),a=Vw(r,a,v,u);break e}else for(gn=Mi(a.stateNode.containerInfo.firstChild),jn=a,nt=!0,Pi=null,ss=!0,u=OT(a,null,v,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Hu(),v===d){a=Bs(r,a,u);break e}yn(r,a,v,u)}a=a.child}return a;case 26:return ec(r,a),r===null?(u=q1(a.type,null,a.pendingProps,null))?a.memoizedState=u:nt||(u=a.type,r=a.pendingProps,d=nf(On.current).createElement(u),d[sn]=a,d[Kt]=r,vn(d,u,r),Et(d),a.stateNode=d):a.memoizedState=q1(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return we(a),r===null&&nt&&(d=a.stateNode=z1(a.type,a.pendingProps,On.current),jn=a,ss=!0,gn=Mi(d.firstChild)),d=a.pendingProps.children,r!==null||nt?yn(r,a,d,u):a.child=Ka(a,null,d,u),ec(r,a),a.child;case 5:return r===null&&nt&&((m=d=gn)&&(d=WD(d,a.type,a.pendingProps,ss),d!==null?(a.stateNode=d,jn=a,gn=Mi(d.firstChild),ss=!1,m=!0):m=!1),m||$a(a)),we(a),m=a.type,v=a.pendingProps,S=r!==null?r.memoizedProps:null,d=v.children,by(m,v)?d=null:S!==null&&by(m,S)&&(a.flags|=32),a.memoizedState!==null&&(m=hg(r,a,hD,null,null,u),_c._currentValue=m),ec(r,a),yn(r,a,d,u),a.child;case 6:return r===null&&nt&&((r=u=gn)&&(u=YD(u,a.pendingProps,ss),u!==null?(a.stateNode=u,jn=a,gn=null,r=!0):r=!1),r||$a(a)),null;case 13:return jw(r,a,u);case 4:return Gi(a,a.stateNode.containerInfo),d=a.pendingProps,r===null?a.child=Ka(a,null,d,u):yn(r,a,d,u),a.child;case 11:return Nw(r,a,a.type,a.pendingProps,u);case 7:return yn(r,a,a.pendingProps,u),a.child;case 8:return yn(r,a,a.pendingProps.children,u),a.child;case 12:return yn(r,a,a.pendingProps.children,u),a.child;case 10:return d=a.pendingProps,kr(a,a.type,d.value),yn(r,a,d.children,u),a.child;case 9:return m=a.type._context,d=a.pendingProps.children,eo(a),m=Cn(m),d=d(m),a.flags|=1,yn(r,a,d,u),a.child;case 14:return Pw(r,a,a.type,a.pendingProps,u);case 15:return Dw(r,a,a.type,a.pendingProps,u);case 19:return Bw(r,a,u);case 22:return Mw(r,a,u);case 24:return eo(a),d=Cn(Xt),r===null?(m=ug(),m===null&&(m=dt,v=og(),m.pooledCache=v,v.refCount++,v!==null&&(m.pooledCacheLanes|=u),m=v),a.memoizedState={parent:d,cache:m},zg(a),kr(a,Xt,m)):(r.lanes&u&&(Fg(r,a),sc(a,null,null,u),ic()),m=r.memoizedState,v=a.memoizedState,m.parent!==d?(m={parent:d,cache:d},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),kr(a,Xt,d)):(d=v.cache,kr(a,Xt,d),d!==m.cache&&Bg(a,[Xt],u,!0))),yn(r,a,a.pendingProps.children,u),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}var jg=We(null),Ja=null,zs=null;function kr(r,a,u){Ye(jg,a._currentValue),a._currentValue=u}function Fs(r){r._currentValue=jg.current,yt(jg)}function Ug(r,a,u){for(;r!==null;){var d=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,d!==null&&(d.childLanes|=a)):d!==null&&(d.childLanes&a)!==a&&(d.childLanes|=a),r===u)break;r=r.return}}function Bg(r,a,u,d){var m=r.child;for(m!==null&&(m.return=r);m!==null;){var v=m.dependencies;if(v!==null){var S=m.child;v=v.firstContext;e:for(;v!==null;){var D=v;v=m;for(var B=0;B<a.length;B++)if(D.context===a[B]){v.lanes|=u,D=v.alternate,D!==null&&(D.lanes|=u),Ug(v.return,u,r),d||(S=null);break e}v=D.next}}else if(m.tag===18){if(S=m.return,S===null)throw Error(i(341));S.lanes|=u,v=S.alternate,v!==null&&(v.lanes|=u),Ug(S,u,r),S=null}else S=m.child;if(S!==null)S.return=m;else for(S=m;S!==null;){if(S===r){S=null;break}if(m=S.sibling,m!==null){m.return=S.return,S=m;break}S=S.return}m=S}}function tc(r,a,u,d){r=null;for(var m=a,v=!1;m!==null;){if(!v){if(m.flags&524288)v=!0;else if(m.flags&262144)break}if(m.tag===10){var S=m.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var D=m.type;Qn(m.pendingProps.value,S.value)||(r!==null?r.push(D):r=[D])}}else if(m===qi.current){if(S=m.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(r!==null?r.push(_c):r=[_c])}m=m.return}r!==null&&Bg(a,r,u,d),a.flags|=262144}function Bd(r){for(r=r.firstContext;r!==null;){if(!Qn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function eo(r){Ja=r,zs=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Cn(r){return Fw(Ja,r)}function zd(r,a){return Ja===null&&eo(r),Fw(r,a)}function Fw(r,a){var u=a._currentValue;if(a={context:a,memoizedValue:u,next:null},zs===null){if(r===null)throw Error(i(308));zs=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else zs=zs.next=a;return u}var Lr=!1;function zg(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fg(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Vr(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function jr(r,a,u){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,wt&2){var m=d.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),d.pending=a,a=Td(r),bT(r,null,u),a}return Ed(r,d,a,u),Td(r)}function nc(r,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194176)!==0)){var d=a.lanes;d&=r.pendingLanes,u|=d,a.lanes=u,Er(r,u)}}function Hg(r,a){var u=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var m=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var S={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};v===null?m=v=S:v=v.next=S,u=u.next}while(u!==null);v===null?m=v=a:v=v.next=a}else m=v=a;u={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:d.shared,callbacks:d.callbacks},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=a:r.next=a,u.lastBaseUpdate=a}var qg=!1;function ic(){if(qg){var r=nl;if(r!==null)throw r}}function sc(r,a,u,d){qg=!1;var m=r.updateQueue;Lr=!1;var v=m.firstBaseUpdate,S=m.lastBaseUpdate,D=m.shared.pending;if(D!==null){m.shared.pending=null;var B=D,$=B.next;B.next=null,S===null?v=$:S.next=$,S=B;var ee=r.alternate;ee!==null&&(ee=ee.updateQueue,D=ee.lastBaseUpdate,D!==S&&(D===null?ee.firstBaseUpdate=$:D.next=$,ee.lastBaseUpdate=B))}if(v!==null){var se=m.baseState;S=0,ee=$=B=null,D=v;do{var Q=D.lane&-536870913,J=Q!==D.lane;if(J?(Je&Q)===Q:(d&Q)===Q){Q!==0&&Q===tl&&(qg=!0),ee!==null&&(ee=ee.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var Ee=r,Pe=D;Q=a;var Nt=u;switch(Pe.tag){case 1:if(Ee=Pe.payload,typeof Ee=="function"){se=Ee.call(Nt,se,Q);break e}se=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Pe.payload,Q=typeof Ee=="function"?Ee.call(Nt,se,Q):Ee,Q==null)break e;se=R({},se,Q);break e;case 2:Lr=!0}}Q=D.callback,Q!==null&&(r.flags|=64,J&&(r.flags|=8192),J=m.callbacks,J===null?m.callbacks=[Q]:J.push(Q))}else J={lane:Q,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ee===null?($=ee=J,B=se):ee=ee.next=J,S|=Q;if(D=D.next,D===null){if(D=m.shared.pending,D===null)break;J=D,D=J.next,J.next=null,m.lastBaseUpdate=J,m.shared.pending=null}}while(!0);ee===null&&(B=se),m.baseState=B,m.firstBaseUpdate=$,m.lastBaseUpdate=ee,v===null&&(m.shared.lanes=0),Hr|=S,r.lanes=S,r.memoizedState=se}}function Hw(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function qw(r,a){var u=r.callbacks;if(u!==null)for(r.callbacks=null,r=0;r<u.length;r++)Hw(u[r],a)}function rc(r,a){try{var u=a.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var m=d.next;u=m;do{if((u.tag&r)===r){d=void 0;var v=u.create,S=u.inst;d=v(),S.destroy=d}u=u.next}while(u!==m)}}catch(D){ct(a,a.return,D)}}function Ur(r,a,u){try{var d=a.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var v=m.next;d=v;do{if((d.tag&r)===r){var S=d.inst,D=S.destroy;if(D!==void 0){S.destroy=void 0,m=a;var B=u;try{D()}catch($){ct(m,B,$)}}}d=d.next}while(d!==v)}}catch($){ct(a,a.return,$)}}function Gw(r){var a=r.updateQueue;if(a!==null){var u=r.stateNode;try{qw(a,u)}catch(d){ct(r,r.return,d)}}}function $w(r,a,u){u.props=Za(r.type,r.memoizedProps),u.state=r.memoizedState;try{u.componentWillUnmount()}catch(d){ct(r,a,d)}}function to(r,a){try{var u=r.ref;if(u!==null){var d=r.stateNode;switch(r.tag){case 26:case 27:case 5:var m=d;break;default:m=d}typeof u=="function"?r.refCleanup=u(m):u.current=m}}catch(v){ct(r,a,v)}}function Xn(r,a){var u=r.ref,d=r.refCleanup;if(u!==null)if(typeof d=="function")try{d()}catch(m){ct(r,a,m)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(m){ct(r,a,m)}else u.current=null}function Kw(r){var a=r.type,u=r.memoizedProps,d=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":u.autoFocus&&d.focus();break e;case"img":u.src?d.src=u.src:u.srcSet&&(d.srcset=u.srcSet)}}catch(m){ct(r,r.return,m)}}function Ww(r,a,u){try{var d=r.stateNode;HD(d,r.type,u,a),d[Kt]=a}catch(m){ct(r,r.return,m)}}function Yw(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27||r.tag===4}function Gg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Yw(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==27&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function $g(r,a,u){var d=r.tag;if(d===5||d===6)r=r.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(r,a):u.insertBefore(r,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(r,u)):(a=u,a.appendChild(r)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=tf));else if(d!==4&&d!==27&&(r=r.child,r!==null))for($g(r,a,u),r=r.sibling;r!==null;)$g(r,a,u),r=r.sibling}function Fd(r,a,u){var d=r.tag;if(d===5||d===6)r=r.stateNode,a?u.insertBefore(r,a):u.appendChild(r);else if(d!==4&&d!==27&&(r=r.child,r!==null))for(Fd(r,a,u),r=r.sibling;r!==null;)Fd(r,a,u),r=r.sibling}var Hs=!1,Rt=!1,Kg=!1,Qw=typeof WeakSet=="function"?WeakSet:Set,ln=null,Xw=!1;function _D(r,a){if(r=r.containerInfo,Ty=uf,r=pT(r),Ym(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else e:{u=(u=r.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var m=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var S=0,D=-1,B=-1,$=0,ee=0,se=r,Q=null;t:for(;;){for(var J;se!==u||m!==0&&se.nodeType!==3||(D=S+m),se!==v||d!==0&&se.nodeType!==3||(B=S+d),se.nodeType===3&&(S+=se.nodeValue.length),(J=se.firstChild)!==null;)Q=se,se=J;for(;;){if(se===r)break t;if(Q===u&&++$===m&&(D=S),Q===v&&++ee===d&&(B=S),(J=se.nextSibling)!==null)break;se=Q,Q=se.parentNode}se=J}u=D===-1||B===-1?null:{start:D,end:B}}else u=null}u=u||{start:0,end:0}}else u=null;for(wy={focusedElem:r,selectionRange:u},uf=!1,ln=a;ln!==null;)if(a=ln,r=a.child,(a.subtreeFlags&1028)!==0&&r!==null)r.return=a,ln=r;else for(;ln!==null;){switch(a=ln,v=a.alternate,r=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if(r&1024&&v!==null){r=void 0,u=a,m=v.memoizedProps,v=v.memoizedState,d=u.stateNode;try{var Ee=Za(u.type,m,u.elementType===u.type);r=d.getSnapshotBeforeUpdate(Ee,v),d.__reactInternalSnapshotBeforeUpdate=r}catch(Pe){ct(u,u.return,Pe)}}break;case 3:if(r&1024){if(r=a.stateNode.containerInfo,u=r.nodeType,u===9)Cy(r);else if(u===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Cy(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(r&1024)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,ln=r;break}ln=a.return}return Ee=Xw,Xw=!1,Ee}function Zw(r,a,u){var d=u.flags;switch(u.tag){case 0:case 11:case 15:Gs(r,u),d&4&&rc(5,u);break;case 1:if(Gs(r,u),d&4)if(r=u.stateNode,a===null)try{r.componentDidMount()}catch(D){ct(u,u.return,D)}else{var m=Za(u.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(m,a,r.__reactInternalSnapshotBeforeUpdate)}catch(D){ct(u,u.return,D)}}d&64&&Gw(u),d&512&&to(u,u.return);break;case 3:if(Gs(r,u),d&64&&(d=u.updateQueue,d!==null)){if(r=null,u.child!==null)switch(u.child.tag){case 27:case 5:r=u.child.stateNode;break;case 1:r=u.child.stateNode}try{qw(d,r)}catch(D){ct(u,u.return,D)}}break;case 26:Gs(r,u),d&512&&to(u,u.return);break;case 27:case 5:Gs(r,u),a===null&&d&4&&Kw(u),d&512&&to(u,u.return);break;case 12:Gs(r,u);break;case 13:Gs(r,u),d&4&&t1(r,u);break;case 22:if(m=u.memoizedState!==null||Hs,!m){a=a!==null&&a.memoizedState!==null||Rt;var v=Hs,S=Rt;Hs=m,(Rt=a)&&!S?Br(r,u,(u.subtreeFlags&8772)!==0):Gs(r,u),Hs=v,Rt=S}d&512&&(u.memoizedProps.mode==="manual"?to(u,u.return):Xn(u,u.return));break;default:Gs(r,u)}}function Jw(r){var a=r.alternate;a!==null&&(r.alternate=null,Jw(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&Pa(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Ft=null,Zn=!1;function qs(r,a,u){for(u=u.child;u!==null;)e1(r,a,u),u=u.sibling}function e1(r,a,u){if(xn&&typeof xn.onCommitFiberUnmount=="function")try{xn.onCommitFiberUnmount(mr,u)}catch{}switch(u.tag){case 26:Rt||Xn(u,a),qs(r,a,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Rt||Xn(u,a);var d=Ft,m=Zn;for(Ft=u.stateNode,qs(r,a,u),u=u.stateNode,a=u.attributes;a.length;)u.removeAttributeNode(a[0]);Pa(u),Ft=d,Zn=m;break;case 5:Rt||Xn(u,a);case 6:m=Ft;var v=Zn;if(Ft=null,qs(r,a,u),Ft=m,Zn=v,Ft!==null)if(Zn)try{r=Ft,d=u.stateNode,r.nodeType===8?r.parentNode.removeChild(d):r.removeChild(d)}catch(S){ct(u,a,S)}else try{Ft.removeChild(u.stateNode)}catch(S){ct(u,a,S)}break;case 18:Ft!==null&&(Zn?(a=Ft,u=u.stateNode,a.nodeType===8?xy(a.parentNode,u):a.nodeType===1&&xy(a,u),bc(a)):xy(Ft,u.stateNode));break;case 4:d=Ft,m=Zn,Ft=u.stateNode.containerInfo,Zn=!0,qs(r,a,u),Ft=d,Zn=m;break;case 0:case 11:case 14:case 15:Rt||Ur(2,u,a),Rt||Ur(4,u,a),qs(r,a,u);break;case 1:Rt||(Xn(u,a),d=u.stateNode,typeof d.componentWillUnmount=="function"&&$w(u,a,d)),qs(r,a,u);break;case 21:qs(r,a,u);break;case 22:Rt||Xn(u,a),Rt=(d=Rt)||u.memoizedState!==null,qs(r,a,u),Rt=d;break;default:qs(r,a,u)}}function t1(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{bc(r)}catch(u){ct(a,a.return,u)}}function ED(r){switch(r.tag){case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new Qw),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new Qw),a;default:throw Error(i(435,r.tag))}}function Wg(r,a){var u=ED(r);a.forEach(function(d){var m=MD.bind(null,r,d);u.has(d)||(u.add(d),d.then(m,m))})}function vi(r,a){var u=a.deletions;if(u!==null)for(var d=0;d<u.length;d++){var m=u[d],v=r,S=a,D=S;e:for(;D!==null;){switch(D.tag){case 27:case 5:Ft=D.stateNode,Zn=!1;break e;case 3:Ft=D.stateNode.containerInfo,Zn=!0;break e;case 4:Ft=D.stateNode.containerInfo,Zn=!0;break e}D=D.return}if(Ft===null)throw Error(i(160));e1(v,S,m),Ft=null,Zn=!1,v=m.alternate,v!==null&&(v.return=null),m.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)n1(a,r),a=a.sibling}var Di=null;function n1(r,a){var u=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:vi(a,r),_i(r),d&4&&(Ur(3,r,r.return),rc(3,r),Ur(5,r,r.return));break;case 1:vi(a,r),_i(r),d&512&&(Rt||u===null||Xn(u,u.return)),d&64&&Hs&&(r=r.updateQueue,r!==null&&(d=r.callbacks,d!==null&&(u=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=u===null?d:u.concat(d))));break;case 26:var m=Di;if(vi(a,r),_i(r),d&512&&(Rt||u===null||Xn(u,u.return)),d&4){var v=u!==null?u.memoizedState:null;if(d=r.memoizedState,u===null)if(d===null)if(r.stateNode===null){e:{d=r.type,u=r.memoizedProps,m=m.ownerDocument||m;t:switch(d){case"title":v=m.getElementsByTagName("title")[0],(!v||v[wr]||v[sn]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=m.createElement(d),m.head.insertBefore(v,m.querySelector("head > title"))),vn(v,d,u),v[sn]=r,Et(v),d=v;break e;case"link":var S=K1("link","href",m).get(d+(u.href||""));if(S){for(var D=0;D<S.length;D++)if(v=S[D],v.getAttribute("href")===(u.href==null?null:u.href)&&v.getAttribute("rel")===(u.rel==null?null:u.rel)&&v.getAttribute("title")===(u.title==null?null:u.title)&&v.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){S.splice(D,1);break t}}v=m.createElement(d),vn(v,d,u),m.head.appendChild(v);break;case"meta":if(S=K1("meta","content",m).get(d+(u.content||""))){for(D=0;D<S.length;D++)if(v=S[D],v.getAttribute("content")===(u.content==null?null:""+u.content)&&v.getAttribute("name")===(u.name==null?null:u.name)&&v.getAttribute("property")===(u.property==null?null:u.property)&&v.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&v.getAttribute("charset")===(u.charSet==null?null:u.charSet)){S.splice(D,1);break t}}v=m.createElement(d),vn(v,d,u),m.head.appendChild(v);break;default:throw Error(i(468,d))}v[sn]=r,Et(v),d=v}r.stateNode=d}else W1(m,r.type,r.stateNode);else r.stateNode=$1(m,d,r.memoizedProps);else v!==d?(v===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):v.count--,d===null?W1(m,r.type,r.stateNode):$1(m,d,r.memoizedProps)):d===null&&r.stateNode!==null&&Ww(r,r.memoizedProps,u.memoizedProps)}break;case 27:if(d&4&&r.alternate===null){m=r.stateNode,v=r.memoizedProps;try{for(var B=m.firstChild;B;){var $=B.nextSibling,ee=B.nodeName;B[wr]||ee==="HEAD"||ee==="BODY"||ee==="SCRIPT"||ee==="STYLE"||ee==="LINK"&&B.rel.toLowerCase()==="stylesheet"||m.removeChild(B),B=$}for(var se=r.type,Q=m.attributes;Q.length;)m.removeAttributeNode(Q[0]);vn(m,se,v),m[sn]=r,m[Kt]=v}catch(Ee){ct(r,r.return,Ee)}}case 5:if(vi(a,r),_i(r),d&512&&(Rt||u===null||Xn(u,u.return)),r.flags&32){m=r.stateNode;try{ui(m,"")}catch(Ee){ct(r,r.return,Ee)}}d&4&&r.stateNode!=null&&(m=r.memoizedProps,Ww(r,m,u!==null?u.memoizedProps:m)),d&1024&&(Kg=!0);break;case 6:if(vi(a,r),_i(r),d&4){if(r.stateNode===null)throw Error(i(162));d=r.memoizedProps,u=r.stateNode;try{u.nodeValue=d}catch(Ee){ct(r,r.return,Ee)}}break;case 3:if(af=null,m=Di,Di=sf(a.containerInfo),vi(a,r),Di=m,_i(r),d&4&&u!==null&&u.memoizedState.isDehydrated)try{bc(a.containerInfo)}catch(Ee){ct(r,r.return,Ee)}Kg&&(Kg=!1,i1(r));break;case 4:d=Di,Di=sf(r.stateNode.containerInfo),vi(a,r),_i(r),Di=d;break;case 12:vi(a,r),_i(r);break;case 13:vi(a,r),_i(r),r.child.flags&8192&&r.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(iy=$t()),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,Wg(r,d)));break;case 22:if(d&512&&(Rt||u===null||Xn(u,u.return)),B=r.memoizedState!==null,$=u!==null&&u.memoizedState!==null,ee=Hs,se=Rt,Hs=ee||B,Rt=se||$,vi(a,r),Rt=se,Hs=ee,_i(r),a=r.stateNode,a._current=r,a._visibility&=-3,a._visibility|=a._pendingVisibility&2,d&8192&&(a._visibility=B?a._visibility&-2:a._visibility|1,B&&(a=Hs||Rt,u===null||$||a||al(r)),r.memoizedProps===null||r.memoizedProps.mode!=="manual"))e:for(u=null,a=r;;){if(a.tag===5||a.tag===26||a.tag===27){if(u===null){$=u=a;try{if(m=$.stateNode,B)v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=$.stateNode,D=$.memoizedProps.style;var J=D!=null&&D.hasOwnProperty("display")?D.display:null;S.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(Ee){ct($,$.return,Ee)}}}else if(a.tag===6){if(u===null){$=a;try{$.stateNode.nodeValue=B?"":$.memoizedProps}catch(Ee){ct($,$.return,Ee)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;u===a&&(u=null),a=a.return}u===a&&(u=null),a.sibling.return=a.return,a=a.sibling}d&4&&(d=r.updateQueue,d!==null&&(u=d.retryQueue,u!==null&&(d.retryQueue=null,Wg(r,u))));break;case 19:vi(a,r),_i(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,Wg(r,d)));break;case 21:break;default:vi(a,r),_i(r)}}function _i(r){var a=r.flags;if(a&2){try{if(r.tag!==27){e:{for(var u=r.return;u!==null;){if(Yw(u)){var d=u;break e}u=u.return}throw Error(i(160))}switch(d.tag){case 27:var m=d.stateNode,v=Gg(r);Fd(r,v,m);break;case 5:var S=d.stateNode;d.flags&32&&(ui(S,""),d.flags&=-33);var D=Gg(r);Fd(r,D,S);break;case 3:case 4:var B=d.stateNode.containerInfo,$=Gg(r);$g(r,$,B);break;default:throw Error(i(161))}}}catch(ee){ct(r,r.return,ee)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function i1(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;i1(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function Gs(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Zw(r,a.alternate,a),a=a.sibling}function al(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:Ur(4,a,a.return),al(a);break;case 1:Xn(a,a.return);var u=a.stateNode;typeof u.componentWillUnmount=="function"&&$w(a,a.return,u),al(a);break;case 26:case 27:case 5:Xn(a,a.return),al(a);break;case 22:Xn(a,a.return),a.memoizedState===null&&al(a);break;default:al(a)}r=r.sibling}}function Br(r,a,u){for(u=u&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var d=a.alternate,m=r,v=a,S=v.flags;switch(v.tag){case 0:case 11:case 15:Br(m,v,u),rc(4,v);break;case 1:if(Br(m,v,u),d=v,m=d.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch($){ct(d,d.return,$)}if(d=v,m=d.updateQueue,m!==null){var D=d.stateNode;try{var B=m.shared.hiddenCallbacks;if(B!==null)for(m.shared.hiddenCallbacks=null,m=0;m<B.length;m++)Hw(B[m],D)}catch($){ct(d,d.return,$)}}u&&S&64&&Gw(v),to(v,v.return);break;case 26:case 27:case 5:Br(m,v,u),u&&d===null&&S&4&&Kw(v),to(v,v.return);break;case 12:Br(m,v,u);break;case 13:Br(m,v,u),u&&S&4&&t1(m,v);break;case 22:v.memoizedState===null&&Br(m,v,u),to(v,v.return);break;default:Br(m,v,u)}a=a.sibling}}function Yg(r,a){var u=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==u&&(r!=null&&r.refCount++,u!=null&&Yu(u))}function Qg(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Yu(r))}function zr(r,a,u,d){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)s1(r,a,u,d),a=a.sibling}function s1(r,a,u,d){var m=a.flags;switch(a.tag){case 0:case 11:case 15:zr(r,a,u,d),m&2048&&rc(9,a);break;case 3:zr(r,a,u,d),m&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Yu(r)));break;case 12:if(m&2048){zr(r,a,u,d),r=a.stateNode;try{var v=a.memoizedProps,S=v.id,D=v.onPostCommit;typeof D=="function"&&D(S,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(B){ct(a,a.return,B)}}else zr(r,a,u,d);break;case 23:break;case 22:v=a.stateNode,a.memoizedState!==null?v._visibility&4?zr(r,a,u,d):ac(r,a):v._visibility&4?zr(r,a,u,d):(v._visibility|=4,ol(r,a,u,d,(a.subtreeFlags&10256)!==0)),m&2048&&Yg(a.alternate,a);break;case 24:zr(r,a,u,d),m&2048&&Qg(a.alternate,a);break;default:zr(r,a,u,d)}}function ol(r,a,u,d,m){for(m=m&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var v=r,S=a,D=u,B=d,$=S.flags;switch(S.tag){case 0:case 11:case 15:ol(v,S,D,B,m),rc(8,S);break;case 23:break;case 22:var ee=S.stateNode;S.memoizedState!==null?ee._visibility&4?ol(v,S,D,B,m):ac(v,S):(ee._visibility|=4,ol(v,S,D,B,m)),m&&$&2048&&Yg(S.alternate,S);break;case 24:ol(v,S,D,B,m),m&&$&2048&&Qg(S.alternate,S);break;default:ol(v,S,D,B,m)}a=a.sibling}}function ac(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var u=r,d=a,m=d.flags;switch(d.tag){case 22:ac(u,d),m&2048&&Yg(d.alternate,d);break;case 24:ac(u,d),m&2048&&Qg(d.alternate,d);break;default:ac(u,d)}a=a.sibling}}var oc=8192;function ll(r){if(r.subtreeFlags&oc)for(r=r.child;r!==null;)r1(r),r=r.sibling}function r1(r){switch(r.tag){case 26:ll(r),r.flags&oc&&r.memoizedState!==null&&lM(Di,r.memoizedState,r.memoizedProps);break;case 5:ll(r);break;case 3:case 4:var a=Di;Di=sf(r.stateNode.containerInfo),ll(r),Di=a;break;case 22:r.memoizedState===null&&(a=r.alternate,a!==null&&a.memoizedState!==null?(a=oc,oc=16777216,ll(r),oc=a):ll(r));break;default:ll(r)}}function a1(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function lc(r){var a=r.deletions;if(r.flags&16){if(a!==null)for(var u=0;u<a.length;u++){var d=a[u];ln=d,l1(d,r)}a1(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)o1(r),r=r.sibling}function o1(r){switch(r.tag){case 0:case 11:case 15:lc(r),r.flags&2048&&Ur(9,r,r.return);break;case 3:lc(r);break;case 12:lc(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&4&&(r.return===null||r.return.tag!==13)?(a._visibility&=-5,Hd(r)):lc(r);break;default:lc(r)}}function Hd(r){var a=r.deletions;if(r.flags&16){if(a!==null)for(var u=0;u<a.length;u++){var d=a[u];ln=d,l1(d,r)}a1(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:Ur(8,a,a.return),Hd(a);break;case 22:u=a.stateNode,u._visibility&4&&(u._visibility&=-5,Hd(a));break;default:Hd(a)}r=r.sibling}}function l1(r,a){for(;ln!==null;){var u=ln;switch(u.tag){case 0:case 11:case 15:Ur(8,u,a);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var d=u.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Yu(u.memoizedState.cache)}if(d=u.child,d!==null)d.return=u,ln=d;else e:for(u=r;ln!==null;){d=ln;var m=d.sibling,v=d.return;if(Jw(d),d===u){ln=null;break e}if(m!==null){m.return=v,ln=m;break e}ln=v}}}function TD(r,a,u,d){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ei(r,a,u,d){return new TD(r,a,u,d)}function Xg(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Fr(r,a){var u=r.alternate;return u===null?(u=Ei(r.tag,a,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=a,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&31457280,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,a=r.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u.refCleanup=r.refCleanup,u}function u1(r,a){r.flags&=31457282;var u=r.alternate;return u===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=u.childLanes,r.lanes=u.lanes,r.child=u.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=u.memoizedProps,r.memoizedState=u.memoizedState,r.updateQueue=u.updateQueue,r.type=u.type,a=u.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function qd(r,a,u,d,m,v){var S=0;if(d=r,typeof r=="function")Xg(r)&&(S=1);else if(typeof r=="string")S=aM(r,u,pn.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case h:return no(u.children,m,v,a);case f:S=8,m|=24;break;case g:return r=Ei(12,u,a,m|2),r.elementType=g,r.lanes=v,r;case O:return r=Ei(13,u,a,m),r.elementType=O,r.lanes=v,r;case V:return r=Ei(19,u,a,m),r.elementType=V,r.lanes=v,r;case N:return c1(u,m,v,a);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case y:case w:S=10;break e;case _:S=9;break e;case x:S=11;break e;case P:S=14;break e;case I:S=16,d=null;break e}S=29,u=Error(i(130,r===null?"null":typeof r,"")),d=null}return a=Ei(S,u,a,m),a.elementType=r,a.type=d,a.lanes=v,a}function no(r,a,u,d){return r=Ei(7,r,d,a),r.lanes=u,r}function c1(r,a,u,d){r=Ei(22,r,d,a),r.elementType=N,r.lanes=u;var m={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var v=m._current;if(v===null)throw Error(i(456));if(!(m._pendingVisibility&2)){var S=Nr(v,2);S!==null&&(m._pendingVisibility|=2,Un(S,v,2))}},attach:function(){var v=m._current;if(v===null)throw Error(i(456));if(m._pendingVisibility&2){var S=Nr(v,2);S!==null&&(m._pendingVisibility&=-3,Un(S,v,2))}}};return r.stateNode=m,r}function Zg(r,a,u){return r=Ei(6,r,null,a),r.lanes=u,r}function Jg(r,a,u){return a=Ei(4,r.children!==null?r.children:[],r.key,a),a.lanes=u,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}function $s(r){r.flags|=4}function h1(r,a){if(a.type!=="stylesheet"||a.state.loading&4)r.flags&=-16777217;else if(r.flags|=16777216,!Y1(a)){if(a=yi.current,a!==null&&((Je&4194176)===Je?rs!==null:(Je&62914560)!==Je&&!(Je&536870912)||a!==rs))throw $u=sg,RT;r.flags|=8192}}function Gd(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?vr():536870912,r.lanes|=a,cl|=a)}function uc(r,a){if(!nt)switch(r.tailMode){case"hidden":a=r.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Tt(r){var a=r.alternate!==null&&r.alternate.child===r.child,u=0,d=0;if(a)for(var m=r.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags&31457280,d|=m.flags&31457280,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=d,r.childLanes=u,a}function wD(r,a,u){var d=a.pendingProps;switch(ng(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(a),null;case 1:return Tt(a),null;case 3:return u=a.stateNode,d=null,r!==null&&(d=r.memoizedState.cache),a.memoizedState.cache!==d&&(a.flags|=2048),Fs(Xt),oe(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(Fu(a)?$s(a):r===null||r.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,Pi!==null&&(oy(Pi),Pi=null))),Tt(a),null;case 26:return u=a.memoizedState,r===null?($s(a),u!==null?(Tt(a),h1(a,u)):(Tt(a),a.flags&=-16777217)):u?u!==r.memoizedState?($s(a),Tt(a),h1(a,u)):(Tt(a),a.flags&=-16777217):(r.memoizedProps!==d&&$s(a),Tt(a),a.flags&=-16777217),null;case 27:Qe(a),u=On.current;var m=a.type;if(r!==null&&a.stateNode!=null)r.memoizedProps!==d&&$s(a);else{if(!d){if(a.stateNode===null)throw Error(i(166));return Tt(a),null}r=pn.current,Fu(a)?CT(a):(r=z1(m,d,u),a.stateNode=r,$s(a))}return Tt(a),null;case 5:if(Qe(a),u=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==d&&$s(a);else{if(!d){if(a.stateNode===null)throw Error(i(166));return Tt(a),null}if(r=pn.current,Fu(a))CT(a);else{switch(m=nf(On.current),r){case 1:r=m.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:r=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":r=m.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":r=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":r=m.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof d.is=="string"?m.createElement("select",{is:d.is}):m.createElement("select"),d.multiple?r.multiple=!0:d.size&&(r.size=d.size);break;default:r=typeof d.is=="string"?m.createElement(u,{is:d.is}):m.createElement(u)}}r[sn]=a,r[Kt]=d;e:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)r.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break e;for(;m.sibling===null;){if(m.return===null||m.return===a)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=r;e:switch(vn(r,u,d),u){case"button":case"input":case"select":case"textarea":r=!!d.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&$s(a)}}return Tt(a),a.flags&=-16777217,null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==d&&$s(a);else{if(typeof d!="string"&&a.stateNode===null)throw Error(i(166));if(r=On.current,Fu(a)){if(r=a.stateNode,u=a.memoizedProps,d=null,m=jn,m!==null)switch(m.tag){case 27:case 5:d=m.memoizedProps}r[sn]=a,r=!!(r.nodeValue===u||d!==null&&d.suppressHydrationWarning===!0||k1(r.nodeValue,u)),r||$a(a)}else r=nf(r).createTextNode(d),r[sn]=a,a.stateNode=r}return Tt(a),null;case 13:if(d=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(m=Fu(a),d!==null&&d.dehydrated!==null){if(r===null){if(!m)throw Error(i(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[sn]=a}else Hu(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;Tt(a),m=!1}else Pi!==null&&(oy(Pi),Pi=null),m=!0;if(!m)return a.flags&256?(js(a),a):(js(a),null)}if(js(a),a.flags&128)return a.lanes=u,a;if(u=d!==null,r=r!==null&&r.memoizedState!==null,u){d=a.child,m=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(m=d.alternate.memoizedState.cachePool.pool);var v=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(v=d.memoizedState.cachePool.pool),v!==m&&(d.flags|=2048)}return u!==r&&u&&(a.child.flags|=8192),Gd(a,a.updateQueue),Tt(a),null;case 4:return oe(),r===null&&vy(a.stateNode.containerInfo),Tt(a),null;case 10:return Fs(a.type),Tt(a),null;case 19:if(yt(Qt),m=a.memoizedState,m===null)return Tt(a),null;if(d=(a.flags&128)!==0,v=m.rendering,v===null)if(d)uc(m,!1);else{if(It!==0||r!==null&&r.flags&128)for(r=a.child;r!==null;){if(v=Rd(r),v!==null){for(a.flags|=128,uc(m,!1),r=v.updateQueue,a.updateQueue=r,Gd(a,r),a.subtreeFlags=0,r=u,u=a.child;u!==null;)u1(u,r),u=u.sibling;return Ye(Qt,Qt.current&1|2),a.child}r=r.sibling}m.tail!==null&&$t()>$d&&(a.flags|=128,d=!0,uc(m,!1),a.lanes=4194304)}else{if(!d)if(r=Rd(v),r!==null){if(a.flags|=128,d=!0,r=r.updateQueue,a.updateQueue=r,Gd(a,r),uc(m,!0),m.tail===null&&m.tailMode==="hidden"&&!v.alternate&&!nt)return Tt(a),null}else 2*$t()-m.renderingStartTime>$d&&u!==536870912&&(a.flags|=128,d=!0,uc(m,!1),a.lanes=4194304);m.isBackwards?(v.sibling=a.child,a.child=v):(r=m.last,r!==null?r.sibling=v:a.child=v,m.last=v)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=$t(),a.sibling=null,r=Qt.current,Ye(Qt,d?r&1|2:r&1),a):(Tt(a),null);case 22:case 23:return js(a),ag(),d=a.memoizedState!==null,r!==null?r.memoizedState!==null!==d&&(a.flags|=8192):d&&(a.flags|=8192),d?u&536870912&&!(a.flags&128)&&(Tt(a),a.subtreeFlags&6&&(a.flags|=8192)):Tt(a),u=a.updateQueue,u!==null&&Gd(a,u.retryQueue),u=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),d=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),d!==u&&(a.flags|=2048),r!==null&&yt(Wa),null;case 24:return u=null,r!==null&&(u=r.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Fs(Xt),Tt(a),null;case 25:return null}throw Error(i(156,a.tag))}function bD(r,a){switch(ng(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return Fs(Xt),oe(),r=a.flags,r&65536&&!(r&128)?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return Qe(a),null;case 13:if(js(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Hu()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return yt(Qt),null;case 4:return oe(),null;case 10:return Fs(a.type),null;case 22:case 23:return js(a),ag(),r!==null&&yt(Wa),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return Fs(Xt),null;case 25:return null;default:return null}}function d1(r,a){switch(ng(a),a.tag){case 3:Fs(Xt),oe();break;case 26:case 27:case 5:Qe(a);break;case 4:oe();break;case 13:js(a);break;case 19:yt(Qt);break;case 10:Fs(a.type);break;case 22:case 23:js(a),ag(),r!==null&&yt(Wa);break;case 24:Fs(Xt)}}var SD={getCacheForType:function(r){var a=Cn(Xt),u=a.data.get(r);return u===void 0&&(u=r(),a.data.set(r,u)),u}},xD=typeof WeakMap=="function"?WeakMap:Map,wt=0,dt=null,Be=null,Je=0,ft=0,Jn=null,Ks=!1,ul=!1,ey=!1,Ws=0,It=0,Hr=0,io=0,ty=0,Ti=0,cl=0,cc=null,os=null,ny=!1,iy=0,$d=1/0,Kd=null,qr=null,Wd=!1,so=null,hc=0,sy=0,ry=null,dc=0,ay=null;function ei(){if(wt&2&&Je!==0)return Je&-Je;if(C.T!==null){var r=tl;return r!==0?r:py()}return ed()}function f1(){Ti===0&&(Ti=!(Je&536870912)||nt?Su():536870912);var r=yi.current;return r!==null&&(r.flags|=32),Ti}function Un(r,a,u){(r===dt&&ft===2||r.cancelPendingCommit!==null)&&(hl(r,0),Ys(r,Je,Ti,!1)),kt(r,u),(!(wt&2)||r!==dt)&&(r===dt&&(!(wt&2)&&(io|=u),It===4&&Ys(r,Je,Ti,!1)),ls(r))}function p1(r,a,u){if(wt&6)throw Error(i(327));var d=!u&&(a&60)===0&&(a&r.expiredLanes)===0||yr(r,a),m=d?RD(r,a):cy(r,a,!0),v=d;do{if(m===0){ul&&!d&&Ys(r,a,0,!1);break}else if(m===6)Ys(r,a,0,!Ks);else{if(u=r.current.alternate,v&&!CD(u)){m=cy(r,a,!1),v=!1;continue}if(m===2){if(v=a,r.errorRecoveryDisabledLanes&v)var S=0;else S=r.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){a=S;e:{var D=r;m=cc;var B=D.current.memoizedState.isDehydrated;if(B&&(hl(D,S).flags|=256),S=cy(D,S,!1),S!==2){if(ey&&!B){D.errorRecoveryDisabledLanes|=v,io|=v,m=4;break e}v=os,os=m,v!==null&&oy(v)}m=S}if(v=!1,m!==2)continue}}if(m===1){hl(r,0),Ys(r,a,0,!0);break}e:{switch(d=r,m){case 0:case 1:throw Error(i(345));case 4:if((a&4194176)===a){Ys(d,a,Ti,!Ks);break e}break;case 2:os=null;break;case 3:case 5:break;default:throw Error(i(329))}if(d.finishedWork=u,d.finishedLanes=a,(a&62914560)===a&&(v=iy+300-$t(),10<v)){if(Ys(d,a,Ti,!Ks),oi(d,0)!==0)break e;d.timeoutHandle=j1(m1.bind(null,d,u,os,Kd,ny,a,Ti,io,cl,Ks,2,-0,0),v);break e}m1(d,u,os,Kd,ny,a,Ti,io,cl,Ks,0,-0,0)}}break}while(!0);ls(r)}function oy(r){os===null?os=r:os.push.apply(os,r)}function m1(r,a,u,d,m,v,S,D,B,$,ee,se,Q){var J=a.subtreeFlags;if((J&8192||(J&16785408)===16785408)&&(vc={stylesheets:null,count:0,unsuspend:oM},r1(a),a=uM(),a!==null)){r.cancelPendingCommit=a(w1.bind(null,r,u,d,m,S,D,B,1,se,Q)),Ys(r,v,S,!$);return}w1(r,u,d,m,S,D,B,ee,se,Q)}function CD(r){for(var a=r;;){var u=a.tag;if((u===0||u===11||u===15)&&a.flags&16384&&(u=a.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var d=0;d<u.length;d++){var m=u[d],v=m.getSnapshot;m=m.value;try{if(!Qn(v(),m))return!1}catch{return!1}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ys(r,a,u,d){a&=~ty,a&=~io,r.suspendedLanes|=a,r.pingedLanes&=~a,d&&(r.warmLanes|=a),d=r.expirationTimes;for(var m=a;0<m;){var v=31-kn(m),S=1<<v;d[v]=-1,m&=~S}u!==0&&_r(r,u,a)}function Yd(){return wt&6?!0:(fc(0),!1)}function ly(){if(Be!==null){if(ft===0)var r=Be.return;else r=Be,zs=Ja=null,pg(r),Jo=null,Ku=0,r=Be;for(;r!==null;)d1(r.alternate,r),r=r.return;Be=null}}function hl(r,a){r.finishedWork=null,r.finishedLanes=0;var u=r.timeoutHandle;u!==-1&&(r.timeoutHandle=-1,GD(u)),u=r.cancelPendingCommit,u!==null&&(r.cancelPendingCommit=null,u()),ly(),dt=r,Be=u=Fr(r.current,null),Je=a,ft=0,Jn=null,Ks=!1,ul=yr(r,a),ey=!1,cl=Ti=ty=io=Hr=It=0,os=cc=null,ny=!1,a&8&&(a|=a&32);var d=r.entangledLanes;if(d!==0)for(r=r.entanglements,d&=a;0<d;){var m=31-kn(d),v=1<<m;a|=r[m],d&=~v}return Ws=a,_d(),u}function g1(r,a){Le=null,C.H=as,a===Gu?(a=PT(),ft=3):a===RT?(a=PT(),ft=4):ft=a===Iw?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Jn=a,Be===null&&(It=1,Ud(r,pi(a,r.current)))}function y1(){var r=C.H;return C.H=as,r===null?as:r}function v1(){var r=C.A;return C.A=SD,r}function uy(){It=4,Ks||(Je&4194176)!==Je&&yi.current!==null||(ul=!0),!(Hr&134217727)&&!(io&134217727)||dt===null||Ys(dt,Je,Ti,!1)}function cy(r,a,u){var d=wt;wt|=2;var m=y1(),v=v1();(dt!==r||Je!==a)&&(Kd=null,hl(r,a)),a=!1;var S=It;e:do try{if(ft!==0&&Be!==null){var D=Be,B=Jn;switch(ft){case 8:ly(),S=6;break e;case 3:case 2:case 6:yi.current===null&&(a=!0);var $=ft;if(ft=0,Jn=null,dl(r,D,B,$),u&&ul){S=0;break e}break;default:$=ft,ft=0,Jn=null,dl(r,D,B,$)}}AD(),S=It;break}catch(ee){g1(r,ee)}while(!0);return a&&r.shellSuspendCounter++,zs=Ja=null,wt=d,C.H=m,C.A=v,Be===null&&(dt=null,Je=0,_d()),S}function AD(){for(;Be!==null;)_1(Be)}function RD(r,a){var u=wt;wt|=2;var d=y1(),m=v1();dt!==r||Je!==a?(Kd=null,$d=$t()+500,hl(r,a)):ul=yr(r,a);e:do try{if(ft!==0&&Be!==null){a=Be;var v=Jn;t:switch(ft){case 1:ft=0,Jn=null,dl(r,a,v,1);break;case 2:if(IT(v)){ft=0,Jn=null,E1(a);break}a=function(){ft===2&&dt===r&&(ft=7),ls(r)},v.then(a,a);break e;case 3:ft=7;break e;case 4:ft=5;break e;case 7:IT(v)?(ft=0,Jn=null,E1(a)):(ft=0,Jn=null,dl(r,a,v,7));break;case 5:var S=null;switch(Be.tag){case 26:S=Be.memoizedState;case 5:case 27:var D=Be;if(!S||Y1(S)){ft=0,Jn=null;var B=D.sibling;if(B!==null)Be=B;else{var $=D.return;$!==null?(Be=$,Qd($)):Be=null}break t}}ft=0,Jn=null,dl(r,a,v,5);break;case 6:ft=0,Jn=null,dl(r,a,v,6);break;case 8:ly(),It=6;break e;default:throw Error(i(462))}}ID();break}catch(ee){g1(r,ee)}while(!0);return zs=Ja=null,C.H=d,C.A=m,wt=u,Be!==null?0:(dt=null,Je=0,_d(),It)}function ID(){for(;Be!==null&&!$i();)_1(Be)}function _1(r){var a=zw(r.alternate,r,Ws);r.memoizedProps=r.pendingProps,a===null?Qd(r):Be=a}function E1(r){var a=r,u=a.alternate;switch(a.tag){case 15:case 0:a=kw(u,a,a.pendingProps,a.type,void 0,Je);break;case 11:a=kw(u,a,a.pendingProps,a.type.render,a.ref,Je);break;case 5:pg(a);default:d1(u,a),a=Be=u1(a,Ws),a=zw(u,a,Ws)}r.memoizedProps=r.pendingProps,a===null?Qd(r):Be=a}function dl(r,a,u,d){zs=Ja=null,pg(a),Jo=null,Ku=0;var m=a.return;try{if(yD(r,m,a,u,Je)){It=1,Ud(r,pi(u,r.current)),Be=null;return}}catch(v){if(m!==null)throw Be=m,v;It=1,Ud(r,pi(u,r.current)),Be=null;return}a.flags&32768?(nt||d===1?r=!0:ul||Je&536870912?r=!1:(Ks=r=!0,(d===2||d===3||d===6)&&(d=yi.current,d!==null&&d.tag===13&&(d.flags|=16384))),T1(a,r)):Qd(a)}function Qd(r){var a=r;do{if(a.flags&32768){T1(a,Ks);return}r=a.return;var u=wD(a.alternate,a,Ws);if(u!==null){Be=u;return}if(a=a.sibling,a!==null){Be=a;return}Be=a=r}while(a!==null);It===0&&(It=5)}function T1(r,a){do{var u=bD(r.alternate,r);if(u!==null){u.flags&=32767,Be=u;return}if(u=r.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!a&&(r=r.sibling,r!==null)){Be=r;return}Be=r=u}while(r!==null);It=6,Be=null}function w1(r,a,u,d,m,v,S,D,B,$){var ee=C.T,se=me.p;try{me.p=2,C.T=null,ND(r,a,u,d,se,m,v,S,D,B,$)}finally{C.T=ee,me.p=se}}function ND(r,a,u,d,m,v,S,D){do fl();while(so!==null);if(wt&6)throw Error(i(327));var B=r.finishedWork;if(d=r.finishedLanes,B===null)return null;if(r.finishedWork=null,r.finishedLanes=0,B===r.current)throw Error(i(177));r.callbackNode=null,r.callbackPriority=0,r.cancelPendingCommit=null;var $=B.lanes|B.childLanes;if($|=Jm,Zh(r,d,$,v,S,D),r===dt&&(Be=dt=null,Je=0),!(B.subtreeFlags&10256)&&!(B.flags&10256)||Wd||(Wd=!0,sy=$,ry=u,OD(Cs,function(){return fl(),null})),u=(B.flags&15990)!==0,B.subtreeFlags&15990||u?(u=C.T,C.T=null,v=me.p,me.p=2,S=wt,wt|=4,_D(r,B),n1(B,r),eD(wy,r.containerInfo),uf=!!Ty,wy=Ty=null,r.current=B,Zw(r,B.alternate,B),Ai(),wt=S,me.p=v,C.T=u):r.current=B,Wd?(Wd=!1,so=r,hc=d):b1(r,$),$=r.pendingLanes,$===0&&(qr=null),wu(B.stateNode),ls(r),a!==null)for(m=r.onRecoverableError,B=0;B<a.length;B++)$=a[B],m($.value,{componentStack:$.stack});return hc&3&&fl(),$=r.pendingLanes,d&4194218&&$&42?r===ay?dc++:(dc=0,ay=r):dc=0,fc(0),null}function b1(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,Yu(a)))}function fl(){if(so!==null){var r=so,a=sy;sy=0;var u=Jh(hc),d=C.T,m=me.p;try{if(me.p=32>u?32:u,C.T=null,so===null)var v=!1;else{u=ry,ry=null;var S=so,D=hc;if(so=null,hc=0,wt&6)throw Error(i(331));var B=wt;if(wt|=4,o1(S.current),s1(S,S.current,D,u),wt=B,fc(0,!1),xn&&typeof xn.onPostCommitFiberRoot=="function")try{xn.onPostCommitFiberRoot(mr,S)}catch{}v=!0}return v}finally{me.p=m,C.T=d,b1(r,a)}}return!1}function S1(r,a,u){a=pi(u,a),a=Rg(r.stateNode,a,2),r=jr(r,a,2),r!==null&&(kt(r,2),ls(r))}function ct(r,a,u){if(r.tag===3)S1(r,r,u);else for(;a!==null;){if(a.tag===3){S1(a,r,u);break}else if(a.tag===1){var d=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(qr===null||!qr.has(d))){r=pi(u,r),u=Aw(2),d=jr(a,u,2),d!==null&&(Rw(u,d,a,r),kt(d,2),ls(d));break}}a=a.return}}function hy(r,a,u){var d=r.pingCache;if(d===null){d=r.pingCache=new xD;var m=new Set;d.set(a,m)}else m=d.get(a),m===void 0&&(m=new Set,d.set(a,m));m.has(u)||(ey=!0,m.add(u),r=PD.bind(null,r,a,u),a.then(r,r))}function PD(r,a,u){var d=r.pingCache;d!==null&&d.delete(a),r.pingedLanes|=r.suspendedLanes&u,r.warmLanes&=~u,dt===r&&(Je&u)===u&&(It===4||It===3&&(Je&62914560)===Je&&300>$t()-iy?!(wt&2)&&hl(r,0):ty|=u,cl===Je&&(cl=0)),ls(r)}function x1(r,a){a===0&&(a=vr()),r=Nr(r,a),r!==null&&(kt(r,a),ls(r))}function DD(r){var a=r.memoizedState,u=0;a!==null&&(u=a.retryLane),x1(r,u)}function MD(r,a){var u=0;switch(r.tag){case 13:var d=r.stateNode,m=r.memoizedState;m!==null&&(u=m.retryLane);break;case 19:d=r.stateNode;break;case 22:d=r.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(a),x1(r,u)}function OD(r,a){return Ut(r,a)}var Xd=null,pl=null,dy=!1,Zd=!1,fy=!1,ro=0;function ls(r){r!==pl&&r.next===null&&(pl===null?Xd=pl=r:pl=pl.next=r),Zd=!0,dy||(dy=!0,LD(kD))}function fc(r,a){if(!fy&&Zd){fy=!0;do for(var u=!1,d=Xd;d!==null;){if(r!==0){var m=d.pendingLanes;if(m===0)var v=0;else{var S=d.suspendedLanes,D=d.pingedLanes;v=(1<<31-kn(42|r)+1)-1,v&=m&~(S&~D),v=v&201326677?v&201326677|1:v?v|2:0}v!==0&&(u=!0,R1(d,v))}else v=Je,v=oi(d,d===dt?v:0),!(v&3)||yr(d,v)||(u=!0,R1(d,v));d=d.next}while(u);fy=!1}}function kD(){Zd=dy=!1;var r=0;ro!==0&&(qD()&&(r=ro),ro=0);for(var a=$t(),u=null,d=Xd;d!==null;){var m=d.next,v=C1(d,a);v===0?(d.next=null,u===null?Xd=m:u.next=m,m===null&&(pl=u)):(u=d,(r!==0||v&3)&&(Zd=!0)),d=m}fc(r)}function C1(r,a){for(var u=r.suspendedLanes,d=r.pingedLanes,m=r.expirationTimes,v=r.pendingLanes&-62914561;0<v;){var S=31-kn(v),D=1<<S,B=m[S];B===-1?(!(D&u)||D&d)&&(m[S]=Do(D,a)):B<=a&&(r.expiredLanes|=D),v&=~D}if(a=dt,u=Je,u=oi(r,r===a?u:0),d=r.callbackNode,u===0||r===a&&ft===2||r.cancelPendingCommit!==null)return d!==null&&d!==null&&Gt(d),r.callbackNode=null,r.callbackPriority=0;if(!(u&3)||yr(r,u)){if(a=u&-u,a===r.callbackPriority)return a;switch(d!==null&&Gt(d),Jh(u)){case 2:case 8:u=nn;break;case 32:u=Cs;break;case 268435456:u=Tu;break;default:u=Cs}return d=A1.bind(null,r),u=Ut(u,d),r.callbackPriority=a,r.callbackNode=u,a}return d!==null&&d!==null&&Gt(d),r.callbackPriority=2,r.callbackNode=null,2}function A1(r,a){var u=r.callbackNode;if(fl()&&r.callbackNode!==u)return null;var d=Je;return d=oi(r,r===dt?d:0),d===0?null:(p1(r,d,a),C1(r,$t()),r.callbackNode!=null&&r.callbackNode===u?A1.bind(null,r):null)}function R1(r,a){if(fl())return null;p1(r,a,!0)}function LD(r){$D(function(){wt&6?Ut(Ot,r):r()})}function py(){return ro===0&&(ro=Su()),ro}function I1(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Xi(""+r)}function N1(r,a){var u=a.ownerDocument.createElement("input");return u.name=a.name,u.value=a.value,r.id&&u.setAttribute("form",r.id),a.parentNode.insertBefore(u,a),r=new FormData(r),u.parentNode.removeChild(u),r}function VD(r,a,u,d,m){if(a==="submit"&&u&&u.stateNode===m){var v=I1((m[Kt]||null).action),S=d.submitter;S&&(a=(a=S[Kt]||null)?I1(a.formAction):S.getAttribute("formAction"),a!==null&&(v=a,S=null));var D=new Uo("action","action",null,d,m);r.push({event:D,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(ro!==0){var B=S?N1(m,S):new FormData(m);bg(u,{pending:!0,data:B,method:m.method,action:v},null,B)}}else typeof v=="function"&&(D.preventDefault(),B=S?N1(m,S):new FormData(m),bg(u,{pending:!0,data:B,method:m.method,action:v},v,B))},currentTarget:m}]})}}for(var my=0;my<wT.length;my++){var gy=wT[my],jD=gy.toLowerCase(),UD=gy[0].toUpperCase()+gy.slice(1);Ni(jD,"on"+UD)}Ni(yT,"onAnimationEnd"),Ni(vT,"onAnimationIteration"),Ni(_T,"onAnimationStart"),Ni("dblclick","onDoubleClick"),Ni("focusin","onFocus"),Ni("focusout","onBlur"),Ni(nD,"onTransitionRun"),Ni(iD,"onTransitionStart"),Ni(sD,"onTransitionCancel"),Ni(ET,"onTransitionEnd"),Hn("onMouseEnter",["mouseout","mouseover"]),Hn("onMouseLeave",["mouseout","mouseover"]),Hn("onPointerEnter",["pointerout","pointerover"]),Hn("onPointerLeave",["pointerout","pointerover"]),Wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pc));function P1(r,a){a=(a&4)!==0;for(var u=0;u<r.length;u++){var d=r[u],m=d.event;d=d.listeners;e:{var v=void 0;if(a)for(var S=d.length-1;0<=S;S--){var D=d[S],B=D.instance,$=D.currentTarget;if(D=D.listener,B!==v&&m.isPropagationStopped())break e;v=D,m.currentTarget=$;try{v(m)}catch(ee){jd(ee)}m.currentTarget=null,v=B}else for(S=0;S<d.length;S++){if(D=d[S],B=D.instance,$=D.currentTarget,D=D.listener,B!==v&&m.isPropagationStopped())break e;v=D,m.currentTarget=$;try{v(m)}catch(ee){jd(ee)}m.currentTarget=null,v=B}}}}function Ge(r,a){var u=a[Na];u===void 0&&(u=a[Na]=new Set);var d=r+"__bubble";u.has(d)||(D1(a,r,2,!1),u.add(d))}function yy(r,a,u){var d=0;a&&(d|=4),D1(u,r,d,a)}var Jd="_reactListening"+Math.random().toString(36).slice(2);function vy(r){if(!r[Jd]){r[Jd]=!0,Cu.forEach(function(u){u!=="selectionchange"&&(BD.has(u)||yy(u,!1,r),yy(u,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[Jd]||(a[Jd]=!0,yy("selectionchange",!1,a))}}function D1(r,a,u,d){switch(tb(a)){case 2:var m=dM;break;case 8:m=fM;break;default:m=Py}u=m.bind(null,a,u,r),m=void 0,!hi||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),d?m!==void 0?r.addEventListener(a,u,{capture:!0,passive:m}):r.addEventListener(a,u,!0):m!==void 0?r.addEventListener(a,u,{passive:m}):r.addEventListener(a,u,!1)}function _y(r,a,u,d,m){var v=d;if(!(a&1)&&!(a&2)&&d!==null)e:for(;;){if(d===null)return;var S=d.tag;if(S===3||S===4){var D=d.stateNode.containerInfo;if(D===m||D.nodeType===8&&D.parentNode===m)break;if(S===4)for(S=d.return;S!==null;){var B=S.tag;if((B===3||B===4)&&(B=S.stateNode.containerInfo,B===m||B.nodeType===8&&B.parentNode===m))return;S=S.return}for(;D!==null;){if(S=Ii(D),S===null)return;if(B=S.tag,B===5||B===6||B===26||B===27){d=v=S;continue e}D=D.parentNode}}d=d.return}sd(function(){var $=v,ee=jo(u),se=[];e:{var Q=TT.get(r);if(Q!==void 0){var J=Uo,Ee=r;switch(r){case"keypress":if(Ji(u)===0)break e;case"keydown":case"keyup":J=Go;break;case"focusin":Ee="focus",J=Fo;break;case"focusout":Ee="blur",J=Fo;break;case"beforeblur":case"afterblur":J=Fo;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=di;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Gm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=dd;break;case yT:case vT:case _T:J=Ho;break;case ET:J=pd;break;case"scroll":case"scrollend":J=rd;break;case"wheel":J=$o;break;case"copy":case"cut":case"paste":J=qo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=ju;break;case"toggle":case"beforetoggle":J=gd}var Pe=(a&4)!==0,Nt=!Pe&&(r==="scroll"||r==="scrollend"),K=Pe?Q!==null?Q+"Capture":null:Q;Pe=[];for(var G=$,Y;G!==null;){var te=G;if(Y=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||Y===null||K===null||(te=ka(G,K),te!=null&&Pe.push(mc(G,te,Y))),Nt)break;G=G.return}0<Pe.length&&(Q=new J(Q,Ee,null,u,ee),se.push({event:Q,listeners:Pe}))}}if(!(a&7)){e:{if(Q=r==="mouseover"||r==="pointerover",J=r==="mouseout"||r==="pointerout",Q&&u!==ci&&(Ee=u.relatedTarget||u.fromElement)&&(Ii(Ee)||Ee[As]))break e;if((J||Q)&&(Q=ee.window===ee?ee:(Q=ee.ownerDocument)?Q.defaultView||Q.parentWindow:window,J?(Ee=u.relatedTarget||u.toElement,J=$,Ee=Ee?Ii(Ee):null,Ee!==null&&(Nt=ae(Ee),Pe=Ee.tag,Ee!==Nt||Pe!==5&&Pe!==27&&Pe!==6)&&(Ee=null)):(J=null,Ee=$),J!==Ee)){if(Pe=di,te="onMouseLeave",K="onMouseEnter",G="mouse",(r==="pointerout"||r==="pointerover")&&(Pe=ju,te="onPointerLeave",K="onPointerEnter",G="pointer"),Nt=J==null?Q:br(J),Y=Ee==null?Q:br(Ee),Q=new Pe(te,G+"leave",J,u,ee),Q.target=Nt,Q.relatedTarget=Y,te=null,Ii(ee)===$&&(Pe=new Pe(K,G+"enter",Ee,u,ee),Pe.target=Y,Pe.relatedTarget=Nt,te=Pe),Nt=te,J&&Ee)t:{for(Pe=J,K=Ee,G=0,Y=Pe;Y;Y=ml(Y))G++;for(Y=0,te=K;te;te=ml(te))Y++;for(;0<G-Y;)Pe=ml(Pe),G--;for(;0<Y-G;)K=ml(K),Y--;for(;G--;){if(Pe===K||K!==null&&Pe===K.alternate)break t;Pe=ml(Pe),K=ml(K)}Pe=null}else Pe=null;J!==null&&M1(se,Q,J,Pe,!1),Ee!==null&&Nt!==null&&M1(se,Nt,Ee,Pe,!0)}}e:{if(Q=$?br($):window,J=Q.nodeName&&Q.nodeName.toLowerCase(),J==="select"||J==="input"&&Q.type==="file")var ve=aT;else if(Yt(Q))if(oT)ve=ZP;else{ve=QP;var Ve=YP}else J=Q.nodeName,!J||J.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?$&&Pu($.elementType)&&(ve=aT):ve=XP;if(ve&&(ve=ve(r,$))){ks(se,ve,u,ee);break e}Ve&&Ve(r,Q,$),r==="focusout"&&$&&Q.type==="number"&&$.memoizedProps.value!=null&&Vo(Q,"number",Q.value)}switch(Ve=$?br($):window,r){case"focusin":(Yt(Ve)||Ve.contentEditable==="true")&&(Ko=Ve,Qm=$,zu=null);break;case"focusout":zu=Qm=Ko=null;break;case"mousedown":Xm=!0;break;case"contextmenu":case"mouseup":case"dragend":Xm=!1,mT(se,u,ee);break;case"selectionchange":if(tD)break;case"keydown":case"keyup":mT(se,u,ee)}var Te;if(ns)e:{switch(r){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else Xe?X(r,u)&&(xe="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(xe="onCompositionStart");xe&&(b&&u.locale!=="ko"&&(Xe||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&Xe&&(Te=Mu()):(Zi=ee,Ir="value"in Zi?Zi.value:Zi.textContent,Xe=!0)),Ve=ef($,xe),0<Ve.length&&(xe=new Lu(xe,r,null,u,ee),se.push({event:xe,listeners:Ve}),Te?xe.data=Te:(Te=ce(u),Te!==null&&(xe.data=Te)))),(Te=E?Wt(r,u):Ze(r,u))&&(xe=ef($,"onBeforeInput"),0<xe.length&&(Ve=new Lu("onBeforeInput","beforeinput",null,u,ee),se.push({event:Ve,listeners:xe}),Ve.data=Te)),VD(se,r,$,u,ee)}P1(se,a)})}function mc(r,a,u){return{instance:r,listener:a,currentTarget:u}}function ef(r,a){for(var u=a+"Capture",d=[];r!==null;){var m=r,v=m.stateNode;m=m.tag,m!==5&&m!==26&&m!==27||v===null||(m=ka(r,u),m!=null&&d.unshift(mc(r,m,v)),m=ka(r,a),m!=null&&d.push(mc(r,m,v))),r=r.return}return d}function ml(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function M1(r,a,u,d,m){for(var v=a._reactName,S=[];u!==null&&u!==d;){var D=u,B=D.alternate,$=D.stateNode;if(D=D.tag,B!==null&&B===d)break;D!==5&&D!==26&&D!==27||$===null||(B=$,m?($=ka(u,v),$!=null&&S.unshift(mc(u,$,B))):m||($=ka(u,v),$!=null&&S.push(mc(u,$,B)))),u=u.return}S.length!==0&&r.push({event:a,listeners:S})}var zD=/\r\n?/g,FD=/\u0000|\uFFFD/g;function O1(r){return(typeof r=="string"?r:""+r).replace(zD,`
`).replace(FD,"")}function k1(r,a){return a=O1(a),O1(r)===a}function tf(){}function lt(r,a,u,d,m,v){switch(u){case"children":typeof d=="string"?a==="body"||a==="textarea"&&d===""||ui(r,d):(typeof d=="number"||typeof d=="bigint")&&a!=="body"&&ui(r,""+d);break;case"className":Cr(r,"class",d);break;case"tabIndex":Cr(r,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Cr(r,u,d);break;case"style":id(r,d,v);break;case"data":if(a!=="object"){Cr(r,"data",d);break}case"src":case"href":if(d===""&&(a!=="a"||u!=="href")){r.removeAttribute(u);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(u);break}d=Xi(""+d),r.setAttribute(u,d);break;case"action":case"formAction":if(typeof d=="function"){r.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(u==="formAction"?(a!=="input"&&lt(r,a,"name",m.name,m,null),lt(r,a,"formEncType",m.formEncType,m,null),lt(r,a,"formMethod",m.formMethod,m,null),lt(r,a,"formTarget",m.formTarget,m,null)):(lt(r,a,"encType",m.encType,m,null),lt(r,a,"method",m.method,m,null),lt(r,a,"target",m.target,m,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(u);break}d=Xi(""+d),r.setAttribute(u,d);break;case"onClick":d!=null&&(r.onclick=tf);break;case"onScroll":d!=null&&Ge("scroll",r);break;case"onScrollEnd":d!=null&&Ge("scrollend",r);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(u=d.__html,u!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"multiple":r.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":r.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){r.removeAttribute("xlink:href");break}u=Xi(""+d),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(u,""+d):r.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(u,""):r.removeAttribute(u);break;case"capture":case"download":d===!0?r.setAttribute(u,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(u,d):r.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?r.setAttribute(u,d):r.removeAttribute(u);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?r.removeAttribute(u):r.setAttribute(u,d);break;case"popover":Ge("beforetoggle",r),Ge("toggle",r),xr(r,"popover",d);break;case"xlinkActuate":li(r,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":li(r,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":li(r,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":li(r,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":li(r,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":li(r,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":li(r,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":li(r,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":li(r,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":xr(r,"is",d);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Hm.get(u)||u,xr(r,u,d))}}function Ey(r,a,u,d,m,v){switch(u){case"style":id(r,d,v);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(u=d.__html,u!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"children":typeof d=="string"?ui(r,d):(typeof d=="number"||typeof d=="bigint")&&ui(r,""+d);break;case"onScroll":d!=null&&Ge("scroll",r);break;case"onScrollEnd":d!=null&&Ge("scrollend",r);break;case"onClick":d!=null&&(r.onclick=tf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ko.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(m=u.endsWith("Capture"),a=u.slice(2,m?u.length-7:void 0),v=r[Kt]||null,v=v!=null?v[u]:null,typeof v=="function"&&r.removeEventListener(a,v,m),typeof d=="function")){typeof v!="function"&&v!==null&&(u in r?r[u]=null:r.hasAttribute(u)&&r.removeAttribute(u)),r.addEventListener(a,d,m);break e}u in r?r[u]=d:d===!0?r.setAttribute(u,""):xr(r,u,d)}}}function vn(r,a,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",r),Ge("load",r);var d=!1,m=!1,v;for(v in u)if(u.hasOwnProperty(v)){var S=u[v];if(S!=null)switch(v){case"src":d=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:lt(r,a,v,S,u,null)}}m&&lt(r,a,"srcSet",u.srcSet,u,null),d&&lt(r,a,"src",u.src,u,null);return;case"input":Ge("invalid",r);var D=v=S=m=null,B=null,$=null;for(d in u)if(u.hasOwnProperty(d)){var ee=u[d];if(ee!=null)switch(d){case"name":m=ee;break;case"type":S=ee;break;case"checked":B=ee;break;case"defaultChecked":$=ee;break;case"value":v=ee;break;case"defaultValue":D=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,a));break;default:lt(r,a,d,ee,u,null)}}Ma(r,v,D,B,$,S,m,!1),Da(r);return;case"select":Ge("invalid",r),d=S=v=null;for(m in u)if(u.hasOwnProperty(m)&&(D=u[m],D!=null))switch(m){case"value":v=D;break;case"defaultValue":S=D;break;case"multiple":d=D;default:lt(r,a,m,D,u,null)}a=v,u=S,r.multiple=!!d,a!=null?tt(r,!!d,a,!1):u!=null&&tt(r,!!d,u,!0);return;case"textarea":Ge("invalid",r),v=m=d=null;for(S in u)if(u.hasOwnProperty(S)&&(D=u[S],D!=null))switch(S){case"value":d=D;break;case"defaultValue":m=D;break;case"children":v=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(i(91));break;default:lt(r,a,S,D,u,null)}Rr(r,d,m,v),Da(r);return;case"option":for(B in u)if(u.hasOwnProperty(B)&&(d=u[B],d!=null))switch(B){case"selected":r.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:lt(r,a,B,d,u,null)}return;case"dialog":Ge("cancel",r),Ge("close",r);break;case"iframe":case"object":Ge("load",r);break;case"video":case"audio":for(d=0;d<pc.length;d++)Ge(pc[d],r);break;case"image":Ge("error",r),Ge("load",r);break;case"details":Ge("toggle",r);break;case"embed":case"source":case"link":Ge("error",r),Ge("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in u)if(u.hasOwnProperty($)&&(d=u[$],d!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:lt(r,a,$,d,u,null)}return;default:if(Pu(a)){for(ee in u)u.hasOwnProperty(ee)&&(d=u[ee],d!==void 0&&Ey(r,a,ee,d,u,void 0));return}}for(D in u)u.hasOwnProperty(D)&&(d=u[D],d!=null&&lt(r,a,D,d,u,null))}function HD(r,a,u,d){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,v=null,S=null,D=null,B=null,$=null,ee=null;for(J in u){var se=u[J];if(u.hasOwnProperty(J)&&se!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":B=se;default:d.hasOwnProperty(J)||lt(r,a,J,null,d,se)}}for(var Q in d){var J=d[Q];if(se=u[Q],d.hasOwnProperty(Q)&&(J!=null||se!=null))switch(Q){case"type":v=J;break;case"name":m=J;break;case"checked":$=J;break;case"defaultChecked":ee=J;break;case"value":S=J;break;case"defaultValue":D=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,a));break;default:J!==se&&lt(r,a,Q,J,d,se)}}Ar(r,S,D,B,$,ee,v,m);return;case"select":J=S=D=Q=null;for(v in u)if(B=u[v],u.hasOwnProperty(v)&&B!=null)switch(v){case"value":break;case"multiple":J=B;default:d.hasOwnProperty(v)||lt(r,a,v,null,d,B)}for(m in d)if(v=d[m],B=u[m],d.hasOwnProperty(m)&&(v!=null||B!=null))switch(m){case"value":Q=v;break;case"defaultValue":D=v;break;case"multiple":S=v;default:v!==B&&lt(r,a,m,v,d,B)}a=D,u=S,d=J,Q!=null?tt(r,!!u,Q,!1):!!d!=!!u&&(a!=null?tt(r,!!u,a,!0):tt(r,!!u,u?[]:"",!1));return;case"textarea":J=Q=null;for(D in u)if(m=u[D],u.hasOwnProperty(D)&&m!=null&&!d.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:lt(r,a,D,null,d,m)}for(S in d)if(m=d[S],v=u[S],d.hasOwnProperty(S)&&(m!=null||v!=null))switch(S){case"value":Q=m;break;case"defaultValue":J=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==v&&lt(r,a,S,m,d,v)}Oa(r,Q,J);return;case"option":for(var Ee in u)if(Q=u[Ee],u.hasOwnProperty(Ee)&&Q!=null&&!d.hasOwnProperty(Ee))switch(Ee){case"selected":r.selected=!1;break;default:lt(r,a,Ee,null,d,Q)}for(B in d)if(Q=d[B],J=u[B],d.hasOwnProperty(B)&&Q!==J&&(Q!=null||J!=null))switch(B){case"selected":r.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:lt(r,a,B,Q,d,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in u)Q=u[Pe],u.hasOwnProperty(Pe)&&Q!=null&&!d.hasOwnProperty(Pe)&&lt(r,a,Pe,null,d,Q);for($ in d)if(Q=d[$],J=u[$],d.hasOwnProperty($)&&Q!==J&&(Q!=null||J!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,a));break;default:lt(r,a,$,Q,d,J)}return;default:if(Pu(a)){for(var Nt in u)Q=u[Nt],u.hasOwnProperty(Nt)&&Q!==void 0&&!d.hasOwnProperty(Nt)&&Ey(r,a,Nt,void 0,d,Q);for(ee in d)Q=d[ee],J=u[ee],!d.hasOwnProperty(ee)||Q===J||Q===void 0&&J===void 0||Ey(r,a,ee,Q,d,J);return}}for(var K in u)Q=u[K],u.hasOwnProperty(K)&&Q!=null&&!d.hasOwnProperty(K)&&lt(r,a,K,null,d,Q);for(se in d)Q=d[se],J=u[se],!d.hasOwnProperty(se)||Q===J||Q==null&&J==null||lt(r,a,se,Q,d,J)}var Ty=null,wy=null;function nf(r){return r.nodeType===9?r:r.ownerDocument}function L1(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function V1(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function by(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Sy=null;function qD(){var r=window.event;return r&&r.type==="popstate"?r===Sy?!1:(Sy=r,!0):(Sy=null,!1)}var j1=typeof setTimeout=="function"?setTimeout:void 0,GD=typeof clearTimeout=="function"?clearTimeout:void 0,U1=typeof Promise=="function"?Promise:void 0,$D=typeof queueMicrotask=="function"?queueMicrotask:typeof U1<"u"?function(r){return U1.resolve(null).then(r).catch(KD)}:j1;function KD(r){setTimeout(function(){throw r})}function xy(r,a){var u=a,d=0;do{var m=u.nextSibling;if(r.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(d===0){r.removeChild(m),bc(a);return}d--}else u!=="$"&&u!=="$?"&&u!=="$!"||d++;u=m}while(u);bc(a)}function Cy(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var u=a;switch(a=a.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Cy(u),Pa(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}r.removeChild(u)}}function WD(r,a,u,d){for(;r.nodeType===1;){var m=u;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!d&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(d){if(!r[wr])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(v=r.getAttribute("rel"),v==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(v!==m.rel||r.getAttribute("href")!==(m.href==null?null:m.href)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||r.getAttribute("title")!==(m.title==null?null:m.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(v=r.getAttribute("src"),(v!==(m.src==null?null:m.src)||r.getAttribute("type")!==(m.type==null?null:m.type)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&v&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var v=m.name==null?null:""+m.name;if(m.type==="hidden"&&r.getAttribute("name")===v)return r}else return r;if(r=Mi(r.nextSibling),r===null)break}return null}function YD(r,a,u){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!u||(r=Mi(r.nextSibling),r===null))return null;return r}function Mi(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return r}function B1(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return r;a--}else u==="/$"&&a++}r=r.previousSibling}return null}function z1(r,a,u){switch(a=nf(u),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}var wi=new Map,F1=new Set;function sf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.ownerDocument}var Qs=me.d;me.d={f:QD,r:XD,D:ZD,C:JD,L:eM,m:tM,X:iM,S:nM,M:sM};function QD(){var r=Qs.f(),a=Yd();return r||a}function XD(r){var a=Rs(r);a!==null&&a.tag===5&&a.type==="form"?mw(a):Qs.r(r)}var gl=typeof document>"u"?null:document;function H1(r,a,u){var d=gl;if(d&&typeof a=="string"&&a){var m=At(a);m='link[rel="'+r+'"][href="'+m+'"]',typeof u=="string"&&(m+='[crossorigin="'+u+'"]'),F1.has(m)||(F1.add(m),r={rel:r,crossOrigin:u,href:a},d.querySelector(m)===null&&(a=d.createElement("link"),vn(a,"link",r),Et(a),d.head.appendChild(a)))}}function ZD(r){Qs.D(r),H1("dns-prefetch",r,null)}function JD(r,a){Qs.C(r,a),H1("preconnect",r,a)}function eM(r,a,u){Qs.L(r,a,u);var d=gl;if(d&&r&&a){var m='link[rel="preload"][as="'+At(a)+'"]';a==="image"&&u&&u.imageSrcSet?(m+='[imagesrcset="'+At(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(m+='[imagesizes="'+At(u.imageSizes)+'"]')):m+='[href="'+At(r)+'"]';var v=m;switch(a){case"style":v=yl(r);break;case"script":v=vl(r)}wi.has(v)||(r=R({rel:"preload",href:a==="image"&&u&&u.imageSrcSet?void 0:r,as:a},u),wi.set(v,r),d.querySelector(m)!==null||a==="style"&&d.querySelector(gc(v))||a==="script"&&d.querySelector(yc(v))||(a=d.createElement("link"),vn(a,"link",r),Et(a),d.head.appendChild(a)))}}function tM(r,a){Qs.m(r,a);var u=gl;if(u&&r){var d=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+At(d)+'"][href="'+At(r)+'"]',v=m;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=vl(r)}if(!wi.has(v)&&(r=R({rel:"modulepreload",href:r},a),wi.set(v,r),u.querySelector(m)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(yc(v)))return}d=u.createElement("link"),vn(d,"link",r),Et(d),u.head.appendChild(d)}}}function nM(r,a,u){Qs.S(r,a,u);var d=gl;if(d&&r){var m=Sr(d).hoistableStyles,v=yl(r);a=a||"default";var S=m.get(v);if(!S){var D={loading:0,preload:null};if(S=d.querySelector(gc(v)))D.loading=5;else{r=R({rel:"stylesheet",href:r,"data-precedence":a},u),(u=wi.get(v))&&Ay(r,u);var B=S=d.createElement("link");Et(B),vn(B,"link",r),B._p=new Promise(function($,ee){B.onload=$,B.onerror=ee}),B.addEventListener("load",function(){D.loading|=1}),B.addEventListener("error",function(){D.loading|=2}),D.loading|=4,rf(S,a,d)}S={type:"stylesheet",instance:S,count:1,state:D},m.set(v,S)}}}function iM(r,a){Qs.X(r,a);var u=gl;if(u&&r){var d=Sr(u).hoistableScripts,m=vl(r),v=d.get(m);v||(v=u.querySelector(yc(m)),v||(r=R({src:r,async:!0},a),(a=wi.get(m))&&Ry(r,a),v=u.createElement("script"),Et(v),vn(v,"link",r),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(m,v))}}function sM(r,a){Qs.M(r,a);var u=gl;if(u&&r){var d=Sr(u).hoistableScripts,m=vl(r),v=d.get(m);v||(v=u.querySelector(yc(m)),v||(r=R({src:r,async:!0,type:"module"},a),(a=wi.get(m))&&Ry(r,a),v=u.createElement("script"),Et(v),vn(v,"link",r),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(m,v))}}function q1(r,a,u,d){var m=(m=On.current)?sf(m):null;if(!m)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(a=yl(u.href),u=Sr(m).hoistableStyles,d=u.get(a),d||(d={type:"style",instance:null,count:0,state:null},u.set(a,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){r=yl(u.href);var v=Sr(m).hoistableStyles,S=v.get(r);if(S||(m=m.ownerDocument||m,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(r,S),(v=m.querySelector(gc(r)))&&!v._p&&(S.instance=v,S.state.loading=5),wi.has(r)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},wi.set(r,u),v||rM(m,r,u,S.state))),a&&d===null)throw Error(i(528,""));return S}if(a&&d!==null)throw Error(i(529,""));return null;case"script":return a=u.async,u=u.src,typeof u=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=vl(u),u=Sr(m).hoistableScripts,d=u.get(a),d||(d={type:"script",instance:null,count:0,state:null},u.set(a,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function yl(r){return'href="'+At(r)+'"'}function gc(r){return'link[rel="stylesheet"]['+r+"]"}function G1(r){return R({},r,{"data-precedence":r.precedence,precedence:null})}function rM(r,a,u,d){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?d.loading=1:(a=r.createElement("link"),d.preload=a,a.addEventListener("load",function(){return d.loading|=1}),a.addEventListener("error",function(){return d.loading|=2}),vn(a,"link",u),Et(a),r.head.appendChild(a))}function vl(r){return'[src="'+At(r)+'"]'}function yc(r){return"script[async]"+r}function $1(r,a,u){if(a.count++,a.instance===null)switch(a.type){case"style":var d=r.querySelector('style[data-href~="'+At(u.href)+'"]');if(d)return a.instance=d,Et(d),d;var m=R({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return d=(r.ownerDocument||r).createElement("style"),Et(d),vn(d,"style",m),rf(d,u.precedence,r),a.instance=d;case"stylesheet":m=yl(u.href);var v=r.querySelector(gc(m));if(v)return a.state.loading|=4,a.instance=v,Et(v),v;d=G1(u),(m=wi.get(m))&&Ay(d,m),v=(r.ownerDocument||r).createElement("link"),Et(v);var S=v;return S._p=new Promise(function(D,B){S.onload=D,S.onerror=B}),vn(v,"link",d),a.state.loading|=4,rf(v,u.precedence,r),a.instance=v;case"script":return v=vl(u.src),(m=r.querySelector(yc(v)))?(a.instance=m,Et(m),m):(d=u,(m=wi.get(v))&&(d=R({},u),Ry(d,m)),r=r.ownerDocument||r,m=r.createElement("script"),Et(m),vn(m,"link",d),r.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&!(a.state.loading&4)&&(d=a.instance,a.state.loading|=4,rf(d,u.precedence,r));return a.instance}function rf(r,a,u){for(var d=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=d.length?d[d.length-1]:null,v=m,S=0;S<d.length;S++){var D=d[S];if(D.dataset.precedence===a)v=D;else if(v!==m)break}v?v.parentNode.insertBefore(r,v.nextSibling):(a=u.nodeType===9?u.head:u,a.insertBefore(r,a.firstChild))}function Ay(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function Ry(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var af=null;function K1(r,a,u){if(af===null){var d=new Map,m=af=new Map;m.set(u,d)}else m=af,d=m.get(u),d||(d=new Map,m.set(u,d));if(d.has(r))return d;for(d.set(r,null),u=u.getElementsByTagName(r),m=0;m<u.length;m++){var v=u[m];if(!(v[wr]||v[sn]||r==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var S=v.getAttribute(a)||"";S=r+S;var D=d.get(S);D?D.push(v):d.set(S,[v])}}return d}function W1(r,a,u){r=r.ownerDocument||r,r.head.insertBefore(u,a==="title"?r.querySelector("head > title"):null)}function aM(r,a,u){if(u===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Y1(r){return!(r.type==="stylesheet"&&!(r.state.loading&3))}var vc=null;function oM(){}function lM(r,a,u){if(vc===null)throw Error(i(475));var d=vc;if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&!(a.state.loading&4)){if(a.instance===null){var m=yl(u.href),v=r.querySelector(gc(m));if(v){r=v._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(d.count++,d=of.bind(d),r.then(d,d)),a.state.loading|=4,a.instance=v,Et(v);return}v=r.ownerDocument||r,u=G1(u),(m=wi.get(m))&&Ay(u,m),v=v.createElement("link"),Et(v);var S=v;S._p=new Promise(function(D,B){S.onload=D,S.onerror=B}),vn(v,"link",u),a.instance=v}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(a,r),(r=a.state.preload)&&!(a.state.loading&3)&&(d.count++,a=of.bind(d),r.addEventListener("load",a),r.addEventListener("error",a))}}function uM(){if(vc===null)throw Error(i(475));var r=vc;return r.stylesheets&&r.count===0&&Iy(r,r.stylesheets),0<r.count?function(a){var u=setTimeout(function(){if(r.stylesheets&&Iy(r,r.stylesheets),r.unsuspend){var d=r.unsuspend;r.unsuspend=null,d()}},6e4);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(u)}}:null}function of(){if(this.count--,this.count===0){if(this.stylesheets)Iy(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var lf=null;function Iy(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,lf=new Map,a.forEach(cM,r),lf=null,of.call(r))}function cM(r,a){if(!(a.state.loading&4)){var u=lf.get(r);if(u)var d=u.get(null);else{u=new Map,lf.set(r,u);for(var m=r.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<m.length;v++){var S=m[v];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(u.set(S.dataset.precedence,S),d=S)}d&&u.set(null,d)}m=a.instance,S=m.getAttribute("data-precedence"),v=u.get(S)||d,v===d&&u.set(null,m),u.set(S,m),this.count++,d=of.bind(this),m.addEventListener("load",d),m.addEventListener("error",d),v?v.parentNode.insertBefore(m,v.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(m,r.firstChild)),a.state.loading|=4}}var _c={$$typeof:w,Provider:null,Consumer:null,_currentValue:Oe,_currentValue2:Oe,_threadCount:0};function hM(r,a,u,d,m,v,S,D){this.tag=1,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mo(0),this.hiddenUpdates=Mo(null),this.identifierPrefix=d,this.onUncaughtError=m,this.onCaughtError=v,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Q1(r,a,u,d,m,v,S,D,B,$,ee,se){return r=new hM(r,a,u,S,D,B,$,se),a=1,v===!0&&(a|=24),v=Ei(3,null,null,a),r.current=v,v.stateNode=r,a=og(),a.refCount++,r.pooledCache=a,a.refCount++,v.memoizedState={element:d,isDehydrated:u,cache:a},zg(v),r}function X1(r){return r?(r=Qo,r):Qo}function Z1(r,a,u,d,m,v){m=X1(m),d.context===null?d.context=m:d.pendingContext=m,d=Vr(a),d.payload={element:u},v=v===void 0?null:v,v!==null&&(d.callback=v),u=jr(r,d,a),u!==null&&(Un(u,r,a),nc(u,r,a))}function J1(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<a?u:a}}function Ny(r,a){J1(r,a),(r=r.alternate)&&J1(r,a)}function eb(r){if(r.tag===13){var a=Nr(r,67108864);a!==null&&Un(a,r,67108864),Ny(r,67108864)}}var uf=!0;function dM(r,a,u,d){var m=C.T;C.T=null;var v=me.p;try{me.p=2,Py(r,a,u,d)}finally{me.p=v,C.T=m}}function fM(r,a,u,d){var m=C.T;C.T=null;var v=me.p;try{me.p=8,Py(r,a,u,d)}finally{me.p=v,C.T=m}}function Py(r,a,u,d){if(uf){var m=Dy(d);if(m===null)_y(r,a,d,cf,u),nb(r,d);else if(mM(m,r,a,u,d))d.stopPropagation();else if(nb(r,d),a&4&&-1<pM.indexOf(r)){for(;m!==null;){var v=Rs(m);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var S=Ri(v.pendingLanes);if(S!==0){var D=v;for(D.pendingLanes|=2,D.entangledLanes|=2;S;){var B=1<<31-kn(S);D.entanglements[1]|=B,S&=~B}ls(v),!(wt&6)&&($d=$t()+500,fc(0))}}break;case 13:D=Nr(v,2),D!==null&&Un(D,v,2),Yd(),Ny(v,2)}if(v=Dy(d),v===null&&_y(r,a,d,cf,u),v===m)break;m=v}m!==null&&d.stopPropagation()}else _y(r,a,d,null,u)}}function Dy(r){return r=jo(r),My(r)}var cf=null;function My(r){if(cf=null,r=Ii(r),r!==null){var a=ae(r);if(a===null)r=null;else{var u=a.tag;if(u===13){if(r=fe(a),r!==null)return r;r=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return cf=r,null}function tb(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Eu()){case Ot:return 2;case nn:return 8;case Cs:case Yh:return 32;case Tu:return 268435456;default:return 32}default:return 32}}var Oy=!1,Gr=null,$r=null,Kr=null,Ec=new Map,Tc=new Map,Wr=[],pM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nb(r,a){switch(r){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":$r=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":Ec.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tc.delete(a.pointerId)}}function wc(r,a,u,d,m,v){return r===null||r.nativeEvent!==v?(r={blockedOn:a,domEventName:u,eventSystemFlags:d,nativeEvent:v,targetContainers:[m]},a!==null&&(a=Rs(a),a!==null&&eb(a)),r):(r.eventSystemFlags|=d,a=r.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),r)}function mM(r,a,u,d,m){switch(a){case"focusin":return Gr=wc(Gr,r,a,u,d,m),!0;case"dragenter":return $r=wc($r,r,a,u,d,m),!0;case"mouseover":return Kr=wc(Kr,r,a,u,d,m),!0;case"pointerover":var v=m.pointerId;return Ec.set(v,wc(Ec.get(v)||null,r,a,u,d,m)),!0;case"gotpointercapture":return v=m.pointerId,Tc.set(v,wc(Tc.get(v)||null,r,a,u,d,m)),!0}return!1}function ib(r){var a=Ii(r.target);if(a!==null){var u=ae(a);if(u!==null){if(a=u.tag,a===13){if(a=fe(u),a!==null){r.blockedOn=a,Tr(r.priority,function(){if(u.tag===13){var d=ei(),m=Nr(u,d);m!==null&&Un(m,u,d),Ny(u,d)}});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function hf(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var u=Dy(r.nativeEvent);if(u===null){u=r.nativeEvent;var d=new u.constructor(u.type,u);ci=d,u.target.dispatchEvent(d),ci=null}else return a=Rs(u),a!==null&&eb(a),r.blockedOn=u,!1;a.shift()}return!0}function sb(r,a,u){hf(r)&&u.delete(a)}function gM(){Oy=!1,Gr!==null&&hf(Gr)&&(Gr=null),$r!==null&&hf($r)&&($r=null),Kr!==null&&hf(Kr)&&(Kr=null),Ec.forEach(sb),Tc.forEach(sb)}function df(r,a){r.blockedOn===a&&(r.blockedOn=null,Oy||(Oy=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,gM)))}var ff=null;function rb(r){ff!==r&&(ff=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ff===r&&(ff=null);for(var a=0;a<r.length;a+=3){var u=r[a],d=r[a+1],m=r[a+2];if(typeof d!="function"){if(My(d||u)===null)continue;break}var v=Rs(u);v!==null&&(r.splice(a,3),a-=3,bg(v,{pending:!0,data:m,method:u.method,action:d},d,m))}}))}function bc(r){function a(B){return df(B,r)}Gr!==null&&df(Gr,r),$r!==null&&df($r,r),Kr!==null&&df(Kr,r),Ec.forEach(a),Tc.forEach(a);for(var u=0;u<Wr.length;u++){var d=Wr[u];d.blockedOn===r&&(d.blockedOn=null)}for(;0<Wr.length&&(u=Wr[0],u.blockedOn===null);)ib(u),u.blockedOn===null&&Wr.shift();if(u=(r.ownerDocument||r).$$reactFormReplay,u!=null)for(d=0;d<u.length;d+=3){var m=u[d],v=u[d+1],S=m[Kt]||null;if(typeof v=="function")S||rb(u);else if(S){var D=null;if(v&&v.hasAttribute("formAction")){if(m=v,S=v[Kt]||null)D=S.formAction;else if(My(m)!==null)continue}else D=S.action;typeof D=="function"?u[d+1]=D:(u.splice(d,3),d-=3),rb(u)}}}function ky(r){this._internalRoot=r}pf.prototype.render=ky.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var u=a.current,d=ei();Z1(u,d,r,a,null,null)},pf.prototype.unmount=ky.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;r.tag===0&&fl(),Z1(r.current,2,null,r,null,null),Yd(),a[As]=null}};function pf(r){this._internalRoot=r}pf.prototype.unstable_scheduleHydration=function(r){if(r){var a=ed();r={blockedOn:null,target:r,priority:a};for(var u=0;u<Wr.length&&a!==0&&a<Wr[u].priority;u++);Wr.splice(u,0,r),u===0&&ib(r)}};var ab=e.version;if(ab!=="19.0.0")throw Error(i(527,ab,"19.0.0"));me.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=ie(a),r=r!==null?ye(r):null,r=r===null?null:r.stateNode,r};var yM={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:C,findFiberByHostInstance:Ii,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mf.isDisabled&&mf.supportsFiber)try{mr=mf.inject(yM),xn=mf}catch{}}return xc.createRoot=function(r,a){if(!s(r))throw Error(i(299));var u=!1,d="",m=bw,v=Sw,S=xw,D=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks)),a=Q1(r,1,!1,null,null,u,d,m,v,S,D,null),r[As]=a.current,vy(r.nodeType===8?r.parentNode:r),new ky(a)},xc.hydrateRoot=function(r,a,u){if(!s(r))throw Error(i(299));var d=!1,m="",v=bw,S=Sw,D=xw,B=null,$=null;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(m=u.identifierPrefix),u.onUncaughtError!==void 0&&(v=u.onUncaughtError),u.onCaughtError!==void 0&&(S=u.onCaughtError),u.onRecoverableError!==void 0&&(D=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(B=u.unstable_transitionCallbacks),u.formState!==void 0&&($=u.formState)),a=Q1(r,1,!0,a,u??null,d,m,v,S,D,B,$),a.context=X1(null),u=a.current,d=ei(),m=Vr(d),m.callback=null,jr(u,m,d),a.current.lanes=d,kt(a,d),ls(a),r[As]=a.current,vy(r),new pf(a)},xc.version="19.0.0",xc}var gb;function RM(){if(gb)return jy.exports;gb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),jy.exports=AM(),jy.exports}var IM=RM(),Cc={},yb;function NM(){if(yb)return Cc;yb=1,Object.defineProperty(Cc,"__esModule",{value:!0}),Cc.parse=l,Cc.serialize=f;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function l(_,w){const x=new o,O=_.length;if(O<2)return x;const V=(w==null?void 0:w.decode)||g;let P=0;do{const I=_.indexOf("=",P);if(I===-1)break;const N=_.indexOf(";",P),H=N===-1?O:N;if(I>H){P=_.lastIndexOf(";",I-1)+1;continue}const q=c(_,P,I),Z=h(_,I,q),k=_.slice(q,Z);if(x[k]===void 0){let A=c(_,I+1,H),C=h(_,H,A);const R=V(_.slice(A,C));x[k]=R}P=H+1}while(P<O);return x}function c(_,w,x){do{const O=_.charCodeAt(w);if(O!==32&&O!==9)return w}while(++w<x);return x}function h(_,w,x){for(;w>x;){const O=_.charCodeAt(--w);if(O!==32&&O!==9)return w+1}return x}function f(_,w,x){const O=(x==null?void 0:x.encode)||encodeURIComponent;if(!n.test(_))throw new TypeError(`argument name is invalid: ${_}`);const V=O(w);if(!e.test(V))throw new TypeError(`argument val is invalid: ${w}`);let P=_+"="+V;if(!x)return P;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);P+="; Max-Age="+x.maxAge}if(x.domain){if(!t.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);P+="; Domain="+x.domain}if(x.path){if(!i.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);P+="; Path="+x.path}if(x.expires){if(!y(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);P+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(P+="; HttpOnly"),x.secure&&(P+="; Secure"),x.partitioned&&(P+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":P+="; Priority=Low";break;case"medium":P+="; Priority=Medium";break;case"high":P+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":P+="; SameSite=Strict";break;case"lax":P+="; SameSite=Lax";break;case"none":P+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return P}function g(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function y(_){return s.call(_)==="[object Date]"}return Cc}NM();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var vb="popstate";function PM(n={}){function e(i,s){let{pathname:o,search:l,hash:c}=i.location;return Av("",{pathname:o,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){return typeof s=="string"?s:ih(s)}return MM(e,t,null,n)}function _t(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ui(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DM(){return Math.random().toString(36).substring(2,10)}function _b(n,e){return{usr:n.state,key:n.key,idx:e}}function Av(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?su(e):e,state:t,key:e&&e.key||i||DM()}}function ih({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function su(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function MM(n,e,t,i={}){let{window:s=document.defaultView,v5Compat:o=!1}=i,l=s.history,c="POP",h=null,f=g();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function g(){return(l.state||{idx:null}).idx}function y(){c="POP";let V=g(),P=V==null?null:V-f;f=V,h&&h({action:c,location:O.location,delta:P})}function _(V,P){c="PUSH";let I=Av(O.location,V,P);f=g()+1;let N=_b(I,f),H=O.createHref(I);try{l.pushState(N,"",H)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;s.location.assign(H)}o&&h&&h({action:c,location:O.location,delta:1})}function w(V,P){c="REPLACE";let I=Av(O.location,V,P);f=g();let N=_b(I,f),H=O.createHref(I);l.replaceState(N,"",H),o&&h&&h({action:c,location:O.location,delta:0})}function x(V){let P=s.location.origin!=="null"?s.location.origin:s.location.href,I=typeof V=="string"?V:ih(V);return I=I.replace(/ $/,"%20"),_t(P,`No window.location.(origin|href) available to create URL for href: ${I}`),new URL(I,P)}let O={get action(){return c},get location(){return n(s,l)},listen(V){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(vb,y),h=V,()=>{s.removeEventListener(vb,y),h=null}},createHref(V){return e(s,V)},createURL:x,encodeLocation(V){let P=x(V);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:_,replace:w,go(V){return l.go(V)}};return O}function tC(n,e,t="/"){return OM(n,e,t,!1)}function OM(n,e,t,i){let s=typeof e=="string"?su(e):e,o=da(s.pathname||"/",t);if(o==null)return null;let l=nC(n);kM(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let f=$M(o);c=qM(l[h],f,i)}return c}function nC(n,e=[],t=[],i=""){let s=(o,l,c)=>{let h={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};h.relativePath.startsWith("/")&&(_t(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let f=sr([i,h.relativePath]),g=t.concat(h);o.children&&o.children.length>0&&(_t(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),nC(o.children,e,g,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:FM(f,o.index),routesMeta:g})};return n.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))s(o,l);else for(let h of iC(o.path))s(o,l,h)}),e}function iC(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(i.length===0)return s?[o,""]:[o];let l=iC(i.join("/")),c=[];return c.push(...l.map(h=>h===""?o:[o,h].join("/"))),s&&c.push(...l),c.map(h=>n.startsWith("/")&&h===""?"/":h)}function kM(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:HM(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var LM=/^:[\w-]+$/,VM=3,jM=2,UM=1,BM=10,zM=-2,Eb=n=>n==="*";function FM(n,e){let t=n.split("/"),i=t.length;return t.some(Eb)&&(i+=zM),e&&(i+=jM),t.filter(s=>!Eb(s)).reduce((s,o)=>s+(LM.test(o)?VM:o===""?UM:BM),i)}function HM(n,e){return n.length===e.length&&n.slice(0,-1).every((i,s)=>i===e[s])?n[n.length-1]-e[e.length-1]:0}function qM(n,e,t=!1){let{routesMeta:i}=n,s={},o="/",l=[];for(let c=0;c<i.length;++c){let h=i[c],f=c===i.length-1,g=o==="/"?e:e.slice(o.length)||"/",y=Yf({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},g),_=h.route;if(!y&&f&&t&&!i[i.length-1].route.index&&(y=Yf({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!y)return null;Object.assign(s,y.params),l.push({params:s,pathname:sr([o,y.pathname]),pathnameBase:QM(sr([o,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(o=sr([o,y.pathnameBase]))}return l}function Yf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=GM(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:i.reduce((f,{paramName:g,isOptional:y},_)=>{if(g==="*"){let x=c[_]||"";l=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const w=c[_];return y&&!w?f[g]=void 0:f[g]=(w||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:n}}function GM(n,e=!1,t=!0){Ui(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(i.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function $M(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ui(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function da(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function KM(n,e="/"){let{pathname:t,search:i="",hash:s=""}=typeof n=="string"?su(n):n;return{pathname:t?t.startsWith("/")?t:WM(t,e):e,search:XM(i),hash:ZM(s)}}function WM(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Fy(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function YM(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function L_(n){let e=YM(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function V_(n,e,t,i=!1){let s;typeof n=="string"?s=su(n):(s={...n},_t(!s.pathname||!s.pathname.includes("?"),Fy("?","pathname","search",s)),_t(!s.pathname||!s.pathname.includes("#"),Fy("#","pathname","hash",s)),_t(!s.search||!s.search.includes("#"),Fy("#","search","hash",s)));let o=n===""||s.pathname==="",l=o?"/":s.pathname,c;if(l==null)c=t;else{let y=e.length-1;if(!i&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),y-=1;s.pathname=_.join("/")}c=y>=0?e[y]:"/"}let h=KM(s,c),f=l&&l!=="/"&&l.endsWith("/"),g=(o||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(f||g)&&(h.pathname+="/"),h}var sr=n=>n.join("/").replace(/\/\/+/g,"/"),QM=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),XM=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,ZM=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function JM(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var sC=["POST","PUT","PATCH","DELETE"];new Set(sC);var e4=["GET",...sC];new Set(e4);var ru=U.createContext(null);ru.displayName="DataRouter";var Wp=U.createContext(null);Wp.displayName="DataRouterState";var rC=U.createContext({isTransitioning:!1});rC.displayName="ViewTransition";var t4=U.createContext(new Map);t4.displayName="Fetchers";var n4=U.createContext(null);n4.displayName="Await";var Fi=U.createContext(null);Fi.displayName="Navigation";var Rh=U.createContext(null);Rh.displayName="Location";var bs=U.createContext({outlet:null,matches:[],isDataRoute:!1});bs.displayName="Route";var j_=U.createContext(null);j_.displayName="RouteError";function i4(n,{relative:e}={}){_t(au(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=U.useContext(Fi),{hash:s,pathname:o,search:l}=Ih(n,{relative:e}),c=o;return t!=="/"&&(c=o==="/"?t:sr([t,o])),i.createHref({pathname:c,search:l,hash:s})}function au(){return U.useContext(Rh)!=null}function Ss(){return _t(au(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Rh).location}var aC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function oC(n){U.useContext(Fi).static||U.useLayoutEffect(n)}function Hi(){let{isDataRoute:n}=U.useContext(bs);return n?g4():s4()}function s4(){_t(au(),"useNavigate() may be used only in the context of a <Router> component.");let n=U.useContext(ru),{basename:e,navigator:t}=U.useContext(Fi),{matches:i}=U.useContext(bs),{pathname:s}=Ss(),o=JSON.stringify(L_(i)),l=U.useRef(!1);return oC(()=>{l.current=!0}),U.useCallback((h,f={})=>{if(Ui(l.current,aC),!l.current)return;if(typeof h=="number"){t.go(h);return}let g=V_(h,JSON.parse(o),s,f.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:sr([e,g.pathname])),(f.replace?t.replace:t.push)(g,f.state,f)},[e,t,o,s,n])}U.createContext(null);function Ih(n,{relative:e}={}){let{matches:t}=U.useContext(bs),{pathname:i}=Ss(),s=JSON.stringify(L_(t));return U.useMemo(()=>V_(n,JSON.parse(s),i,e==="path"),[n,s,i,e])}function r4(n,e){return lC(n,e)}function lC(n,e,t,i){var I;_t(au(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:o}=U.useContext(Fi),{matches:l}=U.useContext(bs),c=l[l.length-1],h=c?c.params:{},f=c?c.pathname:"/",g=c?c.pathnameBase:"/",y=c&&c.route;{let N=y&&y.path||"";uC(f,!y||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let _=Ss(),w;if(e){let N=typeof e=="string"?su(e):e;_t(g==="/"||((I=N.pathname)==null?void 0:I.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${N.pathname}" was given in the \`location\` prop.`),w=N}else w=_;let x=w.pathname||"/",O=x;if(g!=="/"){let N=g.replace(/^\//,"").split("/");O="/"+x.replace(/^\//,"").split("/").slice(N.length).join("/")}let V=!o&&t&&t.matches&&t.matches.length>0?t.matches:tC(n,{pathname:O});Ui(y||V!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Ui(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=c4(V&&V.map(N=>Object.assign({},N,{params:Object.assign({},h,N.params),pathname:sr([g,s.encodeLocation?s.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?g:sr([g,s.encodeLocation?s.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),l,t,i);return e&&P?U.createElement(Rh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},P):P}function a4(){let n=m4(),e=JM(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=U.createElement(U.Fragment,null,U.createElement("p",null,"💿 Hey developer 👋"),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:o},"ErrorBoundary")," or"," ",U.createElement("code",{style:o},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:s},t):null,l)}var o4=U.createElement(a4,null),l4=class extends U.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?U.createElement(bs.Provider,{value:this.props.routeContext},U.createElement(j_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function u4({routeContext:n,match:e,children:t}){let i=U.useContext(ru);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(bs.Provider,{value:n},t)}function c4(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,o=t==null?void 0:t.errors;if(o!=null){let h=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);_t(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let l=!1,c=-1;if(t)for(let h=0;h<s.length;h++){let f=s[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:g,errors:y}=t,_=f.route.loader&&!g.hasOwnProperty(f.route.id)&&(!y||y[f.route.id]===void 0);if(f.route.lazy||_){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((h,f,g)=>{let y,_=!1,w=null,x=null;t&&(y=o&&f.route.id?o[f.route.id]:void 0,w=f.route.errorElement||o4,l&&(c<0&&g===0?(uC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,x=null):c===g&&(_=!0,x=f.route.hydrateFallbackElement||null)));let O=e.concat(s.slice(0,g+1)),V=()=>{let P;return y?P=w:_?P=x:f.route.Component?P=U.createElement(f.route.Component,null):f.route.element?P=f.route.element:P=h,U.createElement(u4,{match:f,routeContext:{outlet:h,matches:O,isDataRoute:t!=null},children:P})};return t&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?U.createElement(l4,{location:t.location,revalidation:t.revalidation,component:w,error:y,children:V(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):V()},null)}function U_(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function h4(n){let e=U.useContext(ru);return _t(e,U_(n)),e}function d4(n){let e=U.useContext(Wp);return _t(e,U_(n)),e}function f4(n){let e=U.useContext(bs);return _t(e,U_(n)),e}function B_(n){let e=f4(n),t=e.matches[e.matches.length-1];return _t(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function p4(){return B_("useRouteId")}function m4(){var i;let n=U.useContext(j_),e=d4("useRouteError"),t=B_("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function g4(){let{router:n}=h4("useNavigate"),e=B_("useNavigate"),t=U.useRef(!1);return oC(()=>{t.current=!0}),U.useCallback(async(s,o={})=>{Ui(t.current,aC),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...o}))},[n,e])}var Tb={};function uC(n,e,t){!e&&!Tb[n]&&(Tb[n]=!0,Ui(!1,t))}U.memo(y4);function y4({routes:n,future:e,state:t}){return lC(n,void 0,t,e)}function v4({to:n,replace:e,state:t,relative:i}){_t(au(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=U.useContext(Fi);Ui(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=U.useContext(bs),{pathname:l}=Ss(),c=Hi(),h=V_(n,L_(o),l,i==="path"),f=JSON.stringify(h);return U.useEffect(()=>{c(JSON.parse(f),{replace:e,state:t,relative:i})},[c,f,i,e,t]),null}function Zs(n){_t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _4({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:s,static:o=!1}){_t(!au(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=U.useMemo(()=>({basename:l,navigator:s,static:o,future:{}}),[l,s,o]);typeof t=="string"&&(t=su(t));let{pathname:h="/",search:f="",hash:g="",state:y=null,key:_="default"}=t,w=U.useMemo(()=>{let x=da(h,l);return x==null?null:{location:{pathname:x,search:f,hash:g,state:y,key:_},navigationType:i}},[l,h,f,g,y,_,i]);return Ui(w!=null,`<Router basename="${l}"> is not able to match the URL "${h}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:U.createElement(Fi.Provider,{value:c},U.createElement(Rh.Provider,{children:e,value:w}))}function E4({children:n,location:e}){return r4(Rv(n),e)}function Rv(n,e=[]){let t=[];return U.Children.forEach(n,(i,s)=>{if(!U.isValidElement(i))return;let o=[...e,s];if(i.type===U.Fragment){t.push.apply(t,Rv(i.props.children,o));return}_t(i.type===Zs,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_t(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=Rv(i.props.children,o)),t.push(l)}),t}var Df="get",Mf="application/x-www-form-urlencoded";function Yp(n){return n!=null&&typeof n.tagName=="string"}function T4(n){return Yp(n)&&n.tagName.toLowerCase()==="button"}function w4(n){return Yp(n)&&n.tagName.toLowerCase()==="form"}function b4(n){return Yp(n)&&n.tagName.toLowerCase()==="input"}function S4(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function x4(n,e){return n.button===0&&(!e||e==="_self")&&!S4(n)}var gf=null;function C4(){if(gf===null)try{new FormData(document.createElement("form"),0),gf=!1}catch{gf=!0}return gf}var A4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hy(n){return n!=null&&!A4.has(n)?(Ui(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Mf}"`),null):n}function R4(n,e){let t,i,s,o,l;if(w4(n)){let c=n.getAttribute("action");i=c?da(c,e):null,t=n.getAttribute("method")||Df,s=Hy(n.getAttribute("enctype"))||Mf,o=new FormData(n)}else if(T4(n)||b4(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||c.getAttribute("action");if(i=h?da(h,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||Df,s=Hy(n.getAttribute("formenctype"))||Hy(c.getAttribute("enctype"))||Mf,o=new FormData(c,n),!C4()){let{name:f,type:g,value:y}=n;if(g==="image"){let _=f?`${f}.`:"";o.append(`${_}x`,"0"),o.append(`${_}y`,"0")}else f&&o.append(f,y)}}else{if(Yp(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Df,i=null,s=Mf,l=n}return o&&s==="text/plain"&&(l=o,o=void 0),{action:i,method:t.toLowerCase(),encType:s,formData:o,body:l}}function z_(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function I4(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function N4(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function P4(n,e,t){let i=await Promise.all(n.map(async s=>{let o=e.routes[s.route.id];if(o){let l=await I4(o,t);return l.links?l.links():[]}return[]}));return k4(i.flat(1).filter(N4).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function wb(n,e,t,i,s,o){let l=(h,f)=>t[f]?h.route.id!==t[f].route.id:!0,c=(h,f)=>{var g;return t[f].pathname!==h.pathname||((g=t[f].route.path)==null?void 0:g.endsWith("*"))&&t[f].params["*"]!==h.params["*"]};return o==="assets"?e.filter((h,f)=>l(h,f)||c(h,f)):o==="data"?e.filter((h,f)=>{var y;let g=i.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(l(h,f)||c(h,f))return!0;if(h.route.shouldRevalidate){let _=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((y=t[0])==null?void 0:y.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function D4(n,e,{includeHydrateFallback:t}={}){return M4(n.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function M4(n){return[...new Set(n)]}function O4(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function k4(n,e){let t=new Set;return new Set(e),n.reduce((i,s)=>{let o=JSON.stringify(O4(s));return t.has(o)||(t.add(o),i.push({key:o,link:s})),i},[])}function L4(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function V4(){let n=U.useContext(ru);return z_(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function j4(){let n=U.useContext(Wp);return z_(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var F_=U.createContext(void 0);F_.displayName="FrameworkContext";function cC(){let n=U.useContext(F_);return z_(n,"You must render this element inside a <HydratedRouter> element"),n}function U4(n,e){let t=U.useContext(F_),[i,s]=U.useState(!1),[o,l]=U.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:f,onMouseLeave:g,onTouchStart:y}=e,_=U.useRef(null);U.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let O=P=>{P.forEach(I=>{l(I.isIntersecting)})},V=new IntersectionObserver(O,{threshold:.5});return _.current&&V.observe(_.current),()=>{V.disconnect()}}},[n]),U.useEffect(()=>{if(i){let O=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(O)}}},[i]);let w=()=>{s(!0)},x=()=>{s(!1),l(!1)};return t?n!=="intent"?[o,_,{}]:[o,_,{onFocus:Ac(c,w),onBlur:Ac(h,x),onMouseEnter:Ac(f,w),onMouseLeave:Ac(g,x),onTouchStart:Ac(y,w)}]:[!1,_,{}]}function Ac(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function B4({page:n,...e}){let{router:t}=V4(),i=U.useMemo(()=>tC(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?U.createElement(F4,{page:n,matches:i,...e}):null}function z4(n){let{manifest:e,routeModules:t}=cC(),[i,s]=U.useState([]);return U.useEffect(()=>{let o=!1;return P4(n,e,t).then(l=>{o||s(l)}),()=>{o=!0}},[n,e,t]),i}function F4({page:n,matches:e,...t}){let i=Ss(),{manifest:s,routeModules:o}=cC(),{loaderData:l,matches:c}=j4(),h=U.useMemo(()=>wb(n,e,c,s,i,"data"),[n,e,c,s,i]),f=U.useMemo(()=>wb(n,e,c,s,i,"assets"),[n,e,c,s,i]),g=U.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let w=new Set,x=!1;if(e.forEach(V=>{var I;let P=s.routes[V.route.id];!P||!P.hasLoader||(!h.some(N=>N.route.id===V.route.id)&&V.route.id in l&&((I=o[V.route.id])!=null&&I.shouldRevalidate)||P.hasClientLoader?x=!0:w.add(V.route.id))}),w.size===0)return[];let O=L4(n);return x&&w.size>0&&O.searchParams.set("_routes",e.filter(V=>w.has(V.route.id)).map(V=>V.route.id).join(",")),[O.pathname+O.search]},[l,i,s,h,e,n,o]),y=U.useMemo(()=>D4(f,s),[f,s]),_=z4(f);return U.createElement(U.Fragment,null,g.map(w=>U.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...t})),y.map(w=>U.createElement("link",{key:w,rel:"modulepreload",href:w,...t})),_.map(({key:w,link:x})=>U.createElement("link",{key:w,...x})))}function H4(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var hC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{hC&&(window.__reactRouterVersion="7.2.0")}catch{}function q4({basename:n,children:e,window:t}){let i=U.useRef();i.current==null&&(i.current=PM({window:t,v5Compat:!0}));let s=i.current,[o,l]=U.useState({action:s.action,location:s.location}),c=U.useCallback(h=>{U.startTransition(()=>l(h))},[l]);return U.useLayoutEffect(()=>s.listen(c),[s,c]),U.createElement(_4,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:s})}var dC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dl=U.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:s,reloadDocument:o,replace:l,state:c,target:h,to:f,preventScrollReset:g,viewTransition:y,..._},w){let{basename:x}=U.useContext(Fi),O=typeof f=="string"&&dC.test(f),V,P=!1;if(typeof f=="string"&&O&&(V=f,hC))try{let C=new URL(window.location.href),R=f.startsWith("//")?new URL(C.protocol+f):new URL(f),j=da(R.pathname,x);R.origin===C.origin&&j!=null?f=j+R.search+R.hash:P=!0}catch{Ui(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let I=i4(f,{relative:s}),[N,H,q]=U4(i,_),Z=W4(f,{replace:l,state:c,target:h,preventScrollReset:g,relative:s,viewTransition:y});function k(C){e&&e(C),C.defaultPrevented||Z(C)}let A=U.createElement("a",{..._,...q,href:V||I,onClick:P||o?e:k,ref:H4(w,H),target:h,"data-discover":!O&&t==="render"?"true":void 0});return N&&!O?U.createElement(U.Fragment,null,A,U.createElement(B4,{page:I})):A});Dl.displayName="Link";var G4=U.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:s=!1,style:o,to:l,viewTransition:c,children:h,...f},g){let y=Ih(l,{relative:f.relative}),_=Ss(),w=U.useContext(Wp),{navigator:x,basename:O}=U.useContext(Fi),V=w!=null&&J4(y)&&c===!0,P=x.encodeLocation?x.encodeLocation(y).pathname:y.pathname,I=_.pathname,N=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;t||(I=I.toLowerCase(),N=N?N.toLowerCase():null,P=P.toLowerCase()),N&&O&&(N=da(N,O)||N);const H=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let q=I===P||!s&&I.startsWith(P)&&I.charAt(H)==="/",Z=N!=null&&(N===P||!s&&N.startsWith(P)&&N.charAt(P.length)==="/"),k={isActive:q,isPending:Z,isTransitioning:V},A=q?e:void 0,C;typeof i=="function"?C=i(k):C=[i,q?"active":null,Z?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let R=typeof o=="function"?o(k):o;return U.createElement(Dl,{...f,"aria-current":A,className:C,ref:g,style:R,to:l,viewTransition:c},typeof h=="function"?h(k):h)});G4.displayName="NavLink";var $4=U.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:s,state:o,method:l=Df,action:c,onSubmit:h,relative:f,preventScrollReset:g,viewTransition:y,..._},w)=>{let x=X4(),O=Z4(c,{relative:f}),V=l.toLowerCase()==="get"?"get":"post",P=typeof c=="string"&&dC.test(c),I=N=>{if(h&&h(N),N.defaultPrevented)return;N.preventDefault();let H=N.nativeEvent.submitter,q=(H==null?void 0:H.getAttribute("formmethod"))||l;x(H||N.currentTarget,{fetcherKey:e,method:q,navigate:t,replace:s,state:o,relative:f,preventScrollReset:g,viewTransition:y})};return U.createElement("form",{ref:w,method:V,action:O,onSubmit:i?h:I,..._,"data-discover":!P&&n==="render"?"true":void 0})});$4.displayName="Form";function K4(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fC(n){let e=U.useContext(ru);return _t(e,K4(n)),e}function W4(n,{target:e,replace:t,state:i,preventScrollReset:s,relative:o,viewTransition:l}={}){let c=Hi(),h=Ss(),f=Ih(n,{relative:o});return U.useCallback(g=>{if(x4(g,e)){g.preventDefault();let y=t!==void 0?t:ih(h)===ih(f);c(n,{replace:y,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[h,c,f,t,i,e,n,s,o,l])}var Y4=0,Q4=()=>`__${String(++Y4)}__`;function X4(){let{router:n}=fC("useSubmit"),{basename:e}=U.useContext(Fi),t=p4();return U.useCallback(async(i,s={})=>{let{action:o,method:l,encType:c,formData:h,body:f}=R4(i,e);if(s.navigate===!1){let g=s.fetcherKey||Q4();await n.fetch(g,t,s.action||o,{preventScrollReset:s.preventScrollReset,formData:h,body:f,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await n.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:h,body:f,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function Z4(n,{relative:e}={}){let{basename:t}=U.useContext(Fi),i=U.useContext(bs);_t(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),o={...Ih(n||".",{relative:e})},l=Ss();if(n==null){o.search=l.search;let c=new URLSearchParams(o.search),h=c.getAll("index");if(h.some(g=>g==="")){c.delete("index"),h.filter(y=>y).forEach(y=>c.append("index",y));let g=c.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:sr([t,o.pathname])),ih(o)}function J4(n,e={}){let t=U.useContext(rC);_t(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=fC("useViewTransitionState"),s=Ih(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=da(t.currentLocation.pathname,i)||t.currentLocation.pathname,l=da(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Yf(s.pathname,l)!=null||Yf(s.pathname,o)!=null}new TextEncoder;const pC="/assets/VYTHITI2-U5rY2ngc.png",eO="/assets/li1-BEzY4Xiq.png";var mC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},bb=ht.createContext&&ht.createContext(mC),tO=["attr","size","title"];function nO(n,e){if(n==null)return{};var t=iO(n,e),i,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(s=0;s<o.length;s++)i=o[s],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function iO(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function Qf(){return Qf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Qf.apply(this,arguments)}function Sb(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function Xf(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Sb(Object(t),!0).forEach(function(i){sO(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Sb(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function sO(n,e,t){return e=rO(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function rO(n){var e=aO(n,"string");return typeof e=="symbol"?e:e+""}function aO(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function gC(n){return n&&n.map((e,t)=>ht.createElement(e.tag,Xf({key:t},e.attr),gC(e.child)))}function Ke(n){return e=>ht.createElement(oO,Qf({attr:Xf({},n.attr)},e),gC(n.child))}function oO(n){var e=t=>{var{attr:i,size:s,title:o}=n,l=nO(n,tO),c=s||t.size||"1em",h;return t.className&&(h=t.className),n.className&&(h=(h?h+" ":"")+n.className),ht.createElement("svg",Qf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,l,{className:h,style:Xf(Xf({color:n.color||t.color},t.style),n.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),o&&ht.createElement("title",null,o),n.children)};return bb!==void 0?ht.createElement(bb.Consumer,null,t=>e(t)):e(mC)}function lO(n){return Ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M509.5 184.6L458.9 32.8C452.4 13.2 434.1 0 413.4 0H272v192h238.7c-.4-2.5-.4-5-1.2-7.4zM240 0H98.6c-20.7 0-39 13.2-45.5 32.8L2.5 184.6c-.8 2.4-.8 4.9-1.2 7.4H240V0zM0 224v240c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V224H0z"},child:[]}]})(n)}function yC(n){return Ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 504C119 504 8 393 8 256S119 8 256 8s248 111 248 248-111 248-248 248zM142.1 273l135.5 135.5c9.4 9.4 24.6 9.4 33.9 0l17-17c9.4-9.4 9.4-24.6 0-33.9L226.9 256l101.6-101.6c9.4-9.4 9.4-24.6 0-33.9l-17-17c-9.4-9.4-24.6-9.4-33.9 0L142.1 239c-9.4 9.4-9.4 24.6 0 34z"},child:[]}]})(n)}function uO(n){return Ke({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(n)}function Qp(n){return Ke({attr:{viewBox:"0 0 192 512"},child:[{tag:"path",attr:{d:"M96 184c39.8 0 72 32.2 72 72s-32.2 72-72 72-72-32.2-72-72 32.2-72 72-72zM24 80c0 39.8 32.2 72 72 72s72-32.2 72-72S135.8 8 96 8 24 40.2 24 80zm0 352c0 39.8 32.2 72 72 72s72-32.2 72-72-32.2-72-72-72-72 32.2-72 72z"},child:[]}]})(n)}function cO(n){return Ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(n)}function vC(n){return Ke({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(n)}function hO(n){return Ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"},child:[]}]})(n)}function dO(n){return Ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(n)}function fO(n){return Ke({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(n)}function pO(n){return Ke({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(n)}function mO(n){return Ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"},child:[]}]})(n)}function gO(n){return Ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"},child:[]}]})(n)}function _C(n){return Ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M13.66 7c-.56-1.18-1.76-2-3.16-2H6V3h12v2h-3.26c.48.58.84 1.26 1.05 2H18v2h-2.02c-.25 2.8-2.61 5-5.48 5h-.73l6.73 7h-2.77L7 14v-2h3.5c1.76 0 3.22-1.3 3.46-3H6V7h7.66z"},child:[]}]})(n)}function yO(n){return Ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"},child:[]}]})(n)}function vO(n){return Ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C8.13 2 5 5.13 5 9c0 1.74.5 3.37 1.41 4.84.95 1.54 2.2 2.86 3.16 4.4.47.75.81 1.45 1.17 2.26.26.55.47 1.5 1.26 1.5s1-.95 1.25-1.5c.37-.81.7-1.51 1.17-2.26.96-1.53 2.21-2.85 3.16-4.4C18.5 12.37 19 10.74 19 9c0-3.87-3.13-7-7-7zm0 9.75a2.5 2.5 0 0 1 0-5 2.5 2.5 0 0 1 0 5z"},child:[]}]})(n)}function EC(n){return Ke({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"},child:[]}]})(n)}function Rc(n){return Ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12.1",cy:"12.1",r:"1"},child:[]}]})(n)}const TC=U.createContext({});function _O(n){const e=U.useRef(null);return e.current===null&&(e.current=n()),e.current}const H_=U.createContext(null),wC=U.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function EO(n=!0){const e=U.useContext(H_);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:s}=e,o=U.useId();U.useEffect(()=>{if(n)return s(o)},[n]);const l=U.useCallback(()=>n&&i&&i(o),[o,i,n]);return!t&&i?[!1,l]:[!0]}const q_=typeof window<"u",TO=q_?U.useLayoutEffect:U.useEffect,si=n=>n;let bC=si;function G_(n){let e;return()=>(e===void 0&&(e=n()),e)}const zl=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i},rr=n=>n*1e3,ar=n=>n/1e3,wO={useManualTiming:!1},yf=["read","resolveKeyframes","update","preRender","render","postRender"],xb={value:null};function bO(n,e){let t=new Set,i=new Set,s=!1,o=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1},h=0;function f(y){l.has(y)&&(g.schedule(y),n()),h++,y(c)}const g={schedule:(y,_=!1,w=!1)=>{const O=w&&s?t:i;return _&&l.add(y),O.has(y)||O.add(y),y},cancel:y=>{i.delete(y),l.delete(y)},process:y=>{if(c=y,s){o=!0;return}s=!0,[t,i]=[i,t],t.forEach(f),e&&xb.value&&xb.value.frameloop[e].push(h),h=0,t.clear(),s=!1,o&&(o=!1,g.process(y))}};return g}const SO=40;function SC(n,e){let t=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>t=!0,l=yf.reduce((P,I)=>(P[I]=bO(o,e?I:void 0),P),{}),{read:c,resolveKeyframes:h,update:f,preRender:g,render:y,postRender:_}=l,w=()=>{const P=performance.now();t=!1,s.delta=i?1e3/60:Math.max(Math.min(P-s.timestamp,SO),1),s.timestamp=P,s.isProcessing=!0,c.process(s),h.process(s),f.process(s),g.process(s),y.process(s),_.process(s),s.isProcessing=!1,t&&e&&(i=!1,n(w))},x=()=>{t=!0,i=!0,s.isProcessing||n(w)};return{schedule:yf.reduce((P,I)=>{const N=l[I];return P[I]=(H,q=!1,Z=!1)=>(t||x(),N.schedule(H,q,Z)),P},{}),cancel:P=>{for(let I=0;I<yf.length;I++)l[yf[I]].cancel(P)},state:s,steps:l}}const{schedule:gt,cancel:fa,state:_n,steps:qy}=SC(typeof requestAnimationFrame<"u"?requestAnimationFrame:si,!0),xC=U.createContext({strict:!1}),Cb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Fl={};for(const n in Cb)Fl[n]={isEnabled:e=>Cb[n].some(t=>!!e[t])};function xO(n){for(const e in n)Fl[e]={...Fl[e],...n[e]}}const CO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Zf(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||CO.has(n)}let CC=n=>!Zf(n);function AO(n){n&&(CC=e=>e.startsWith("on")?!Zf(e):n(e))}try{AO(require("@emotion/is-prop-valid").default)}catch{}function RO(n,e,t){const i={};for(const s in n)s==="values"&&typeof n.values=="object"||(CC(s)||t===!0&&Zf(s)||!e&&!Zf(s)||n.draggable&&s.startsWith("onDrag"))&&(i[s]=n[s]);return i}function IO(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...i)=>n(...i);return new Proxy(t,{get:(i,s)=>s==="create"?n:(e.has(s)||e.set(s,n(s)),e.get(s))})}const Xp=U.createContext({});function Zp(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function sh(n){return typeof n=="string"||Array.isArray(n)}const $_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],K_=["initial",...$_];function Jp(n){return Zp(n.animate)||K_.some(e=>sh(n[e]))}function AC(n){return!!(Jp(n)||n.variants)}function NO(n,e){if(Jp(n)){const{initial:t,animate:i}=n;return{initial:t===!1||sh(t)?t:void 0,animate:sh(i)?i:void 0}}return n.inherit!==!1?e:{}}function PO(n){const{initial:e,animate:t}=NO(n,U.useContext(Xp));return U.useMemo(()=>({initial:e,animate:t}),[Ab(e),Ab(t)])}function Ab(n){return Array.isArray(n)?n.join(" "):n}const DO=Symbol.for("motionComponentSymbol");function Sl(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function MO(n,e,t){return U.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):Sl(t)&&(t.current=i))},[e])}const W_=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),OO="framerAppearId",RC="data-"+W_(OO),{schedule:Y_}=SC(queueMicrotask,!1),IC=U.createContext({});function kO(n,e,t,i,s){var o,l;const{visualElement:c}=U.useContext(Xp),h=U.useContext(xC),f=U.useContext(H_),g=U.useContext(wC).reducedMotion,y=U.useRef(null);i=i||h.renderer,!y.current&&i&&(y.current=i(n,{visualState:e,parent:c,props:t,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:g}));const _=y.current,w=U.useContext(IC);_&&!_.projection&&s&&(_.type==="html"||_.type==="svg")&&LO(y.current,t,s,w);const x=U.useRef(!1);U.useInsertionEffect(()=>{_&&x.current&&_.update(t,f)});const O=t[RC],V=U.useRef(!!O&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,O))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,O)));return TO(()=>{_&&(x.current=!0,window.MotionIsMounted=!0,_.updateFeatures(),Y_.render(_.render),V.current&&_.animationState&&_.animationState.animateChanges())}),U.useEffect(()=>{_&&(!V.current&&_.animationState&&_.animationState.animateChanges(),V.current&&(queueMicrotask(()=>{var P;(P=window.MotionHandoffMarkAsComplete)===null||P===void 0||P.call(window,O)}),V.current=!1))}),_}function LO(n,e,t,i){const{layoutId:s,layout:o,drag:l,dragConstraints:c,layoutScroll:h,layoutRoot:f}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:NC(n.parent)),n.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!l||c&&Sl(c),visualElement:n,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,layoutScroll:h,layoutRoot:f})}function NC(n){if(n)return n.options.allowProjection!==!1?n.projection:NC(n.parent)}function VO({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:s}){var o,l;n&&xO(n);function c(f,g){let y;const _={...U.useContext(wC),...f,layoutId:jO(f)},{isStatic:w}=_,x=PO(f),O=i(f,w);if(!w&&q_){UO();const V=BO(_);y=V.MeasureLayout,x.visualElement=kO(s,O,_,e,V.ProjectionNode)}return T.jsxs(Xp.Provider,{value:x,children:[y&&x.visualElement?T.jsx(y,{visualElement:x.visualElement,..._}):null,t(s,f,MO(O,x.visualElement,g),O,w,x.visualElement)]})}c.displayName=`motion.${typeof s=="string"?s:`create(${(l=(o=s.displayName)!==null&&o!==void 0?o:s.name)!==null&&l!==void 0?l:""})`}`;const h=U.forwardRef(c);return h[DO]=s,h}function jO({layoutId:n}){const e=U.useContext(TC).id;return e&&n!==void 0?e+"-"+n:n}function UO(n,e){U.useContext(xC).strict}function BO(n){const{drag:e,layout:t}=Fl;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const PC=n=>e=>typeof e=="string"&&e.startsWith(n),Q_=PC("--"),zO=PC("var(--"),X_=n=>zO(n)?FO.test(n.split("/*")[0].trim()):!1,FO=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,rh={};function HO(n){for(const e in n)rh[e]=n[e],Q_(e)&&(rh[e].isCSSVariable=!0)}const ou=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],xo=new Set(ou);function DC(n,{layout:e,layoutId:t}){return xo.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!rh[n]||n==="opacity")}const Dn=n=>!!(n&&n.getVelocity),MC=(n,e)=>e&&typeof n=="number"?e.transform(n):n,lr=(n,e,t)=>t>e?e:t<n?n:t,lu={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},ah={...lu,transform:n=>lr(0,1,n)},vf={...lu,default:1},Nh=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Xr=Nh("deg"),ds=Nh("%"),Ce=Nh("px"),qO=Nh("vh"),GO=Nh("vw"),Rb={...ds,parse:n=>ds.parse(n)/100,transform:n=>ds.transform(n*100)},$O={borderWidth:Ce,borderTopWidth:Ce,borderRightWidth:Ce,borderBottomWidth:Ce,borderLeftWidth:Ce,borderRadius:Ce,radius:Ce,borderTopLeftRadius:Ce,borderTopRightRadius:Ce,borderBottomRightRadius:Ce,borderBottomLeftRadius:Ce,width:Ce,maxWidth:Ce,height:Ce,maxHeight:Ce,top:Ce,right:Ce,bottom:Ce,left:Ce,padding:Ce,paddingTop:Ce,paddingRight:Ce,paddingBottom:Ce,paddingLeft:Ce,margin:Ce,marginTop:Ce,marginRight:Ce,marginBottom:Ce,marginLeft:Ce,backgroundPositionX:Ce,backgroundPositionY:Ce},KO={rotate:Xr,rotateX:Xr,rotateY:Xr,rotateZ:Xr,scale:vf,scaleX:vf,scaleY:vf,scaleZ:vf,skew:Xr,skewX:Xr,skewY:Xr,distance:Ce,translateX:Ce,translateY:Ce,translateZ:Ce,x:Ce,y:Ce,z:Ce,perspective:Ce,transformPerspective:Ce,opacity:ah,originX:Rb,originY:Rb,originZ:Ce},Ib={...lu,transform:Math.round},Z_={...$O,...KO,zIndex:Ib,size:Ce,fillOpacity:ah,strokeOpacity:ah,numOctaves:Ib},WO={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},YO=ou.length;function QO(n,e,t){let i="",s=!0;for(let o=0;o<YO;o++){const l=ou[o],c=n[l];if(c===void 0)continue;let h=!0;if(typeof c=="number"?h=c===(l.startsWith("scale")?1:0):h=parseFloat(c)===0,!h||t){const f=MC(c,Z_[l]);if(!h){s=!1;const g=WO[l]||l;i+=`${g}(${f}) `}t&&(e[l]=f)}}return i=i.trim(),t?i=t(e,s?"":i):s&&(i="none"),i}function J_(n,e,t){const{style:i,vars:s,transformOrigin:o}=n;let l=!1,c=!1;for(const h in e){const f=e[h];if(xo.has(h)){l=!0;continue}else if(Q_(h)){s[h]=f;continue}else{const g=MC(f,Z_[h]);h.startsWith("origin")?(c=!0,o[h]=g):i[h]=g}}if(e.transform||(l||t?i.transform=QO(e,n.transform,t):i.transform&&(i.transform="none")),c){const{originX:h="50%",originY:f="50%",originZ:g=0}=o;i.transformOrigin=`${h} ${f} ${g}`}}const e0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function OC(n,e,t){for(const i in e)!Dn(e[i])&&!DC(i,t)&&(n[i]=e[i])}function XO({transformTemplate:n},e){return U.useMemo(()=>{const t=e0();return J_(t,e,n),Object.assign({},t.vars,t.style)},[e])}function ZO(n,e){const t=n.style||{},i={};return OC(i,t,n),Object.assign(i,XO(n,e)),i}function JO(n,e){const t={},i=ZO(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}const ek=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function t0(n){return typeof n!="string"||n.includes("-")?!1:!!(ek.indexOf(n)>-1||/[A-Z]/u.test(n))}const tk={offset:"stroke-dashoffset",array:"stroke-dasharray"},nk={offset:"strokeDashoffset",array:"strokeDasharray"};function ik(n,e,t=1,i=0,s=!0){n.pathLength=1;const o=s?tk:nk;n[o.offset]=Ce.transform(-i);const l=Ce.transform(e),c=Ce.transform(t);n[o.array]=`${l} ${c}`}function Nb(n,e,t){return typeof n=="string"?n:Ce.transform(e+t*n)}function sk(n,e,t){const i=Nb(e,n.x,n.width),s=Nb(t,n.y,n.height);return`${i} ${s}`}function n0(n,{attrX:e,attrY:t,attrScale:i,originX:s,originY:o,pathLength:l,pathSpacing:c=1,pathOffset:h=0,...f},g,y){if(J_(n,f,y),g){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:_,style:w,dimensions:x}=n;_.transform&&(x&&(w.transform=_.transform),delete _.transform),x&&(s!==void 0||o!==void 0||w.transform)&&(w.transformOrigin=sk(x,s!==void 0?s:.5,o!==void 0?o:.5)),e!==void 0&&(_.x=e),t!==void 0&&(_.y=t),i!==void 0&&(_.scale=i),l!==void 0&&ik(_,l,c,h,!1)}const kC=()=>({...e0(),attrs:{}}),i0=n=>typeof n=="string"&&n.toLowerCase()==="svg";function rk(n,e,t,i){const s=U.useMemo(()=>{const o=kC();return n0(o,e,i0(i),n.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(n.style){const o={};OC(o,n.style,n),s.style={...o,...s.style}}return s}function ak(n=!1){return(t,i,s,{latestValues:o},l)=>{const h=(t0(t)?rk:JO)(i,o,l,t),f=RO(i,typeof t=="string",n),g=t!==U.Fragment?{...f,...h,ref:s}:{},{children:y}=i,_=U.useMemo(()=>Dn(y)?y.get():y,[y]);return U.createElement(t,{...g,children:_})}}function Pb(n){const e=[{},{}];return n==null||n.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function s0(n,e,t,i){if(typeof e=="function"){const[s,o]=Pb(i);e=e(t!==void 0?t:n.custom,s,o)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[s,o]=Pb(i);e=e(t!==void 0?t:n.custom,s,o)}return e}const Iv=n=>Array.isArray(n),ok=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),lk=n=>Iv(n)?n[n.length-1]||0:n;function Of(n){const e=Dn(n)?n.get():n;return ok(e)?e.toValue():e}function uk({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},i,s,o){const l={latestValues:ck(i,s,o,n),renderState:e()};return t&&(l.onMount=c=>t({props:i,current:c,...l}),l.onUpdate=c=>t(c)),l}const LC=n=>(e,t)=>{const i=U.useContext(Xp),s=U.useContext(H_),o=()=>uk(n,e,i,s);return t?o():_O(o)};function ck(n,e,t,i){const s={},o=i(n,{});for(const _ in o)s[_]=Of(o[_]);let{initial:l,animate:c}=n;const h=Jp(n),f=AC(n);e&&f&&!h&&n.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let g=t?t.initial===!1:!1;g=g||l===!1;const y=g?c:l;if(y&&typeof y!="boolean"&&!Zp(y)){const _=Array.isArray(y)?y:[y];for(let w=0;w<_.length;w++){const x=s0(n,_[w]);if(x){const{transitionEnd:O,transition:V,...P}=x;for(const I in P){let N=P[I];if(Array.isArray(N)){const H=g?N.length-1:0;N=N[H]}N!==null&&(s[I]=N)}for(const I in O)s[I]=O[I]}}}return s}function r0(n,e,t){var i;const{style:s}=n,o={};for(const l in s)(Dn(s[l])||e.style&&Dn(e.style[l])||DC(l,n)||((i=t==null?void 0:t.getValue(l))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(o[l]=s[l]);return o}const hk={useVisualState:LC({scrapeMotionValuesFromProps:r0,createRenderState:e0})};function VC(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function jC(n,{style:e,vars:t},i,s){Object.assign(n.style,e,s&&s.getProjectionStyles(i));for(const o in t)n.style.setProperty(o,t[o])}const UC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function BC(n,e,t,i){jC(n,e,void 0,i);for(const s in e.attrs)n.setAttribute(UC.has(s)?s:W_(s),e.attrs[s])}function zC(n,e,t){const i=r0(n,e,t);for(const s in n)if(Dn(n[s])||Dn(e[s])){const o=ou.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[o]=n[s]}return i}const Db=["x","y","width","height","cx","cy","r"],dk={useVisualState:LC({scrapeMotionValuesFromProps:zC,createRenderState:kC,onUpdate:({props:n,prevProps:e,current:t,renderState:i,latestValues:s})=>{if(!t)return;let o=!!n.drag;if(!o){for(const c in s)if(xo.has(c)){o=!0;break}}if(!o)return;let l=!e;if(e)for(let c=0;c<Db.length;c++){const h=Db[c];n[h]!==e[h]&&(l=!0)}l&&gt.read(()=>{VC(t,i),gt.render(()=>{n0(i,s,i0(t.tagName),n.transformTemplate),BC(t,i)})})}})};function fk(n,e){return function(i,{forwardMotionProps:s}={forwardMotionProps:!1}){const l={...t0(i)?dk:hk,preloadedFeatures:n,useRender:ak(s),createVisualElement:e,Component:i};return VO(l)}}function oh(n,e,t){const i=n.getProps();return s0(i,e,t!==void 0?t:i.custom,n)}const pk=G_(()=>window.ScrollTimeline!==void 0);class mk{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=t}attachTimeline(e,t){const i=this.animations.map(s=>{if(pk()&&s.attachTimeline)return s.attachTimeline(e);if(typeof t=="function")return t(s)});return()=>{i.forEach((s,o)=>{s&&s(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class gk extends mk{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function a0(n,e){return n?n[e]||n.default||n:void 0}const Nv=2e4;function FC(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<Nv;)e+=t,i=n.next(e);return e>=Nv?1/0:e}function o0(n){return typeof n=="function"}function Mb(n,e){n.timeline=e,n.onfinish=null}const l0=n=>Array.isArray(n)&&typeof n[0]=="number",yk={linearEasing:void 0};function vk(n,e){const t=G_(n);return()=>{var i;return(i=yk[e])!==null&&i!==void 0?i:t()}}const Jf=vk(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),HC=(n,e,t=10)=>{let i="";const s=Math.max(Math.round(e/t),2);for(let o=0;o<s;o++)i+=n(zl(0,s-1,o))+", ";return`linear(${i.substring(0,i.length-2)})`};function qC(n){return!!(typeof n=="function"&&Jf()||!n||typeof n=="string"&&(n in Pv||Jf())||l0(n)||Array.isArray(n)&&n.every(qC))}const kc=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,Pv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:kc([0,.65,.55,1]),circOut:kc([.55,0,1,.45]),backIn:kc([.31,.01,.66,-.59]),backOut:kc([.33,1.53,.69,.99])};function GC(n,e){if(n)return typeof n=="function"&&Jf()?HC(n,e):l0(n)?kc(n):Array.isArray(n)?n.map(t=>GC(t,e)||Pv.easeOut):Pv[n]}const Oi={x:!1,y:!1};function $C(){return Oi.x||Oi.y}function _k(n,e,t){var i;if(n instanceof EventTarget)return[n];if(typeof n=="string"){let s=document;const o=(i=void 0)!==null&&i!==void 0?i:s.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n)}function KC(n,e){const t=_k(n),i=new AbortController,s={passive:!0,...e,signal:i.signal};return[t,s,()=>i.abort()]}function Ob(n){return!(n.pointerType==="touch"||$C())}function Ek(n,e,t={}){const[i,s,o]=KC(n,t),l=c=>{if(!Ob(c))return;const{target:h}=c,f=e(h,c);if(typeof f!="function"||!h)return;const g=y=>{Ob(y)&&(f(y),h.removeEventListener("pointerleave",g))};h.addEventListener("pointerleave",g,s)};return i.forEach(c=>{c.addEventListener("pointerenter",l,s)}),o}function ep(n,e){const t=`${e}PointerCapture`;if(n.target instanceof Element&&t in n.target&&n.pointerId!==void 0)try{n.target[t](n.pointerId)}catch{}}const WC=(n,e)=>e?n===e?!0:WC(n,e.parentElement):!1,u0=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,Tk=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function wk(n){return Tk.has(n.tagName)||n.tabIndex!==-1}const Lc=new WeakSet;function kb(n){return e=>{e.key==="Enter"&&n(e)}}function Gy(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const bk=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=kb(()=>{if(Lc.has(t))return;Gy(t,"down");const s=kb(()=>{Gy(t,"up")}),o=()=>Gy(t,"cancel");t.addEventListener("keyup",s,e),t.addEventListener("blur",o,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function Lb(n){return u0(n)&&!$C()}function Sk(n,e,t={}){const[i,s,o]=KC(n,t),l=c=>{const h=c.currentTarget;if(!h||!Lb(c)||Lc.has(h))return;Lc.add(h),ep(c,"set");const f=e(h,c),g=(w,x)=>{h.removeEventListener("pointerup",y),h.removeEventListener("pointercancel",_),ep(w,"release"),!(!Lb(w)||!Lc.has(h))&&(Lc.delete(h),typeof f=="function"&&f(w,{success:x}))},y=w=>{(w.isTrusted?xk(w,h instanceof Element?h.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?g(w,!1):g(w,!(h instanceof Element)||WC(h,w.target))},_=w=>{g(w,!1)};h.addEventListener("pointerup",y,s),h.addEventListener("pointercancel",_,s),h.addEventListener("lostpointercapture",_,s)};return i.forEach(c=>{c=t.useGlobalTarget?window:c;let h=!1;c instanceof HTMLElement&&(h=!0,!wk(c)&&c.getAttribute("tabindex")===null&&(c.tabIndex=0)),c.addEventListener("pointerdown",l,s),h&&c.addEventListener("focus",f=>bk(f,s),s)}),o}function xk(n,e){return n.clientX<e.left||n.clientX>e.right||n.clientY<e.top||n.clientY>e.bottom}function Ck(n){return n==="x"||n==="y"?Oi[n]?null:(Oi[n]=!0,()=>{Oi[n]=!1}):Oi.x||Oi.y?null:(Oi.x=Oi.y=!0,()=>{Oi.x=Oi.y=!1})}const YC=new Set(["width","height","top","left","right","bottom",...ou]);let kf;function Ak(){kf=void 0}const fs={now:()=>(kf===void 0&&fs.set(_n.isProcessing||wO.useManualTiming?_n.timestamp:performance.now()),kf),set:n=>{kf=n,queueMicrotask(Ak)}};function c0(n,e){n.indexOf(e)===-1&&n.push(e)}function h0(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class d0{constructor(){this.subscriptions=[]}add(e){return c0(this.subscriptions,e),()=>h0(this.subscriptions,e)}notify(e,t,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,t,i);else for(let o=0;o<s;o++){const l=this.subscriptions[o];l&&l(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function QC(n,e){return e?n*(1e3/e):0}const Vb=30,Rk=n=>!isNaN(parseFloat(n));class Ik{constructor(e,t={}){this.version="12.4.7",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,s=!0)=>{const o=fs.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=fs.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Rk(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new d0);const i=this.events[e].add(t);return e==="change"?()=>{i(),gt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=fs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Vb)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,Vb);return QC(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function lh(n,e){return new Ik(n,e)}function Nk(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,lh(t))}function Pk(n,e){const t=oh(n,e);let{transitionEnd:i={},transition:s={},...o}=t||{};o={...o,...i};for(const l in o){const c=lk(o[l]);Nk(n,l,c)}}function Dk(n){return!!(Dn(n)&&n.add)}function Dv(n,e){const t=n.getValue("willChange");if(Dk(t))return t.add(e)}function XC(n){return n.props[RC]}const ZC=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,Mk=1e-7,Ok=12;function kk(n,e,t,i,s){let o,l,c=0;do l=e+(t-e)/2,o=ZC(l,i,s)-n,o>0?t=l:e=l;while(Math.abs(o)>Mk&&++c<Ok);return l}function Ph(n,e,t,i){if(n===e&&t===i)return si;const s=o=>kk(o,0,1,n,t);return o=>o===0||o===1?o:ZC(s(o),e,i)}const JC=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,eA=n=>e=>1-n(1-e),tA=Ph(.33,1.53,.69,.99),f0=eA(tA),nA=JC(f0),iA=n=>(n*=2)<1?.5*f0(n):.5*(2-Math.pow(2,-10*(n-1))),p0=n=>1-Math.sin(Math.acos(n)),sA=eA(p0),rA=JC(p0),aA=n=>/^0[^.\s]+$/u.test(n);function Lk(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||aA(n):!0}const Hc=n=>Math.round(n*1e5)/1e5,m0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Vk(n){return n==null}const jk=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,g0=(n,e)=>t=>!!(typeof t=="string"&&jk.test(t)&&t.startsWith(n)||e&&!Vk(t)&&Object.prototype.hasOwnProperty.call(t,e)),oA=(n,e,t)=>i=>{if(typeof i!="string")return i;const[s,o,l,c]=i.match(m0);return{[n]:parseFloat(s),[e]:parseFloat(o),[t]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},Uk=n=>lr(0,255,n),$y={...lu,transform:n=>Math.round(Uk(n))},co={test:g0("rgb","red"),parse:oA("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+$y.transform(n)+", "+$y.transform(e)+", "+$y.transform(t)+", "+Hc(ah.transform(i))+")"};function Bk(n){let e="",t="",i="",s="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),s=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),s=n.substring(4,5),e+=e,t+=t,i+=i,s+=s),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const Mv={test:g0("#"),parse:Bk,transform:co.transform},xl={test:g0("hsl","hue"),parse:oA("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+ds.transform(Hc(e))+", "+ds.transform(Hc(t))+", "+Hc(ah.transform(i))+")"},In={test:n=>co.test(n)||Mv.test(n)||xl.test(n),parse:n=>co.test(n)?co.parse(n):xl.test(n)?xl.parse(n):Mv.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?co.transform(n):xl.transform(n)},zk=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Fk(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(m0))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(zk))===null||t===void 0?void 0:t.length)||0)>0}const lA="number",uA="color",Hk="var",qk="var(",jb="${}",Gk=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function uh(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},s=[];let o=0;const c=e.replace(Gk,h=>(In.test(h)?(i.color.push(o),s.push(uA),t.push(In.parse(h))):h.startsWith(qk)?(i.var.push(o),s.push(Hk),t.push(h)):(i.number.push(o),s.push(lA),t.push(parseFloat(h))),++o,jb)).split(jb);return{values:t,split:c,indexes:i,types:s}}function cA(n){return uh(n).values}function hA(n){const{split:e,types:t}=uh(n),i=e.length;return s=>{let o="";for(let l=0;l<i;l++)if(o+=e[l],s[l]!==void 0){const c=t[l];c===lA?o+=Hc(s[l]):c===uA?o+=In.transform(s[l]):o+=s[l]}return o}}const $k=n=>typeof n=="number"?0:n;function Kk(n){const e=cA(n);return hA(n)(e.map($k))}const pa={test:Fk,parse:cA,createTransformer:hA,getAnimatableNone:Kk},Wk=new Set(["brightness","contrast","saturate","opacity"]);function Yk(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(m0)||[];if(!i)return n;const s=t.replace(i,"");let o=Wk.has(e)?1:0;return i!==t&&(o*=100),e+"("+o+s+")"}const Qk=/\b([a-z-]*)\(.*?\)/gu,Ov={...pa,getAnimatableNone:n=>{const e=n.match(Qk);return e?e.map(Yk).join(" "):n}},Xk={...Z_,color:In,backgroundColor:In,outlineColor:In,fill:In,stroke:In,borderColor:In,borderTopColor:In,borderRightColor:In,borderBottomColor:In,borderLeftColor:In,filter:Ov,WebkitFilter:Ov},y0=n=>Xk[n];function dA(n,e){let t=y0(n);return t!==Ov&&(t=pa),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const Zk=new Set(["auto","none","0"]);function Jk(n,e,t){let i=0,s;for(;i<n.length&&!s;){const o=n[i];typeof o=="string"&&!Zk.has(o)&&uh(o).values.length&&(s=n[i]),i++}if(s&&t)for(const o of e)n[o]=dA(t,s)}const Ub=n=>n===lu||n===Ce,Bb=(n,e)=>parseFloat(n.split(", ")[e]),zb=(n,e)=>(t,{transform:i})=>{if(i==="none"||!i)return 0;const s=i.match(/^matrix3d\((.+)\)$/u);if(s)return Bb(s[1],e);{const o=i.match(/^matrix\((.+)\)$/u);return o?Bb(o[1],n):0}},e3=new Set(["x","y","z"]),t3=ou.filter(n=>!e3.has(n));function n3(n){const e=[];return t3.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const Hl={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:zb(4,13),y:zb(5,14)};Hl.translateX=Hl.x;Hl.translateY=Hl.y;const po=new Set;let kv=!1,Lv=!1;function fA(){if(Lv){const n=Array.from(po).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const s=n3(i);s.length&&(t.set(i,s),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const s=t.get(i);s&&s.forEach(([o,l])=>{var c;(c=i.getValue(o))===null||c===void 0||c.set(l)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Lv=!1,kv=!1,po.forEach(n=>n.complete()),po.clear()}function pA(){po.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Lv=!0)})}function i3(){pA(),fA()}class v0{constructor(e,t,i,s,o,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=s,this.element=o,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(po.add(this),kv||(kv=!0,gt.read(pA),gt.resolveKeyframes(fA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:s}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const l=s==null?void 0:s.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&t){const h=i.readValue(t,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),s&&l===void 0&&s.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),po.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,po.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const mA=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),s3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function r3(n){const e=s3.exec(n);if(!e)return[,];const[,t,i,s]=e;return[`--${t??i}`,s]}function gA(n,e,t=1){const[i,s]=r3(n);if(!i)return;const o=window.getComputedStyle(e).getPropertyValue(i);if(o){const l=o.trim();return mA(l)?parseFloat(l):l}return X_(s)?gA(s,e,t+1):s}const yA=n=>e=>e.test(n),a3={test:n=>n==="auto",parse:n=>n},vA=[lu,Ce,ds,Xr,GO,qO,a3],Fb=n=>vA.find(yA(n));class _A extends v0{constructor(e,t,i,s,o){super(e,t,i,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let f=e[h];if(typeof f=="string"&&(f=f.trim(),X_(f))){const g=gA(f,t.current);g!==void 0&&(e[h]=g),h===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!YC.has(i)||e.length!==2)return;const[s,o]=e,l=Fb(s),c=Fb(o);if(l!==c)if(Ub(l)&&Ub(c))for(let h=0;h<e.length;h++){const f=e[h];typeof f=="string"&&(e[h]=parseFloat(f))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let s=0;s<e.length;s++)Lk(e[s])&&i.push(s);i.length&&Jk(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Hl[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const s=t[t.length-1];s!==void 0&&e.getValue(i,s).jump(s,!1)}measureEndState(){var e;const{element:t,name:i,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const o=t.getValue(i);o&&o.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=Hl[i](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([h,f])=>{t.getValue(h).set(f)}),this.resolveNoneKeyframes()}}const Hb=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(pa.test(n)||n==="0")&&!n.startsWith("url("));function o3(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function l3(n,e,t,i){const s=n[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const o=n[n.length-1],l=Hb(s,e),c=Hb(o,e);return!l||!c?!1:o3(n)||(t==="spring"||o0(t))&&i}const u3=n=>n!==null;function em(n,{repeat:e,repeatType:t="loop"},i){const s=n.filter(u3),o=e&&t!=="loop"&&e%2===1?0:s.length-1;return!o||i===void 0?s[o]:i}const c3=40;class EA{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:l="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=fs.now(),this.options={autoplay:e,delay:t,type:i,repeat:s,repeatDelay:o,repeatType:l,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>c3?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&i3(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=fs.now(),this.hasAttemptedResolve=!0;const{name:i,type:s,velocity:o,delay:l,onComplete:c,onUpdate:h,isGenerator:f}=this.options;if(!f&&!l3(e,i,s,o))if(l)this.options.duration=0;else{h&&h(em(e,this.options,t)),c&&c(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,t);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...g},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const bt=(n,e,t)=>n+(e-n)*t;function Ky(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function h3({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let s=0,o=0,l=0;if(!e)s=o=l=t;else{const c=t<.5?t*(1+e):t+e-t*e,h=2*t-c;s=Ky(h,c,n+1/3),o=Ky(h,c,n),l=Ky(h,c,n-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:i}}function tp(n,e){return t=>t>0?e:n}const Wy=(n,e,t)=>{const i=n*n,s=t*(e*e-i)+i;return s<0?0:Math.sqrt(s)},d3=[Mv,co,xl],f3=n=>d3.find(e=>e.test(n));function qb(n){const e=f3(n);if(!e)return!1;let t=e.parse(n);return e===xl&&(t=h3(t)),t}const Gb=(n,e)=>{const t=qb(n),i=qb(e);if(!t||!i)return tp(n,e);const s={...t};return o=>(s.red=Wy(t.red,i.red,o),s.green=Wy(t.green,i.green,o),s.blue=Wy(t.blue,i.blue,o),s.alpha=bt(t.alpha,i.alpha,o),co.transform(s))},p3=(n,e)=>t=>e(n(t)),Dh=(...n)=>n.reduce(p3),Vv=new Set(["none","hidden"]);function m3(n,e){return Vv.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function g3(n,e){return t=>bt(n,e,t)}function _0(n){return typeof n=="number"?g3:typeof n=="string"?X_(n)?tp:In.test(n)?Gb:_3:Array.isArray(n)?TA:typeof n=="object"?In.test(n)?Gb:y3:tp}function TA(n,e){const t=[...n],i=t.length,s=n.map((o,l)=>_0(o)(o,e[l]));return o=>{for(let l=0;l<i;l++)t[l]=s[l](o);return t}}function y3(n,e){const t={...n,...e},i={};for(const s in t)n[s]!==void 0&&e[s]!==void 0&&(i[s]=_0(n[s])(n[s],e[s]));return s=>{for(const o in i)t[o]=i[o](s);return t}}function v3(n,e){var t;const i=[],s={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const l=e.types[o],c=n.indexes[l][s[l]],h=(t=n.values[c])!==null&&t!==void 0?t:0;i[o]=h,s[l]++}return i}const _3=(n,e)=>{const t=pa.createTransformer(e),i=uh(n),s=uh(e);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?Vv.has(n)&&!s.values.length||Vv.has(e)&&!i.values.length?m3(n,e):Dh(TA(v3(i,s),s.values),t):tp(n,e)};function wA(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?bt(n,e,t):_0(n)(n,e)}const E3=5;function bA(n,e,t){const i=Math.max(e-E3,0);return QC(t-n(i),e-i)}const Pt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},$b=.001;function T3({duration:n=Pt.duration,bounce:e=Pt.bounce,velocity:t=Pt.velocity,mass:i=Pt.mass}){let s,o,l=1-e;l=lr(Pt.minDamping,Pt.maxDamping,l),n=lr(Pt.minDuration,Pt.maxDuration,ar(n)),l<1?(s=f=>{const g=f*l,y=g*n,_=g-t,w=jv(f,l),x=Math.exp(-y);return $b-_/w*x},o=f=>{const y=f*l*n,_=y*t+t,w=Math.pow(l,2)*Math.pow(f,2)*n,x=Math.exp(-y),O=jv(Math.pow(f,2),l);return(-s(f)+$b>0?-1:1)*((_-w)*x)/O}):(s=f=>{const g=Math.exp(-f*n),y=(f-t)*n+1;return-.001+g*y},o=f=>{const g=Math.exp(-f*n),y=(t-f)*(n*n);return g*y});const c=5/n,h=b3(s,o,c);if(n=rr(n),isNaN(h))return{stiffness:Pt.stiffness,damping:Pt.damping,duration:n};{const f=Math.pow(h,2)*i;return{stiffness:f,damping:l*2*Math.sqrt(i*f),duration:n}}}const w3=12;function b3(n,e,t){let i=t;for(let s=1;s<w3;s++)i=i-n(i)/e(i);return i}function jv(n,e){return n*Math.sqrt(1-e*e)}const S3=["duration","bounce"],x3=["stiffness","damping","mass"];function Kb(n,e){return e.some(t=>n[t]!==void 0)}function C3(n){let e={velocity:Pt.velocity,stiffness:Pt.stiffness,damping:Pt.damping,mass:Pt.mass,isResolvedFromDuration:!1,...n};if(!Kb(n,x3)&&Kb(n,S3))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),s=i*i,o=2*lr(.05,1,1-(n.bounce||0))*Math.sqrt(s);e={...e,mass:Pt.mass,stiffness:s,damping:o}}else{const t=T3(n);e={...e,...t,mass:Pt.mass},e.isResolvedFromDuration=!0}return e}function SA(n=Pt.visualDuration,e=Pt.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:s}=t;const o=t.keyframes[0],l=t.keyframes[t.keyframes.length-1],c={done:!1,value:o},{stiffness:h,damping:f,mass:g,duration:y,velocity:_,isResolvedFromDuration:w}=C3({...t,velocity:-ar(t.velocity||0)}),x=_||0,O=f/(2*Math.sqrt(h*g)),V=l-o,P=ar(Math.sqrt(h/g)),I=Math.abs(V)<5;i||(i=I?Pt.restSpeed.granular:Pt.restSpeed.default),s||(s=I?Pt.restDelta.granular:Pt.restDelta.default);let N;if(O<1){const q=jv(P,O);N=Z=>{const k=Math.exp(-O*P*Z);return l-k*((x+O*P*V)/q*Math.sin(q*Z)+V*Math.cos(q*Z))}}else if(O===1)N=q=>l-Math.exp(-P*q)*(V+(x+P*V)*q);else{const q=P*Math.sqrt(O*O-1);N=Z=>{const k=Math.exp(-O*P*Z),A=Math.min(q*Z,300);return l-k*((x+O*P*V)*Math.sinh(A)+q*V*Math.cosh(A))/q}}const H={calculatedDuration:w&&y||null,next:q=>{const Z=N(q);if(w)c.done=q>=y;else{let k=0;O<1&&(k=q===0?rr(x):bA(N,q,Z));const A=Math.abs(k)<=i,C=Math.abs(l-Z)<=s;c.done=A&&C}return c.value=c.done?l:Z,c},toString:()=>{const q=Math.min(FC(H),Nv),Z=HC(k=>H.next(q*k).value,q,30);return q+"ms "+Z}};return H}function Wb({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:l,min:c,max:h,restDelta:f=.5,restSpeed:g}){const y=n[0],_={done:!1,value:y},w=A=>c!==void 0&&A<c||h!==void 0&&A>h,x=A=>c===void 0?h:h===void 0||Math.abs(c-A)<Math.abs(h-A)?c:h;let O=t*e;const V=y+O,P=l===void 0?V:l(V);P!==V&&(O=P-y);const I=A=>-O*Math.exp(-A/i),N=A=>P+I(A),H=A=>{const C=I(A),R=N(A);_.done=Math.abs(C)<=f,_.value=_.done?P:R};let q,Z;const k=A=>{w(_.value)&&(q=A,Z=SA({keyframes:[_.value,x(_.value)],velocity:bA(N,A,_.value),damping:s,stiffness:o,restDelta:f,restSpeed:g}))};return k(0),{calculatedDuration:null,next:A=>{let C=!1;return!Z&&q===void 0&&(C=!0,H(A),k(A)),q!==void 0&&A>=q?Z.next(A-q):(!C&&H(A),_)}}}const A3=Ph(.42,0,1,1),R3=Ph(0,0,.58,1),xA=Ph(.42,0,.58,1),I3=n=>Array.isArray(n)&&typeof n[0]!="number",N3={linear:si,easeIn:A3,easeInOut:xA,easeOut:R3,circIn:p0,circInOut:rA,circOut:sA,backIn:f0,backInOut:nA,backOut:tA,anticipate:iA},Yb=n=>{if(l0(n)){bC(n.length===4);const[e,t,i,s]=n;return Ph(e,t,i,s)}else if(typeof n=="string")return N3[n];return n};function P3(n,e,t){const i=[],s=t||wA,o=n.length-1;for(let l=0;l<o;l++){let c=s(n[l],n[l+1]);if(e){const h=Array.isArray(e)?e[l]||si:e;c=Dh(h,c)}i.push(c)}return i}function D3(n,e,{clamp:t=!0,ease:i,mixer:s}={}){const o=n.length;if(bC(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const l=n[0]===n[1];n[0]>n[o-1]&&(n=[...n].reverse(),e=[...e].reverse());const c=P3(e,i,s),h=c.length,f=g=>{if(l&&g<n[0])return e[0];let y=0;if(h>1)for(;y<n.length-2&&!(g<n[y+1]);y++);const _=zl(n[y],n[y+1],g);return c[y](_)};return t?g=>f(lr(n[0],n[o-1],g)):f}function M3(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const s=zl(0,e,i);n.push(bt(t,1,s))}}function O3(n){const e=[0];return M3(e,n.length-1),e}function k3(n,e){return n.map(t=>t*e)}function L3(n,e){return n.map(()=>e||xA).splice(0,n.length-1)}function np({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const s=I3(i)?i.map(Yb):Yb(i),o={done:!1,value:e[0]},l=k3(t&&t.length===e.length?t:O3(e),n),c=D3(l,e,{ease:Array.isArray(s)?s:L3(e,s)});return{calculatedDuration:n,next:h=>(o.value=c(h),o.done=h>=n,o)}}const V3=n=>{const e=({timestamp:t})=>n(t);return{start:()=>gt.update(e,!0),stop:()=>fa(e),now:()=>_n.isProcessing?_n.timestamp:fs.now()}},j3={decay:Wb,inertia:Wb,tween:np,keyframes:np,spring:SA},U3=n=>n/100;class E0 extends EA{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:t,motionValue:i,element:s,keyframes:o}=this.options,l=(s==null?void 0:s.KeyframeResolver)||v0,c=(h,f)=>this.onKeyframesResolved(h,f);this.resolver=new l(o,c,t,i,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o,velocity:l=0}=this.options,c=o0(t)?t:j3[t]||np;let h,f;c!==np&&typeof e[0]!="number"&&(h=Dh(U3,wA(e[0],e[1])),e=[0,100]);const g=c({...this.options,keyframes:e});o==="mirror"&&(f=c({...this.options,keyframes:[...e].reverse(),velocity:-l})),g.calculatedDuration===null&&(g.calculatedDuration=FC(g));const{calculatedDuration:y}=g,_=y+s,w=_*(i+1)-s;return{generator:g,mirroredGenerator:f,mapPercentToKeyframes:h,calculatedDuration:y,resolvedDuration:_,totalDuration:w}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:i}=this;if(!i){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:s,generator:o,mirroredGenerator:l,mapPercentToKeyframes:c,keyframes:h,calculatedDuration:f,totalDuration:g,resolvedDuration:y}=i;if(this.startTime===null)return o.next(0);const{delay:_,repeat:w,repeatType:x,repeatDelay:O,onUpdate:V}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const P=this.currentTime-_*(this.speed>=0?1:-1),I=this.speed>=0?P<0:P>g;this.currentTime=Math.max(P,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let N=this.currentTime,H=o;if(w){const A=Math.min(this.currentTime,g)/y;let C=Math.floor(A),R=A%1;!R&&A>=1&&(R=1),R===1&&C--,C=Math.min(C,w+1),!!(C%2)&&(x==="reverse"?(R=1-R,O&&(R-=O/y)):x==="mirror"&&(H=l)),N=lr(0,1,R)*y}const q=I?{done:!1,value:h[0]}:H.next(N);c&&(q.value=c(q.value));let{done:Z}=q;!I&&f!==null&&(Z=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Z);return k&&s!==void 0&&(q.value=em(h,this.options,s)),V&&V(q.value),k&&this.finish(),q}get duration(){const{resolved:e}=this;return e?ar(e.calculatedDuration):0}get time(){return ar(this.currentTime)}set time(e){e=rr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=ar(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=V3,onPlay:t,startTime:i}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),t&&t();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const B3=new Set(["opacity","clipPath","filter","transform"]);function z3(n,e,t,{delay:i=0,duration:s=300,repeat:o=0,repeatType:l="loop",ease:c="easeInOut",times:h}={}){const f={[e]:t};h&&(f.offset=h);const g=GC(c,s);return Array.isArray(g)&&(f.easing=g),n.animate(f,{delay:i,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"})}const F3=G_(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),ip=10,H3=2e4;function q3(n){return o0(n.type)||n.type==="spring"||!qC(n.ease)}function G3(n,e){const t=new E0({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:n[0]};const s=[];let o=0;for(;!i.done&&o<H3;)i=t.sample(o),s.push(i.value),o+=ip;return{times:void 0,keyframes:s,duration:o-ip,ease:"linear"}}const CA={anticipate:iA,backInOut:nA,circInOut:rA};function $3(n){return n in CA}class Qb extends EA{constructor(e){super(e);const{name:t,motionValue:i,element:s,keyframes:o}=this.options;this.resolver=new _A(o,(l,c)=>this.onKeyframesResolved(l,c),t,i,s),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:i=300,times:s,ease:o,type:l,motionValue:c,name:h,startTime:f}=this.options;if(!c.owner||!c.owner.current)return!1;if(typeof o=="string"&&Jf()&&$3(o)&&(o=CA[o]),q3(this.options)){const{onComplete:y,onUpdate:_,motionValue:w,element:x,...O}=this.options,V=G3(e,O);e=V.keyframes,e.length===1&&(e[1]=e[0]),i=V.duration,s=V.times,o=V.ease,l="keyframes"}const g=z3(c.owner.current,h,e,{...this.options,duration:i,times:s,ease:o});return g.startTime=f??this.calcStartTime(),this.pendingTimeline?(Mb(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:y}=this.options;c.set(em(e,this.options,t)),y&&y(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:i,times:s,type:l,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return ar(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return ar(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.currentTime=rr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return si;const{animation:i}=t;Mb(i,e)}return si}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:i,duration:s,type:o,ease:l,times:c}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:f,onUpdate:g,onComplete:y,element:_,...w}=this.options,x=new E0({...w,keyframes:i,duration:s,type:o,ease:l,times:c,isGenerator:!0}),O=rr(this.time);f.setWithVelocity(x.sample(O-ip).value,x.sample(O).value,ip)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:i,repeatDelay:s,repeatType:o,damping:l,type:c}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:f}=t.owner.getProps();return F3()&&i&&B3.has(i)&&!h&&!f&&!s&&o!=="mirror"&&l!==0&&c!=="inertia"}}const K3={type:"spring",stiffness:500,damping:25,restSpeed:10},W3=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),Y3={type:"keyframes",duration:.8},Q3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},X3=(n,{keyframes:e})=>e.length>2?Y3:xo.has(n)?n.startsWith("scale")?W3(e[1]):K3:Q3;function Z3({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:s,repeat:o,repeatType:l,repeatDelay:c,from:h,elapsed:f,...g}){return!!Object.keys(g).length}const T0=(n,e,t,i={},s,o)=>l=>{const c=a0(i,n)||{},h=c.delay||i.delay||0;let{elapsed:f=0}=i;f=f-rr(h);let g={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-f,onUpdate:_=>{e.set(_),c.onUpdate&&c.onUpdate(_)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:n,motionValue:e,element:o?void 0:s};Z3(c)||(g={...g,...X3(n,g)}),g.duration&&(g.duration=rr(g.duration)),g.repeatDelay&&(g.repeatDelay=rr(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(y=!0)),y&&!o&&e.get()!==void 0){const _=em(g.keyframes,c);if(_!==void 0)return gt.update(()=>{g.onUpdate(_),g.onComplete()}),new gk([])}return!o&&Qb.supports(g)?new Qb(g):new E0(g)};function J3({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function AA(n,e,{delay:t=0,transitionOverride:i,type:s}={}){var o;let{transition:l=n.getDefaultTransition(),transitionEnd:c,...h}=e;i&&(l=i);const f=[],g=s&&n.animationState&&n.animationState.getState()[s];for(const y in h){const _=n.getValue(y,(o=n.latestValues[y])!==null&&o!==void 0?o:null),w=h[y];if(w===void 0||g&&J3(g,y))continue;const x={delay:t,...a0(l||{},y)};let O=!1;if(window.MotionHandoffAnimation){const P=XC(n);if(P){const I=window.MotionHandoffAnimation(P,y,gt);I!==null&&(x.startTime=I,O=!0)}}Dv(n,y),_.start(T0(y,_,w,n.shouldReduceMotion&&YC.has(y)?{type:!1}:x,n,O));const V=_.animation;V&&f.push(V)}return c&&Promise.all(f).then(()=>{gt.update(()=>{c&&Pk(n,c)})}),f}function Uv(n,e,t={}){var i;const s=oh(n,e,t.type==="exit"?(i=n.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=s||{};t.transitionOverride&&(o=t.transitionOverride);const l=s?()=>Promise.all(AA(n,s,t)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(f=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:_}=o;return eL(n,e,g+f,y,_,t)}:()=>Promise.resolve(),{when:h}=o;if(h){const[f,g]=h==="beforeChildren"?[l,c]:[c,l];return f().then(()=>g())}else return Promise.all([l(),c(t.delay)])}function eL(n,e,t=0,i=0,s=1,o){const l=[],c=(n.variantChildren.size-1)*i,h=s===1?(f=0)=>f*i:(f=0)=>c-f*i;return Array.from(n.variantChildren).sort(tL).forEach((f,g)=>{f.notify("AnimationStart",e),l.push(Uv(f,e,{...o,delay:t+h(g)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(l)}function tL(n,e){return n.sortNodePosition(e)}function nL(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const s=e.map(o=>Uv(n,o,t));i=Promise.all(s)}else if(typeof e=="string")i=Uv(n,e,t);else{const s=typeof e=="function"?oh(n,e,t.custom):e;i=Promise.all(AA(n,s,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}function RA(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}const iL=K_.length;function IA(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?IA(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<iL;t++){const i=K_[t],s=n.props[i];(sh(s)||s===!1)&&(e[i]=s)}return e}const sL=[...$_].reverse(),rL=$_.length;function aL(n){return e=>Promise.all(e.map(({animation:t,options:i})=>nL(n,t,i)))}function oL(n){let e=aL(n),t=Xb(),i=!0;const s=h=>(f,g)=>{var y;const _=oh(n,g,h==="exit"?(y=n.presenceContext)===null||y===void 0?void 0:y.custom:void 0);if(_){const{transition:w,transitionEnd:x,...O}=_;f={...f,...O,...x}}return f};function o(h){e=h(n)}function l(h){const{props:f}=n,g=IA(n.parent)||{},y=[],_=new Set;let w={},x=1/0;for(let V=0;V<rL;V++){const P=sL[V],I=t[P],N=f[P]!==void 0?f[P]:g[P],H=sh(N),q=P===h?I.isActive:null;q===!1&&(x=V);let Z=N===g[P]&&N!==f[P]&&H;if(Z&&i&&n.manuallyAnimateOnMount&&(Z=!1),I.protectedKeys={...w},!I.isActive&&q===null||!N&&!I.prevProp||Zp(N)||typeof N=="boolean")continue;const k=lL(I.prevProp,N);let A=k||P===h&&I.isActive&&!Z&&H||V>x&&H,C=!1;const R=Array.isArray(N)?N:[N];let j=R.reduce(s(P),{});q===!1&&(j={});const{prevResolvedValues:z={}}=I,L={...z,...j},de=he=>{A=!0,_.has(he)&&(C=!0,_.delete(he)),I.needsAnimating[he]=!0;const ae=n.getValue(he);ae&&(ae.liveStyle=!1)};for(const he in L){const ae=j[he],fe=z[he];if(w.hasOwnProperty(he))continue;let F=!1;Iv(ae)&&Iv(fe)?F=!RA(ae,fe):F=ae!==fe,F?ae!=null?de(he):_.add(he):ae!==void 0&&_.has(he)?de(he):I.protectedKeys[he]=!0}I.prevProp=N,I.prevResolvedValues=j,I.isActive&&(w={...w,...j}),i&&n.blockInitialAnimation&&(A=!1),A&&(!(Z&&k)||C)&&y.push(...R.map(he=>({animation:he,options:{type:P}})))}if(_.size){const V={};if(typeof f.initial!="boolean"){const P=oh(n,Array.isArray(f.initial)?f.initial[0]:f.initial);P&&P.transition&&(V.transition=P.transition)}_.forEach(P=>{const I=n.getBaseTarget(P),N=n.getValue(P);N&&(N.liveStyle=!0),V[P]=I??null}),y.push({animation:V})}let O=!!y.length;return i&&(f.initial===!1||f.initial===f.animate)&&!n.manuallyAnimateOnMount&&(O=!1),i=!1,O?e(y):Promise.resolve()}function c(h,f){var g;if(t[h].isActive===f)return Promise.resolve();(g=n.variantChildren)===null||g===void 0||g.forEach(_=>{var w;return(w=_.animationState)===null||w===void 0?void 0:w.setActive(h,f)}),t[h].isActive=f;const y=l(h);for(const _ in t)t[_].protectedKeys={};return y}return{animateChanges:l,setActive:c,setAnimateFunction:o,getState:()=>t,reset:()=>{t=Xb(),i=!0}}}function lL(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!RA(e,n):!1}function ao(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Xb(){return{animate:ao(!0),whileInView:ao(),whileHover:ao(),whileTap:ao(),whileDrag:ao(),whileFocus:ao(),exit:ao()}}class Sa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class uL extends Sa{constructor(e){super(e),e.animationState||(e.animationState=oL(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Zp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let cL=0;class hL extends Sa{constructor(){super(...arguments),this.id=cL++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e);t&&!e&&s.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const dL={animation:{Feature:uL},exit:{Feature:hL}};function ch(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function Mh(n){return{point:{x:n.pageX,y:n.pageY}}}const fL=n=>e=>u0(e)&&n(e,Mh(e));function Cl(n,e,t,i){return ch(n,e,fL(t),i)}function NA({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function pL({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function mL(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}const PA=1e-4,gL=1-PA,yL=1+PA,DA=.01,vL=0-DA,_L=0+DA;function Bn(n){return n.max-n.min}function EL(n,e,t){return Math.abs(n-e)<=t}function Zb(n,e,t,i=.5){n.origin=i,n.originPoint=bt(e.min,e.max,n.origin),n.scale=Bn(t)/Bn(e),n.translate=bt(t.min,t.max,n.origin)-n.originPoint,(n.scale>=gL&&n.scale<=yL||isNaN(n.scale))&&(n.scale=1),(n.translate>=vL&&n.translate<=_L||isNaN(n.translate))&&(n.translate=0)}function qc(n,e,t,i){Zb(n.x,e.x,t.x,i?i.originX:void 0),Zb(n.y,e.y,t.y,i?i.originY:void 0)}function Jb(n,e,t){n.min=t.min+e.min,n.max=n.min+Bn(e)}function TL(n,e,t){Jb(n.x,e.x,t.x),Jb(n.y,e.y,t.y)}function eS(n,e,t){n.min=e.min-t.min,n.max=n.min+Bn(e)}function Gc(n,e,t){eS(n.x,e.x,t.x),eS(n.y,e.y,t.y)}const tS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Al=()=>({x:tS(),y:tS()}),nS=()=>({min:0,max:0}),Vt=()=>({x:nS(),y:nS()});function Si(n){return[n("x"),n("y")]}function Yy(n){return n===void 0||n===1}function Bv({scale:n,scaleX:e,scaleY:t}){return!Yy(n)||!Yy(e)||!Yy(t)}function oo(n){return Bv(n)||MA(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function MA(n){return iS(n.x)||iS(n.y)}function iS(n){return n&&n!=="0%"}function sp(n,e,t){const i=n-t,s=e*i;return t+s}function sS(n,e,t,i,s){return s!==void 0&&(n=sp(n,s,i)),sp(n,t,i)+e}function zv(n,e=0,t=1,i,s){n.min=sS(n.min,e,t,i,s),n.max=sS(n.max,e,t,i,s)}function OA(n,{x:e,y:t}){zv(n.x,e.translate,e.scale,e.originPoint),zv(n.y,t.translate,t.scale,t.originPoint)}const rS=.999999999999,aS=1.0000000000001;function wL(n,e,t,i=!1){const s=t.length;if(!s)return;e.x=e.y=1;let o,l;for(let c=0;c<s;c++){o=t[c],l=o.projectionDelta;const{visualElement:h}=o.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Il(n,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,OA(n,l)),i&&oo(o.latestValues)&&Il(n,o.latestValues))}e.x<aS&&e.x>rS&&(e.x=1),e.y<aS&&e.y>rS&&(e.y=1)}function Rl(n,e){n.min=n.min+e,n.max=n.max+e}function oS(n,e,t,i,s=.5){const o=bt(n.min,n.max,s);zv(n,e,t,o,i)}function Il(n,e){oS(n.x,e.x,e.scaleX,e.scale,e.originX),oS(n.y,e.y,e.scaleY,e.scale,e.originY)}function kA(n,e){return NA(mL(n.getBoundingClientRect(),e))}function bL(n,e,t){const i=kA(n,t),{scroll:s}=e;return s&&(Rl(i.x,s.offset.x),Rl(i.y,s.offset.y)),i}const lS=(n,e)=>Math.abs(n-e);function SL(n,e){const t=lS(n.x,e.x),i=lS(n.y,e.y);return Math.sqrt(t**2+i**2)}class LA{constructor(e,t,{transformPagePoint:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Xy(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,_=SL(g.offset,{x:0,y:0})>=3;if(!y&&!_)return;const{point:w}=g,{timestamp:x}=_n;this.history.push({...w,timestamp:x});const{onStart:O,onMove:V}=this.handlers;y||(O&&O(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),V&&V(this.lastMoveEvent,g)},this.handlePointerMove=(g,y)=>{if(g.target instanceof Element&&g.target.hasPointerCapture&&g.pointerId!==void 0)try{if(!g.target.hasPointerCapture(g.pointerId))return}catch{}this.lastMoveEvent=g,this.lastMoveEventInfo=Qy(y,this.transformPagePoint),gt.update(this.updatePoint,!0)},this.handlePointerUp=(g,y)=>{ep(g,"release"),this.end();const{onEnd:_,onSessionEnd:w,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const O=Xy(g.type==="pointercancel"||g.type==="lostpointercapture"?this.lastMoveEventInfo:Qy(y,this.transformPagePoint),this.history);this.startEvent&&_&&_(g,O),w&&w(g,O)},!u0(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=i;const o=Mh(e),l=Qy(o,this.transformPagePoint),{point:c}=l,{timestamp:h}=_n;this.history=[{...c,timestamp:h}];const{onSessionStart:f}=t;f&&f(e,Xy(l,this.history)),ep(e,"set"),this.removeListeners=Dh(Cl(e.currentTarget,"pointermove",this.handlePointerMove),Cl(e.currentTarget,"pointerup",this.handlePointerUp),Cl(e.currentTarget,"pointercancel",this.handlePointerUp),Cl(e.currentTarget,"lostpointercapture",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),fa(this.updatePoint)}}function Qy(n,e){return e?{point:e(n.point)}:n}function uS(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Xy({point:n},e){return{point:n,delta:uS(n,VA(e)),offset:uS(n,xL(e)),velocity:CL(e,.1)}}function xL(n){return n[0]}function VA(n){return n[n.length-1]}function CL(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const s=VA(n);for(;t>=0&&(i=n[t],!(s.timestamp-i.timestamp>rr(e)));)t--;if(!i)return{x:0,y:0};const o=ar(s.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const l={x:(s.x-i.x)/o,y:(s.y-i.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function AL(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?bt(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?bt(t,n,i.max):Math.min(n,t)),n}function cS(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function RL(n,{top:e,left:t,bottom:i,right:s}){return{x:cS(n.x,t,s),y:cS(n.y,e,i)}}function hS(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function IL(n,e){return{x:hS(n.x,e.x),y:hS(n.y,e.y)}}function NL(n,e){let t=.5;const i=Bn(n),s=Bn(e);return s>i?t=zl(e.min,e.max-i,n.min):i>s&&(t=zl(n.min,n.max-s,e.min)),lr(0,1,t)}function PL(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Fv=.35;function DL(n=Fv){return n===!1?n=0:n===!0&&(n=Fv),{x:dS(n,"left","right"),y:dS(n,"top","bottom")}}function dS(n,e,t){return{min:fS(n,e),max:fS(n,t)}}function fS(n,e){return typeof n=="number"?n:n[e]||0}const ML=new WeakMap;class OL{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Vt(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Mh(g).point)},o=(g,y)=>{const{drag:_,dragPropagation:w,onDragStart:x}=this.getProps();if(_&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Ck(_),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Si(V=>{let P=this.getAxisMotionValue(V).get()||0;if(ds.test(P)){const{projection:I}=this.visualElement;if(I&&I.layout){const N=I.layout.layoutBox[V];N&&(P=Bn(N)*(parseFloat(P)/100))}}this.originPoint[V]=P}),x&&gt.postRender(()=>x(g,y)),Dv(this.visualElement,"transform");const{animationState:O}=this.visualElement;O&&O.setActive("whileDrag",!0)},l=(g,y)=>{const{dragPropagation:_,dragDirectionLock:w,onDirectionLock:x,onDrag:O}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:V}=y;if(w&&this.currentDirection===null){this.currentDirection=kL(V),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",y.point,V),this.updateAxis("y",y.point,V),this.visualElement.render(),O&&O(g,y)},c=(g,y)=>this.stop(g,y),h=()=>Si(g=>{var y;return this.getAnimationState(g)==="paused"&&((y=this.getAxisMotionValue(g).animation)===null||y===void 0?void 0:y.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new LA(e,{onSessionStart:s,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=t;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&gt.postRender(()=>o(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:s}=this.getProps();if(!i||!_f(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(l=AL(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:i}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;t&&Sl(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=RL(s.layoutBox,t):this.constraints=!1,this.elastic=DL(i),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Si(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=PL(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Sl(e))return!1;const i=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=bL(i,s.root,this.visualElement.getTransformPagePoint());let l=IL(s.layout.layoutBox,o);if(t){const c=t(pL(l));this.hasMutatedConstraints=!!c,c&&(l=NA(c))}return l}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:s,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),h=this.constraints||{},f=Si(g=>{if(!_f(g,t,this.currentDirection))return;let y=h&&h[g]||{};l&&(y={min:0,max:0});const _=s?200:1e6,w=s?40:1e7,x={type:"inertia",velocity:i?e[g]:0,bounceStiffness:_,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...o,...y};return this.startAxisValueAnimation(g,x)});return Promise.all(f).then(c)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return Dv(this.visualElement,e),i.start(T0(e,i,0,t,this.visualElement,!1))}stopAnimation(){Si(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Si(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),s=i[t];return s||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Si(t=>{const{drag:i}=this.getProps();if(!_f(t,i,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(t);if(s&&s.layout){const{min:l,max:c}=s.layout.layoutBox[t];o.set(e[t]-bt(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!Sl(t)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Si(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const h=c.get();s[l]=NL({min:h,max:h},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Si(l=>{if(!_f(l,e,null))return;const c=this.getAxisMotionValue(l),{min:h,max:f}=this.constraints[l];c.set(bt(h,f,s[l]))})}addListeners(){if(!this.visualElement.current)return;ML.set(this.visualElement,this);const e=this.visualElement.current,t=Cl(e,"pointerdown",h=>{const{drag:f,dragListener:g=!0}=this.getProps();f&&g&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();Sl(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),gt.read(i);const l=ch(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f})=>{this.isDragging&&f&&(Si(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=h[g].translate,y.set(y.get()+h[g].translate))}),this.visualElement.render())});return()=>{l(),t(),o(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:l=Fv,dragMomentum:c=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:s,dragConstraints:o,dragElastic:l,dragMomentum:c}}}function _f(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function kL(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class LL extends Sa{constructor(e){super(e),this.removeGroupControls=si,this.removeListeners=si,this.controls=new OL(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||si}unmount(){this.removeGroupControls(),this.removeListeners()}}const pS=n=>(e,t)=>{n&&gt.postRender(()=>n(e,t))};class VL extends Sa{constructor(){super(...arguments),this.removePointerDownListener=si}onPointerDown(e){this.session=new LA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:pS(e),onStart:pS(t),onMove:i,onEnd:(o,l)=>{delete this.session,s&&gt.postRender(()=>s(o,l))}}}mount(){this.removePointerDownListener=Cl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Lf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function mS(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Ic={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Ce.test(n))n=parseFloat(n);else return n;const t=mS(n,e.target.x),i=mS(n,e.target.y);return`${t}% ${i}%`}},jL={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,s=pa.parse(n);if(s.length>5)return i;const o=pa.createTransformer(n),l=typeof s[0]!="number"?1:0,c=t.x.scale*e.x,h=t.y.scale*e.y;s[0+l]/=c,s[1+l]/=h;const f=bt(c,h,.5);return typeof s[2+l]=="number"&&(s[2+l]/=f),typeof s[3+l]=="number"&&(s[3+l]/=f),o(s)}};class UL extends U.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:s}=this.props,{projection:o}=e;HO(BL),o&&(t.group&&t.group.add(o),i&&i.register&&s&&i.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Lf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:s,isPresent:o}=this.props,l=i.projection;return l&&(l.isPresent=o,s||e.layoutDependency!==t||t===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||gt.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Y_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function jA(n){const[e,t]=EO(),i=U.useContext(TC);return T.jsx(UL,{...n,layoutGroup:i,switchLayoutGroup:U.useContext(IC),isPresent:e,safeToRemove:t})}const BL={borderRadius:{...Ic,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ic,borderTopRightRadius:Ic,borderBottomLeftRadius:Ic,borderBottomRightRadius:Ic,boxShadow:jL};function zL(n,e,t){const i=Dn(n)?n:lh(n);return i.start(T0("",i,e,t)),i.animation}function FL(n){return n instanceof SVGElement&&n.tagName!=="svg"}const HL=(n,e)=>n.depth-e.depth;class qL{constructor(){this.children=[],this.isDirty=!1}add(e){c0(this.children,e),this.isDirty=!0}remove(e){h0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(HL),this.isDirty=!1,this.children.forEach(e)}}function GL(n,e){const t=fs.now(),i=({timestamp:s})=>{const o=s-t;o>=e&&(fa(i),n(o-e))};return gt.read(i,!0),()=>fa(i)}const UA=["TopLeft","TopRight","BottomLeft","BottomRight"],$L=UA.length,gS=n=>typeof n=="string"?parseFloat(n):n,yS=n=>typeof n=="number"||Ce.test(n);function KL(n,e,t,i,s,o){s?(n.opacity=bt(0,t.opacity!==void 0?t.opacity:1,WL(i)),n.opacityExit=bt(e.opacity!==void 0?e.opacity:1,0,YL(i))):o&&(n.opacity=bt(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,i));for(let l=0;l<$L;l++){const c=`border${UA[l]}Radius`;let h=vS(e,c),f=vS(t,c);if(h===void 0&&f===void 0)continue;h||(h=0),f||(f=0),h===0||f===0||yS(h)===yS(f)?(n[c]=Math.max(bt(gS(h),gS(f),i),0),(ds.test(f)||ds.test(h))&&(n[c]+="%")):n[c]=f}(e.rotate||t.rotate)&&(n.rotate=bt(e.rotate||0,t.rotate||0,i))}function vS(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const WL=BA(0,.5,sA),YL=BA(.5,.95,si);function BA(n,e,t){return i=>i<n?0:i>e?1:t(zl(n,e,i))}function _S(n,e){n.min=e.min,n.max=e.max}function bi(n,e){_S(n.x,e.x),_S(n.y,e.y)}function ES(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function TS(n,e,t,i,s){return n-=e,n=sp(n,1/t,i),s!==void 0&&(n=sp(n,1/s,i)),n}function QL(n,e=0,t=1,i=.5,s,o=n,l=n){if(ds.test(e)&&(e=parseFloat(e),e=bt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=bt(o.min,o.max,i);n===o&&(c-=e),n.min=TS(n.min,e,t,c,s),n.max=TS(n.max,e,t,c,s)}function wS(n,e,[t,i,s],o,l){QL(n,e[t],e[i],e[s],e.scale,o,l)}const XL=["x","scaleX","originX"],ZL=["y","scaleY","originY"];function bS(n,e,t,i){wS(n.x,e,XL,t?t.x:void 0,i?i.x:void 0),wS(n.y,e,ZL,t?t.y:void 0,i?i.y:void 0)}function SS(n){return n.translate===0&&n.scale===1}function zA(n){return SS(n.x)&&SS(n.y)}function xS(n,e){return n.min===e.min&&n.max===e.max}function JL(n,e){return xS(n.x,e.x)&&xS(n.y,e.y)}function CS(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function FA(n,e){return CS(n.x,e.x)&&CS(n.y,e.y)}function AS(n){return Bn(n.x)/Bn(n.y)}function RS(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class e6{constructor(){this.members=[]}add(e){c0(this.members,e),e.scheduleRender()}remove(e){if(h0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(s=>e===s);if(t===0)return!1;let i;for(let s=t;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function t6(n,e,t){let i="";const s=n.x.translate/e.x,o=n.y.translate/e.y,l=(t==null?void 0:t.z)||0;if((s||o||l)&&(i=`translate3d(${s}px, ${o}px, ${l}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:f,rotate:g,rotateX:y,rotateY:_,skewX:w,skewY:x}=t;f&&(i=`perspective(${f}px) ${i}`),g&&(i+=`rotate(${g}deg) `),y&&(i+=`rotateX(${y}deg) `),_&&(i+=`rotateY(${_}deg) `),w&&(i+=`skewX(${w}deg) `),x&&(i+=`skewY(${x}deg) `)}const c=n.x.scale*e.x,h=n.y.scale*e.y;return(c!==1||h!==1)&&(i+=`scale(${c}, ${h})`),i||"none"}const Zy=["","X","Y","Z"],n6={visibility:"hidden"},IS=1e3;let i6=0;function Jy(n,e,t,i){const{latestValues:s}=e;s[n]&&(t[n]=s[n],e.setStaticValue(n,0),i&&(i[n]=0))}function HA(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=XC(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:s,layoutId:o}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",gt,!(s||o))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&HA(i)}function qA({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(l={},c=e==null?void 0:e()){this.id=i6++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(a6),this.nodes.forEach(h6),this.nodes.forEach(d6),this.nodes.forEach(o6)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new qL)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new d0),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const h=this.eventHandlers.get(l);h&&h.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=FL(l),this.instance=l;const{layoutId:h,layout:f,visualElement:g}=this.options;if(g&&!g.current&&g.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(f||h)&&(this.isLayoutDirty=!0),n){let y;const _=()=>this.root.updateBlockedByResize=!1;n(l,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=GL(_,250),Lf.hasAnimatedSinceResize&&(Lf.hasAnimatedSinceResize=!1,this.nodes.forEach(PS))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&g&&(h||f)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:w,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const O=this.options.transition||g.getDefaultTransition()||y6,{onLayoutAnimationStart:V,onLayoutAnimationComplete:P}=g.getProps(),I=!this.targetLayout||!FA(this.targetLayout,x),N=!_&&w;if(this.options.layoutRoot||this.resumeFrom||N||_&&(I||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,N);const H={...a0(O,"layout"),onPlay:V,onComplete:P};(g.shouldReduceMotion||this.options.layoutRoot)&&(H.delay=0,H.type=!1),this.startAnimation(H)}else _||PS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,fa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(f6),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&HA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:c,layout:h}=this.options;if(c===void 0&&!h)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(NS);return}this.isUpdating||this.nodes.forEach(u6),this.isUpdating=!1,this.nodes.forEach(c6),this.nodes.forEach(s6),this.nodes.forEach(r6),this.clearAllSnapshots();const c=fs.now();_n.delta=lr(0,1e3/60,c-_n.timestamp),_n.timestamp=c,_n.isProcessing=!0,qy.update.process(_n),qy.preRender.process(_n),qy.render.process(_n),_n.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Y_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(l6),this.sharedNodes.forEach(p6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,gt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){gt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Bn(this.snapshot.measuredBox.x)&&!Bn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Vt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!zA(this.projectionDelta),h=this.getTransformTemplate(),f=h?h(this.latestValues,""):void 0,g=f!==this.prevTransformTemplateValue;l&&(c||oo(this.latestValues)||g)&&(s(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let h=this.removeElementScroll(c);return l&&(h=this.removeTransform(h)),v6(h),{animationId:this.root.animationId,measuredBox:c,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:c}=this.options;if(!c)return Vt();const h=c.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(_6))){const{scroll:g}=this.root;g&&(Rl(h.x,g.offset.x),Rl(h.y,g.offset.y))}return h}removeElementScroll(l){var c;const h=Vt();if(bi(h,l),!((c=this.scroll)===null||c===void 0)&&c.wasRoot)return h;for(let f=0;f<this.path.length;f++){const g=this.path[f],{scroll:y,options:_}=g;g!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&bi(h,l),Rl(h.x,y.offset.x),Rl(h.y,y.offset.y))}return h}applyTransform(l,c=!1){const h=Vt();bi(h,l);for(let f=0;f<this.path.length;f++){const g=this.path[f];!c&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Il(h,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),oo(g.latestValues)&&Il(h,g.latestValues)}return oo(this.latestValues)&&Il(h,this.latestValues),h}removeTransform(l){const c=Vt();bi(c,l);for(let h=0;h<this.path.length;h++){const f=this.path[h];if(!f.instance||!oo(f.latestValues))continue;Bv(f.latestValues)&&f.updateSnapshot();const g=Vt(),y=f.measurePageBox();bi(g,y),bS(c,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,g)}return oo(this.latestValues)&&bS(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==_n.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var c;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(l||f&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!(!this.layout||!(y||_))){if(this.resolvedRelativeTargetAt=_n.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Vt(),this.relativeTargetOrigin=Vt(),Gc(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),bi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Vt(),this.targetWithTransforms=Vt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),TL(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):bi(this.target,this.layout.layoutBox),OA(this.target,this.targetDelta)):bi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Vt(),this.relativeTargetOrigin=Vt(),Gc(this.relativeTargetOrigin,this.target,w.target),bi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Bv(this.parent.latestValues)||MA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const c=this.getLead(),h=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===_n.timestamp&&(f=!1),f)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;bi(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,w=this.treeScale.y;wL(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Vt());const{target:x}=c;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ES(this.prevProjectionDelta.x,this.projectionDelta.x),ES(this.prevProjectionDelta.y,this.projectionDelta.y)),qc(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==w||!RS(this.projectionDelta.x,this.prevProjectionDelta.x)||!RS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)===null||c===void 0||c.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Al(),this.projectionDelta=Al(),this.projectionDeltaWithTransform=Al()}setAnimationOrigin(l,c=!1){const h=this.snapshot,f=h?h.latestValues:{},g={...this.latestValues},y=Al();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const _=Vt(),w=h?h.source:void 0,x=this.layout?this.layout.source:void 0,O=w!==x,V=this.getStack(),P=!V||V.members.length<=1,I=!!(O&&!P&&this.options.crossfade===!0&&!this.path.some(g6));this.animationProgress=0;let N;this.mixTargetDelta=H=>{const q=H/1e3;DS(y.x,l.x,q),DS(y.y,l.y,q),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Gc(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),m6(this.relativeTarget,this.relativeTargetOrigin,_,q),N&&JL(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=Vt()),bi(N,this.relativeTarget)),O&&(this.animationValues=g,KL(g,f,this.latestValues,q,I,P)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(fa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=gt.update(()=>{Lf.hasAnimatedSinceResize=!0,this.currentAnimation=zL(0,IS,{...l,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(IS),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:h,layout:f,latestValues:g}=l;if(!(!c||!h||!f)){if(this!==l&&this.layout&&f&&GA(this.options.animationType,this.layout.layoutBox,f.layoutBox)){h=this.target||Vt();const y=Bn(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+y;const _=Bn(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+_}bi(c,h),Il(c,g),qc(this.projectionDeltaWithTransform,this.layoutCorrected,c,g)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new e6),this.sharedNodes.get(l).add(c);const f=c.options.initialPromotionConfig;c.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:c}=this.options;return c?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:c}=this.options;return c?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:h}={}){const f=this.getStack();f&&f.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(c=!0),!c)return;const f={};h.z&&Jy("z",l,f,this.animationValues);for(let g=0;g<Zy.length;g++)Jy(`rotate${Zy[g]}`,l,f,this.animationValues),Jy(`skew${Zy[g]}`,l,f,this.animationValues);l.render();for(const g in f)l.setStaticValue(g,f[g]),this.animationValues&&(this.animationValues[g]=f[g]);l.scheduleRender()}getProjectionStyles(l){var c,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return n6;const f={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=Of(l==null?void 0:l.pointerEvents)||"",f.transform=g?g(this.latestValues,""):"none",f;const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){const O={};return this.options.layoutId&&(O.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,O.pointerEvents=Of(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!oo(this.latestValues)&&(O.transform=g?g({},""):"none",this.hasProjected=!1),O}const _=y.animationValues||y.latestValues;this.applyTransformsToTarget(),f.transform=t6(this.projectionDeltaWithTransform,this.treeScale,_),g&&(f.transform=g(_,f.transform));const{x:w,y:x}=this.projectionDelta;f.transformOrigin=`${w.origin*100}% ${x.origin*100}% 0`,y.animationValues?f.opacity=y===this?(h=(c=_.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:_.opacityExit:f.opacity=y===this?_.opacity!==void 0?_.opacity:"":_.opacityExit!==void 0?_.opacityExit:0;for(const O in rh){if(_[O]===void 0)continue;const{correct:V,applyTo:P,isCSSVariable:I}=rh[O],N=f.transform==="none"?_[O]:V(_[O],y);if(P){const H=P.length;for(let q=0;q<H;q++)f[P[q]]=N}else I?this.options.visualElement.renderState.vars[O]=N:f[O]=N}return this.options.layoutId&&(f.pointerEvents=y===this?Of(l==null?void 0:l.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(NS),this.root.sharedNodes.clear()}}}function s6(n){n.updateLayout()}function r6(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=n.layout,{animationType:o}=n.options,l=t.source!==n.layout.source;o==="size"?Si(y=>{const _=l?t.measuredBox[y]:t.layoutBox[y],w=Bn(_);_.min=i[y].min,_.max=_.min+w}):GA(o,t.layoutBox,i)&&Si(y=>{const _=l?t.measuredBox[y]:t.layoutBox[y],w=Bn(i[y]);_.max=_.min+w,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+w)});const c=Al();qc(c,i,t.layoutBox);const h=Al();l?qc(h,n.applyTransform(s,!0),t.measuredBox):qc(h,i,t.layoutBox);const f=!zA(c);let g=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:w}=y;if(_&&w){const x=Vt();Gc(x,t.layoutBox,_.layoutBox);const O=Vt();Gc(O,i,w.layoutBox),FA(x,O)||(g=!0),y.options.layoutRoot&&(n.relativeTarget=O,n.relativeTargetOrigin=x,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:h,layoutDelta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:g})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function a6(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function o6(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function l6(n){n.clearSnapshot()}function NS(n){n.clearMeasurements()}function u6(n){n.isLayoutDirty=!1}function c6(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function PS(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function h6(n){n.resolveTargetDelta()}function d6(n){n.calcProjection()}function f6(n){n.resetSkewAndRotation()}function p6(n){n.removeLeadSnapshot()}function DS(n,e,t){n.translate=bt(e.translate,0,t),n.scale=bt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function MS(n,e,t,i){n.min=bt(e.min,t.min,i),n.max=bt(e.max,t.max,i)}function m6(n,e,t,i){MS(n.x,e.x,t.x,i),MS(n.y,e.y,t.y,i)}function g6(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const y6={duration:.45,ease:[.4,0,.1,1]},OS=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),kS=OS("applewebkit/")&&!OS("chrome/")?Math.round:si;function LS(n){n.min=kS(n.min),n.max=kS(n.max)}function v6(n){LS(n.x),LS(n.y)}function GA(n,e,t){return n==="position"||n==="preserve-aspect"&&!EL(AS(e),AS(t),.2)}function _6(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const E6=qA({attachResizeListener:(n,e)=>ch(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ev={current:void 0},$A=qA({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!ev.current){const n=new E6({});n.mount(window),n.setOptions({layoutScroll:!0}),ev.current=n}return ev.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),T6={pan:{Feature:VL},drag:{Feature:LL,ProjectionNode:$A,MeasureLayout:jA}};function VS(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const s="onHover"+t,o=i[s];o&&gt.postRender(()=>o(e,Mh(e)))}class w6 extends Sa{mount(){const{current:e}=this.node;e&&(this.unmount=Ek(e,(t,i)=>(VS(this.node,i,"Start"),s=>VS(this.node,s,"End"))))}unmount(){}}class b6 extends Sa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Dh(ch(this.node.current,"focus",()=>this.onFocus()),ch(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function jS(n,e,t){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const s="onTap"+(t==="End"?"":t),o=i[s];o&&gt.postRender(()=>o(e,Mh(e)))}class S6 extends Sa{mount(){const{current:e}=this.node;e&&(this.unmount=Sk(e,(t,i)=>(jS(this.node,i,"Start"),(s,{success:o})=>jS(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Hv=new WeakMap,tv=new WeakMap,x6=n=>{const e=Hv.get(n.target);e&&e(n)},C6=n=>{n.forEach(x6)};function A6({root:n,...e}){const t=n||document;tv.has(t)||tv.set(t,{});const i=tv.get(t),s=JSON.stringify(e);return i[s]||(i[s]=new IntersectionObserver(C6,{root:n,...e})),i[s]}function R6(n,e,t){const i=A6(e);return Hv.set(n,t),i.observe(n),()=>{Hv.delete(n),i.unobserve(n)}}const I6={some:0,all:1};class N6 extends Sa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:s="some",once:o}=e,l={root:t?t.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:I6[s]},c=h=>{const{isIntersecting:f}=h;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),_=f?g:y;_&&_(h)};return R6(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(P6(e,t))&&this.startObserver()}unmount(){}}function P6({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const D6={inView:{Feature:N6},tap:{Feature:S6},focus:{Feature:b6},hover:{Feature:w6}},M6={layout:{ProjectionNode:$A,MeasureLayout:jA}},qv={current:null},KA={current:!1};function O6(){if(KA.current=!0,!!q_)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>qv.current=n.matches;n.addListener(e),e()}else qv.current=!1}const k6=[...vA,In,pa],L6=n=>k6.find(yA(n)),V6=new WeakMap;function j6(n,e,t){for(const i in e){const s=e[i],o=t[i];if(Dn(s))n.addValue(i,s);else if(Dn(o))n.addValue(i,lh(s,{owner:n}));else if(o!==s)if(n.hasValue(i)){const l=n.getValue(i);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=n.getStaticValue(i);n.addValue(i,lh(l!==void 0?l:s,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const US=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class U6{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:o,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=v0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=fs.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,gt.render(this.render,!1,!0))};const{latestValues:h,renderState:f,onUpdate:g}=l;this.onUpdate=g,this.latestValues=h,this.baseTarget={...h},this.initialValues=t.initial?{...h}:{},this.renderState=f,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!o,this.isControllingVariants=Jp(t),this.isVariantNode=AC(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(t,{},this);for(const w in _){const x=_[w];h[w]!==void 0&&Dn(x)&&x.set(h[w],!1)}}mount(e){this.current=e,V6.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),KA.current||O6(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:qv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),fa(this.notifyUpdate),fa(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=xo.has(e);i&&this.onBindTransform&&this.onBindTransform();const s=t.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&gt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),o=t.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{s(),o(),l&&l(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Fl){const t=Fl[e];if(!t)continue;const{isEnabled:i,Feature:s}=t;if(!this.features[e]&&s&&i(this.props)&&(this.features[e]=new s(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Vt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<US.length;i++){const s=US[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,l=e[o];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=j6(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=lh(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){var i;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(mA(s)||aA(s))?s=parseFloat(s):!L6(s)&&pa.test(t)&&(s=dA(e,t)),this.setBaseTarget(e,Dn(s)?s.get():s)),Dn(s)?s.get():s}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:i}=this.props;let s;if(typeof i=="string"||typeof i=="object"){const l=s0(this.props,i,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);l&&(s=l[e])}if(i&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Dn(o)?o:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new d0),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class WA extends U6{constructor(){super(...arguments),this.KeyframeResolver=_A}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Dn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function B6(n){return window.getComputedStyle(n)}class z6 extends WA{constructor(){super(...arguments),this.type="html",this.renderInstance=jC}readValueFromInstance(e,t){if(xo.has(t)){const i=y0(t);return i&&i.default||0}else{const i=B6(e),s=(Q_(t)?i.getPropertyValue(t):i[t])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:t}){return kA(e,t)}build(e,t,i){J_(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return r0(e,t,i)}}class F6 extends WA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Vt,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&VC(this.current,this.renderState)}}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(xo.has(t)){const i=y0(t);return i&&i.default||0}return t=UC.has(t)?t:W_(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return zC(e,t,i)}onBindTransform(){this.current&&!this.renderState.dimensions&&gt.postRender(this.updateDimensions)}build(e,t,i){n0(e,t,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,i,s){BC(e,t,i,s)}mount(e){this.isSVGTag=i0(e.tagName),super.mount(e)}}const H6=(n,e)=>t0(n)?new F6(e):new z6(e,{allowProjection:n!==U.Fragment}),q6=fk({...dL,...D6,...T6,...M6},H6),BS=IO(q6);function G6(n){return Ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(n)}function $6(n){return Ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(n)}var zS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue=function(n,e){if(!n)throw uu(e)},uu=function(n){return new Error("Firebase Database ("+YA.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},K6=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const s=n[t++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[t++];e[i++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[t++],l=n[t++],c=n[t++],h=((s&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const o=n[t++],l=n[t++];e[i++]=String.fromCharCode((s&15)<<12|(o&63)<<6|l&63)}}return e.join("")},w0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const o=n[s],l=s+1<n.length,c=l?n[s+1]:0,h=s+2<n.length,f=h?n[s+2]:0,g=o>>2,y=(o&3)<<4|c>>4;let _=(c&15)<<2|f>>6,w=f&63;h||(w=64,l||(_=64)),i.push(t[g],t[y],t[_],t[w])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(QA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):K6(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const o=t[n.charAt(s++)],c=s<n.length?t[n.charAt(s)]:0;++s;const f=s<n.length?t[n.charAt(s)]:64;++s;const y=s<n.length?t[n.charAt(s)]:64;if(++s,o==null||c==null||f==null||y==null)throw new W6;const _=o<<2|c>>4;if(i.push(_),f!==64){const w=c<<4&240|f>>2;if(i.push(w),y!==64){const x=f<<6&192|y;i.push(x)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class W6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XA=function(n){const e=QA(n);return w0.encodeByteArray(e,!0)},rp=function(n){return XA(n).replace(/\./g,"")},ap=function(n){try{return w0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y6(n){return ZA(void 0,n)}function ZA(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!Q6(t)||(n[t]=ZA(n[t],e[t]));return n}function Q6(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6=()=>X6().__FIREBASE_DEFAULTS__,J6=()=>{if(typeof process>"u"||typeof zS>"u")return;const n=zS.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},eV=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&ap(n[1]);return e&&JSON.parse(e)},tm=()=>{try{return Z6()||J6()||eV()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},JA=n=>{var e,t;return(t=(e=tm())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},eR=n=>{const e=JA(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},tR=()=>{var n;return(n=tm())===null||n===void 0?void 0:n.config},nR=n=>{var e;return(e=tm())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[rp(JSON.stringify(t)),rp(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function b0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mn())}function tV(){var n;const e=(n=tm())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iV(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function sR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sV(){const n=Mn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function rV(){return YA.NODE_ADMIN===!0}function aV(){return!tV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oV(){try{return typeof indexedDB=="object"}catch{return!1}}function lV(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV="FirebaseError";class pr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=uV,Object.setPrototypeOf(this,pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kh.prototype.create)}}class kh{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],l=o?cV(o,i):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new pr(s,c,i)}}function cV(n,e){return n.replace(hV,(t,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const hV=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(n){return JSON.parse(n)}function fn(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR=function(n){let e={},t={},i={},s="";try{const o=n.split(".");e=hh(ap(o[0])||""),t=hh(ap(o[1])||""),s=o[2],i=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:i,signature:s}},dV=function(n){const e=rR(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},fV=function(n){const e=rR(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function ql(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function Gv(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function op(n,e,t){const i={};for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=e.call(t,n[s],s,n));return i}function lp(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const s of t){if(!i.includes(s))return!1;const o=n[s],l=e[s];if(FS(o)&&FS(l)){if(!lp(o,l))return!1}else if(o!==l)return!1}for(const s of i)if(!t.includes(s))return!1;return!0}function FS(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Vc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,o]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function jc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const i=this.W_;if(typeof e=="string")for(let y=0;y<16;y++)i[y]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let y=0;y<16;y++)i[y]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let y=16;y<80;y++){const _=i[y-3]^i[y-8]^i[y-14]^i[y-16];i[y]=(_<<1|_>>>31)&4294967295}let s=this.chain_[0],o=this.chain_[1],l=this.chain_[2],c=this.chain_[3],h=this.chain_[4],f,g;for(let y=0;y<80;y++){y<40?y<20?(f=c^o&(l^c),g=1518500249):(f=o^l^c,g=1859775393):y<60?(f=o&l|c&(o|l),g=2400959708):(f=o^l^c,g=3395469782);const _=(s<<5|s>>>27)+f+h+g+i[y]&4294967295;h=c,c=l,l=(o<<30|o>>>2)&4294967295,o=s,s=_}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const i=t-this.blockSize;let s=0;const o=this.buf_;let l=this.inbuf_;for(;s<t;){if(l===0)for(;s<=i;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(o[l]=e.charCodeAt(s),++l,++s,l===this.blockSize){this.compress_(o),l=0;break}}else for(;s<t;)if(o[l]=e[s],++l,++s,l===this.blockSize){this.compress_(o),l=0;break}}this.inbuf_=l,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=t&255,t/=256;this.compress_(this.buf_);let i=0;for(let s=0;s<5;s++)for(let o=24;o>=0;o-=8)e[i]=this.chain_[s]>>o&255,++i;return e}}function mV(n,e){const t=new gV(n,e);return t.subscribe.bind(t)}class gV{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let s;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");yV(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:i},s.next===void 0&&(s.next=nv),s.error===void 0&&(s.error=nv),s.complete===void 0&&(s.complete=nv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yV(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function nv(){}function nm(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);if(s>=55296&&s<=56319){const o=s-55296;i++,ue(i<n.length,"Surrogate pair missing trail surrogate.");const l=n.charCodeAt(i)-56320;s=65536+(o<<10)+l}s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):s<65536?(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},im=function(n){let e=0;for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,t++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(n){return n&&n._delegate?n._delegate:n}class ma{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new Oh;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TV(e))try{this.getOrInitializeService({instanceIdentifier:lo})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});i.resolve(o)}catch{}}}}clearInstance(e=lo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=lo){return this.instances.has(e)}getOptions(e=lo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);i===c&&l.resolve(s)}return s}onInit(e,t){var i;const s=this.normalizeInstanceIdentifier(t),o=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const s of i)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:EV(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=lo){return this.component?this.component.multipleInstances?e:lo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function EV(n){return n===lo?void 0:n}function TV(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new _V(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ze||(ze={}));const bV={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},SV=ze.INFO,xV={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},CV=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),s=xV[e];if(s)console[s](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sm{constructor(e){this.name=e,this._logLevel=SV,this._logHandler=CV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const AV=(n,e)=>e.some(t=>n instanceof t);let HS,qS;function RV(){return HS||(HS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IV(){return qS||(qS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const aR=new WeakMap,$v=new WeakMap,oR=new WeakMap,iv=new WeakMap,S0=new WeakMap;function NV(n){const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{t(ra(n.result)),s()},l=()=>{i(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&aR.set(t,n)}).catch(()=>{}),S0.set(e,n),e}function PV(n){if($v.has(n))return;const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{t(),s()},l=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});$v.set(n,e)}let Kv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return $v.get(n);if(e==="objectStoreNames")return n.objectStoreNames||oR.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ra(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function DV(n){Kv=n(Kv)}function MV(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(sv(this),e,...t);return oR.set(i,e.sort?e.sort():[e]),ra(i)}:IV().includes(n)?function(...e){return n.apply(sv(this),e),ra(aR.get(this))}:function(...e){return ra(n.apply(sv(this),e))}}function OV(n){return typeof n=="function"?MV(n):(n instanceof IDBTransaction&&PV(n),AV(n,RV())?new Proxy(n,Kv):n)}function ra(n){if(n instanceof IDBRequest)return NV(n);if(iv.has(n))return iv.get(n);const e=OV(n);return e!==n&&(iv.set(n,e),S0.set(e,n)),e}const sv=n=>S0.get(n);function kV(n,e,{blocked:t,upgrade:i,blocking:s,terminated:o}={}){const l=indexedDB.open(n,e),c=ra(l);return i&&l.addEventListener("upgradeneeded",h=>{i(ra(l.result),h.oldVersion,h.newVersion,ra(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),c.then(h=>{o&&h.addEventListener("close",()=>o()),s&&h.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const LV=["get","getKey","getAll","getAllKeys","count"],VV=["put","add","delete","clear"],rv=new Map;function GS(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(rv.get(e))return rv.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,s=VV.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(s||LV.includes(t)))return;const o=async function(l,...c){const h=this.transaction(l,s?"readwrite":"readonly");let f=h.store;return i&&(f=f.index(c.shift())),(await Promise.all([f[t](...c),s&&h.done]))[0]};return rv.set(e,o),o}DV(n=>({...n,get:(e,t,i)=>GS(e,t)||n.get(e,t,i),has:(e,t)=>!!GS(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(UV(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function UV(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wv="@firebase/app",$S="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur=new sm("@firebase/app"),BV="@firebase/app-compat",zV="@firebase/analytics-compat",FV="@firebase/analytics",HV="@firebase/app-check-compat",qV="@firebase/app-check",GV="@firebase/auth",$V="@firebase/auth-compat",KV="@firebase/database",WV="@firebase/data-connect",YV="@firebase/database-compat",QV="@firebase/functions",XV="@firebase/functions-compat",ZV="@firebase/installations",JV="@firebase/installations-compat",e5="@firebase/messaging",t5="@firebase/messaging-compat",n5="@firebase/performance",i5="@firebase/performance-compat",s5="@firebase/remote-config",r5="@firebase/remote-config-compat",a5="@firebase/storage",o5="@firebase/storage-compat",l5="@firebase/firestore",u5="@firebase/vertexai",c5="@firebase/firestore-compat",h5="firebase",d5="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv="[DEFAULT]",f5={[Wv]:"fire-core",[BV]:"fire-core-compat",[FV]:"fire-analytics",[zV]:"fire-analytics-compat",[qV]:"fire-app-check",[HV]:"fire-app-check-compat",[GV]:"fire-auth",[$V]:"fire-auth-compat",[KV]:"fire-rtdb",[WV]:"fire-data-connect",[YV]:"fire-rtdb-compat",[QV]:"fire-fn",[XV]:"fire-fn-compat",[ZV]:"fire-iid",[JV]:"fire-iid-compat",[e5]:"fire-fcm",[t5]:"fire-fcm-compat",[n5]:"fire-perf",[i5]:"fire-perf-compat",[s5]:"fire-rc",[r5]:"fire-rc-compat",[a5]:"fire-gcs",[o5]:"fire-gcs-compat",[l5]:"fire-fst",[c5]:"fire-fst-compat",[u5]:"fire-vertex","fire-js":"fire-js",[h5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up=new Map,p5=new Map,Qv=new Map;function KS(n,e){try{n.container.addComponent(e)}catch(t){ur.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function mo(n){const e=n.name;if(Qv.has(e))return ur.debug(`There were multiple attempts to register component ${e}.`),!1;Qv.set(e,n);for(const t of up.values())KS(t,n);for(const t of p5.values())KS(t,n);return!0}function rm(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function xi(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},aa=new kh("app","Firebase",m5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ma("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw aa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co=d5;function lR(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Yv,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw aa.create("bad-app-name",{appName:String(s)});if(t||(t=tR()),!t)throw aa.create("no-options");const o=up.get(s);if(o){if(lp(t,o.options)&&lp(i,o.config))return o;throw aa.create("duplicate-app",{appName:s})}const l=new wV(s);for(const h of Qv.values())l.addComponent(h);const c=new g5(t,i,l);return up.set(s,c),c}function x0(n=Yv){const e=up.get(n);if(!e&&n===Yv&&tR())return lR();if(!e)throw aa.create("no-app",{appName:n});return e}function ps(n,e,t){var i;let s=(i=f5[n])!==null&&i!==void 0?i:n;t&&(s+=`-${t}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ur.warn(c.join(" "));return}mo(new ma(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y5="firebase-heartbeat-database",v5=1,dh="firebase-heartbeat-store";let av=null;function uR(){return av||(av=kV(y5,v5,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(dh)}catch(t){console.warn(t)}}}}).catch(n=>{throw aa.create("idb-open",{originalErrorMessage:n.message})})),av}async function _5(n){try{const t=(await uR()).transaction(dh),i=await t.objectStore(dh).get(cR(n));return await t.done,i}catch(e){if(e instanceof pr)ur.warn(e.message);else{const t=aa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ur.warn(t.message)}}}async function WS(n,e){try{const i=(await uR()).transaction(dh,"readwrite");await i.objectStore(dh).put(e,cR(n)),await i.done}catch(t){if(t instanceof pr)ur.warn(t.message);else{const i=aa.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ur.warn(i.message)}}}function cR(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E5=1024,T5=30;class w5{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new S5(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=YS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>T5){const l=x5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ur.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=YS(),{heartbeatsToSend:i,unsentEntries:s}=b5(this._heartbeatsCache.heartbeats),o=rp(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ur.warn(t),""}}}function YS(){return new Date().toISOString().substring(0,10)}function b5(n,e=E5){const t=[];let i=n.slice();for(const s of n){const o=t.find(l=>l.agent===s.agent);if(o){if(o.dates.push(s.date),QS(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),QS(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class S5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oV()?lV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await _5(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return WS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return WS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function QS(n){return rp(JSON.stringify({version:2,heartbeats:n})).length}function x5(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C5(n){mo(new ma("platform-logger",e=>new jV(e),"PRIVATE")),mo(new ma("heartbeat",e=>new w5(e),"PRIVATE")),ps(Wv,$S,n),ps(Wv,$S,"esm2017"),ps("fire-js","")}C5("");var XS={};const ZS="@firebase/database",JS="1.0.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hR="";function A5(n){hR=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),fn(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:hh(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return xs(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new R5(e)}}catch{}return new I5},ho=dR("localStorage"),N5=dR("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml=new sm("@firebase/database"),P5=function(){let n=1;return function(){return n++}}(),fR=function(n){const e=vV(n),t=new pV;t.update(e);const i=t.digest();return w0.encodeByteArray(i)},Lh=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Lh.apply(null,i):typeof i=="object"?e+=fn(i):e+=i,e+=" "}return e};let $c=null,ex=!0;const D5=function(n,e){ue(!0,"Can't turn on custom loggers persistently."),Ml.logLevel=ze.VERBOSE,$c=Ml.log.bind(Ml)},Tn=function(...n){if(ex===!0&&(ex=!1,$c===null&&N5.get("logging_enabled")===!0&&D5()),$c){const e=Lh.apply(null,n);$c(e)}},Vh=function(n){return function(...e){Tn(n,...e)}},Xv=function(...n){const e="FIREBASE INTERNAL ERROR: "+Lh(...n);Ml.error(e)},cr=function(...n){const e=`FIREBASE FATAL ERROR: ${Lh(...n)}`;throw Ml.error(e),new Error(e)},zn=function(...n){const e="FIREBASE WARNING: "+Lh(...n);Ml.warn(e)},M5=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&zn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},C0=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},O5=function(n){if(document.readyState==="complete")n();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},Gl="[MIN_NAME]",go="[MAX_NAME]",Ao=function(n,e){if(n===e)return 0;if(n===Gl||e===go)return-1;if(e===Gl||n===go)return 1;{const t=tx(n),i=tx(e);return t!==null?i!==null?t-i===0?n.length-e.length:t-i:-1:i!==null?1:n<e?-1:1}},k5=function(n,e){return n===e?0:n<e?-1:1},Nc=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+fn(e))},A0=function(n){if(typeof n!="object"||n===null)return fn(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)i!==0&&(t+=","),t+=fn(e[i]),t+=":",t+=A0(n[e[i]]);return t+="}",t},pR=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let s=0;s<t;s+=e)s+e>t?i.push(n.substring(s,t)):i.push(n.substring(s,s+e));return i};function bn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const mR=function(n){ue(!C0(n),"Invalid JSON number");const e=11,t=52,i=(1<<e-1)-1;let s,o,l,c,h;n===0?(o=0,l=0,s=1/n===-1/0?1:0):(s=n<0,n=Math.abs(n),n>=Math.pow(2,1-i)?(c=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=c+i,l=Math.round(n*Math.pow(2,t-c)-Math.pow(2,t))):(o=0,l=Math.round(n/Math.pow(2,1-i-t))));const f=[];for(h=t;h;h-=1)f.push(l%2?1:0),l=Math.floor(l/2);for(h=e;h;h-=1)f.push(o%2?1:0),o=Math.floor(o/2);f.push(s?1:0),f.reverse();const g=f.join("");let y="";for(h=0;h<64;h+=8){let _=parseInt(g.substr(h,8),2).toString(16);_.length===1&&(_="0"+_),y=y+_}return y.toLowerCase()},L5=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},V5=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function j5(n,e){let t="Unknown Error";n==="too_big"?t="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?t="Client doesn't have permission to access the desired data.":n==="unavailable"&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}const U5=new RegExp("^-?(0*)\\d{1,10}$"),B5=-2147483648,z5=2147483647,tx=function(n){if(U5.test(n)){const e=Number(n);if(e>=B5&&e<=z5)return e}return null},hu=function(n){try{n()}catch(e){setTimeout(()=>{const t=e.stack||"";throw zn("Exception was thrown by user callback.",t),e},Math.floor(0))}},F5=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Kc=function(n,e){const t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,xi(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t==null?void 0:t.getImmediate({optional:!0}),this.appCheck||t==null||t.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){zn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(Tn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',zn(e)}}class Vf{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Vf.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0="5",gR="v",yR="s",vR="r",_R="f",ER=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,TR="ls",wR="p",Zv="ac",bR="websocket",SR="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e,t,i,s,o=!1,l="",c=!1,h=!1){this.secure=t,this.namespace=i,this.webSocketOnly=s,this.nodeAdmin=o,this.persistenceKey=l,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ho.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ho.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function G5(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function CR(n,e,t){ue(typeof e=="string","typeof type must == string"),ue(typeof t=="object","typeof params must == object");let i;if(e===bR)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===SR)i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);G5(n)&&(t.ns=n.namespace);const s=[];return bn(t,(o,l)=>{s.push(o+"="+l)}),i+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(){this.counters_={}}incrementCounter(e,t=1){xs(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return Y6(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov={},lv={};function I0(n){const e=n.toString();return ov[e]||(ov[e]=new $5),ov[e]}function K5(n,e){const t=n.toString();return lv[t]||(lv[t]=e()),lv[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<i.length;++s)i[s]&&hu(()=>{this.onMessage_(i[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx="start",Y5="close",Q5="pLPCommand",X5="pRTLPCB",AR="id",RR="pw",IR="ser",Z5="cb",J5="seg",e9="ts",t9="d",n9="dframe",NR=1870,PR=30,i9=NR-PR,s9=25e3,r9=3e4;class Nl{constructor(e,t,i,s,o,l,c){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.transportSessionId=l,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Vh(e),this.stats_=I0(t),this.urlFn=h=>(this.appCheckToken&&(h[Zv]=this.appCheckToken),CR(t,SR,h))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new W5(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(r9)),O5(()=>{if(this.isClosed_)return;this.scriptTagHolder=new N0((...o)=>{const[l,c,h,f,g]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,l===nx)this.id=c,this.password=h;else if(l===Y5)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+l)},(...o)=>{const[l,c]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(l,c)},()=>{this.onClosed_()},this.urlFn);const i={};i[nx]="t",i[IR]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[Z5]=this.scriptTagHolder.uniqueCallbackIdentifier),i[gR]=R0,this.transportSessionId&&(i[yR]=this.transportSessionId),this.lastSessionId&&(i[TR]=this.lastSessionId),this.applicationId&&(i[wR]=this.applicationId),this.appCheckToken&&(i[Zv]=this.appCheckToken),typeof location<"u"&&location.hostname&&ER.test(location.hostname)&&(i[vR]=_R);const s=this.urlFn(i);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Nl.forceAllow_=!0}static forceDisallow(){Nl.forceDisallow_=!0}static isAvailable(){return Nl.forceAllow_?!0:!Nl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!L5()&&!V5()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=fn(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=XA(t),s=pR(i,i9);for(let o=0;o<s.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[o]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const i={};i[n9]="t",i[AR]=e,i[RR]=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=fn(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class N0{constructor(e,t,i,s){this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=P5(),window[Q5+this.uniqueCallbackIdentifier]=e,window[X5+this.uniqueCallbackIdentifier]=t,this.myIFrame=N0.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(c){Tn("frame writing exception"),c.stack&&Tn(c.stack),Tn(c)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Tn("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[AR]=this.myID,e[RR]=this.myPW,e[IR]=this.currentSerial;let t=this.urlFn(e),i="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+PR+i.length<=NR;){const l=this.pendingSegs.shift();i=i+"&"+J5+s+"="+l.seg+"&"+e9+s+"="+l.ts+"&"+t9+s+"="+l.d,s++}return t=t+i,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},s=setTimeout(i,Math.floor(s9)),o=()=>{clearTimeout(s),i()};this.addTag(e,o)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{Tn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a9=16384,o9=45e3;let cp=null;typeof MozWebSocket<"u"?cp=MozWebSocket:typeof WebSocket<"u"&&(cp=WebSocket);class ki{constructor(e,t,i,s,o,l,c){this.connId=e,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Vh(this.connId),this.stats_=I0(t),this.connURL=ki.connectionURL_(t,l,c,s,i),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,i,s,o){const l={};return l[gR]=R0,typeof location<"u"&&location.hostname&&ER.test(location.hostname)&&(l[vR]=_R),t&&(l[yR]=t),i&&(l[TR]=i),s&&(l[Zv]=s),o&&(l[wR]=o),CR(e,bR,l)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ho.set("previous_websocket_failure",!0);try{let i;rV(),this.mySock=new cp(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){ki.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(t);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&cp!==null&&!ki.forceDisallow_}static previouslyFailed(){return ho.isInMemoryStorage||ho.get("previous_websocket_failure")===!0}markConnectionHealthy(){ho.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const i=hh(t);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ue(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const i=this.extractFrameCount_(t);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const t=fn(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=pR(t,a9);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(o9))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ki.responsesRequiredToBeHealthy=2;ki.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{static get ALL_TRANSPORTS(){return[Nl,ki]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=ki&&ki.isAvailable();let i=t&&!ki.previouslyFailed();if(e.webSocketOnly&&(t||zn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[ki];else{const s=this.transports_=[];for(const o of fh.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);fh.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}fh.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l9=6e4,u9=5e3,c9=10*1024,h9=100*1024,uv="t",ix="d",d9="s",sx="r",f9="e",rx="o",ax="a",ox="n",lx="p",p9="h";class m9{constructor(e,t,i,s,o,l,c,h,f,g){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=s,this.authToken_=o,this.onMessage_=l,this.onReady_=c,this.onDisconnect_=h,this.onKill_=f,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Vh("c:"+this.id+":"),this.transportManager_=new fh(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=Kc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>h9?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>c9?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(uv in e){const t=e[uv];t===ax?this.upgradeIfSecondaryHealthy_():t===sx?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===rx&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Nc("t",e),i=Nc("d",e);if(t==="c")this.onSecondaryControl_(i);else if(t==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:lx,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:ax,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:ox,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Nc("t",e),i=Nc("d",e);t==="c"?this.onControl_(i):t==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Nc(uv,e);if(ix in e){const i=e[ix];if(t===p9){const s=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(t===ox){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===d9?this.onConnectionShutdown_(i):t===sx?this.onReset_(i):t===f9?Xv("Server Error: "+i):t===rx?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Xv("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),R0!==i&&zn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),Kc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(l9))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Kc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(u9))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:lx,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ho.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{put(e,t,i,s){}merge(e,t,i,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e){this.allowedEvents_=e,this.listeners_={},ue(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let s=0;s<i.length;s++)i[s].callback.apply(i[s].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const s=this.getInitialEvent(e);s&&t.apply(i,s)}off(e,t,i){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let o=0;o<s.length;o++)if(s[o].callback===t&&(!i||i===s[o].context)){s.splice(o,1);return}}validateEventType_(e){ue(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp extends MR{static getInstance(){return new hp}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!b0()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return ue(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux=32,cx=768;class ut{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let i=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[i]=this.pieces_[s],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function st(){return new ut("")}function je(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function ga(n){return n.pieces_.length-n.pieceNum_}function mt(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new ut(n.pieces_,e)}function P0(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function g9(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function ph(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function OR(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new ut(e,0)}function Dt(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof ut)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let s=0;s<i.length;s++)i[s].length>0&&t.push(i[s])}return new ut(t,0)}function Fe(n){return n.pieceNum_>=n.pieces_.length}function Kn(n,e){const t=je(n),i=je(e);if(t===null)return e;if(t===i)return Kn(mt(n),mt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function y9(n,e){const t=ph(n,0),i=ph(e,0);for(let s=0;s<t.length&&s<i.length;s++){const o=Ao(t[s],i[s]);if(o!==0)return o}return t.length===i.length?0:t.length<i.length?-1:1}function D0(n,e){if(ga(n)!==ga(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function Ci(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(ga(n)>ga(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class v9{constructor(e,t){this.errorPrefix_=t,this.parts_=ph(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=im(this.parts_[i]);kR(this)}}function _9(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=im(e),kR(n)}function E9(n){const e=n.parts_.pop();n.byteLength_-=im(e),n.parts_.length>0&&(n.byteLength_-=1)}function kR(n){if(n.byteLength_>cx)throw new Error(n.errorPrefix_+"has a key path longer than "+cx+" bytes ("+n.byteLength_+").");if(n.parts_.length>ux)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ux+") or object contains a cycle "+uo(n))}function uo(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0 extends MR{static getInstance(){return new M0}constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return ue(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc=1e3,T9=60*5*1e3,hx=30*1e3,w9=1.3,b9=3e4,S9="server_kill",dx=3;class or extends DR{constructor(e,t,i,s,o,l,c,h){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=l,this.appCheckTokenProvider_=c,this.authOverride_=h,this.id=or.nextPersistentConnectionId_++,this.log_=Vh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Pc,this.maxReconnectDelay_=T9,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,h)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");M0.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&hp.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,i){const s=++this.requestNumber_,o={r:s,a:e,b:t};this.log_(fn(o)),ue(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(e){this.initConnection_();const t=new Oh,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:l=>{const c=l.d;l.s==="ok"?t.resolve(c):t.reject(c)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),t.promise}listen(e,t,i,s){this.initConnection_();const o=e._queryIdentifier,l=e._path.toString();this.log_("Listen called for "+l+" "+o),this.listens.has(l)||this.listens.set(l,new Map),ue(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ue(!this.listens.get(l).has(o),"listen() called twice for same path/queryId.");const c={onComplete:s,hashFn:t,query:e,tag:i};this.listens.get(l).set(o,c),this.connected_&&this.sendListen_(c)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(i)})}sendListen_(e){const t=e.query,i=t._path.toString(),s=t._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i},l="q";e.tag&&(o.q=t._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(l,o,c=>{const h=c.d,f=c.s;or.warnOnListenWarnings_(h,t),(this.listens.get(i)&&this.listens.get(i).get(s))===e&&(this.log_("listen response",c),f!=="ok"&&this.removeListen_(i,s),e.onComplete&&e.onComplete(f,h))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&xs(e,"w")){const i=ql(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+t._queryParams.getIndex().toString()+'"',o=t._path.toString();zn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||fV(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=hx)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=dV(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(t,i,s=>{const o=s.s,l=s.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,l))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,i=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,i)})}unlisten(e,t){const i=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),ue(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,e._queryObject,t)}sendUnlisten_(e,t,i,s){this.log_("Unlisten on "+e+" for "+t);const o={p:e},l="n";s&&(o.q=i,o.t=s),this.sendRequest(l,o)}onDisconnectPut(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:i})}onDisconnectMerge(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:i})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,i,s){const o={p:t,d:i};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,l=>{s&&setTimeout(()=>{s(l.s,l.d)},Math.floor(0))})}put(e,t,i,s){this.putInternal("p",e,t,i,s)}merge(e,t,i,s){this.putInternal("m",e,t,i,s)}putInternal(e,t,i,s,o){this.initConnection_();const l={p:t,d:i};o!==void 0&&(l.h=o),this.outstandingPuts_.push({action:e,request:l,onComplete:s}),this.outstandingPutCount_++;const c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,i,o=>{this.log_(t+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,i=>{if(i.s!=="ok"){const o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+fn(e));const t=e.r,i=this.requestCBHash_[t];i&&(delete this.requestCBHash_[t],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):Xv("Unrecognized action received from server: "+fn(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ue(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Pc,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Pc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>b9&&(this.reconnectDelay_=Pc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*w9)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+or.nextConnectionId_++,o=this.lastSessionId;let l=!1,c=null;const h=function(){c?c.close():(l=!0,i())},f=function(y){ue(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(y)};this.realtime_={close:h,sendRequest:f};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,_]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);l?Tn("getToken() completed but was canceled"):(Tn("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=_&&_.token,c=new m9(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,i,w=>{zn(w+" ("+this.repoInfo_.toString()+")"),this.interrupt(S9)},o))}catch(y){this.log_("Failed to get token: "+y),l||(this.repoInfo_.nodeAdmin&&zn(y),h())}}}interrupt(e){Tn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Tn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Gv(this.interruptReasons_)&&(this.reconnectDelay_=Pc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let i;t?i=t.map(o=>A0(o)).join("$"):i="default";const s=this.removeListen_(e,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,t){const i=new ut(e).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(t),o.delete(t),o.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(e,t){Tn("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=dx&&(this.reconnectDelay_=hx,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){Tn("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=dx&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+hR.replace(/\./g,"-")]=1,b0()?e["framework.cordova"]=1:sR()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=hp.getInstance().currentlyOnline();return Gv(this.interruptReasons_)&&e}}or.nextPersistentConnectionId_=0;or.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Ue(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new Ue(Gl,e),s=new Ue(Gl,t);return this.compare(i,s)!==0}minPost(){return Ue.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ef;class LR extends am{static get __EMPTY_NODE(){return Ef}static set __EMPTY_NODE(e){Ef=e}compare(e,t){return Ao(e.name,t.name)}isDefinedOn(e){throw uu("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Ue.MIN}maxPost(){return new Ue(go,Ef)}makePost(e,t){return ue(typeof e=="string","KeyIndex indexValue must always be a string."),new Ue(e,Ef)}toString(){return".key"}}const Ol=new LR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tf=class{constructor(e,t,i,s,o=null){this.isReverse_=s,this.resultGenerator_=o,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(e=e,l=t?i(e.key,t):1,s&&(l*=-1),l<0)this.isReverse_?e=e.left:e=e.right;else if(l===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},ti=class Uc{constructor(e,t,i,s,o){this.key=e,this.value=t,this.color=i??Uc.RED,this.left=s??cs.EMPTY_NODE,this.right=o??cs.EMPTY_NODE}copy(e,t,i,s,o){return new Uc(e??this.key,t??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const o=i(e,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(e,t,i),null):o===0?s=s.copy(null,t,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return cs.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let i,s;if(i=this,t(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),t(e,i.key)===0){if(i.right.isEmpty())return cs.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Uc.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Uc.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}};ti.RED=!0;ti.BLACK=!1;class x9{copy(e,t,i,s,o){return this}insert(e,t,i){return new ti(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}let cs=class jf{constructor(e,t=jf.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new jf(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,ti.BLACK,null,null))}remove(e){return new jf(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ti.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),t===0)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,s=null;for(;!i.isEmpty();)if(t=this.comparator_(e,i.key),t===0){if(i.left.isEmpty())return s?s.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else t<0?i=i.left:t>0&&(s=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Tf(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Tf(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Tf(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Tf(this.root_,null,this.comparator_,!0,e)}};cs.EMPTY_NODE=new x9;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C9(n,e){return Ao(n.name,e.name)}function O0(n,e){return Ao(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jv;function A9(n){Jv=n}const VR=function(n){return typeof n=="number"?"number:"+mR(n):"string:"+n},jR=function(n){if(n.isLeafNode()){const e=n.val();ue(typeof e=="string"||typeof e=="number"||typeof e=="object"&&xs(e,".sv"),"Priority must be a string or number.")}else ue(n===Jv||n.isEmpty(),"priority of unexpected type.");ue(n===Jv||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fx;class cn{static set __childrenNodeConstructor(e){fx=e}static get __childrenNodeConstructor(){return fx}constructor(e,t=cn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,ue(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),jR(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new cn(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:cn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Fe(e)?this:je(e)===".priority"?this.priorityNode_:cn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:cn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const i=je(e);return i===null?t:t.isEmpty()&&i!==".priority"?this:(ue(i!==".priority"||ga(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,cn.__childrenNodeConstructor.EMPTY_NODE.updateChild(mt(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+VR(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=mR(this.value_):e+=this.value_,this.lazyHash_=fR(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===cn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof cn.__childrenNodeConstructor?-1:(ue(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,i=typeof this.value_,s=cn.VALUE_TYPE_ORDER.indexOf(t),o=cn.VALUE_TYPE_ORDER.indexOf(i);return ue(s>=0,"Unknown leaf type: "+t),ue(o>=0,"Unknown leaf type: "+i),s===o?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}cn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let UR,BR;function R9(n){UR=n}function I9(n){BR=n}class N9 extends am{compare(e,t){const i=e.node.getPriority(),s=t.node.getPriority(),o=i.compareTo(s);return o===0?Ao(e.name,t.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Ue.MIN}maxPost(){return new Ue(go,new cn("[PRIORITY-POST]",BR))}makePost(e,t){const i=UR(e);return new Ue(t,new cn("[PRIORITY-POST]",i))}toString(){return".priority"}}const Mt=new N9;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P9=Math.log(2);class D9{constructor(e){const t=o=>parseInt(Math.log(o)/P9,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const s=i(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const dp=function(n,e,t,i){n.sort(e);const s=function(h,f){const g=f-h;let y,_;if(g===0)return null;if(g===1)return y=n[h],_=t?t(y):y,new ti(_,y.node,ti.BLACK,null,null);{const w=parseInt(g/2,10)+h,x=s(h,w),O=s(w+1,f);return y=n[w],_=t?t(y):y,new ti(_,y.node,ti.BLACK,x,O)}},o=function(h){let f=null,g=null,y=n.length;const _=function(x,O){const V=y-x,P=y;y-=x;const I=s(V+1,P),N=n[V],H=t?t(N):N;w(new ti(H,N.node,O,null,I))},w=function(x){f?(f.left=x,f=x):(g=x,f=x)};for(let x=0;x<h.count;++x){const O=h.nextBitIsOne(),V=Math.pow(2,h.count-(x+1));O?_(V,ti.BLACK):(_(V,ti.BLACK),_(V,ti.RED))}return g},l=new D9(n.length),c=o(l);return new cs(i||e,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cv;const _l={};class er{static get Default(){return ue(_l&&Mt,"ChildrenNode.ts has not been loaded"),cv=cv||new er({".priority":_l},{".priority":Mt}),cv}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=ql(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof cs?t:null}hasIndex(e){return xs(this.indexSet_,e.toString())}addIndex(e,t){ue(e!==Ol,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let s=!1;const o=t.getIterator(Ue.Wrap);let l=o.getNext();for(;l;)s=s||e.isDefinedOn(l.node),i.push(l),l=o.getNext();let c;s?c=dp(i,e.getCompare()):c=_l;const h=e.toString(),f=Object.assign({},this.indexSet_);f[h]=e;const g=Object.assign({},this.indexes_);return g[h]=c,new er(g,f)}addToIndexes(e,t){const i=op(this.indexes_,(s,o)=>{const l=ql(this.indexSet_,o);if(ue(l,"Missing index implementation for "+o),s===_l)if(l.isDefinedOn(e.node)){const c=[],h=t.getIterator(Ue.Wrap);let f=h.getNext();for(;f;)f.name!==e.name&&c.push(f),f=h.getNext();return c.push(e),dp(c,l.getCompare())}else return _l;else{const c=t.get(e.name);let h=s;return c&&(h=h.remove(new Ue(e.name,c))),h.insert(e,e.node)}});return new er(i,this.indexSet_)}removeFromIndexes(e,t){const i=op(this.indexes_,s=>{if(s===_l)return s;{const o=t.get(e.name);return o?s.remove(new Ue(e.name,o)):s}});return new er(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dc;class Re{static get EMPTY_NODE(){return Dc||(Dc=new Re(new cs(O0),null,er.Default))}constructor(e,t,i){this.children_=e,this.priorityNode_=t,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&jR(this.priorityNode_),this.children_.isEmpty()&&ue(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Dc}updatePriority(e){return this.children_.isEmpty()?this:new Re(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?Dc:t}}getChild(e){const t=je(e);return t===null?this:this.getImmediateChild(t).getChild(mt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(ue(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const i=new Ue(e,t);let s,o;t.isEmpty()?(s=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(e,t),o=this.indexMap_.addToIndexes(i,this.children_));const l=s.isEmpty()?Dc:this.priorityNode_;return new Re(s,l,o)}}updateChild(e,t){const i=je(e);if(i===null)return t;{ue(je(e)!==".priority"||ga(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(mt(e),t);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let i=0,s=0,o=!0;if(this.forEachChild(Mt,(l,c)=>{t[l]=c.val(e),i++,o&&Re.INTEGER_REGEXP_.test(l)?s=Math.max(s,Number(l)):o=!1}),!e&&o&&s<2*i){const l=[];for(const c in t)l[c]=t[c];return l}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+VR(this.getPriority().val())+":"),this.forEachChild(Mt,(t,i)=>{const s=i.hash();s!==""&&(e+=":"+t+":"+s)}),this.lazyHash_=e===""?"":fR(e)}return this.lazyHash_}getPredecessorChildName(e,t,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new Ue(e,t));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new Ue(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new Ue(t,this.children_.get(t)):null}forEachChild(e,t){const i=this.resolveIndex_(e);return i?i.inorderTraversal(s=>t(s.name,s.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,Ue.Wrap);let o=s.peek();for(;o!=null&&t.compare(o,e)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,Ue.Wrap);let o=s.peek();for(;o!=null&&t.compare(o,e)>0;)s.getNext(),o=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===jh?-1:0}withIndex(e){if(e===Ol||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Re(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Ol||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const i=this.getIterator(Mt),s=t.getIterator(Mt);let o=i.getNext(),l=s.getNext();for(;o&&l;){if(o.name!==l.name||!o.node.equals(l.node))return!1;o=i.getNext(),l=s.getNext()}return o===null&&l===null}else return!1;else return!1}}resolveIndex_(e){return e===Ol?null:this.indexMap_.get(e.toString())}}Re.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class M9 extends Re{constructor(){super(new cs(O0),Re.EMPTY_NODE,er.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Re.EMPTY_NODE}isEmpty(){return!1}}const jh=new M9;Object.defineProperties(Ue,{MIN:{value:new Ue(Gl,Re.EMPTY_NODE)},MAX:{value:new Ue(go,jh)}});LR.__EMPTY_NODE=Re.EMPTY_NODE;cn.__childrenNodeConstructor=Re;A9(jh);I9(jh);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O9=!0;function dn(n,e=null){if(n===null)return Re.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),ue(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const t=n;return new cn(t,dn(e))}if(!(n instanceof Array)&&O9){const t=[];let i=!1;if(bn(n,(l,c)=>{if(l.substring(0,1)!=="."){const h=dn(c);h.isEmpty()||(i=i||!h.getPriority().isEmpty(),t.push(new Ue(l,h)))}}),t.length===0)return Re.EMPTY_NODE;const o=dp(t,C9,l=>l.name,O0);if(i){const l=dp(t,Mt.getCompare());return new Re(o,dn(e),new er({".priority":l},{".priority":Mt}))}else return new Re(o,dn(e),er.Default)}else{let t=Re.EMPTY_NODE;return bn(n,(i,s)=>{if(xs(n,i)&&i.substring(0,1)!=="."){const o=dn(s);(o.isLeafNode()||!o.isEmpty())&&(t=t.updateImmediateChild(i,o))}}),t.updatePriority(dn(e))}}R9(dn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9 extends am{constructor(e){super(),this.indexPath_=e,ue(!Fe(e)&&je(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),s=this.extractChild(t.node),o=i.compareTo(s);return o===0?Ao(e.name,t.name):o}makePost(e,t){const i=dn(e),s=Re.EMPTY_NODE.updateChild(this.indexPath_,i);return new Ue(t,s)}maxPost(){const e=Re.EMPTY_NODE.updateChild(this.indexPath_,jh);return new Ue(go,e)}toString(){return ph(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9 extends am{compare(e,t){const i=e.node.compareTo(t.node);return i===0?Ao(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Ue.MIN}maxPost(){return Ue.MAX}makePost(e,t){const i=dn(e);return new Ue(t,i)}toString(){return".value"}}const V9=new L9;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(n){return{type:"value",snapshotNode:n}}function $l(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function mh(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function gh(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function j9(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e){this.index_=e}updateChild(e,t,i,s,o,l){ue(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const c=e.getImmediateChild(t);return c.getChild(s).equals(i.getChild(s))&&c.isEmpty()===i.isEmpty()||(l!=null&&(i.isEmpty()?e.hasChild(t)?l.trackChildChange(mh(t,c)):ue(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?l.trackChildChange($l(t,i)):l.trackChildChange(gh(t,i,c))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return i!=null&&(e.isLeafNode()||e.forEachChild(Mt,(s,o)=>{t.hasChild(s)||i.trackChildChange(mh(s,o))}),t.isLeafNode()||t.forEachChild(Mt,(s,o)=>{if(e.hasChild(s)){const l=e.getImmediateChild(s);l.equals(o)||i.trackChildChange(gh(s,o,l))}else i.trackChildChange($l(s,o))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Re.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e){this.indexedFilter_=new k0(e.getIndex()),this.index_=e.getIndex(),this.startPost_=yh.getStartPost_(e),this.endPost_=yh.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&i}updateChild(e,t,i,s,o,l){return this.matches(new Ue(t,i))||(i=Re.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,s,o,l)}updateFullNode(e,t,i){t.isLeafNode()&&(t=Re.EMPTY_NODE);let s=t.withIndex(this.index_);s=s.updatePriority(Re.EMPTY_NODE);const o=this;return t.forEachChild(Mt,(l,c)=>{o.matches(new Ue(l,c))||(s=s.updateImmediateChild(l,Re.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{const i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new yh(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,i,s,o,l){return this.rangedFilter_.matches(new Ue(t,i))||(i=Re.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,s,o,l):this.fullLimitUpdateChild_(e,t,i,o,l)}updateFullNode(e,t,i){let s;if(t.isLeafNode()||t.isEmpty())s=Re.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<t.numChildren()&&t.isIndexed(this.index_)){s=Re.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;o.hasNext()&&l<this.limit_;){const c=o.getNext();if(this.withinDirectionalStart(c))if(this.withinDirectionalEnd(c))s=s.updateImmediateChild(c.name,c.node),l++;else break;else continue}}else{s=t.withIndex(this.index_),s=s.updatePriority(Re.EMPTY_NODE);let o;this.reverse_?o=s.getReverseIterator(this.index_):o=s.getIterator(this.index_);let l=0;for(;o.hasNext();){const c=o.getNext();l<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?l++:s=s.updateImmediateChild(c.name,Re.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,s,o){let l;if(this.reverse_){const y=this.index_.getCompare();l=(_,w)=>y(w,_)}else l=this.index_.getCompare();const c=e;ue(c.numChildren()===this.limit_,"");const h=new Ue(t,i),f=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),g=this.rangedFilter_.matches(h);if(c.hasChild(t)){const y=c.getImmediateChild(t);let _=s.getChildAfterChild(this.index_,f,this.reverse_);for(;_!=null&&(_.name===t||c.hasChild(_.name));)_=s.getChildAfterChild(this.index_,_,this.reverse_);const w=_==null?1:l(_,h);if(g&&!i.isEmpty()&&w>=0)return o!=null&&o.trackChildChange(gh(t,i,y)),c.updateImmediateChild(t,i);{o!=null&&o.trackChildChange(mh(t,y));const O=c.updateImmediateChild(t,Re.EMPTY_NODE);return _!=null&&this.rangedFilter_.matches(_)?(o!=null&&o.trackChildChange($l(_.name,_.node)),O.updateImmediateChild(_.name,_.node)):O}}else return i.isEmpty()?e:g&&l(f,h)>=0?(o!=null&&(o.trackChildChange(mh(f.name,f.node)),o.trackChildChange($l(t,i))),c.updateImmediateChild(t,i).updateImmediateChild(f.name,Re.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Mt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ue(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ue(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Gl}hasEnd(){return this.endSet_}getIndexEndValue(){return ue(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ue(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:go}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ue(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Mt}copy(){const e=new L0;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function B9(n){return n.loadsAllData()?new k0(n.getIndex()):n.hasLimit()?new U9(n):new yh(n)}function px(n){const e={};if(n.isDefault())return e;let t;if(n.index_===Mt?t="$priority":n.index_===V9?t="$value":n.index_===Ol?t="$key":(ue(n.index_ instanceof k9,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=fn(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=fn(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+fn(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=fn(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+fn(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function mx(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==Mt&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp extends DR{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(ue(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,i,s){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.log_=Vh("p:rest:"),this.listens_={}}listen(e,t,i,s){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const l=fp.getListenId_(e,i),c={};this.listens_[l]=c;const h=px(e._queryParams);this.restRequest_(o+".json",h,(f,g)=>{let y=g;if(f===404&&(y=null,f=null),f===null&&this.onDataUpdate_(o,y,!1,i),ql(this.listens_,l)===c){let _;f?f===401?_="permission_denied":_="rest_error:"+f:_="ok",s(_,null)}})}unlisten(e,t){const i=fp.getListenId_(e,t);delete this.listens_[i]}get(e){const t=px(e._queryParams),i=e._path.toString(),s=new Oh;return this.restRequest_(i+".json",t,(o,l)=>{let c=l;o===404&&(c=null,o=null),o===null?(this.onDataUpdate_(i,c,!1,null),s.resolve(c)):s.reject(new Error(c))}),s.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,o])=>{s&&s.accessToken&&(t.auth=s.accessToken),o&&o.token&&(t.ac=o.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+cu(t);this.log_("Sending REST request for "+l);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(i&&c.readyState===4){this.log_("REST Response for "+l+" received. status:",c.status,"response:",c.responseText);let h=null;if(c.status>=200&&c.status<300){try{h=hh(c.responseText)}catch{zn("Failed to parse JSON response for "+l+": "+c.responseText)}i(null,h)}else c.status!==401&&c.status!==404&&zn("Got unsuccessful REST response for "+l+" Status: "+c.status),i(c.status);i=null}},c.open("GET",l,!0),c.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(){this.rootNode_=Re.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(){return{value:null,children:new Map}}function FR(n,e,t){if(Fe(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{const i=je(e);n.children.has(i)||n.children.set(i,pp());const s=n.children.get(i);e=mt(e),FR(s,e,t)}}function e_(n,e,t){n.value!==null?t(e,n.value):F9(n,(i,s)=>{const o=new ut(e.toString()+"/"+i);e_(s,o,t)})}function F9(n,e){n.children.forEach((t,i)=>{e(i,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&bn(this.last_,(i,s)=>{t[i]=t[i]-s}),this.last_=e,t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx=10*1e3,q9=30*1e3,G9=5*60*1e3;class $9{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new H9(e);const i=gx+(q9-gx)*Math.random();Kc(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;bn(e,(s,o)=>{o>0&&xs(this.statsToReport_,s)&&(t[s]=o,i=!0)}),i&&this.server_.reportStats(t),Kc(this.reportStats_.bind(this),Math.floor(Math.random()*2*G9))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Li;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Li||(Li={}));function V0(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function j0(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function U0(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=Li.ACK_USER_WRITE,this.source=V0()}operationForChild(e){if(Fe(this.path)){if(this.affectedTree.value!=null)return ue(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new ut(e));return new mp(st(),t,this.revert)}}else return ue(je(this.path)===e,"operationForChild called for unrelated child."),new mp(mt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,t){this.source=e,this.path=t,this.type=Li.LISTEN_COMPLETE}operationForChild(e){return Fe(this.path)?new vh(this.source,st()):new vh(this.source,mt(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=Li.OVERWRITE}operationForChild(e){return Fe(this.path)?new yo(this.source,st(),this.snap.getImmediateChild(e)):new yo(this.source,mt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=Li.MERGE}operationForChild(e){if(Fe(this.path)){const t=this.children.subtree(new ut(e));return t.isEmpty()?null:t.value?new yo(this.source,st(),t.value):new Kl(this.source,st(),t)}else return ue(je(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Kl(this.source,mt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Fe(e))return this.isFullyInitialized()&&!this.filtered_;const t=je(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K9{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function W9(n,e,t,i){const s=[],o=[];return e.forEach(l=>{l.type==="child_changed"&&n.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&o.push(j9(l.childName,l.snapshotNode))}),Mc(n,s,"child_removed",e,i,t),Mc(n,s,"child_added",e,i,t),Mc(n,s,"child_moved",o,i,t),Mc(n,s,"child_changed",e,i,t),Mc(n,s,"value",e,i,t),s}function Mc(n,e,t,i,s,o){const l=i.filter(c=>c.type===t);l.sort((c,h)=>Q9(n,c,h)),l.forEach(c=>{const h=Y9(n,c,o);s.forEach(f=>{f.respondsTo(c.type)&&e.push(f.createEvent(h,n.query_))})})}function Y9(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function Q9(n,e,t){if(e.childName==null||t.childName==null)throw uu("Should only compare child_ events.");const i=new Ue(e.childName,e.snapshotNode),s=new Ue(t.childName,t.snapshotNode);return n.index_.compare(i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(n,e){return{eventCache:n,serverCache:e}}function Wc(n,e,t,i){return om(new vo(e,t,i),n.serverCache)}function HR(n,e,t,i){return om(n.eventCache,new vo(e,t,i))}function t_(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function _o(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hv;const X9=()=>(hv||(hv=new cs(k5)),hv);class pt{static fromObject(e){let t=new pt(null);return bn(e,(i,s)=>{t=t.set(new ut(i),s)}),t}constructor(e,t=X9()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:st(),value:this.value};if(Fe(e))return null;{const i=je(e),s=this.children.get(i);if(s!==null){const o=s.findRootMostMatchingPathAndValue(mt(e),t);return o!=null?{path:Dt(new ut(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Fe(e))return this;{const t=je(e),i=this.children.get(t);return i!==null?i.subtree(mt(e)):new pt(null)}}set(e,t){if(Fe(e))return new pt(t,this.children);{const i=je(e),o=(this.children.get(i)||new pt(null)).set(mt(e),t),l=this.children.insert(i,o);return new pt(this.value,l)}}remove(e){if(Fe(e))return this.children.isEmpty()?new pt(null):new pt(null,this.children);{const t=je(e),i=this.children.get(t);if(i){const s=i.remove(mt(e));let o;return s.isEmpty()?o=this.children.remove(t):o=this.children.insert(t,s),this.value===null&&o.isEmpty()?new pt(null):new pt(this.value,o)}else return this}}get(e){if(Fe(e))return this.value;{const t=je(e),i=this.children.get(t);return i?i.get(mt(e)):null}}setTree(e,t){if(Fe(e))return t;{const i=je(e),o=(this.children.get(i)||new pt(null)).setTree(mt(e),t);let l;return o.isEmpty()?l=this.children.remove(i):l=this.children.insert(i,o),new pt(this.value,l)}}fold(e){return this.fold_(st(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((s,o)=>{i[s]=o.fold_(Dt(e,s),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,st(),t)}findOnPath_(e,t,i){const s=this.value?i(t,this.value):!1;if(s)return s;if(Fe(e))return null;{const o=je(e),l=this.children.get(o);return l?l.findOnPath_(mt(e),Dt(t,o),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,st(),t)}foreachOnPath_(e,t,i){if(Fe(e))return this;{this.value&&i(t,this.value);const s=je(e),o=this.children.get(s);return o?o.foreachOnPath_(mt(e),Dt(t,s),i):new pt(null)}}foreach(e){this.foreach_(st(),e)}foreach_(e,t){this.children.inorderTraversal((i,s)=>{s.foreach_(Dt(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e){this.writeTree_=e}static empty(){return new Vi(new pt(null))}}function Yc(n,e,t){if(Fe(e))return new Vi(new pt(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(i!=null){const s=i.path;let o=i.value;const l=Kn(s,e);return o=o.updateChild(l,t),new Vi(n.writeTree_.set(s,o))}else{const s=new pt(t),o=n.writeTree_.setTree(e,s);return new Vi(o)}}}function n_(n,e,t){let i=n;return bn(t,(s,o)=>{i=Yc(i,Dt(e,s),o)}),i}function yx(n,e){if(Fe(e))return Vi.empty();{const t=n.writeTree_.setTree(e,new pt(null));return new Vi(t)}}function i_(n,e){return Ro(n,e)!=null}function Ro(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(Kn(t.path,e)):null}function vx(n){const e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(Mt,(i,s)=>{e.push(new Ue(i,s))}):n.writeTree_.children.inorderTraversal((i,s)=>{s.value!=null&&e.push(new Ue(i,s.value))}),e}function oa(n,e){if(Fe(e))return n;{const t=Ro(n,e);return t!=null?new Vi(new pt(t)):new Vi(n.writeTree_.subtree(e))}}function s_(n){return n.writeTree_.isEmpty()}function Wl(n,e){return qR(st(),n.writeTree_,e)}function qR(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((s,o)=>{s===".priority"?(ue(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):t=qR(Dt(n,s),o,t)}),!t.getChild(n).isEmpty()&&i!==null&&(t=t.updateChild(Dt(n,".priority"),i)),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(n,e){return WR(e,n)}function Z9(n,e,t,i,s){ue(i>n.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:s}),s&&(n.visibleWrites=Yc(n.visibleWrites,e,t)),n.lastWriteId=i}function J9(n,e,t,i){ue(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:i,visible:!0}),n.visibleWrites=n_(n.visibleWrites,e,t),n.lastWriteId=i}function ej(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}function tj(n,e){const t=n.allWrites.findIndex(c=>c.writeId===e);ue(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let s=i.visible,o=!1,l=n.allWrites.length-1;for(;s&&l>=0;){const c=n.allWrites[l];c.visible&&(l>=t&&nj(c,i.path)?s=!1:Ci(i.path,c.path)&&(o=!0)),l--}if(s){if(o)return ij(n),!0;if(i.snap)n.visibleWrites=yx(n.visibleWrites,i.path);else{const c=i.children;bn(c,h=>{n.visibleWrites=yx(n.visibleWrites,Dt(i.path,h))})}return!0}else return!1}function nj(n,e){if(n.snap)return Ci(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Ci(Dt(n.path,t),e))return!0;return!1}function ij(n){n.visibleWrites=GR(n.allWrites,sj,st()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function sj(n){return n.visible}function GR(n,e,t){let i=Vi.empty();for(let s=0;s<n.length;++s){const o=n[s];if(e(o)){const l=o.path;let c;if(o.snap)Ci(t,l)?(c=Kn(t,l),i=Yc(i,c,o.snap)):Ci(l,t)&&(c=Kn(l,t),i=Yc(i,st(),o.snap.getChild(c)));else if(o.children){if(Ci(t,l))c=Kn(t,l),i=n_(i,c,o.children);else if(Ci(l,t))if(c=Kn(l,t),Fe(c))i=n_(i,st(),o.children);else{const h=ql(o.children,je(c));if(h){const f=h.getChild(mt(c));i=Yc(i,st(),f)}}}else throw uu("WriteRecord should have .snap or .children")}}return i}function $R(n,e,t,i,s){if(!i&&!s){const o=Ro(n.visibleWrites,e);if(o!=null)return o;{const l=oa(n.visibleWrites,e);if(s_(l))return t;if(t==null&&!i_(l,st()))return null;{const c=t||Re.EMPTY_NODE;return Wl(l,c)}}}else{const o=oa(n.visibleWrites,e);if(!s&&s_(o))return t;if(!s&&t==null&&!i_(o,st()))return null;{const l=function(f){return(f.visible||s)&&(!i||!~i.indexOf(f.writeId))&&(Ci(f.path,e)||Ci(e,f.path))},c=GR(n.allWrites,l,e),h=t||Re.EMPTY_NODE;return Wl(c,h)}}}function rj(n,e,t){let i=Re.EMPTY_NODE;const s=Ro(n.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(Mt,(o,l)=>{i=i.updateImmediateChild(o,l)}),i;if(t){const o=oa(n.visibleWrites,e);return t.forEachChild(Mt,(l,c)=>{const h=Wl(oa(o,new ut(l)),c);i=i.updateImmediateChild(l,h)}),vx(o).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}else{const o=oa(n.visibleWrites,e);return vx(o).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}}function aj(n,e,t,i,s){ue(i||s,"Either existingEventSnap or existingServerSnap must exist");const o=Dt(e,t);if(i_(n.visibleWrites,o))return null;{const l=oa(n.visibleWrites,o);return s_(l)?s.getChild(t):Wl(l,s.getChild(t))}}function oj(n,e,t,i){const s=Dt(e,t),o=Ro(n.visibleWrites,s);if(o!=null)return o;if(i.isCompleteForChild(t)){const l=oa(n.visibleWrites,s);return Wl(l,i.getNode().getImmediateChild(t))}else return null}function lj(n,e){return Ro(n.visibleWrites,e)}function uj(n,e,t,i,s,o,l){let c;const h=oa(n.visibleWrites,e),f=Ro(h,st());if(f!=null)c=f;else if(t!=null)c=Wl(h,t);else return[];if(c=c.withIndex(l),!c.isEmpty()&&!c.isLeafNode()){const g=[],y=l.getCompare(),_=o?c.getReverseIteratorFrom(i,l):c.getIteratorFrom(i,l);let w=_.getNext();for(;w&&g.length<s;)y(w,i)!==0&&g.push(w),w=_.getNext();return g}else return[]}function cj(){return{visibleWrites:Vi.empty(),allWrites:[],lastWriteId:-1}}function gp(n,e,t,i){return $R(n.writeTree,n.treePath,e,t,i)}function z0(n,e){return rj(n.writeTree,n.treePath,e)}function _x(n,e,t,i){return aj(n.writeTree,n.treePath,e,t,i)}function yp(n,e){return lj(n.writeTree,Dt(n.treePath,e))}function hj(n,e,t,i,s,o){return uj(n.writeTree,n.treePath,e,t,i,s,o)}function F0(n,e,t){return oj(n.writeTree,n.treePath,e,t)}function KR(n,e){return WR(Dt(n.treePath,e),n.writeTree)}function WR(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;ue(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),ue(i!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(i);if(s){const o=s.type;if(t==="child_added"&&o==="child_removed")this.changeMap.set(i,gh(i,e.snapshotNode,s.snapshotNode));else if(t==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(t==="child_removed"&&o==="child_changed")this.changeMap.set(i,mh(i,s.oldSnap));else if(t==="child_changed"&&o==="child_added")this.changeMap.set(i,$l(i,e.snapshotNode));else if(t==="child_changed"&&o==="child_changed")this.changeMap.set(i,gh(i,e.snapshotNode,s.oldSnap));else throw uu("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}}const YR=new fj;class H0{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new vo(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return F0(this.writes_,e,i)}}getChildAfterChild(e,t,i){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:_o(this.viewCache_),o=hj(this.writes_,s,t,1,i,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pj(n){return{filter:n}}function mj(n,e){ue(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),ue(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function gj(n,e,t,i,s){const o=new dj;let l,c;if(t.type===Li.OVERWRITE){const f=t;f.source.fromUser?l=r_(n,e,f.path,f.snap,i,s,o):(ue(f.source.fromServer,"Unknown source."),c=f.source.tagged||e.serverCache.isFiltered()&&!Fe(f.path),l=vp(n,e,f.path,f.snap,i,s,c,o))}else if(t.type===Li.MERGE){const f=t;f.source.fromUser?l=vj(n,e,f.path,f.children,i,s,o):(ue(f.source.fromServer,"Unknown source."),c=f.source.tagged||e.serverCache.isFiltered(),l=a_(n,e,f.path,f.children,i,s,c,o))}else if(t.type===Li.ACK_USER_WRITE){const f=t;f.revert?l=Tj(n,e,f.path,i,s,o):l=_j(n,e,f.path,f.affectedTree,i,s,o)}else if(t.type===Li.LISTEN_COMPLETE)l=Ej(n,e,t.path,i,o);else throw uu("Unknown operation type: "+t.type);const h=o.getChanges();return yj(e,l,h),{viewCache:l,changes:h}}function yj(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=t_(n);(t.length>0||!n.eventCache.isFullyInitialized()||s&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&t.push(zR(t_(e)))}}function QR(n,e,t,i,s,o){const l=e.eventCache;if(yp(i,t)!=null)return e;{let c,h;if(Fe(t))if(ue(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const f=_o(e),g=f instanceof Re?f:Re.EMPTY_NODE,y=z0(i,g);c=n.filter.updateFullNode(e.eventCache.getNode(),y,o)}else{const f=gp(i,_o(e));c=n.filter.updateFullNode(e.eventCache.getNode(),f,o)}else{const f=je(t);if(f===".priority"){ue(ga(t)===1,"Can't have a priority with additional path components");const g=l.getNode();h=e.serverCache.getNode();const y=_x(i,t,g,h);y!=null?c=n.filter.updatePriority(g,y):c=l.getNode()}else{const g=mt(t);let y;if(l.isCompleteForChild(f)){h=e.serverCache.getNode();const _=_x(i,t,l.getNode(),h);_!=null?y=l.getNode().getImmediateChild(f).updateChild(g,_):y=l.getNode().getImmediateChild(f)}else y=F0(i,f,e.serverCache);y!=null?c=n.filter.updateChild(l.getNode(),f,y,g,s,o):c=l.getNode()}}return Wc(e,c,l.isFullyInitialized()||Fe(t),n.filter.filtersNodes())}}function vp(n,e,t,i,s,o,l,c){const h=e.serverCache;let f;const g=l?n.filter:n.filter.getIndexedFilter();if(Fe(t))f=g.updateFullNode(h.getNode(),i,null);else if(g.filtersNodes()&&!h.isFiltered()){const w=h.getNode().updateChild(t,i);f=g.updateFullNode(h.getNode(),w,null)}else{const w=je(t);if(!h.isCompleteForPath(t)&&ga(t)>1)return e;const x=mt(t),V=h.getNode().getImmediateChild(w).updateChild(x,i);w===".priority"?f=g.updatePriority(h.getNode(),V):f=g.updateChild(h.getNode(),w,V,x,YR,null)}const y=HR(e,f,h.isFullyInitialized()||Fe(t),g.filtersNodes()),_=new H0(s,y,o);return QR(n,y,t,s,_,c)}function r_(n,e,t,i,s,o,l){const c=e.eventCache;let h,f;const g=new H0(s,e,o);if(Fe(t))f=n.filter.updateFullNode(e.eventCache.getNode(),i,l),h=Wc(e,f,!0,n.filter.filtersNodes());else{const y=je(t);if(y===".priority")f=n.filter.updatePriority(e.eventCache.getNode(),i),h=Wc(e,f,c.isFullyInitialized(),c.isFiltered());else{const _=mt(t),w=c.getNode().getImmediateChild(y);let x;if(Fe(_))x=i;else{const O=g.getCompleteChild(y);O!=null?P0(_)===".priority"&&O.getChild(OR(_)).isEmpty()?x=O:x=O.updateChild(_,i):x=Re.EMPTY_NODE}if(w.equals(x))h=e;else{const O=n.filter.updateChild(c.getNode(),y,x,_,g,l);h=Wc(e,O,c.isFullyInitialized(),n.filter.filtersNodes())}}}return h}function Ex(n,e){return n.eventCache.isCompleteForChild(e)}function vj(n,e,t,i,s,o,l){let c=e;return i.foreach((h,f)=>{const g=Dt(t,h);Ex(e,je(g))&&(c=r_(n,c,g,f,s,o,l))}),i.foreach((h,f)=>{const g=Dt(t,h);Ex(e,je(g))||(c=r_(n,c,g,f,s,o,l))}),c}function Tx(n,e,t){return t.foreach((i,s)=>{e=e.updateChild(i,s)}),e}function a_(n,e,t,i,s,o,l,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let h=e,f;Fe(t)?f=i:f=new pt(null).setTree(t,i);const g=e.serverCache.getNode();return f.children.inorderTraversal((y,_)=>{if(g.hasChild(y)){const w=e.serverCache.getNode().getImmediateChild(y),x=Tx(n,w,_);h=vp(n,h,new ut(y),x,s,o,l,c)}}),f.children.inorderTraversal((y,_)=>{const w=!e.serverCache.isCompleteForChild(y)&&_.value===null;if(!g.hasChild(y)&&!w){const x=e.serverCache.getNode().getImmediateChild(y),O=Tx(n,x,_);h=vp(n,h,new ut(y),O,s,o,l,c)}}),h}function _j(n,e,t,i,s,o,l){if(yp(s,t)!=null)return e;const c=e.serverCache.isFiltered(),h=e.serverCache;if(i.value!=null){if(Fe(t)&&h.isFullyInitialized()||h.isCompleteForPath(t))return vp(n,e,t,h.getNode().getChild(t),s,o,c,l);if(Fe(t)){let f=new pt(null);return h.getNode().forEachChild(Ol,(g,y)=>{f=f.set(new ut(g),y)}),a_(n,e,t,f,s,o,c,l)}else return e}else{let f=new pt(null);return i.foreach((g,y)=>{const _=Dt(t,g);h.isCompleteForPath(_)&&(f=f.set(g,h.getNode().getChild(_)))}),a_(n,e,t,f,s,o,c,l)}}function Ej(n,e,t,i,s){const o=e.serverCache,l=HR(e,o.getNode(),o.isFullyInitialized()||Fe(t),o.isFiltered());return QR(n,l,t,i,YR,s)}function Tj(n,e,t,i,s,o){let l;if(yp(i,t)!=null)return e;{const c=new H0(i,e,s),h=e.eventCache.getNode();let f;if(Fe(t)||je(t)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=gp(i,_o(e));else{const y=e.serverCache.getNode();ue(y instanceof Re,"serverChildren would be complete if leaf node"),g=z0(i,y)}g=g,f=n.filter.updateFullNode(h,g,o)}else{const g=je(t);let y=F0(i,g,e.serverCache);y==null&&e.serverCache.isCompleteForChild(g)&&(y=h.getImmediateChild(g)),y!=null?f=n.filter.updateChild(h,g,y,mt(t),c,o):e.eventCache.getNode().hasChild(g)?f=n.filter.updateChild(h,g,Re.EMPTY_NODE,mt(t),c,o):f=h,f.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=gp(i,_o(e)),l.isLeafNode()&&(f=n.filter.updateFullNode(f,l,o)))}return l=e.serverCache.isFullyInitialized()||yp(i,st())!=null,Wc(e,f,l,n.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,s=new k0(i.getIndex()),o=B9(i);this.processor_=pj(o);const l=t.serverCache,c=t.eventCache,h=s.updateFullNode(Re.EMPTY_NODE,l.getNode(),null),f=o.updateFullNode(Re.EMPTY_NODE,c.getNode(),null),g=new vo(h,l.isFullyInitialized(),s.filtersNodes()),y=new vo(f,c.isFullyInitialized(),o.filtersNodes());this.viewCache_=om(y,g),this.eventGenerator_=new K9(this.query_)}get query(){return this.query_}}function bj(n){return n.viewCache_.serverCache.getNode()}function Sj(n,e){const t=_o(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Fe(e)&&!t.getImmediateChild(je(e)).isEmpty())?t.getChild(e):null}function wx(n){return n.eventRegistrations_.length===0}function xj(n,e){n.eventRegistrations_.push(e)}function bx(n,e,t){const i=[];if(t){ue(e==null,"A cancel should cancel all event registrations.");const s=n.query._path;n.eventRegistrations_.forEach(o=>{const l=o.createCancelEvent(t,s);l&&i.push(l)})}if(e){let s=[];for(let o=0;o<n.eventRegistrations_.length;++o){const l=n.eventRegistrations_[o];if(!l.matches(e))s.push(l);else if(e.hasAnyCallback()){s=s.concat(n.eventRegistrations_.slice(o+1));break}}n.eventRegistrations_=s}else n.eventRegistrations_=[];return i}function Sx(n,e,t,i){e.type===Li.MERGE&&e.source.queryId!==null&&(ue(_o(n.viewCache_),"We should always have a full cache before handling merges"),ue(t_(n.viewCache_),"Missing event cache, even though we have a server cache"));const s=n.viewCache_,o=gj(n.processor_,s,e,t,i);return mj(n.processor_,o.viewCache),ue(o.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,XR(n,o.changes,o.viewCache.eventCache.getNode(),null)}function Cj(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Mt,(o,l)=>{i.push($l(o,l))}),t.isFullyInitialized()&&i.push(zR(t.getNode())),XR(n,i,t.getNode(),e)}function XR(n,e,t,i){const s=i?[i]:n.eventRegistrations_;return W9(n.eventGenerator_,e,t,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _p;class Aj{constructor(){this.views=new Map}}function Rj(n){ue(!_p,"__referenceConstructor has already been defined"),_p=n}function Ij(){return ue(_p,"Reference.ts has not been loaded"),_p}function Nj(n){return n.views.size===0}function q0(n,e,t,i){const s=e.source.queryId;if(s!==null){const o=n.views.get(s);return ue(o!=null,"SyncTree gave us an op for an invalid query."),Sx(o,e,t,i)}else{let o=[];for(const l of n.views.values())o=o.concat(Sx(l,e,t,i));return o}}function Pj(n,e,t,i,s){const o=e._queryIdentifier,l=n.views.get(o);if(!l){let c=gp(t,s?i:null),h=!1;c?h=!0:i instanceof Re?(c=z0(t,i),h=!1):(c=Re.EMPTY_NODE,h=!1);const f=om(new vo(c,h,!1),new vo(i,s,!1));return new wj(e,f)}return l}function Dj(n,e,t,i,s,o){const l=Pj(n,e,i,s,o);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,l),xj(l,t),Cj(l,t)}function Mj(n,e,t,i){const s=e._queryIdentifier,o=[];let l=[];const c=ya(n);if(s==="default")for(const[h,f]of n.views.entries())l=l.concat(bx(f,t,i)),wx(f)&&(n.views.delete(h),f.query._queryParams.loadsAllData()||o.push(f.query));else{const h=n.views.get(s);h&&(l=l.concat(bx(h,t,i)),wx(h)&&(n.views.delete(s),h.query._queryParams.loadsAllData()||o.push(h.query)))}return c&&!ya(n)&&o.push(new(Ij())(e._repo,e._path)),{removed:o,events:l}}function ZR(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function kl(n,e){let t=null;for(const i of n.views.values())t=t||Sj(i,e);return t}function JR(n,e){if(e._queryParams.loadsAllData())return lm(n);{const i=e._queryIdentifier;return n.views.get(i)}}function eI(n,e){return JR(n,e)!=null}function ya(n){return lm(n)!=null}function lm(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ep;function Oj(n){ue(!Ep,"__referenceConstructor has already been defined"),Ep=n}function kj(){return ue(Ep,"Reference.ts has not been loaded"),Ep}let Lj=1;class xx{constructor(e){this.listenProvider_=e,this.syncPointTree_=new pt(null),this.pendingWriteTree_=cj(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function tI(n,e,t,i,s){return Z9(n.pendingWriteTree_,e,t,i,s),s?du(n,new yo(V0(),e,t)):[]}function Vj(n,e,t,i){J9(n.pendingWriteTree_,e,t,i);const s=pt.fromObject(t);return du(n,new Kl(V0(),e,s))}function na(n,e,t=!1){const i=ej(n.pendingWriteTree_,e);if(tj(n.pendingWriteTree_,e)){let o=new pt(null);return i.snap!=null?o=o.set(st(),!0):bn(i.children,l=>{o=o.set(new ut(l),!0)}),du(n,new mp(i.path,o,t))}else return[]}function um(n,e,t){return du(n,new yo(j0(),e,t))}function jj(n,e,t){const i=pt.fromObject(t);return du(n,new Kl(j0(),e,i))}function Uj(n,e){return du(n,new vh(j0(),e))}function Bj(n,e,t){const i=$0(n,t);if(i){const s=K0(i),o=s.path,l=s.queryId,c=Kn(o,e),h=new vh(U0(l),c);return W0(n,o,h)}else return[]}function o_(n,e,t,i,s=!1){const o=e._path,l=n.syncPointTree_.get(o);let c=[];if(l&&(e._queryIdentifier==="default"||eI(l,e))){const h=Mj(l,e,t,i);Nj(l)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const f=h.removed;if(c=h.events,!s){const g=f.findIndex(_=>_._queryParams.loadsAllData())!==-1,y=n.syncPointTree_.findOnPath(o,(_,w)=>ya(w));if(g&&!y){const _=n.syncPointTree_.subtree(o);if(!_.isEmpty()){const w=Hj(_);for(let x=0;x<w.length;++x){const O=w[x],V=O.query,P=sI(n,O);n.listenProvider_.startListening(Qc(V),Tp(n,V),P.hashFn,P.onComplete)}}}!y&&f.length>0&&!i&&(g?n.listenProvider_.stopListening(Qc(e),null):f.forEach(_=>{const w=n.queryToTagMap.get(cm(_));n.listenProvider_.stopListening(Qc(_),w)}))}qj(n,f)}return c}function zj(n,e,t,i){const s=$0(n,i);if(s!=null){const o=K0(s),l=o.path,c=o.queryId,h=Kn(l,e),f=new yo(U0(c),h,t);return W0(n,l,f)}else return[]}function Fj(n,e,t,i){const s=$0(n,i);if(s){const o=K0(s),l=o.path,c=o.queryId,h=Kn(l,e),f=pt.fromObject(t),g=new Kl(U0(c),h,f);return W0(n,l,g)}else return[]}function Cx(n,e,t,i=!1){const s=e._path;let o=null,l=!1;n.syncPointTree_.foreachOnPath(s,(_,w)=>{const x=Kn(_,s);o=o||kl(w,x),l=l||ya(w)});let c=n.syncPointTree_.get(s);c?(l=l||ya(c),o=o||kl(c,st())):(c=new Aj,n.syncPointTree_=n.syncPointTree_.set(s,c));let h;o!=null?h=!0:(h=!1,o=Re.EMPTY_NODE,n.syncPointTree_.subtree(s).foreachChild((w,x)=>{const O=kl(x,st());O&&(o=o.updateImmediateChild(w,O))}));const f=eI(c,e);if(!f&&!e._queryParams.loadsAllData()){const _=cm(e);ue(!n.queryToTagMap.has(_),"View does not exist, but we have a tag");const w=Gj();n.queryToTagMap.set(_,w),n.tagToQueryMap.set(w,_)}const g=B0(n.pendingWriteTree_,s);let y=Dj(c,e,t,g,o,h);if(!f&&!l&&!i){const _=JR(c,e);y=y.concat($j(n,e,_))}return y}function G0(n,e,t){const s=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(e,(l,c)=>{const h=Kn(l,e),f=kl(c,h);if(f)return f});return $R(s,e,o,t,!0)}function du(n,e){return nI(e,n.syncPointTree_,null,B0(n.pendingWriteTree_,st()))}function nI(n,e,t,i){if(Fe(n.path))return iI(n,e,t,i);{const s=e.get(st());t==null&&s!=null&&(t=kl(s,st()));let o=[];const l=je(n.path),c=n.operationForChild(l),h=e.children.get(l);if(h&&c){const f=t?t.getImmediateChild(l):null,g=KR(i,l);o=o.concat(nI(c,h,f,g))}return s&&(o=o.concat(q0(s,n,i,t))),o}}function iI(n,e,t,i){const s=e.get(st());t==null&&s!=null&&(t=kl(s,st()));let o=[];return e.children.inorderTraversal((l,c)=>{const h=t?t.getImmediateChild(l):null,f=KR(i,l),g=n.operationForChild(l);g&&(o=o.concat(iI(g,c,h,f)))}),s&&(o=o.concat(q0(s,n,i,t))),o}function sI(n,e){const t=e.query,i=Tp(n,t);return{hashFn:()=>(bj(e)||Re.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return i?Bj(n,t._path,i):Uj(n,t._path);{const o=j5(s,t);return o_(n,t,null,o)}}}}function Tp(n,e){const t=cm(e);return n.queryToTagMap.get(t)}function cm(n){return n._path.toString()+"$"+n._queryIdentifier}function $0(n,e){return n.tagToQueryMap.get(e)}function K0(n){const e=n.indexOf("$");return ue(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new ut(n.substr(0,e))}}function W0(n,e,t){const i=n.syncPointTree_.get(e);ue(i,"Missing sync point for query tag that we're tracking");const s=B0(n.pendingWriteTree_,e);return q0(i,t,s,null)}function Hj(n){return n.fold((e,t,i)=>{if(t&&ya(t))return[lm(t)];{let s=[];return t&&(s=ZR(t)),bn(i,(o,l)=>{s=s.concat(l)}),s}})}function Qc(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(kj())(n._repo,n._path):n}function qj(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const s=cm(i),o=n.queryToTagMap.get(s);n.queryToTagMap.delete(s),n.tagToQueryMap.delete(o)}}}function Gj(){return Lj++}function $j(n,e,t){const i=e._path,s=Tp(n,e),o=sI(n,t),l=n.listenProvider_.startListening(Qc(e),s,o.hashFn,o.onComplete),c=n.syncPointTree_.subtree(i);if(s)ue(!ya(c.value),"If we're adding a query, it shouldn't be shadowed");else{const h=c.fold((f,g,y)=>{if(!Fe(f)&&g&&ya(g))return[lm(g).query];{let _=[];return g&&(_=_.concat(ZR(g).map(w=>w.query))),bn(y,(w,x)=>{_=_.concat(x)}),_}});for(let f=0;f<h.length;++f){const g=h[f];n.listenProvider_.stopListening(Qc(g),Tp(n,g))}}return l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Y0(t)}node(){return this.node_}}class Q0{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Dt(this.path_,e);return new Q0(this.syncTree_,t)}node(){return G0(this.syncTree_,this.path_)}}const Kj=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},Ax=function(n,e,t){if(!n||typeof n!="object")return n;if(ue(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return Wj(n[".sv"],e,t);if(typeof n[".sv"]=="object")return Yj(n[".sv"],e);ue(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},Wj=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:ue(!1,"Unexpected server value: "+n)}},Yj=function(n,e,t){n.hasOwnProperty("increment")||ue(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;typeof i!="number"&&ue(!1,"Unexpected increment value: "+i);const s=e.node();if(ue(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const l=s.getValue();return typeof l!="number"?i:l+i},rI=function(n,e,t,i){return X0(e,new Q0(t,n),i)},aI=function(n,e,t){return X0(n,new Y0(e),t)};function X0(n,e,t){const i=n.getPriority().val(),s=Ax(i,e.getImmediateChild(".priority"),t);let o;if(n.isLeafNode()){const l=n,c=Ax(l.getValue(),e,t);return c!==l.getValue()||s!==l.getPriority().val()?new cn(c,dn(s)):n}else{const l=n;return o=l,s!==l.getPriority().val()&&(o=o.updatePriority(new cn(s))),l.forEachChild(Mt,(c,h)=>{const f=X0(h,e.getImmediateChild(c),t);f!==h&&(o=o.updateImmediateChild(c,f))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function J0(n,e){let t=e instanceof ut?e:new ut(e),i=n,s=je(t);for(;s!==null;){const o=ql(i.node.children,s)||{children:{},childCount:0};i=new Z0(s,i,o),t=mt(t),s=je(t)}return i}function fu(n){return n.node.value}function oI(n,e){n.node.value=e,l_(n)}function lI(n){return n.node.childCount>0}function Qj(n){return fu(n)===void 0&&!lI(n)}function hm(n,e){bn(n.node.children,(t,i)=>{e(new Z0(t,n,i))})}function uI(n,e,t,i){t&&e(n),hm(n,s=>{uI(s,e,!0)})}function Xj(n,e,t){let i=n.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Uh(n){return new ut(n.parent===null?n.name:Uh(n.parent)+"/"+n.name)}function l_(n){n.parent!==null&&Zj(n.parent,n.name,n)}function Zj(n,e,t){const i=Qj(t),s=xs(n.node.children,e);i&&s?(delete n.node.children[e],n.node.childCount--,l_(n)):!i&&!s&&(n.node.children[e]=t.node,n.node.childCount++,l_(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jj=/[\[\].#$\/\u0000-\u001F\u007F]/,e7=/[\[\].#$\u0000-\u001F\u007F]/,dv=10*1024*1024,eE=function(n){return typeof n=="string"&&n.length!==0&&!Jj.test(n)},cI=function(n){return typeof n=="string"&&n.length!==0&&!e7.test(n)},t7=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),cI(n)},n7=function(n){return n===null||typeof n=="string"||typeof n=="number"&&!C0(n)||n&&typeof n=="object"&&xs(n,".sv")},hI=function(n,e,t,i){i&&e===void 0||dm(nm(n,"value"),e,t)},dm=function(n,e,t){const i=t instanceof ut?new v9(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+uo(i));if(typeof e=="function")throw new Error(n+"contains a function "+uo(i)+" with contents = "+e.toString());if(C0(e))throw new Error(n+"contains "+e.toString()+" "+uo(i));if(typeof e=="string"&&e.length>dv/3&&im(e)>dv)throw new Error(n+"contains a string greater than "+dv+" utf8 bytes "+uo(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,o=!1;if(bn(e,(l,c)=>{if(l===".value")s=!0;else if(l!==".priority"&&l!==".sv"&&(o=!0,!eE(l)))throw new Error(n+" contains an invalid key ("+l+") "+uo(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);_9(i,l),dm(n,c,i),E9(i)}),s&&o)throw new Error(n+' contains ".value" child '+uo(i)+" in addition to actual children.")}},i7=function(n,e){let t,i;for(t=0;t<e.length;t++){i=e[t];const o=ph(i);for(let l=0;l<o.length;l++)if(!(o[l]===".priority"&&l===o.length-1)){if(!eE(o[l]))throw new Error(n+"contains an invalid key ("+o[l]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(y9);let s=null;for(t=0;t<e.length;t++){if(i=e[t],s!==null&&Ci(s,i))throw new Error(n+"contains a path "+s.toString()+" that is ancestor of another path "+i.toString());s=i}},s7=function(n,e,t,i){const s=nm(n,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(s+" must be an object containing the children to replace.");const o=[];bn(e,(l,c)=>{const h=new ut(l);if(dm(s,c,Dt(t,h)),P0(h)===".priority"&&!n7(c))throw new Error(s+"contains an invalid value for '"+h.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(h)}),i7(s,o)},dI=function(n,e,t,i){if(!cI(t))throw new Error(nm(n,e)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},r7=function(n,e,t,i){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),dI(n,e,t)},tE=function(n,e){if(je(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},a7=function(n,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!eE(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!t7(t))throw new Error(nm(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o7{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function fm(n,e){let t=null;for(let i=0;i<e.length;i++){const s=e[i],o=s.getPath();t!==null&&!D0(o,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:o}),t.events.push(s)}t&&n.eventLists_.push(t)}function fI(n,e,t){fm(n,t),pI(n,i=>D0(i,e))}function Bi(n,e,t){fm(n,t),pI(n,i=>Ci(i,e)||Ci(e,i))}function pI(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const s=n.eventLists_[i];if(s){const o=s.path;e(o)?(l7(n.eventLists_[i]),n.eventLists_[i]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function l7(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(t!==null){n.events[e]=null;const i=t.getEventRunner();$c&&Tn("event: "+t.toString()),hu(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u7="repo_interrupt",c7=25;class h7{constructor(e,t,i,s){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new o7,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=pp(),this.transactionQueueTree_=new Z0,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function d7(n,e,t){if(n.stats_=I0(n.repoInfo_),n.forceRestClient_||F5())n.server_=new fp(n.repoInfo_,(i,s,o,l)=>{Rx(n,i,s,o,l)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Ix(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{fn(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new or(n.repoInfo_,e,(i,s,o,l)=>{Rx(n,i,s,o,l)},i=>{Ix(n,i)},i=>{f7(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=K5(n.repoInfo_,()=>new $9(n.stats_,n.server_)),n.infoData_=new z9,n.infoSyncTree_=new xx({startListening:(i,s,o,l)=>{let c=[];const h=n.infoData_.getNode(i._path);return h.isEmpty()||(c=um(n.infoSyncTree_,i._path,h),setTimeout(()=>{l("ok")},0)),c},stopListening:()=>{}}),nE(n,"connected",!1),n.serverSyncTree_=new xx({startListening:(i,s,o,l)=>(n.server_.listen(i,o,s,(c,h)=>{const f=l(c,h);Bi(n.eventQueue_,i._path,f)}),[]),stopListening:(i,s)=>{n.server_.unlisten(i,s)}})}function mI(n){const t=n.infoData_.getNode(new ut(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function pm(n){return Kj({timestamp:mI(n)})}function Rx(n,e,t,i,s){n.dataUpdateCount++;const o=new ut(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let l=[];if(s)if(i){const h=op(t,f=>dn(f));l=Fj(n.serverSyncTree_,o,h,s)}else{const h=dn(t);l=zj(n.serverSyncTree_,o,h,s)}else if(i){const h=op(t,f=>dn(f));l=jj(n.serverSyncTree_,o,h)}else{const h=dn(t);l=um(n.serverSyncTree_,o,h)}let c=o;l.length>0&&(c=Yl(n,o)),Bi(n.eventQueue_,c,l)}function Ix(n,e){nE(n,"connected",e),e===!1&&g7(n)}function f7(n,e){bn(e,(t,i)=>{nE(n,t,i)})}function nE(n,e,t){const i=new ut("/.info/"+e),s=dn(t);n.infoData_.updateSnapshot(i,s);const o=um(n.infoSyncTree_,i,s);Bi(n.eventQueue_,i,o)}function iE(n){return n.nextWriteId_++}function p7(n,e,t,i,s){mm(n,"set",{path:e.toString(),value:t,priority:i});const o=pm(n),l=dn(t,i),c=G0(n.serverSyncTree_,e),h=aI(l,c,o),f=iE(n),g=tI(n.serverSyncTree_,e,h,f,!0);fm(n.eventQueue_,g),n.server_.put(e.toString(),l.val(!0),(_,w)=>{const x=_==="ok";x||zn("set at "+e+" failed: "+_);const O=na(n.serverSyncTree_,f,!x);Bi(n.eventQueue_,e,O),u_(n,s,_,w)});const y=rE(n,e);Yl(n,y),Bi(n.eventQueue_,y,[])}function m7(n,e,t,i){mm(n,"update",{path:e.toString(),value:t});let s=!0;const o=pm(n),l={};if(bn(t,(c,h)=>{s=!1,l[c]=rI(Dt(e,c),dn(h),n.serverSyncTree_,o)}),s)Tn("update() called with empty data.  Don't do anything."),u_(n,i,"ok",void 0);else{const c=iE(n),h=Vj(n.serverSyncTree_,e,l,c);fm(n.eventQueue_,h),n.server_.merge(e.toString(),t,(f,g)=>{const y=f==="ok";y||zn("update at "+e+" failed: "+f);const _=na(n.serverSyncTree_,c,!y),w=_.length>0?Yl(n,e):e;Bi(n.eventQueue_,w,_),u_(n,i,f,g)}),bn(t,f=>{const g=rE(n,Dt(e,f));Yl(n,g)}),Bi(n.eventQueue_,e,[])}}function g7(n){mm(n,"onDisconnectEvents");const e=pm(n),t=pp();e_(n.onDisconnect_,st(),(s,o)=>{const l=rI(s,o,n.serverSyncTree_,e);FR(t,s,l)});let i=[];e_(t,st(),(s,o)=>{i=i.concat(um(n.serverSyncTree_,s,o));const l=rE(n,s);Yl(n,l)}),n.onDisconnect_=pp(),Bi(n.eventQueue_,st(),i)}function y7(n,e,t){let i;je(e._path)===".info"?i=Cx(n.infoSyncTree_,e,t):i=Cx(n.serverSyncTree_,e,t),fI(n.eventQueue_,e._path,i)}function v7(n,e,t){let i;je(e._path)===".info"?i=o_(n.infoSyncTree_,e,t):i=o_(n.serverSyncTree_,e,t),fI(n.eventQueue_,e._path,i)}function _7(n){n.persistentConnection_&&n.persistentConnection_.interrupt(u7)}function mm(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Tn(t,...e)}function u_(n,e,t,i){e&&hu(()=>{if(t==="ok")e(null);else{const s=(t||"error").toUpperCase();let o=s;i&&(o+=": "+i);const l=new Error(o);l.code=s,e(l)}})}function gI(n,e,t){return G0(n.serverSyncTree_,e,t)||Re.EMPTY_NODE}function sE(n,e=n.transactionQueueTree_){if(e||gm(n,e),fu(e)){const t=vI(n,e);ue(t.length>0,"Sending zero length transaction queue"),t.every(s=>s.status===0)&&E7(n,Uh(e),t)}else lI(e)&&hm(e,t=>{sE(n,t)})}function E7(n,e,t){const i=t.map(f=>f.currentWriteId),s=gI(n,e,i);let o=s;const l=s.hash();for(let f=0;f<t.length;f++){const g=t[f];ue(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const y=Kn(e,g.path);o=o.updateChild(y,g.currentOutputSnapshotRaw)}const c=o.val(!0),h=e;n.server_.put(h.toString(),c,f=>{mm(n,"transaction put response",{path:h.toString(),status:f});let g=[];if(f==="ok"){const y=[];for(let _=0;_<t.length;_++)t[_].status=2,g=g.concat(na(n.serverSyncTree_,t[_].currentWriteId)),t[_].onComplete&&y.push(()=>t[_].onComplete(null,!0,t[_].currentOutputSnapshotResolved)),t[_].unwatcher();gm(n,J0(n.transactionQueueTree_,e)),sE(n,n.transactionQueueTree_),Bi(n.eventQueue_,e,g);for(let _=0;_<y.length;_++)hu(y[_])}else{if(f==="datastale")for(let y=0;y<t.length;y++)t[y].status===3?t[y].status=4:t[y].status=0;else{zn("transaction at "+h.toString()+" failed: "+f);for(let y=0;y<t.length;y++)t[y].status=4,t[y].abortReason=f}Yl(n,e)}},l)}function Yl(n,e){const t=yI(n,e),i=Uh(t),s=vI(n,t);return T7(n,s,i),i}function T7(n,e,t){if(e.length===0)return;const i=[];let s=[];const l=e.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){const h=e[c],f=Kn(t,h.path);let g=!1,y;if(ue(f!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),h.status===4)g=!0,y=h.abortReason,s=s.concat(na(n.serverSyncTree_,h.currentWriteId,!0));else if(h.status===0)if(h.retryCount>=c7)g=!0,y="maxretry",s=s.concat(na(n.serverSyncTree_,h.currentWriteId,!0));else{const _=gI(n,h.path,l);h.currentInputSnapshot=_;const w=e[c].update(_.val());if(w!==void 0){dm("transaction failed: Data returned ",w,h.path);let x=dn(w);typeof w=="object"&&w!=null&&xs(w,".priority")||(x=x.updatePriority(_.getPriority()));const V=h.currentWriteId,P=pm(n),I=aI(x,_,P);h.currentOutputSnapshotRaw=x,h.currentOutputSnapshotResolved=I,h.currentWriteId=iE(n),l.splice(l.indexOf(V),1),s=s.concat(tI(n.serverSyncTree_,h.path,I,h.currentWriteId,h.applyLocally)),s=s.concat(na(n.serverSyncTree_,V,!0))}else g=!0,y="nodata",s=s.concat(na(n.serverSyncTree_,h.currentWriteId,!0))}Bi(n.eventQueue_,t,s),s=[],g&&(e[c].status=2,function(_){setTimeout(_,Math.floor(0))}(e[c].unwatcher),e[c].onComplete&&(y==="nodata"?i.push(()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot)):i.push(()=>e[c].onComplete(new Error(y),!1,null))))}gm(n,n.transactionQueueTree_);for(let c=0;c<i.length;c++)hu(i[c]);sE(n,n.transactionQueueTree_)}function yI(n,e){let t,i=n.transactionQueueTree_;for(t=je(e);t!==null&&fu(i)===void 0;)i=J0(i,t),e=mt(e),t=je(e);return i}function vI(n,e){const t=[];return _I(n,e,t),t.sort((i,s)=>i.order-s.order),t}function _I(n,e,t){const i=fu(e);if(i)for(let s=0;s<i.length;s++)t.push(i[s]);hm(e,s=>{_I(n,s,t)})}function gm(n,e){const t=fu(e);if(t){let i=0;for(let s=0;s<t.length;s++)t[s].status!==2&&(t[i]=t[s],i++);t.length=i,oI(e,t.length>0?t:void 0)}hm(e,i=>{gm(n,i)})}function rE(n,e){const t=Uh(yI(n,e)),i=J0(n.transactionQueueTree_,e);return Xj(i,s=>{fv(n,s)}),fv(n,i),uI(i,s=>{fv(n,s)}),t}function fv(n,e){const t=fu(e);if(t){const i=[];let s=[],o=-1;for(let l=0;l<t.length;l++)t[l].status===3||(t[l].status===1?(ue(o===l-1,"All SENT items should be at beginning of queue."),o=l,t[l].status=3,t[l].abortReason="set"):(ue(t[l].status===0,"Unexpected transaction status in abort"),t[l].unwatcher(),s=s.concat(na(n.serverSyncTree_,t[l].currentWriteId,!0)),t[l].onComplete&&i.push(t[l].onComplete.bind(null,new Error("set"),!1,null))));o===-1?oI(e,void 0):t.length=o+1,Bi(n.eventQueue_,Uh(e),s);for(let l=0;l<i.length;l++)hu(i[l])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w7(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let s=t[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function b7(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const t of n.split("&")){if(t.length===0)continue;const i=t.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):zn(`Invalid query segment '${t}' in query '${n}'`)}return e}const Nx=function(n,e){const t=S7(n),i=t.namespace;t.domain==="firebase.com"&&cr(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&t.domain!=="localhost"&&cr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||M5();const s=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new xR(t.host,t.secure,i,s,e,"",i!==t.subdomain),path:new ut(t.pathString)}},S7=function(n){let e="",t="",i="",s="",o="",l=!0,c="https",h=443;if(typeof n=="string"){let f=n.indexOf("//");f>=0&&(c=n.substring(0,f-1),n=n.substring(f+2));let g=n.indexOf("/");g===-1&&(g=n.length);let y=n.indexOf("?");y===-1&&(y=n.length),e=n.substring(0,Math.min(g,y)),g<y&&(s=w7(n.substring(g,y)));const _=b7(n.substring(Math.min(n.length,y)));f=e.indexOf(":"),f>=0?(l=c==="https"||c==="wss",h=parseInt(e.substring(f+1),10)):f=e.length;const w=e.slice(0,f);if(w.toLowerCase()==="localhost")t="localhost";else if(w.split(".").length<=2)t=w;else{const x=e.indexOf(".");i=e.substring(0,x).toLowerCase(),t=e.substring(x+1),o=i}"ns"in _&&(o=_.ns)}return{host:e,port:h,domain:t,subdomain:i,secure:l,scheme:c,pathString:s,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",x7=function(){let n=0;const e=[];return function(t){const i=t===n;n=t;let s;const o=new Array(8);for(s=7;s>=0;s--)o[s]=Px.charAt(t%64),t=Math.floor(t/64);ue(t===0,"Cannot push at time == 0");let l=o.join("");if(i){for(s=11;s>=0&&e[s]===63;s--)e[s]=0;e[s]++}else for(s=0;s<12;s++)e[s]=Math.floor(Math.random()*64);for(s=0;s<12;s++)l+=Px.charAt(e[s]);return ue(l.length===20,"nextPushId: Length should be 20."),l}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C7{constructor(e,t,i,s){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+fn(this.snapshot.exportVal())}}class A7{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R7{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return ue(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e,t,i,s){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=s}get key(){return Fe(this._path)?null:P0(this._path)}get ref(){return new xa(this._repo,this._path)}get _queryIdentifier(){const e=mx(this._queryParams),t=A0(e);return t==="{}"?"default":t}get _queryObject(){return mx(this._queryParams)}isEqual(e){if(e=St(e),!(e instanceof aE))return!1;const t=this._repo===e._repo,i=D0(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return t&&i&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+g9(this._path)}}class xa extends aE{constructor(e,t){super(e,t,new L0,!1)}get parent(){const e=OR(this._path);return e===null?null:new xa(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class wp{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new ut(e),i=_h(this.ref,e);return new wp(this._node.getChild(t),i,Mt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,s)=>e(new wp(s,_h(this.ref,i),Mt)))}hasChild(e){const t=new ut(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function qt(n,e){return n=St(n),n._checkNotDeleted("ref"),e!==void 0?_h(n._root,e):n._root}function _h(n,e){return n=St(n),je(n._path)===null?r7("child","path",e):dI("child","path",e),new xa(n._repo,Dt(n._path,e))}function oE(n,e){n=St(n),tE("push",n._path),hI("push",e,n._path,!0);const t=mI(n._repo),i=x7(t),s=_h(n,i),o=_h(n,i);let l;return e!=null?l=EI(o,e).then(()=>o):l=Promise.resolve(o),s.then=l.then.bind(l),s.catch=l.then.bind(l,void 0),s}function lE(n){return tE("remove",n._path),EI(n,null)}function EI(n,e){n=St(n),tE("set",n._path),hI("set",e,n._path,!1);const t=new Oh;return p7(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function bp(n,e){s7("update",e,n._path);const t=new Oh;return m7(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}class uE{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,t){const i=t._queryParams.getIndex();return new C7("value",this,new wp(e.snapshotNode,new xa(t._repo,t._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new A7(this,e,t):null}matches(e){return e instanceof uE?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function I7(n,e,t,i,s){const o=new R7(t,void 0),l=new uE(o);return y7(n._repo,n,l),()=>v7(n._repo,n,l)}function ms(n,e,t,i){return I7(n,"value",e)}Rj(xa);Oj(xa);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N7="FIREBASE_DATABASE_EMULATOR_HOST",c_={};let P7=!1;function D7(n,e,t,i){n.repoInfo_=new xR(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}function M7(n,e,t,i,s){let o=i||n.options.databaseURL;o===void 0&&(n.options.projectId||cr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Tn("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let l=Nx(o,s),c=l.repoInfo,h;typeof process<"u"&&XS&&(h=XS[N7]),h?(o=`http://${h}?ns=${c.namespace}`,l=Nx(o,s),c=l.repoInfo):l.repoInfo.secure;const f=new q5(n.name,n.options,e);a7("Invalid Firebase Database URL",l),Fe(l.path)||cr("Database URL must point to the root of a Firebase Database (not including a child path).");const g=k7(c,n,f,new H5(n,t));return new L7(g,n)}function O7(n,e){const t=c_[e];(!t||t[n.key]!==n)&&cr(`Database ${e}(${n.repoInfo_}) has already been deleted.`),_7(n),delete t[n.key]}function k7(n,e,t,i){let s=c_[e.name];s||(s={},c_[e.name]=s);let o=s[n.toURLString()];return o&&cr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new h7(n,P7,t,i),s[n.toURLString()]=o,o}class L7{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(d7(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new xa(this._repo,st())),this._rootInternal}_delete(){return this._rootInternal!==null&&(O7(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&cr("Cannot call "+e+" on a deleted database.")}}function TI(n=x0(),e){const t=rm(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const i=eR("database");i&&V7(t,...i)}return t}function V7(n,e,t,i={}){n=St(n),n._checkNotDeleted("useEmulator"),n._instanceStarted&&cr("Cannot call useEmulator() after instance has already been initialized.");const s=n._repoInternal;let o;if(s.repoInfo_.nodeAdmin)i.mockUserToken&&cr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Vf(Vf.OWNER);else if(i.mockUserToken){const l=typeof i.mockUserToken=="string"?i.mockUserToken:iR(i.mockUserToken,n.app.options.projectId);o=new Vf(l)}D7(s,e,t,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j7(n){A5(Co),mo(new ma("database",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return M7(i,s,o,t)},"PUBLIC").setMultipleInstances(!0)),ps(ZS,JS,n),ps(ZS,JS,"esm2017")}or.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};or.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};j7();var U7="firebase",B7="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ps(U7,B7,"app");function cE(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t}function wI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const z7=wI,bI=new kh("auth","Firebase",wI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp=new sm("@firebase/auth");function F7(n,...e){Sp.logLevel<=ze.WARN&&Sp.warn(`Auth (${Co}): ${n}`,...e)}function Uf(n,...e){Sp.logLevel<=ze.ERROR&&Sp.error(`Auth (${Co}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(n,...e){throw hE(n,...e)}function gs(n,...e){return hE(n,...e)}function SI(n,e,t){const i=Object.assign(Object.assign({},z7()),{[e]:t});return new kh("auth","Firebase",i).create(e,{appName:n.name})}function la(n){return SI(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hE(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return bI.create(n,...e)}function Ae(n,e,...t){if(!n)throw hE(e,...t)}function tr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Uf(e),new Error(e)}function hr(n,e){n||tr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function H7(){return Dx()==="http:"||Dx()==="https:"}function Dx(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(H7()||iV()||"connection"in navigator)?navigator.onLine:!0}function G7(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,t){this.shortDelay=e,this.longDelay=t,hr(t>e,"Short delay should be less than long delay!"),this.isMobile=b0()||sR()}get(){return q7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(n,e){hr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K7=new Bh(3e4,6e4);function Io(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ca(n,e,t,i,s={}){return CI(n,s,async()=>{let o={},l={};i&&(e==="GET"?l=i:o={body:JSON.stringify(i)});const c=cu(Object.assign({key:n.config.apiKey},l)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const f=Object.assign({method:e,headers:h},o);return nV()||(f.referrerPolicy="no-referrer"),xI.fetch()(AI(n,n.config.apiHost,t,c),f)})}async function CI(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},$7),e);try{const s=new Y7(n),o=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw wf(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[h,f]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw wf(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw wf(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw wf(n,"user-disabled",l);const g=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw SI(n,g,f);zi(n,g)}}catch(s){if(s instanceof pr)throw s;zi(n,"network-request-failed",{message:String(s)})}}async function ym(n,e,t,i,s={}){const o=await Ca(n,e,t,i,s);return"mfaPendingCredential"in o&&zi(n,"multi-factor-auth-required",{_serverResponse:o}),o}function AI(n,e,t,i){const s=`${e}${t}?${i}`;return n.config.emulator?dE(n.config,s):`${n.config.apiScheme}://${s}`}function W7(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Y7{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(gs(this.auth,"network-request-failed")),K7.get())})}}function wf(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const s=gs(n,e,i);return s.customData._tokenResponse=t,s}function Mx(n){return n!==void 0&&n.enterprise!==void 0}class Q7{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return W7(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function X7(n,e){return Ca(n,"GET","/v2/recaptchaConfig",Io(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z7(n,e){return Ca(n,"POST","/v1/accounts:delete",e)}async function RI(n,e){return Ca(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function J7(n,e=!1){const t=St(n),i=await t.getIdToken(e),s=fE(i);Ae(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:s,token:i,authTime:Xc(pv(s.auth_time)),issuedAtTime:Xc(pv(s.iat)),expirationTime:Xc(pv(s.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function pv(n){return Number(n)*1e3}function fE(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Uf("JWT malformed, contained fewer than 3 sections"),null;try{const s=ap(t);return s?JSON.parse(s):(Uf("Failed to decode base64 JWT payload"),null)}catch(s){return Uf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Ox(n){const e=fE(n);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eh(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof pr&&e8(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function e8({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xc(this.lastLoginAt),this.creationTime=Xc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xp(n){var e;const t=n.auth,i=await n.getIdToken(),s=await Eh(n,RI(t,{idToken:i}));Ae(s==null?void 0:s.users.length,t,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?II(o.providerUserInfo):[],c=i8(n.providerData,l),h=n.isAnonymous,f=!(n.email&&o.passwordHash)&&!(c!=null&&c.length),g=h?f:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new d_(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,y)}async function n8(n){const e=St(n);await xp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function i8(n,e){return[...n.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function II(n){return n.map(e=>{var{providerId:t}=e,i=cE(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s8(n,e){const t=await CI(n,{},async()=>{const i=cu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,l=AI(n,s,"/v1/token",`key=${o}`),c=await n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",xI.fetch()(l,{method:"POST",headers:c,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function r8(n,e){return Ca(n,"POST","/v2/accounts:revokeToken",Io(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ox(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const t=Ox(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:s,expiresIn:o}=await s8(e,t);this.updateTokensAndExpiration(i,s,Number(o))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:s,expirationTime:o}=t,l=new Ll;return i&&(Ae(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),s&&(Ae(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),o&&(Ae(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ll,this.toJSON())}_performRefresh(){return tr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(n,e){Ae(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class nr{constructor(e){var{uid:t,auth:i,stsTokenManager:s}=e,o=cE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new t8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new d_(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Eh(this,this.stsTokenManager.getToken(this.auth,e));return Ae(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return J7(this,e)}reload(){return n8(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new nr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await xp(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xi(this.auth.app))return Promise.reject(la(this.auth));const e=await this.getIdToken();return await Eh(this,Z7(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,s,o,l,c,h,f,g;const y=(i=t.displayName)!==null&&i!==void 0?i:void 0,_=(s=t.email)!==null&&s!==void 0?s:void 0,w=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,x=(l=t.photoURL)!==null&&l!==void 0?l:void 0,O=(c=t.tenantId)!==null&&c!==void 0?c:void 0,V=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,P=(f=t.createdAt)!==null&&f!==void 0?f:void 0,I=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:N,emailVerified:H,isAnonymous:q,providerData:Z,stsTokenManager:k}=t;Ae(N&&k,e,"internal-error");const A=Ll.fromJSON(this.name,k);Ae(typeof N=="string",e,"internal-error"),Qr(y,e.name),Qr(_,e.name),Ae(typeof H=="boolean",e,"internal-error"),Ae(typeof q=="boolean",e,"internal-error"),Qr(w,e.name),Qr(x,e.name),Qr(O,e.name),Qr(V,e.name),Qr(P,e.name),Qr(I,e.name);const C=new nr({uid:N,auth:e,email:_,emailVerified:H,displayName:y,isAnonymous:q,photoURL:x,phoneNumber:w,tenantId:O,stsTokenManager:A,createdAt:P,lastLoginAt:I});return Z&&Array.isArray(Z)&&(C.providerData=Z.map(R=>Object.assign({},R))),V&&(C._redirectEventId=V),C}static async _fromIdTokenResponse(e,t,i=!1){const s=new Ll;s.updateFromServerResponse(t);const o=new nr({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await xp(o),o}static async _fromGetAccountInfoResponse(e,t,i){const s=t.users[0];Ae(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?II(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),c=new Ll;c.updateFromIdToken(i);const h=new nr({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:l}),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new d_(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx=new Map;function ir(n){hr(n instanceof Function,"Expected a class definition");let e=kx.get(n);return e?(hr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,kx.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}NI.type="NONE";const Lx=NI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bf(n,e,t){return`firebase:${n}:${e}:${t}`}class Vl{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:s,name:o}=this.auth;this.fullUserKey=Bf(this.userKey,s.apiKey,o),this.fullPersistenceKey=Bf("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?nr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Vl(ir(Lx),e,i);const s=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=s[0]||ir(Lx);const l=Bf(i,e.config.apiKey,e.name);let c=null;for(const f of t)try{const g=await f._get(l);if(g){const y=nr._fromJSON(e,g);f!==o&&(c=y),o=f;break}}catch{}const h=s.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Vl(o,e,i):(o=h[0],c&&await o._set(l,c.toJSON()),await Promise.all(t.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new Vl(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(OI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(LI(e))return"Blackberry";if(VI(e))return"Webos";if(DI(e))return"Safari";if((e.includes("chrome/")||MI(e))&&!e.includes("edge/"))return"Chrome";if(kI(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function PI(n=Mn()){return/firefox\//i.test(n)}function DI(n=Mn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function MI(n=Mn()){return/crios\//i.test(n)}function OI(n=Mn()){return/iemobile/i.test(n)}function kI(n=Mn()){return/android/i.test(n)}function LI(n=Mn()){return/blackberry/i.test(n)}function VI(n=Mn()){return/webos/i.test(n)}function pE(n=Mn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function a8(n=Mn()){var e;return pE(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function o8(){return sV()&&document.documentMode===10}function jI(n=Mn()){return pE(n)||kI(n)||VI(n)||LI(n)||/windows phone/i.test(n)||OI(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(n,e=[]){let t;switch(n){case"Browser":t=Vx(Mn());break;case"Worker":t=`${Vx(Mn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Co}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=o=>new Promise((l,c)=>{try{const h=e(o);l(h)}catch(h){c(h)}});i.onAbort=t,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u8(n,e={}){return Ca(n,"GET","/v2/passwordPolicy",Io(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c8=6;class h8{constructor(e){var t,i,s,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:c8,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,s,o,l,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8{constructor(e,t,i,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jx(this),this.idTokenSubscription=new jx(this),this.beforeStateQueue=new l8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ir(t)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await Vl.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await RI(this,{idToken:e}),i=await nr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(xi(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=s==null?void 0:s._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&(h!=null&&h.user)&&(s=h.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await xp(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=G7()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xi(this.app))return Promise.reject(la(this));const t=e?St(e):null;return t&&Ae(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xi(this.app)?Promise.reject(la(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xi(this.app)?Promise.reject(la(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ir(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await u8(this),t=new h8(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new kh("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await r8(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ir(e)||this._popupRedirectResolver;Ae(t,this,"argument-error"),this.redirectPersistenceManager=await Vl.create(this,[ir(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,s){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,i,s);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=UI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(xi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&F7(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function pu(n){return St(n)}class jx{constructor(e){this.auth=e,this.observer=null,this.addObserver=mV(t=>this.observer=t)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function f8(n){vm=n}function BI(n){return vm.loadJS(n)}function p8(){return vm.recaptchaEnterpriseScript}function m8(){return vm.gapiScript}function g8(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class y8{constructor(){this.enterprise=new v8}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class v8{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const _8="recaptcha-enterprise",zI="NO_RECAPTCHA";class E8{constructor(e){this.type=_8,this.auth=pu(e)}async verify(e="verify",t=!1){async function i(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{X7(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new Q7(h);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,l(f.siteKey)}}).catch(h=>{c(h)})})}function s(o,l,c){const h=window.grecaptcha;Mx(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(f=>{l(f)}).catch(()=>{l(zI)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new y8().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{i(this.auth).then(c=>{if(!t&&Mx(window.grecaptcha))s(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=p8();h.length!==0&&(h+=c),BI(h).then(()=>{s(c,o,l)}).catch(f=>{l(f)})}}).catch(c=>{l(c)})})}}async function Ux(n,e,t,i=!1,s=!1){const o=new E8(n);let l;if(s)l=zI;else try{l=await o.verify(t)}catch{l=await o.verify(t,!0)}const c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const h=c.phoneEnrollmentInfo.phoneNumber,f=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const h=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return i?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Bx(n,e,t,i,s){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Ux(n,e,t,t==="getOobCode");return i(n,l)}else return i(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Ux(n,e,t,t==="getOobCode");return i(n,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T8(n,e){const t=rm(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),o=t.getOptions();if(lp(o,e??{}))return s;zi(s,"already-initialized")}return t.initialize({options:e})}function w8(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(ir);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function b8(n,e,t){const i=pu(n);Ae(i._canInitEmulator,i,"emulator-config-failed"),Ae(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,o=FI(e),{host:l,port:c}=S8(e),h=c===null?"":`:${c}`;i.config.emulator={url:`${o}//${l}${h}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})}),x8()}function FI(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function S8(n){const e=FI(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const o=s[1];return{host:o,port:zx(i.substr(o.length+1))}}else{const[o,l]=i.split(":");return{host:o,port:zx(l)}}}function zx(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function x8(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return tr("not implemented")}_getIdTokenResponse(e){return tr("not implemented")}_linkToIdToken(e,t){return tr("not implemented")}_getReauthenticationResolver(e){return tr("not implemented")}}async function C8(n,e){return Ca(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A8(n,e){return ym(n,"POST","/v1/accounts:signInWithPassword",Io(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R8(n,e){return ym(n,"POST","/v1/accounts:signInWithEmailLink",Io(n,e))}async function I8(n,e){return ym(n,"POST","/v1/accounts:signInWithEmailLink",Io(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th extends mE{constructor(e,t,i,s=null){super("password",i),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Th(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Th(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bx(e,t,"signInWithPassword",A8);case"emailLink":return R8(e,{email:this._email,oobCode:this._password});default:zi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bx(e,i,"signUpPassword",C8);case"emailLink":return I8(e,{idToken:t,email:this._email,oobCode:this._password});default:zi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jl(n,e){return ym(n,"POST","/v1/accounts:signInWithIdp",Io(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N8="http://localhost";class Eo extends mE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Eo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):zi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=t,o=cE(t,["providerId","signInMethod"]);if(!i||!s)return null;const l=new Eo(i,s);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return jl(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,jl(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,jl(e,t)}buildRequest(){const e={requestUri:N8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=cu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P8(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function D8(n){const e=Vc(jc(n)).link,t=e?Vc(jc(e)).deep_link_id:null,i=Vc(jc(n)).deep_link_id;return(i?Vc(jc(i)).link:null)||i||t||e||n}class gE{constructor(e){var t,i,s,o,l,c;const h=Vc(jc(e)),f=(t=h.apiKey)!==null&&t!==void 0?t:null,g=(i=h.oobCode)!==null&&i!==void 0?i:null,y=P8((s=h.mode)!==null&&s!==void 0?s:null);Ae(f&&g&&y,"argument-error"),this.apiKey=f,this.operation=y,this.code=g,this.continueUrl=(o=h.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=h.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=h.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=D8(e);try{return new gE(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(){this.providerId=mu.PROVIDER_ID}static credential(e,t){return Th._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=gE.parseLink(t);return Ae(i,"argument-error"),Th._fromEmailAndCode(e,i.code,i.tenantId)}}mu.PROVIDER_ID="password";mu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";mu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh extends HI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends zh{constructor(){super("facebook.com")}static credential(e){return Eo._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zr.credential(e.oauthAccessToken)}catch{return null}}}Zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends zh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Eo._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Jr.credential(t,i)}catch{return null}}}Jr.GOOGLE_SIGN_IN_METHOD="google.com";Jr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea extends zh{constructor(){super("github.com")}static credential(e){return Eo._fromParams({providerId:ea.PROVIDER_ID,signInMethod:ea.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ea.credentialFromTaggedObject(e)}static credentialFromError(e){return ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ea.credential(e.oauthAccessToken)}catch{return null}}}ea.GITHUB_SIGN_IN_METHOD="github.com";ea.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta extends zh{constructor(){super("twitter.com")}static credential(e,t){return Eo._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ta.credentialFromTaggedObject(e)}static credentialFromError(e){return ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return ta.credential(t,i)}catch{return null}}}ta.TWITTER_SIGN_IN_METHOD="twitter.com";ta.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,s=!1){const o=await nr._fromIdTokenResponse(e,i,s),l=Fx(i);return new Ql({user:o,providerId:l,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const s=Fx(i);return new Ql({user:e,providerId:s,_tokenResponse:i,operationType:t})}}function Fx(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp extends pr{constructor(e,t,i,s){var o;super(t.code,t.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Cp.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,s){return new Cp(e,t,i,s)}}function qI(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Cp._fromErrorAndOperation(n,o,e,i):o})}async function M8(n,e,t=!1){const i=await Eh(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ql._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O8(n,e,t=!1){const{auth:i}=n;if(xi(i.app))return Promise.reject(la(i));const s="reauthenticate";try{const o=await Eh(n,qI(i,s,e,n),t);Ae(o.idToken,i,"internal-error");const l=fE(o.idToken);Ae(l,i,"internal-error");const{sub:c}=l;return Ae(n.uid===c,i,"user-mismatch"),Ql._forOperation(n,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&zi(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GI(n,e,t=!1){if(xi(n.app))return Promise.reject(la(n));const i="signIn",s=await qI(n,i,e),o=await Ql._fromIdTokenResponse(n,i,s);return t||await n._updateCurrentUser(o.user),o}async function k8(n,e){return GI(pu(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L8(n){const e=pu(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function V8(n,e,t){return xi(n.app)?Promise.reject(la(n)):k8(St(n),mu.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&L8(n),i})}function j8(n,e,t,i){return St(n).onIdTokenChanged(e,t,i)}function U8(n,e,t){return St(n).beforeAuthStateChanged(e,t)}function $I(n,e,t,i){return St(n).onAuthStateChanged(e,t,i)}function B8(n){return St(n).signOut()}const Ap="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ap,"1"),this.storage.removeItem(Ap),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z8=1e3,F8=10;class WI extends KI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),s=this.localCache[t];i!==s&&e(t,s,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const i=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(i);!t&&this.localCache[i]===l||this.notifyListeners(i,l)},o=this.storage.getItem(i);o8()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,F8):s()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},z8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}WI.type="LOCAL";const H8=WI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI extends KI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}YI.type="SESSION";const QI=YI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q8(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const i=new _m(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:s,data:o}=t.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const c=Array.from(l).map(async f=>f(t.origin,o)),h=await q8(c);t.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_m.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G8{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,l;return new Promise((c,h)=>{const f=yE("",20);s.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},i);l={messageChannel:s,onMessage(y){const _=y;if(_.data.eventId===f)switch(_.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(_.data.response);break;default:clearTimeout(g),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(){return window}function $8(n){ys().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(){return typeof ys().WorkerGlobalScope<"u"&&typeof ys().importScripts=="function"}async function K8(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function W8(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Y8(){return XI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI="firebaseLocalStorageDb",Q8=1,Rp="firebaseLocalStorage",JI="fbase_key";class Fh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Em(n,e){return n.transaction([Rp],e?"readwrite":"readonly").objectStore(Rp)}function X8(){const n=indexedDB.deleteDatabase(ZI);return new Fh(n).toPromise()}function f_(){const n=indexedDB.open(ZI,Q8);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Rp,{keyPath:JI})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Rp)?e(i):(i.close(),await X8(),e(await f_()))})})}async function Hx(n,e,t){const i=Em(n,!0).put({[JI]:e,value:t});return new Fh(i).toPromise()}async function Z8(n,e){const t=Em(n,!1).get(e),i=await new Fh(t).toPromise();return i===void 0?null:i.value}function qx(n,e){const t=Em(n,!0).delete(e);return new Fh(t).toPromise()}const J8=800,eU=3;class eN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await f_(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>eU)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return XI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_m._getInstance(Y8()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await K8(),!this.activeServiceWorker)return;this.sender=new G8(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||W8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await f_();return await Hx(e,Ap,"1"),await qx(e,Ap),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Hx(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>Z8(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>qx(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=Em(s,!1).getAll();return new Fh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),J8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eN.type="LOCAL";const tU=eN;new Bh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nU(n,e){return e?ir(e):(Ae(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE extends mE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return jl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return jl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function iU(n){return GI(n.auth,new vE(n),n.bypassAuthState)}function sU(n){const{auth:e,user:t}=n;return Ae(t,e,"internal-error"),O8(t,new vE(n),n.bypassAuthState)}async function rU(n){const{auth:e,user:t}=n;return Ae(t,e,"internal-error"),M8(t,new vE(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e,t,i,s,o=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:s,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iU;case"linkViaPopup":case"linkViaRedirect":return rU;case"reauthViaPopup":case"reauthViaRedirect":return sU;default:zi(this.auth,"internal-error")}}resolve(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aU=new Bh(2e3,1e4);class Pl extends tN{constructor(e,t,i,s,o){super(e,t,s,o),this.provider=i,this.authWindow=null,this.pollId=null,Pl.currentPopupAction&&Pl.currentPopupAction.cancel(),Pl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){hr(this.filter.length===1,"Popup operations only handle one event");const e=yE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(gs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(gs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Pl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,aU.get())};e()}}Pl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oU="pendingRedirect",zf=new Map;class lU extends tN{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=zf.get(this.auth._key());if(!e){try{const i=await uU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}zf.set(this.auth._key(),e)}return this.bypassAuthState||zf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uU(n,e){const t=dU(e),i=hU(n);if(!await i._isAvailable())return!1;const s=await i._get(t)==="true";return await i._remove(t),s}function cU(n,e){zf.set(n._key(),e)}function hU(n){return ir(n._redirectPersistence)}function dU(n){return Bf(oU,n.config.apiKey,n.name)}async function fU(n,e,t=!1){if(xi(n.app))return Promise.reject(la(n));const i=pu(n),s=nU(i,e),l=await new lU(i,s,t).execute();return l&&!t&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pU=10*60*1e3;class mU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gU(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!nN(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(gs(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pU&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gx(e))}saveEventToCache(e){this.cachedEventUids.add(Gx(e)),this.lastProcessedEventTime=Date.now()}}function Gx(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function nN({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function gU(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nN(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yU(n,e={}){return Ca(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_U=/^https?/;async function EU(n){if(n.config.emulator)return;const{authorizedDomains:e}=await yU(n);for(const t of e)try{if(TU(t))return}catch{}zi(n,"unauthorized-domain")}function TU(n){const e=h_(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===i}if(!_U.test(t))return!1;if(vU.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU=new Bh(3e4,6e4);function $x(){const n=ys().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function bU(n){return new Promise((e,t)=>{var i,s,o;function l(){$x(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$x(),t(gs(n,"network-request-failed"))},timeout:wU.get()})}if(!((s=(i=ys().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=ys().gapi)===null||o===void 0)&&o.load)l();else{const c=g8("iframefcb");return ys()[c]=()=>{gapi.load?l():t(gs(n,"network-request-failed"))},BI(`${m8()}?onload=${c}`).catch(h=>t(h))}}).catch(e=>{throw Ff=null,e})}let Ff=null;function SU(n){return Ff=Ff||bU(n),Ff}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xU=new Bh(5e3,15e3),CU="__/auth/iframe",AU="emulator/auth/iframe",RU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},IU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NU(n){const e=n.config;Ae(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?dE(e,AU):`https://${n.config.authDomain}/${CU}`,i={apiKey:e.apiKey,appName:n.name,v:Co},s=IU.get(n.config.apiHost);s&&(i.eid=s);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${cu(i).slice(1)}`}async function PU(n){const e=await SU(n),t=ys().gapi;return Ae(t,n,"internal-error"),e.open({where:document.body,url:NU(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RU,dontclear:!0},i=>new Promise(async(s,o)=>{await i.restyle({setHideOnLeave:!1});const l=gs(n,"network-request-failed"),c=ys().setTimeout(()=>{o(l)},xU.get());function h(){ys().clearTimeout(c),s(i)}i.ping(h).then(h,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MU=500,OU=600,kU="_blank",LU="http://localhost";class Kx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function VU(n,e,t,i=MU,s=OU){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const h=Object.assign(Object.assign({},DU),{width:i.toString(),height:s.toString(),top:o,left:l}),f=Mn().toLowerCase();t&&(c=MI(f)?kU:t),PI(f)&&(e=e||LU,h.scrollbars="yes");const g=Object.entries(h).reduce((_,[w,x])=>`${_}${w}=${x},`,"");if(a8(f)&&c!=="_self")return jU(e||"",c),new Kx(null);const y=window.open(e||"",c,g);Ae(y,n,"popup-blocked");try{y.focus()}catch{}return new Kx(y)}function jU(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UU="__/auth/handler",BU="emulator/auth/handler",zU=encodeURIComponent("fac");async function Wx(n,e,t,i,s,o){Ae(n.config.authDomain,n,"auth-domain-config-required"),Ae(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Co,eventId:s};if(e instanceof HI){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",Gv(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,y]of Object.entries({}))l[g]=y}if(e instanceof zh){const g=e.getScopes().filter(y=>y!=="");g.length>0&&(l.scopes=g.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const h=await n._getAppCheckToken(),f=h?`#${zU}=${encodeURIComponent(h)}`:"";return`${FU(n)}?${cu(c).slice(1)}${f}`}function FU({config:n}){return n.emulator?dE(n,BU):`https://${n.authDomain}/${UU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv="webStorageSupport";class HU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=QI,this._completeRedirectFn=fU,this._overrideRedirectResult=cU}async _openPopup(e,t,i,s){var o;hr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await Wx(e,t,i,h_(),s);return VU(e,l,yE())}async _openRedirect(e,t,i,s){await this._originValidation(e);const o=await Wx(e,t,i,h_(),s);return $8(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(hr(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await PU(e),i=new mU(e);return t.register("authEvent",s=>(Ae(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(mv,{type:mv},s=>{var o;const l=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[mv];l!==void 0&&t(!!l),zi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=EU(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return jI()||DI()||pE()}}const qU=HU;var Yx="@firebase/auth",Qx="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $U(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function KU(n){mo(new ma("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=i.options;Ae(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UI(n)},f=new d8(i,s,o,h);return w8(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),mo(new ma("auth-internal",e=>{const t=pu(e.getProvider("auth").getImmediate());return(i=>new GU(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ps(Yx,Qx,$U(n)),ps(Yx,Qx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WU=5*60,YU=nR("authIdTokenMaxAge")||WU;let Xx=null;const QU=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>YU)return;const s=t==null?void 0:t.token;Xx!==s&&(Xx=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Ip(n=x0()){const e=rm(n,"auth");if(e.isInitialized())return e.getImmediate();const t=T8(n,{popupRedirectResolver:qU,persistence:[tU,H8,QI]}),i=nR("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const l=QU(o.toString());U8(t,l,()=>l(t.currentUser)),j8(t,c=>l(c))}}const s=JA("auth");return s&&b8(t,`http://${s}`),t}function XU(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}f8({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=s=>{const o=gs("internal-error");o.customData=s,t(o)},i.type="text/javascript",i.charset="UTF-8",XU().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});KU("Browser");var Zx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ua,iN;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,A){function C(){}C.prototype=A.prototype,k.D=A.prototype,k.prototype=new C,k.prototype.constructor=k,k.C=function(R,j,z){for(var L=Array(arguments.length-2),de=2;de<arguments.length;de++)L[de-2]=arguments[de];return A.prototype[j].apply(R,L)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(k,A,C){C||(C=0);var R=Array(16);if(typeof A=="string")for(var j=0;16>j;++j)R[j]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(j=0;16>j;++j)R[j]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=k.g[0],C=k.g[1],j=k.g[2];var z=k.g[3],L=A+(z^C&(j^z))+R[0]+3614090360&4294967295;A=C+(L<<7&4294967295|L>>>25),L=z+(j^A&(C^j))+R[1]+3905402710&4294967295,z=A+(L<<12&4294967295|L>>>20),L=j+(C^z&(A^C))+R[2]+606105819&4294967295,j=z+(L<<17&4294967295|L>>>15),L=C+(A^j&(z^A))+R[3]+3250441966&4294967295,C=j+(L<<22&4294967295|L>>>10),L=A+(z^C&(j^z))+R[4]+4118548399&4294967295,A=C+(L<<7&4294967295|L>>>25),L=z+(j^A&(C^j))+R[5]+1200080426&4294967295,z=A+(L<<12&4294967295|L>>>20),L=j+(C^z&(A^C))+R[6]+2821735955&4294967295,j=z+(L<<17&4294967295|L>>>15),L=C+(A^j&(z^A))+R[7]+4249261313&4294967295,C=j+(L<<22&4294967295|L>>>10),L=A+(z^C&(j^z))+R[8]+1770035416&4294967295,A=C+(L<<7&4294967295|L>>>25),L=z+(j^A&(C^j))+R[9]+2336552879&4294967295,z=A+(L<<12&4294967295|L>>>20),L=j+(C^z&(A^C))+R[10]+4294925233&4294967295,j=z+(L<<17&4294967295|L>>>15),L=C+(A^j&(z^A))+R[11]+2304563134&4294967295,C=j+(L<<22&4294967295|L>>>10),L=A+(z^C&(j^z))+R[12]+1804603682&4294967295,A=C+(L<<7&4294967295|L>>>25),L=z+(j^A&(C^j))+R[13]+4254626195&4294967295,z=A+(L<<12&4294967295|L>>>20),L=j+(C^z&(A^C))+R[14]+2792965006&4294967295,j=z+(L<<17&4294967295|L>>>15),L=C+(A^j&(z^A))+R[15]+1236535329&4294967295,C=j+(L<<22&4294967295|L>>>10),L=A+(j^z&(C^j))+R[1]+4129170786&4294967295,A=C+(L<<5&4294967295|L>>>27),L=z+(C^j&(A^C))+R[6]+3225465664&4294967295,z=A+(L<<9&4294967295|L>>>23),L=j+(A^C&(z^A))+R[11]+643717713&4294967295,j=z+(L<<14&4294967295|L>>>18),L=C+(z^A&(j^z))+R[0]+3921069994&4294967295,C=j+(L<<20&4294967295|L>>>12),L=A+(j^z&(C^j))+R[5]+3593408605&4294967295,A=C+(L<<5&4294967295|L>>>27),L=z+(C^j&(A^C))+R[10]+38016083&4294967295,z=A+(L<<9&4294967295|L>>>23),L=j+(A^C&(z^A))+R[15]+3634488961&4294967295,j=z+(L<<14&4294967295|L>>>18),L=C+(z^A&(j^z))+R[4]+3889429448&4294967295,C=j+(L<<20&4294967295|L>>>12),L=A+(j^z&(C^j))+R[9]+568446438&4294967295,A=C+(L<<5&4294967295|L>>>27),L=z+(C^j&(A^C))+R[14]+3275163606&4294967295,z=A+(L<<9&4294967295|L>>>23),L=j+(A^C&(z^A))+R[3]+4107603335&4294967295,j=z+(L<<14&4294967295|L>>>18),L=C+(z^A&(j^z))+R[8]+1163531501&4294967295,C=j+(L<<20&4294967295|L>>>12),L=A+(j^z&(C^j))+R[13]+2850285829&4294967295,A=C+(L<<5&4294967295|L>>>27),L=z+(C^j&(A^C))+R[2]+4243563512&4294967295,z=A+(L<<9&4294967295|L>>>23),L=j+(A^C&(z^A))+R[7]+1735328473&4294967295,j=z+(L<<14&4294967295|L>>>18),L=C+(z^A&(j^z))+R[12]+2368359562&4294967295,C=j+(L<<20&4294967295|L>>>12),L=A+(C^j^z)+R[5]+4294588738&4294967295,A=C+(L<<4&4294967295|L>>>28),L=z+(A^C^j)+R[8]+2272392833&4294967295,z=A+(L<<11&4294967295|L>>>21),L=j+(z^A^C)+R[11]+1839030562&4294967295,j=z+(L<<16&4294967295|L>>>16),L=C+(j^z^A)+R[14]+4259657740&4294967295,C=j+(L<<23&4294967295|L>>>9),L=A+(C^j^z)+R[1]+2763975236&4294967295,A=C+(L<<4&4294967295|L>>>28),L=z+(A^C^j)+R[4]+1272893353&4294967295,z=A+(L<<11&4294967295|L>>>21),L=j+(z^A^C)+R[7]+4139469664&4294967295,j=z+(L<<16&4294967295|L>>>16),L=C+(j^z^A)+R[10]+3200236656&4294967295,C=j+(L<<23&4294967295|L>>>9),L=A+(C^j^z)+R[13]+681279174&4294967295,A=C+(L<<4&4294967295|L>>>28),L=z+(A^C^j)+R[0]+3936430074&4294967295,z=A+(L<<11&4294967295|L>>>21),L=j+(z^A^C)+R[3]+3572445317&4294967295,j=z+(L<<16&4294967295|L>>>16),L=C+(j^z^A)+R[6]+76029189&4294967295,C=j+(L<<23&4294967295|L>>>9),L=A+(C^j^z)+R[9]+3654602809&4294967295,A=C+(L<<4&4294967295|L>>>28),L=z+(A^C^j)+R[12]+3873151461&4294967295,z=A+(L<<11&4294967295|L>>>21),L=j+(z^A^C)+R[15]+530742520&4294967295,j=z+(L<<16&4294967295|L>>>16),L=C+(j^z^A)+R[2]+3299628645&4294967295,C=j+(L<<23&4294967295|L>>>9),L=A+(j^(C|~z))+R[0]+4096336452&4294967295,A=C+(L<<6&4294967295|L>>>26),L=z+(C^(A|~j))+R[7]+1126891415&4294967295,z=A+(L<<10&4294967295|L>>>22),L=j+(A^(z|~C))+R[14]+2878612391&4294967295,j=z+(L<<15&4294967295|L>>>17),L=C+(z^(j|~A))+R[5]+4237533241&4294967295,C=j+(L<<21&4294967295|L>>>11),L=A+(j^(C|~z))+R[12]+1700485571&4294967295,A=C+(L<<6&4294967295|L>>>26),L=z+(C^(A|~j))+R[3]+2399980690&4294967295,z=A+(L<<10&4294967295|L>>>22),L=j+(A^(z|~C))+R[10]+4293915773&4294967295,j=z+(L<<15&4294967295|L>>>17),L=C+(z^(j|~A))+R[1]+2240044497&4294967295,C=j+(L<<21&4294967295|L>>>11),L=A+(j^(C|~z))+R[8]+1873313359&4294967295,A=C+(L<<6&4294967295|L>>>26),L=z+(C^(A|~j))+R[15]+4264355552&4294967295,z=A+(L<<10&4294967295|L>>>22),L=j+(A^(z|~C))+R[6]+2734768916&4294967295,j=z+(L<<15&4294967295|L>>>17),L=C+(z^(j|~A))+R[13]+1309151649&4294967295,C=j+(L<<21&4294967295|L>>>11),L=A+(j^(C|~z))+R[4]+4149444226&4294967295,A=C+(L<<6&4294967295|L>>>26),L=z+(C^(A|~j))+R[11]+3174756917&4294967295,z=A+(L<<10&4294967295|L>>>22),L=j+(A^(z|~C))+R[2]+718787259&4294967295,j=z+(L<<15&4294967295|L>>>17),L=C+(z^(j|~A))+R[9]+3951481745&4294967295,k.g[0]=k.g[0]+A&4294967295,k.g[1]=k.g[1]+(j+(L<<21&4294967295|L>>>11))&4294967295,k.g[2]=k.g[2]+j&4294967295,k.g[3]=k.g[3]+z&4294967295}i.prototype.u=function(k,A){A===void 0&&(A=k.length);for(var C=A-this.blockSize,R=this.B,j=this.h,z=0;z<A;){if(j==0)for(;z<=C;)s(this,k,z),z+=this.blockSize;if(typeof k=="string"){for(;z<A;)if(R[j++]=k.charCodeAt(z++),j==this.blockSize){s(this,R),j=0;break}}else for(;z<A;)if(R[j++]=k[z++],j==this.blockSize){s(this,R),j=0;break}}this.h=j,this.o+=A},i.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var A=1;A<k.length-8;++A)k[A]=0;var C=8*this.o;for(A=k.length-8;A<k.length;++A)k[A]=C&255,C/=256;for(this.u(k),k=Array(16),A=C=0;4>A;++A)for(var R=0;32>R;R+=8)k[C++]=this.g[A]>>>R&255;return k};function o(k,A){var C=c;return Object.prototype.hasOwnProperty.call(C,k)?C[k]:C[k]=A(k)}function l(k,A){this.h=A;for(var C=[],R=!0,j=k.length-1;0<=j;j--){var z=k[j]|0;R&&z==A||(C[j]=z,R=!1)}this.g=C}var c={};function h(k){return-128<=k&&128>k?o(k,function(A){return new l([A|0],0>A?-1:0)}):new l([k|0],0>k?-1:0)}function f(k){if(isNaN(k)||!isFinite(k))return y;if(0>k)return V(f(-k));for(var A=[],C=1,R=0;k>=C;R++)A[R]=k/C|0,C*=4294967296;return new l(A,0)}function g(k,A){if(k.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(k.charAt(0)=="-")return V(g(k.substring(1),A));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=f(Math.pow(A,8)),R=y,j=0;j<k.length;j+=8){var z=Math.min(8,k.length-j),L=parseInt(k.substring(j,j+z),A);8>z?(z=f(Math.pow(A,z)),R=R.j(z).add(f(L))):(R=R.j(C),R=R.add(f(L)))}return R}var y=h(0),_=h(1),w=h(16777216);n=l.prototype,n.m=function(){if(O(this))return-V(this).m();for(var k=0,A=1,C=0;C<this.g.length;C++){var R=this.i(C);k+=(0<=R?R:4294967296+R)*A,A*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(x(this))return"0";if(O(this))return"-"+V(this).toString(k);for(var A=f(Math.pow(k,6)),C=this,R="";;){var j=H(C,A).g;C=P(C,j.j(A));var z=((0<C.g.length?C.g[0]:C.h)>>>0).toString(k);if(C=j,x(C))return z+R;for(;6>z.length;)z="0"+z;R=z+R}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function x(k){if(k.h!=0)return!1;for(var A=0;A<k.g.length;A++)if(k.g[A]!=0)return!1;return!0}function O(k){return k.h==-1}n.l=function(k){return k=P(this,k),O(k)?-1:x(k)?0:1};function V(k){for(var A=k.g.length,C=[],R=0;R<A;R++)C[R]=~k.g[R];return new l(C,~k.h).add(_)}n.abs=function(){return O(this)?V(this):this},n.add=function(k){for(var A=Math.max(this.g.length,k.g.length),C=[],R=0,j=0;j<=A;j++){var z=R+(this.i(j)&65535)+(k.i(j)&65535),L=(z>>>16)+(this.i(j)>>>16)+(k.i(j)>>>16);R=L>>>16,z&=65535,L&=65535,C[j]=L<<16|z}return new l(C,C[C.length-1]&-2147483648?-1:0)};function P(k,A){return k.add(V(A))}n.j=function(k){if(x(this)||x(k))return y;if(O(this))return O(k)?V(this).j(V(k)):V(V(this).j(k));if(O(k))return V(this.j(V(k)));if(0>this.l(w)&&0>k.l(w))return f(this.m()*k.m());for(var A=this.g.length+k.g.length,C=[],R=0;R<2*A;R++)C[R]=0;for(R=0;R<this.g.length;R++)for(var j=0;j<k.g.length;j++){var z=this.i(R)>>>16,L=this.i(R)&65535,de=k.i(j)>>>16,_e=k.i(j)&65535;C[2*R+2*j]+=L*_e,I(C,2*R+2*j),C[2*R+2*j+1]+=z*_e,I(C,2*R+2*j+1),C[2*R+2*j+1]+=L*de,I(C,2*R+2*j+1),C[2*R+2*j+2]+=z*de,I(C,2*R+2*j+2)}for(R=0;R<A;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=A;R<2*A;R++)C[R]=0;return new l(C,0)};function I(k,A){for(;(k[A]&65535)!=k[A];)k[A+1]+=k[A]>>>16,k[A]&=65535,A++}function N(k,A){this.g=k,this.h=A}function H(k,A){if(x(A))throw Error("division by zero");if(x(k))return new N(y,y);if(O(k))return A=H(V(k),A),new N(V(A.g),V(A.h));if(O(A))return A=H(k,V(A)),new N(V(A.g),A.h);if(30<k.g.length){if(O(k)||O(A))throw Error("slowDivide_ only works with positive integers.");for(var C=_,R=A;0>=R.l(k);)C=q(C),R=q(R);var j=Z(C,1),z=Z(R,1);for(R=Z(R,2),C=Z(C,2);!x(R);){var L=z.add(R);0>=L.l(k)&&(j=j.add(C),z=L),R=Z(R,1),C=Z(C,1)}return A=P(k,j.j(A)),new N(j,A)}for(j=y;0<=k.l(A);){for(C=Math.max(1,Math.floor(k.m()/A.m())),R=Math.ceil(Math.log(C)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),z=f(C),L=z.j(A);O(L)||0<L.l(k);)C-=R,z=f(C),L=z.j(A);x(z)&&(z=_),j=j.add(z),k=P(k,L)}return new N(j,k)}n.A=function(k){return H(this,k).h},n.and=function(k){for(var A=Math.max(this.g.length,k.g.length),C=[],R=0;R<A;R++)C[R]=this.i(R)&k.i(R);return new l(C,this.h&k.h)},n.or=function(k){for(var A=Math.max(this.g.length,k.g.length),C=[],R=0;R<A;R++)C[R]=this.i(R)|k.i(R);return new l(C,this.h|k.h)},n.xor=function(k){for(var A=Math.max(this.g.length,k.g.length),C=[],R=0;R<A;R++)C[R]=this.i(R)^k.i(R);return new l(C,this.h^k.h)};function q(k){for(var A=k.g.length+1,C=[],R=0;R<A;R++)C[R]=k.i(R)<<1|k.i(R-1)>>>31;return new l(C,k.h)}function Z(k,A){var C=A>>5;A%=32;for(var R=k.g.length-C,j=[],z=0;z<R;z++)j[z]=0<A?k.i(z+C)>>>A|k.i(z+C+1)<<32-A:k.i(z+C);return new l(j,k.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,iN=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=g,ua=l}).apply(typeof Zx<"u"?Zx:typeof self<"u"?self:typeof window<"u"?window:{});var bf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sN,Bc,rN,Hf,p_,aN,oN,lN;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,E,b){return p==Array.prototype||p==Object.prototype||(p[E]=b.value),p};function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof bf=="object"&&bf];for(var E=0;E<p.length;++E){var b=p[E];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var i=t(this);function s(p,E){if(E)e:{var b=i;p=p.split(".");for(var M=0;M<p.length-1;M++){var W=p[M];if(!(W in b))break e;b=b[W]}p=p[p.length-1],M=b[p],E=E(M),E!=M&&E!=null&&e(b,p,{configurable:!0,writable:!0,value:E})}}function o(p,E){p instanceof String&&(p+="");var b=0,M=!1,W={next:function(){if(!M&&b<p.length){var X=b++;return{value:E(X,p[X]),done:!1}}return M=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}s("Array.prototype.values",function(p){return p||function(){return o(this,function(E,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function h(p){var E=typeof p;return E=E!="object"?E:p?Array.isArray(p)?"array":E:"null",E=="array"||E=="object"&&typeof p.length=="number"}function f(p){var E=typeof p;return E=="object"&&p!=null||E=="function"}function g(p,E,b){return p.call.apply(p.bind,arguments)}function y(p,E,b){if(!p)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,M),p.apply(E,W)}}return function(){return p.apply(E,arguments)}}function _(p,E,b){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:y,_.apply(null,arguments)}function w(p,E){var b=Array.prototype.slice.call(arguments,1);return function(){var M=b.slice();return M.push.apply(M,arguments),p.apply(this,M)}}function x(p,E){function b(){}b.prototype=E.prototype,p.aa=E.prototype,p.prototype=new b,p.prototype.constructor=p,p.Qb=function(M,W,X){for(var ce=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)ce[Xe-2]=arguments[Xe];return E.prototype[W].apply(M,ce)}}function O(p){const E=p.length;if(0<E){const b=Array(E);for(let M=0;M<E;M++)b[M]=p[M];return b}return[]}function V(p,E){for(let b=1;b<arguments.length;b++){const M=arguments[b];if(h(M)){const W=p.length||0,X=M.length||0;p.length=W+X;for(let ce=0;ce<X;ce++)p[W+ce]=M[ce]}else p.push(M)}}class P{constructor(E,b){this.i=E,this.j=b,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function I(p){return/^[\s\xa0]*$/.test(p)}function N(){var p=c.navigator;return p&&(p=p.userAgent)?p:""}function H(p){return H[" "](p),p}H[" "]=function(){};var q=N().indexOf("Gecko")!=-1&&!(N().toLowerCase().indexOf("webkit")!=-1&&N().indexOf("Edge")==-1)&&!(N().indexOf("Trident")!=-1||N().indexOf("MSIE")!=-1)&&N().indexOf("Edge")==-1;function Z(p,E,b){for(const M in p)E.call(b,p[M],M,p)}function k(p,E){for(const b in p)E.call(void 0,p[b],b,p)}function A(p){const E={};for(const b in p)E[b]=p[b];return E}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(p,E){let b,M;for(let W=1;W<arguments.length;W++){M=arguments[W];for(b in M)p[b]=M[b];for(let X=0;X<C.length;X++)b=C[X],Object.prototype.hasOwnProperty.call(M,b)&&(p[b]=M[b])}}function j(p){var E=1;p=p.split(":");const b=[];for(;0<E&&p.length;)b.push(p.shift()),E--;return p.length&&b.push(p.join(":")),b}function z(p){c.setTimeout(()=>{throw p},0)}function L(){var p=fe;let E=null;return p.g&&(E=p.g,p.g=p.g.next,p.g||(p.h=null),E.next=null),E}class de{constructor(){this.h=this.g=null}add(E,b){const M=_e.get();M.set(E,b),this.h?this.h.next=M:this.g=M,this.h=M}}var _e=new P(()=>new re,p=>p.reset());class re{constructor(){this.next=this.g=this.h=null}set(E,b){this.h=E,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let he,ae=!1,fe=new de,F=()=>{const p=c.Promise.resolve(void 0);he=()=>{p.then(ie)}};var ie=()=>{for(var p;p=L();){try{p.h.call(p.g)}catch(b){z(b)}var E=_e;E.j(p),100>E.h&&(E.h++,p.next=E.g,E.g=p)}ae=!1};function ye(){this.s=this.s,this.C=this.C}ye.prototype.s=!1,ye.prototype.ma=function(){this.s||(this.s=!0,this.N())},ye.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(p,E){this.type=p,this.g=this.target=E,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var p=!1,E=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const b=()=>{};c.addEventListener("test",b,E),c.removeEventListener("test",b,E)}catch{}return p}();function Oe(p,E){if(pe.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var b=this.type=p.type,M=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=E,E=p.relatedTarget){if(q){e:{try{H(E.nodeName);var W=!0;break e}catch{}W=!1}W||(E=null)}}else b=="mouseover"?E=p.fromElement:b=="mouseout"&&(E=p.toElement);this.relatedTarget=E,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:Me[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&Oe.aa.h.call(this)}}x(Oe,pe);var Me={2:"touch",3:"pen",4:"mouse"};Oe.prototype.h=function(){Oe.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var Ct="closure_listenable_"+(1e6*Math.random()|0),We=0;function yt(p,E,b,M,W){this.listener=p,this.proxy=null,this.src=E,this.type=b,this.capture=!!M,this.ha=W,this.key=++We,this.da=this.fa=!1}function Ye(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function pn(p){this.src=p,this.g={},this.h=0}pn.prototype.add=function(p,E,b,M,W){var X=p.toString();p=this.g[X],p||(p=this.g[X]=[],this.h++);var ce=On(p,E,M,W);return-1<ce?(E=p[ce],b||(E.fa=!1)):(E=new yt(E,this.src,X,!!M,W),E.fa=b,p.push(E)),E};function ai(p,E){var b=E.type;if(b in p.g){var M=p.g[b],W=Array.prototype.indexOf.call(M,E,void 0),X;(X=0<=W)&&Array.prototype.splice.call(M,W,1),X&&(Ye(E),p.g[b].length==0&&(delete p.g[b],p.h--))}}function On(p,E,b,M){for(var W=0;W<p.length;++W){var X=p[W];if(!X.da&&X.listener==E&&X.capture==!!b&&X.ha==M)return W}return-1}var qi="closure_lm_"+(1e6*Math.random()|0),Gi={};function oe(p,E,b,M,W){if(Array.isArray(E)){for(var X=0;X<E.length;X++)oe(p,E[X],b,M,W);return null}return b=Eu(b),p&&p[Ct]?p.K(E,b,f(M)?!!M.capture:!1,W):we(p,E,b,!1,M,W)}function we(p,E,b,M,W,X){if(!E)throw Error("Invalid event type");var ce=f(W)?!!W.capture:!!W,Xe=Ai(p);if(Xe||(p[qi]=Xe=new pn(p)),b=Xe.add(E,b,M,ce,X),b.proxy)return b;if(M=Qe(),b.proxy=M,M.src=p,M.listener=b,p.addEventListener)me||(W=ce),W===void 0&&(W=!1),p.addEventListener(E.toString(),M,W);else if(p.attachEvent)p.attachEvent(Gt(E.toString()),M);else if(p.addListener&&p.removeListener)p.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Qe(){function p(b){return E.call(p.src,p.listener,b)}const E=$i;return p}function He(p,E,b,M,W){if(Array.isArray(E))for(var X=0;X<E.length;X++)He(p,E[X],b,M,W);else M=f(M)?!!M.capture:!!M,b=Eu(b),p&&p[Ct]?(p=p.i,E=String(E).toString(),E in p.g&&(X=p.g[E],b=On(X,b,M,W),-1<b&&(Ye(X[b]),Array.prototype.splice.call(X,b,1),X.length==0&&(delete p.g[E],p.h--)))):p&&(p=Ai(p))&&(E=p.g[E.toString()],p=-1,E&&(p=On(E,b,M,W)),(b=-1<p?E[p]:null)&&Ut(b))}function Ut(p){if(typeof p!="number"&&p&&!p.da){var E=p.src;if(E&&E[Ct])ai(E.i,p);else{var b=p.type,M=p.proxy;E.removeEventListener?E.removeEventListener(b,M,p.capture):E.detachEvent?E.detachEvent(Gt(b),M):E.addListener&&E.removeListener&&E.removeListener(M),(b=Ai(E))?(ai(b,p),b.h==0&&(b.src=null,E[qi]=null)):Ye(p)}}}function Gt(p){return p in Gi?Gi[p]:Gi[p]="on"+p}function $i(p,E){if(p.da)p=!0;else{E=new Oe(E,this);var b=p.listener,M=p.ha||p.src;p.fa&&Ut(p),p=b.call(M,E)}return p}function Ai(p){return p=p[qi],p instanceof pn?p:null}var $t="__closure_events_fn_"+(1e9*Math.random()>>>0);function Eu(p){return typeof p=="function"?p:(p[$t]||(p[$t]=function(E){return p.handleEvent(E)}),p[$t])}function Ot(){ye.call(this),this.i=new pn(this),this.M=this,this.F=null}x(Ot,ye),Ot.prototype[Ct]=!0,Ot.prototype.removeEventListener=function(p,E,b,M){He(this,p,E,b,M)};function nn(p,E){var b,M=p.F;if(M)for(b=[];M;M=M.F)b.push(M);if(p=p.M,M=E.type||E,typeof E=="string")E=new pe(E,p);else if(E instanceof pe)E.target=E.target||p;else{var W=E;E=new pe(M,p),R(E,W)}if(W=!0,b)for(var X=b.length-1;0<=X;X--){var ce=E.g=b[X];W=Cs(ce,M,!0,E)&&W}if(ce=E.g=p,W=Cs(ce,M,!0,E)&&W,W=Cs(ce,M,!1,E)&&W,b)for(X=0;X<b.length;X++)ce=E.g=b[X],W=Cs(ce,M,!1,E)&&W}Ot.prototype.N=function(){if(Ot.aa.N.call(this),this.i){var p=this.i,E;for(E in p.g){for(var b=p.g[E],M=0;M<b.length;M++)Ye(b[M]);delete p.g[E],p.h--}}this.F=null},Ot.prototype.K=function(p,E,b,M){return this.i.add(String(p),E,!1,b,M)},Ot.prototype.L=function(p,E,b,M){return this.i.add(String(p),E,!0,b,M)};function Cs(p,E,b,M){if(E=p.i.g[String(E)],!E)return!0;E=E.concat();for(var W=!0,X=0;X<E.length;++X){var ce=E[X];if(ce&&!ce.da&&ce.capture==b){var Xe=ce.listener,Wt=ce.ha||ce.src;ce.fa&&ai(p.i,ce),W=Xe.call(Wt,M)!==!1&&W}}return W&&!M.defaultPrevented}function Yh(p,E,b){if(typeof p=="function")b&&(p=_(p,b));else if(p&&typeof p.handleEvent=="function")p=_(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:c.setTimeout(p,E||0)}function Tu(p){p.g=Yh(()=>{p.g=null,p.i&&(p.i=!1,Tu(p))},p.l);const E=p.h;p.h=null,p.m.apply(null,E)}class Um extends ye{constructor(E,b){super(),this.m=E,this.l=b,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Tu(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ia(p){ye.call(this),this.h=p,this.g={}}x(Ia,ye);var mr=[];function xn(p){Z(p.g,function(E,b){this.g.hasOwnProperty(b)&&Ut(E)},p),p.g={}}Ia.prototype.N=function(){Ia.aa.N.call(this),xn(this)},Ia.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wu=c.JSON.stringify,Ki=c.JSON.parse,kn=class{stringify(p){return c.JSON.stringify(p,void 0)}parse(p){return c.JSON.parse(p,void 0)}};function bu(){}bu.prototype.h=null;function Qh(p){return p.h||(p.h=p.i())}function Xh(){}var Wi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gr(){pe.call(this,"d")}x(gr,pe);function Ri(){pe.call(this,"c")}x(Ri,pe);var oi={},yr=null;function Do(){return yr=yr||new Ot}oi.La="serverreachability";function Su(p){pe.call(this,oi.La,p)}x(Su,pe);function vr(p){const E=Do();nn(E,new Su(E))}oi.STAT_EVENT="statevent";function Mo(p,E){pe.call(this,oi.STAT_EVENT,p),this.stat=E}x(Mo,pe);function kt(p){const E=Do();nn(E,new Mo(E,p))}oi.Ma="timingevent";function Zh(p,E){pe.call(this,oi.Ma,p),this.size=E}x(Zh,pe);function _r(p,E){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){p()},E)}function Er(){this.g=!0}Er.prototype.xa=function(){this.g=!1};function Jh(p,E,b,M,W,X){p.info(function(){if(p.g)if(X)for(var ce="",Xe=X.split("&"),Wt=0;Wt<Xe.length;Wt++){var Ze=Xe[Wt].split("=");if(1<Ze.length){var an=Ze[0];Ze=Ze[1];var Yt=an.split("_");ce=2<=Yt.length&&Yt[1]=="type"?ce+(an+"="+Ze+"&"):ce+(an+"=redacted&")}}else ce=null;else ce=X;return"XMLHTTP REQ ("+M+") [attempt "+W+"]: "+E+`
`+b+`
`+ce})}function ed(p,E,b,M,W,X,ce){p.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+W+"]: "+E+`
`+b+`
`+X+" "+ce})}function Tr(p,E,b,M){p.info(function(){return"XMLHTTP TEXT ("+E+"): "+sn(p,b)+(M?" "+M:"")})}function Yi(p,E){p.info(function(){return"TIMEOUT: "+E})}Er.prototype.info=function(){};function sn(p,E){if(!p.g)return E;if(!E)return null;try{var b=JSON.parse(E);if(b){for(p=0;p<b.length;p++)if(Array.isArray(b[p])){var M=b[p];if(!(2>M.length)){var W=M[1];if(Array.isArray(W)&&!(1>W.length)){var X=W[0];if(X!="noop"&&X!="stop"&&X!="close")for(var ce=1;ce<W.length;ce++)W[ce]=""}}}}return wu(b)}catch{return E}}var Kt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},As={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Na;function Oo(){}x(Oo,bu),Oo.prototype.g=function(){return new XMLHttpRequest},Oo.prototype.i=function(){return{}},Na=new Oo;function Qi(p,E,b,M){this.j=p,this.i=E,this.l=b,this.R=M||1,this.U=new Ia(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xu}function xu(){this.i=null,this.g="",this.h=!1}var wr={},Pa={};function Ii(p,E,b){p.L=1,p.v=Oa(At(E)),p.m=b,p.P=!0,Rs(p,null)}function Rs(p,E){p.F=Date.now(),Et(p),p.A=At(p.v);var b=p.A,M=p.R;Array.isArray(M)||(M=[String(M)]),Ps(b.i,"t",M),p.C=0,b=p.j.J,p.h=new xu,p.g=pd(p.j,b?E:null,!p.m),0<p.O&&(p.M=new Um(_(p.Y,p,p.g),p.O)),E=p.U,b=p.g,M=p.ca;var W="readystatechange";Array.isArray(W)||(W&&(mr[0]=W.toString()),W=mr);for(var X=0;X<W.length;X++){var ce=oe(b,W[X],M||E.handleEvent,!1,E.h||E);if(!ce)break;E.g[ce.key]=ce}E=p.H?A(p.H):{},p.m?(p.u||(p.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,E)):(p.u="GET",p.g.ea(p.A,p.u,null,E)),vr(),Jh(p.i,p.u,p.A,p.l,p.R,p.m)}Qi.prototype.ca=function(p){p=p.target;const E=this.M;E&&di(p)==3?E.j():this.Y(p)},Qi.prototype.Y=function(p){try{if(p==this.g)e:{const Yt=di(this.g);var E=this.g.Ba();const ks=this.g.Z();if(!(3>Yt)&&(Yt!=3||this.g&&(this.h.h||this.g.oa()||ad(this.g)))){this.J||Yt!=4||E==7||(E==8||0>=ks?vr(3):vr(2)),ko(this);var b=this.g.Z();this.X=b;t:if(br(this)){var M=ad(this.g);p="";var W=M.length,X=di(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Hn(this),Wn(this);var ce="";break t}this.h.i=new c.TextDecoder}for(E=0;E<W;E++)this.h.h=!0,p+=this.h.i.decode(M[E],{stream:!(X&&E==W-1)});M.length=0,this.h.g+=p,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=b==200,ed(this.i,this.u,this.A,this.l,this.R,Yt,b),this.o){if(this.T&&!this.K){t:{if(this.g){var Xe,Wt=this.g;if((Xe=Wt.g?Wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(Xe)){var Ze=Xe;break t}}Ze=null}if(b=Ze)Tr(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yn(this,b);else{this.o=!1,this.s=3,kt(12),Hn(this),Wn(this);break e}}if(this.P){b=!0;let mn;for(;!this.J&&this.C<ce.length;)if(mn=Sr(this,ce),mn==Pa){Yt==4&&(this.s=4,kt(14),b=!1),Tr(this.i,this.l,null,"[Incomplete Response]");break}else if(mn==wr){this.s=4,kt(15),Tr(this.i,this.l,ce,"[Invalid Chunk]"),b=!1;break}else Tr(this.i,this.l,mn,null),Yn(this,mn);if(br(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Yt!=4||ce.length!=0||this.h.h||(this.s=1,kt(16),b=!1),this.o=this.o&&b,!b)Tr(this.i,this.l,ce,"[Invalid Chunked Response]"),Hn(this),Wn(this);else if(0<ce.length&&!this.W){this.W=!0;var an=this.j;an.g==this&&an.ba&&!an.M&&(an.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),za(an),an.M=!0,kt(11))}}else Tr(this.i,this.l,ce,null),Yn(this,ce);Yt==4&&Hn(this),this.o&&!this.J&&(Yt==4?hd(this.j,this):(this.o=!1,Et(this)))}else Gm(this.g),b==400&&0<ce.indexOf("Unknown SID")?(this.s=3,kt(12)):(this.s=0,kt(13)),Hn(this),Wn(this)}}}catch{}finally{}};function br(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function Sr(p,E){var b=p.C,M=E.indexOf(`
`,b);return M==-1?Pa:(b=Number(E.substring(b,M)),isNaN(b)?wr:(M+=1,M+b>E.length?Pa:(E=E.slice(M,M+b),p.C=M+b,E)))}Qi.prototype.cancel=function(){this.J=!0,Hn(this)};function Et(p){p.S=Date.now()+p.I,Cu(p,p.I)}function Cu(p,E){if(p.B!=null)throw Error("WatchDog timer not null");p.B=_r(_(p.ba,p),E)}function ko(p){p.B&&(c.clearTimeout(p.B),p.B=null)}Qi.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(Yi(this.i,this.A),this.L!=2&&(vr(),kt(17)),Hn(this),this.s=2,Wn(this)):Cu(this,this.S-p)};function Wn(p){p.j.G==0||p.J||hd(p.j,p)}function Hn(p){ko(p);var E=p.M;E&&typeof E.ma=="function"&&E.ma(),p.M=null,xn(p.U),p.g&&(E=p.g,p.g=null,E.abort(),E.ma())}function Yn(p,E){try{var b=p.j;if(b.G!=0&&(b.g==p||xr(b.h,p))){if(!p.K&&xr(b.h,p)&&b.G==3){try{var M=b.Da.g.parse(E)}catch{M=null}if(Array.isArray(M)&&M.length==3){var W=M;if(W[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<p.F)Go(b),Ho(b);else break e;Vu(b),kt(18)}}else b.za=W[1],0<b.za-b.T&&37500>W[2]&&b.F&&b.v==0&&!b.C&&(b.C=_r(_(b.Za,b),6e3));if(1>=td(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else Os(b,11)}else if((p.K||b.g==p)&&Go(b),!I(E))for(W=b.Da.g.parse(E),E=0;E<W.length;E++){let Ze=W[E];if(b.T=Ze[0],Ze=Ze[1],b.G==2)if(Ze[0]=="c"){b.K=Ze[1],b.ia=Ze[2];const an=Ze[3];an!=null&&(b.la=an,b.j.info("VER="+b.la));const Yt=Ze[4];Yt!=null&&(b.Aa=Yt,b.j.info("SVER="+b.Aa));const ks=Ze[5];ks!=null&&typeof ks=="number"&&0<ks&&(M=1.5*ks,b.L=M,b.j.info("backChannelRequestTimeoutMs_="+M)),M=b;const mn=p.g;if(mn){const is=mn.g?mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(is){var X=M.h;X.g||is.indexOf("spdy")==-1&&is.indexOf("quic")==-1&&is.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Cr(X,X.h),X.h=null))}if(M.D){const Uu=mn.g?mn.g.getResponseHeader("X-HTTP-Session-Id"):null;Uu&&(M.ya=Uu,tt(M.I,M.D,Uu))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-p.F,b.j.info("Handshake RTT: "+b.R+"ms")),M=b;var ce=p;if(M.qa=fd(M,M.J?M.ia:null,M.W),ce.K){li(M.h,ce);var Xe=ce,Wt=M.L;Wt&&(Xe.I=Wt),Xe.B&&(ko(Xe),Et(Xe)),M.g=ce}else ud(M);0<b.i.length&&qo(b)}else Ze[0]!="stop"&&Ze[0]!="close"||Os(b,7);else b.G==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?Os(b,7):ku(b):Ze[0]!="noop"&&b.l&&b.l.ta(Ze),b.v=0)}}vr(4)}catch{}}var Bm=class{constructor(p,E){this.g=p,this.map=E}};function Au(p){this.l=p||10,c.PerformanceNavigationTiming?(p=c.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ru(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function td(p){return p.h?1:p.g?p.g.size:0}function xr(p,E){return p.h?p.h==E:p.g?p.g.has(E):!1}function Cr(p,E){p.g?p.g.add(E):p.h=E}function li(p,E){p.h&&p.h==E?p.h=null:p.g&&p.g.has(E)&&p.g.delete(E)}Au.prototype.cancel=function(){if(this.i=Ln(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Ln(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let E=p.i;for(const b of p.g.values())E=E.concat(b.D);return E}return O(p.i)}function nd(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(h(p)){for(var E=[],b=p.length,M=0;M<b;M++)E.push(p[M]);return E}E=[],b=0;for(M in p)E[b++]=p[M];return E}function zm(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(h(p)||typeof p=="string"){var E=[];p=p.length;for(var b=0;b<p;b++)E.push(b);return E}E=[],b=0;for(const M in p)E[b++]=M;return E}}}function Da(p,E){if(p.forEach&&typeof p.forEach=="function")p.forEach(E,void 0);else if(h(p)||typeof p=="string")Array.prototype.forEach.call(p,E,void 0);else for(var b=zm(p),M=nd(p),W=M.length,X=0;X<W;X++)E.call(void 0,M[X],b&&b[X],p)}var Iu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lo(p,E){if(p){p=p.split("&");for(var b=0;b<p.length;b++){var M=p[b].indexOf("="),W=null;if(0<=M){var X=p[b].substring(0,M);W=p[b].substring(M+1)}else X=p[b];E(X,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Is(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof Is){this.h=p.h,Ar(this,p.j),this.o=p.o,this.g=p.g,Ma(this,p.s),this.l=p.l;var E=p.i,b=new Xi;b.i=E.i,E.g&&(b.g=new Map(E.g),b.h=E.h),Vo(this,b),this.m=p.m}else p&&(E=String(p).match(Iu))?(this.h=!1,Ar(this,E[1]||"",!0),this.o=Rr(E[2]||""),this.g=Rr(E[3]||"",!0),Ma(this,E[4]),this.l=Rr(E[5]||"",!0),Vo(this,E[6]||"",!0),this.m=Rr(E[7]||"")):(this.h=!1,this.i=new Xi(null,this.h))}Is.prototype.toString=function(){var p=[],E=this.j;E&&p.push(ui(E,Nu,!0),":");var b=this.g;return(b||E=="file")&&(p.push("//"),(E=this.o)&&p.push(ui(E,Nu,!0),"@"),p.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&p.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&p.push("/"),p.push(ui(b,b.charAt(0)=="/"?Pu:id,!0))),(b=this.i.toString())&&p.push("?",b),(b=this.m)&&p.push("#",ui(b,qm)),p.join("")};function At(p){return new Is(p)}function Ar(p,E,b){p.j=b?Rr(E,!0):E,p.j&&(p.j=p.j.replace(/:$/,""))}function Ma(p,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);p.s=E}else p.s=null}function Vo(p,E,b){E instanceof Xi?(p.i=E,Du(p.i,p.h)):(b||(E=ui(E,Hm)),p.i=new Xi(E,p.h))}function tt(p,E,b){p.i.set(E,b)}function Oa(p){return tt(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function Rr(p,E){return p?E?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function ui(p,E,b){return typeof p=="string"?(p=encodeURI(p).replace(E,Fm),b&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Fm(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Nu=/[#\/\?@]/g,id=/[#\?:]/g,Pu=/[#\?]/g,Hm=/[#\?@]/g,qm=/#/g;function Xi(p,E){this.h=this.g=null,this.i=p||null,this.j=!!E}function ci(p){p.g||(p.g=new Map,p.h=0,p.i&&Lo(p.i,function(E,b){p.add(decodeURIComponent(E.replace(/\+/g," ")),b)}))}n=Xi.prototype,n.add=function(p,E){ci(this),this.i=null,p=Ds(this,p);var b=this.g.get(p);return b||this.g.set(p,b=[]),b.push(E),this.h+=1,this};function jo(p,E){ci(p),E=Ds(p,E),p.g.has(E)&&(p.i=null,p.h-=p.g.get(E).length,p.g.delete(E))}function Ns(p,E){return ci(p),E=Ds(p,E),p.g.has(E)}n.forEach=function(p,E){ci(this),this.g.forEach(function(b,M){b.forEach(function(W){p.call(E,W,M,this)},this)},this)},n.na=function(){ci(this);const p=Array.from(this.g.values()),E=Array.from(this.g.keys()),b=[];for(let M=0;M<E.length;M++){const W=p[M];for(let X=0;X<W.length;X++)b.push(E[M])}return b},n.V=function(p){ci(this);let E=[];if(typeof p=="string")Ns(this,p)&&(E=E.concat(this.g.get(Ds(this,p))));else{p=Array.from(this.g.values());for(let b=0;b<p.length;b++)E=E.concat(p[b])}return E},n.set=function(p,E){return ci(this),this.i=null,p=Ds(this,p),Ns(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[E]),this.h+=1,this},n.get=function(p,E){return p?(p=this.V(p),0<p.length?String(p[0]):E):E};function Ps(p,E,b){jo(p,E),0<b.length&&(p.i=null,p.g.set(Ds(p,E),O(b)),p.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],E=Array.from(this.g.keys());for(var b=0;b<E.length;b++){var M=E[b];const X=encodeURIComponent(String(M)),ce=this.V(M);for(M=0;M<ce.length;M++){var W=X;ce[M]!==""&&(W+="="+encodeURIComponent(String(ce[M]))),p.push(W)}}return this.i=p.join("&")};function Ds(p,E){return E=String(E),p.j&&(E=E.toLowerCase()),E}function Du(p,E){E&&!p.j&&(ci(p),p.i=null,p.g.forEach(function(b,M){var W=M.toLowerCase();M!=W&&(jo(this,M),Ps(this,W,b))},p)),p.j=E}function sd(p,E){const b=new Er;if(c.Image){const M=new Image;M.onload=w(hi,b,"TestLoadImage: loaded",!0,E,M),M.onerror=w(hi,b,"TestLoadImage: error",!1,E,M),M.onabort=w(hi,b,"TestLoadImage: abort",!1,E,M),M.ontimeout=w(hi,b,"TestLoadImage: timeout",!1,E,M),c.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=p}else E(!1)}function ka(p,E){const b=new Er,M=new AbortController,W=setTimeout(()=>{M.abort(),hi(b,"TestPingServer: timeout",!1,E)},1e4);fetch(p,{signal:M.signal}).then(X=>{clearTimeout(W),X.ok?hi(b,"TestPingServer: ok",!0,E):hi(b,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(W),hi(b,"TestPingServer: error",!1,E)})}function hi(p,E,b,M,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),M(b)}catch{}}function La(){this.g=new kn}function Zi(p,E,b){const M=b||"";try{Da(p,function(W,X){let ce=W;f(W)&&(ce=wu(W)),E.push(M+X+"="+encodeURIComponent(ce))})}catch(W){throw E.push(M+"type="+encodeURIComponent("_badmap")),W}}function Ir(p){this.l=p.Ub||null,this.j=p.eb||!1}x(Ir,bu),Ir.prototype.g=function(){return new Ms(this.l,this.j)},Ir.prototype.i=function(p){return function(){return p}}({});function Ms(p,E){Ot.call(this),this.D=p,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Ms,Ot),n=Ms.prototype,n.open=function(p,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=E,this.readyState=1,es(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(E.body=p),(this.D||c).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ji(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,es(this)),this.g&&(this.readyState=3,es(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Mu(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function Mu(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var E=p.value?p.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!p.done}))&&(this.response=this.responseText+=E)}p.done?Ji(this):es(this),this.readyState==3&&Mu(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,Ji(this))},n.Qa=function(p){this.g&&(this.response=p,Ji(this))},n.ga=function(){this.g&&Ji(this)};function Ji(p){p.readyState=4,p.l=null,p.j=null,p.v=null,es(p)}n.setRequestHeader=function(p,E){this.u.append(p,E)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],E=this.h.entries();for(var b=E.next();!b.done;)b=b.value,p.push(b[0]+": "+b[1]),b=E.next();return p.join(`\r
`)};function es(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Ms.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Ou(p){let E="";return Z(p,function(b,M){E+=M,E+=":",E+=b,E+=`\r
`}),E}function rn(p,E,b){e:{for(M in b){var M=!1;break e}M=!0}M||(b=Ou(b),typeof p=="string"?b!=null&&encodeURIComponent(String(b)):tt(p,E,b))}function rt(p){Ot.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(rt,Ot);var Uo=/^https?$/i,Va=["POST","PUT"];n=rt.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,E,b,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);E=E?E.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Na.g(),this.v=this.o?Qh(this.o):Qh(Na),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(E,String(p),!0),this.B=!1}catch(X){rd(this,X);return}if(p=b||"",b=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var W in M)b.set(W,M[W]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const X of M.keys())b.set(X,M.get(X));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(b.keys()).find(X=>X.toLowerCase()=="content-type"),W=c.FormData&&p instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Va,E,void 0))||M||W||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ce]of b)this.g.setRequestHeader(X,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ja(this),this.u=!0,this.g.send(p),this.u=!1}catch(X){rd(this,X)}};function rd(p,E){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=E,p.m=5,Bo(p),ts(p)}function Bo(p){p.A||(p.A=!0,nn(p,"complete"),nn(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,nn(this,"complete"),nn(this,"abort"),ts(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ts(this,!0)),rt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?zo(this):this.bb())},n.bb=function(){zo(this)};function zo(p){if(p.h&&typeof l<"u"&&(!p.v[1]||di(p)!=4||p.Z()!=2)){if(p.u&&di(p)==4)Yh(p.Ea,0,p);else if(nn(p,"readystatechange"),di(p)==4){p.h=!1;try{const ce=p.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var b;if(!(b=E)){var M;if(M=ce===0){var W=String(p.D).match(Iu)[1]||null;!W&&c.self&&c.self.location&&(W=c.self.location.protocol.slice(0,-1)),M=!Uo.test(W?W.toLowerCase():"")}b=M}if(b)nn(p,"complete"),nn(p,"success");else{p.m=6;try{var X=2<di(p)?p.g.statusText:""}catch{X=""}p.l=X+" ["+p.Z()+"]",Bo(p)}}finally{ts(p)}}}}function ts(p,E){if(p.g){ja(p);const b=p.g,M=p.v[0]?()=>{}:null;p.g=null,p.v=null,E||nn(p,"ready");try{b.onreadystatechange=M}catch{}}}function ja(p){p.I&&(c.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function di(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<di(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var E=this.g.responseText;return p&&E.indexOf(p)==0&&(E=E.substring(p.length)),Ki(E)}};function ad(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Gm(p){const E={};p=(p.g&&2<=di(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<p.length;M++){if(I(p[M]))continue;var b=j(p[M]);const W=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const X=E[W]||[];E[W]=X,X.push(b)}k(E,function(M){return M.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ua(p,E,b){return b&&b.internalChannelParams&&b.internalChannelParams[p]||E}function Fo(p){this.Aa=0,this.i=[],this.j=new Er,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ua("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ua("baseRetryDelayMs",5e3,p),this.cb=Ua("retryDelaySeedMs",1e4,p),this.Wa=Ua("forwardChannelMaxRetries",2,p),this.wa=Ua("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new Au(p&&p.concurrentRequestLimit),this.Da=new La,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Fo.prototype,n.la=8,n.G=1,n.connect=function(p,E,b,M){kt(0),this.W=p,this.H=E||{},b&&M!==void 0&&(this.H.OSID=b,this.H.OAID=M),this.F=this.X,this.I=fd(this,null,this.W),qo(this)};function ku(p){if(od(p),p.G==3){var E=p.U++,b=At(p.I);if(tt(b,"SID",p.K),tt(b,"RID",E),tt(b,"TYPE","terminate"),Ba(p,b),E=new Qi(p,p.j,E),E.L=2,E.v=Oa(At(b)),b=!1,c.navigator&&c.navigator.sendBeacon)try{b=c.navigator.sendBeacon(E.v.toString(),"")}catch{}!b&&c.Image&&(new Image().src=E.v,b=!0),b||(E.g=pd(E.j,null),E.g.ea(E.v)),E.F=Date.now(),Et(E)}dd(p)}function Ho(p){p.g&&(za(p),p.g.cancel(),p.g=null)}function od(p){Ho(p),p.u&&(c.clearTimeout(p.u),p.u=null),Go(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&c.clearTimeout(p.s),p.s=null)}function qo(p){if(!Ru(p.h)&&!p.s){p.s=!0;var E=p.Ga;he||F(),ae||(he(),ae=!0),fe.add(E,p),p.B=0}}function $m(p,E){return td(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=E.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=_r(_(p.Ga,p,E),ju(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const W=new Qi(this,this.j,p);let X=this.o;if(this.S&&(X?(X=A(X),R(X,this.S)):X=this.S),this.m!==null||this.O||(W.H=X,X=null),this.P)e:{for(var E=0,b=0;b<this.i.length;b++){t:{var M=this.i[b];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(E+=M,4096<E){E=b;break e}if(E===4096||b===this.i.length-1){E=b+1;break e}}E=1e3}else E=1e3;E=ld(this,W,E),b=At(this.I),tt(b,"RID",p),tt(b,"CVER",22),this.D&&tt(b,"X-HTTP-Session-Id",this.D),Ba(this,b),X&&(this.O?E="headers="+encodeURIComponent(String(Ou(X)))+"&"+E:this.m&&rn(b,this.m,X)),Cr(this.h,W),this.Ua&&tt(b,"TYPE","init"),this.P?(tt(b,"$req",E),tt(b,"SID","null"),W.T=!0,Ii(W,b,null)):Ii(W,b,E),this.G=2}}else this.G==3&&(p?Lu(this,p):this.i.length==0||Ru(this.h)||Lu(this))};function Lu(p,E){var b;E?b=E.l:b=p.U++;const M=At(p.I);tt(M,"SID",p.K),tt(M,"RID",b),tt(M,"AID",p.T),Ba(p,M),p.m&&p.o&&rn(M,p.m,p.o),b=new Qi(p,p.j,b,p.B+1),p.m===null&&(b.H=p.o),E&&(p.i=E.D.concat(p.i)),E=ld(p,b,1e3),b.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),Cr(p.h,b),Ii(b,M,E)}function Ba(p,E){p.H&&Z(p.H,function(b,M){tt(E,M,b)}),p.l&&Da({},function(b,M){tt(E,M,b)})}function ld(p,E,b){b=Math.min(p.i.length,b);var M=p.l?_(p.l.Na,p.l,p):null;e:{var W=p.i;let X=-1;for(;;){const ce=["count="+b];X==-1?0<b?(X=W[0].g,ce.push("ofs="+X)):X=0:ce.push("ofs="+X);let Xe=!0;for(let Wt=0;Wt<b;Wt++){let Ze=W[Wt].g;const an=W[Wt].map;if(Ze-=X,0>Ze)X=Math.max(0,W[Wt].g-100),Xe=!1;else try{Zi(an,ce,"req"+Ze+"_")}catch{M&&M(an)}}if(Xe){M=ce.join("&");break e}}}return p=p.i.splice(0,b),E.D=p,M}function ud(p){if(!p.g&&!p.u){p.Y=1;var E=p.Fa;he||F(),ae||(he(),ae=!0),fe.add(E,p),p.v=0}}function Vu(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=_r(_(p.Fa,p),ju(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,cd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=_r(_(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,kt(10),Ho(this),cd(this))};function za(p){p.A!=null&&(c.clearTimeout(p.A),p.A=null)}function cd(p){p.g=new Qi(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var E=At(p.qa);tt(E,"RID","rpc"),tt(E,"SID",p.K),tt(E,"AID",p.T),tt(E,"CI",p.F?"0":"1"),!p.F&&p.ja&&tt(E,"TO",p.ja),tt(E,"TYPE","xmlhttp"),Ba(p,E),p.m&&p.o&&rn(E,p.m,p.o),p.L&&(p.g.I=p.L);var b=p.g;p=p.ia,b.L=1,b.v=Oa(At(E)),b.m=null,b.P=!0,Rs(b,p)}n.Za=function(){this.C!=null&&(this.C=null,Ho(this),Vu(this),kt(19))};function Go(p){p.C!=null&&(c.clearTimeout(p.C),p.C=null)}function hd(p,E){var b=null;if(p.g==E){Go(p),za(p),p.g=null;var M=2}else if(xr(p.h,E))b=E.D,li(p.h,E),M=1;else return;if(p.G!=0){if(E.o)if(M==1){b=E.m?E.m.length:0,E=Date.now()-E.F;var W=p.B;M=Do(),nn(M,new Zh(M,b)),qo(p)}else ud(p);else if(W=E.s,W==3||W==0&&0<E.X||!(M==1&&$m(p,E)||M==2&&Vu(p)))switch(b&&0<b.length&&(E=p.h,E.i=E.i.concat(b)),W){case 1:Os(p,5);break;case 4:Os(p,10);break;case 3:Os(p,6);break;default:Os(p,2)}}}function ju(p,E){let b=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(b*=2),b*E}function Os(p,E){if(p.j.info("Error code "+E),E==2){var b=_(p.fb,p),M=p.Xa;const W=!M;M=new Is(M||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ar(M,"https"),Oa(M),W?sd(M.toString(),b):ka(M.toString(),b)}else kt(2);p.G=0,p.l&&p.l.sa(E),dd(p),od(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function dd(p){if(p.G=0,p.ka=[],p.l){const E=Ln(p.h);(E.length!=0||p.i.length!=0)&&(V(p.ka,E),V(p.ka,p.i),p.h.i.length=0,O(p.i),p.i.length=0),p.l.ra()}}function fd(p,E,b){var M=b instanceof Is?At(b):new Is(b);if(M.g!="")E&&(M.g=E+"."+M.g),Ma(M,M.s);else{var W=c.location;M=W.protocol,E=E?E+"."+W.hostname:W.hostname,W=+W.port;var X=new Is(null);M&&Ar(X,M),E&&(X.g=E),W&&Ma(X,W),b&&(X.l=b),M=X}return b=p.D,E=p.ya,b&&E&&tt(M,b,E),tt(M,"VER",p.la),Ba(p,M),M}function pd(p,E,b){if(E&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=p.Ca&&!p.pa?new rt(new Ir({eb:b})):new rt(p.pa),E.Ha(p.J),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function md(){}n=md.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function $o(){}$o.prototype.g=function(p,E){return new Vn(p,E)};function Vn(p,E){Ot.call(this),this.g=new Fo(E),this.l=p,this.h=E&&E.messageUrlParams||null,p=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(p?p["X-WebChannel-Content-Type"]=E.messageContentType:p={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(p?p["X-WebChannel-Client-Profile"]=E.va:p={"X-WebChannel-Client-Profile":E.va}),this.g.S=p,(p=E&&E.Sb)&&!I(p)&&(this.g.m=p),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!I(E)&&(this.g.D=E,p=this.h,p!==null&&E in p&&(p=this.h,E in p&&delete p[E])),this.j=new ns(this)}x(Vn,Ot),Vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Vn.prototype.close=function(){ku(this.g)},Vn.prototype.o=function(p){var E=this.g;if(typeof p=="string"){var b={};b.__data__=p,p=b}else this.u&&(b={},b.__data__=wu(p),p=b);E.i.push(new Bm(E.Ya++,p)),E.G==3&&qo(E)},Vn.prototype.N=function(){this.g.l=null,delete this.j,ku(this.g),delete this.g,Vn.aa.N.call(this)};function gd(p){gr.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var E=p.__sm__;if(E){e:{for(const b in E){p=b;break e}p=void 0}(this.i=p)&&(p=this.i,E=E!==null&&p in E?E[p]:void 0),this.data=E}else this.data=p}x(gd,gr);function yd(){Ri.call(this),this.status=1}x(yd,Ri);function ns(p){this.g=p}x(ns,md),ns.prototype.ua=function(){nn(this.g,"a")},ns.prototype.ta=function(p){nn(this.g,new gd(p))},ns.prototype.sa=function(p){nn(this.g,new yd)},ns.prototype.ra=function(){nn(this.g,"b")},$o.prototype.createWebChannel=$o.prototype.g,Vn.prototype.send=Vn.prototype.o,Vn.prototype.open=Vn.prototype.m,Vn.prototype.close=Vn.prototype.close,lN=function(){return new $o},oN=function(){return Do()},aN=oi,p_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Kt.NO_ERROR=0,Kt.TIMEOUT=8,Kt.HTTP_ERROR=6,Hf=Kt,As.COMPLETE="complete",rN=As,Xh.EventType=Wi,Wi.OPEN="a",Wi.CLOSE="b",Wi.ERROR="c",Wi.MESSAGE="d",Ot.prototype.listen=Ot.prototype.K,Bc=Xh,rt.prototype.listenOnce=rt.prototype.L,rt.prototype.getLastError=rt.prototype.Ka,rt.prototype.getLastErrorCode=rt.prototype.Ba,rt.prototype.getStatus=rt.prototype.Z,rt.prototype.getResponseJson=rt.prototype.Oa,rt.prototype.getResponseText=rt.prototype.oa,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Ha,sN=rt}).apply(typeof bf<"u"?bf:typeof self<"u"?self:typeof window<"u"?window:{});const Jx="@firebase/firestore",e2="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nn.UNAUTHENTICATED=new Nn(null),Nn.GOOGLE_CREDENTIALS=new Nn("google-credentials-uid"),Nn.FIRST_PARTY=new Nn("first-party-uid"),Nn.MOCK_USER=new Nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gu="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=new sm("@firebase/firestore");function El(){return To.logLevel}function ge(n,...e){if(To.logLevel<=ze.DEBUG){const t=e.map(_E);To.debug(`Firestore (${gu}): ${n}`,...t)}}function dr(n,...e){if(To.logLevel<=ze.ERROR){const t=e.map(_E);To.error(`Firestore (${gu}): ${n}`,...t)}}function Xl(n,...e){if(To.logLevel<=ze.WARN){const t=e.map(_E);To.warn(`Firestore (${gu}): ${n}`,...t)}}function _E(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(n="Unexpected state"){const e=`FIRESTORE (${gu}) INTERNAL ASSERTION FAILED: `+n;throw dr(e),new Error(e)}function at(n,e){n||Ie()}function De(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends pr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ZU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Nn.UNAUTHENTICATED))}shutdown(){}}class JU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class eB{constructor(e){this.t=e,this.currentUser=Nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){at(this.o===void 0);let i=this.i;const s=h=>this.i!==i?(i=this.i,t(h)):Promise.resolve();let o=new ca;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ca,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const h=o;e.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},c=h=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ca)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(at(typeof i.accessToken=="string"),new uN(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string"),new Nn(e)}}class tB{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Nn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class nB{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new tB(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class t2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iB{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,xi(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){at(this.o===void 0);const i=o=>{o.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,ge("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const s=o=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?s(o):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new t2(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(at(typeof t.token=="string"),this.R=t.token,new t2(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sB(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=sB(40);for(let o=0;o<s.length;++o)i.length<20&&s[o]<t&&(i+=e.charAt(s[o]%62))}return i}}function $e(n,e){return n<e?-1:n>e?1:0}function Zl(n,e,t){return n.length===e.length&&n.every((i,s)=>t(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2=-62135596800,i2=1e6;class en{static now(){return en.fromMillis(Date.now())}static fromDate(e){return en.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*i2);return new en(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new be(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new be(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<n2)throw new be(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/i2}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-n2;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new en(0,0))}static max(){return new Ne(new en(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2="__name__";class us{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ie(),i===void 0?i=e.length-t:i>e.length-t&&Ie(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return us.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof us?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let s=0;s<i;s++){const o=us.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return Math.sign(e.length-t.length)}static compareSegments(e,t){const i=us.isNumericId(e),s=us.isNumericId(t);return i&&!s?-1:!i&&s?1:i&&s?us.extractNumericId(e).compare(us.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ua.fromString(e.substring(4,e.length-2))}}class vt extends us{construct(e,t,i){return new vt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new be(le.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(s=>s.length>0))}return new vt(t)}static emptyPath(){return new vt([])}}const rB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wn extends us{construct(e,t,i){return new wn(e,t,i)}static isValidIdentifier(e){return rB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===s2}static keyField(){return new wn([s2])}static fromServerFormat(e){const t=[];let i="",s=0;const o=()=>{if(i.length===0)throw new be(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let l=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new be(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new be(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(i+=c,s++):(o(),s++)}if(o(),l)throw new be(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wn(t)}static emptyPath(){return new wn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(vt.fromString(e))}static fromName(e){return new Se(vt.fromString(e).popFirst(5))}static empty(){return new Se(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return vt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new vt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=-1;function aB(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=Ne.fromTimestamp(i===1e9?new en(t+1,0):new en(t,i));return new va(s,Se.empty(),e)}function oB(n){return new va(n.readTime,n.key,wh)}class va{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new va(Ne.min(),Se.empty(),wh)}static max(){return new va(Ne.max(),Se.empty(),wh)}}function lB(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Se.comparator(n.documentKey,e.documentKey),t!==0?t:$e(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yu(n){if(n.code!==le.FAILED_PRECONDITION||n.message!==uB)throw n;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne((i,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.reject(t)}static resolve(e){return new ne((t,i)=>{t(e)})}static reject(e){return new ne((t,i)=>{i(e)})}static waitFor(e){return new ne((t,i)=>{let s=0,o=0,l=!1;e.forEach(c=>{++s,c.next(()=>{++o,l&&o===s&&t()},h=>i(h))}),l=!0,o===s&&t()})}static or(e){let t=ne.resolve(!1);for(const i of e)t=t.next(s=>s?ne.resolve(s):i());return t}static forEach(e,t){const i=[];return e.forEach((s,o)=>{i.push(t.call(this,s,o))}),this.waitFor(i)}static mapArray(e,t){return new ne((i,s)=>{const o=e.length,l=new Array(o);let c=0;for(let h=0;h<o;h++){const f=h;t(e[f]).next(g=>{l[f]=g,++c,c===o&&i(l)},g=>s(g))}})}static doWhile(e,t){return new ne((i,s)=>{const o=()=>{e()===!0?t().next(()=>{o()},s):i()};o()})}}function hB(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function vu(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.oe(i),this._e=i=>t.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Tm.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=-1;function wm(n){return n==null}function Np(n){return n===0&&1/n==-1/0}function dB(n){return typeof n=="number"&&Number.isInteger(n)&&!Np(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN="";function fB(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=r2(e)),e=pB(n.get(t),e);return r2(e)}function pB(n,e){let t=e;const i=n.length;for(let s=0;s<i;s++){const o=n.charAt(s);switch(o){case"\0":t+="";break;case hN:t+="";break;default:t+=o}}return t}function r2(n){return n+hN+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Aa(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function dN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,t){this.comparator=e,this.root=t||En.EMPTY}insert(e,t){return new xt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,En.BLACK,null,null))}remove(e){return new xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,En.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return t+i.left.size;s<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sf(this.root,e,this.comparator,!0)}}class Sf{constructor(e,t,i,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class En{constructor(e,t,i,s,o){this.key=e,this.value=t,this.color=i??En.RED,this.left=s??En.EMPTY,this.right=o??En.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,s,o){return new En(e??this.key,t??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const o=i(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,i),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return En.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return En.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,En.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,En.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ie();const e=this.left.check();if(e!==this.right.check())throw Ie();return e+(this.isRed()?0:1)}}En.EMPTY=null,En.RED=!0,En.BLACK=!1;En.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie()}get value(){throw Ie()}get color(){throw Ie()}get left(){throw Ie()}get right(){throw Ie()}copy(e,t,i,s,o){return this}insert(e,t,i){return new En(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.comparator=e,this.data=new xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new o2(this.data.getIterator())}getIteratorFrom(e){return new o2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof tn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=i.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new tn(this.comparator);return t.data=e,t}}class o2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this.fields=e,e.sort(wn.comparator)}static empty(){return new ii([])}unionWith(e){let t=new tn(wn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new ii(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Zl(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new fN("Invalid base64 string: "+o):o}}(e);return new Sn(t)}static fromUint8Array(e){const t=function(s){let o="";for(let l=0;l<s.length;++l)o+=String.fromCharCode(s[l]);return o}(e);return new Sn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sn.EMPTY_BYTE_STRING=new Sn("");const mB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _a(n){if(at(!!n),typeof n=="string"){let e=0;const t=mB.exec(n);if(at(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:jt(n.seconds),nanos:jt(n.nanos)}}function jt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ea(n){return typeof n=="string"?Sn.fromBase64String(n):Sn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN="server_timestamp",mN="__type__",gN="__previous_value__",yN="__local_write_time__";function TE(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[mN])===null||t===void 0?void 0:t.stringValue)===pN}function bm(n){const e=n.mapValue.fields[gN];return TE(e)?bm(e):e}function bh(n){const e=_a(n.mapValue.fields[yN].timestampValue);return new en(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gB{constructor(e,t,i,s,o,l,c,h,f){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=s,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=f}}const Pp="(default)";class Sh{constructor(e,t){this.projectId=e,this.database=t||Pp}static empty(){return new Sh("","")}get isDefaultDatabase(){return this.database===Pp}isEqual(e){return e instanceof Sh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN="__type__",yB="__max__",xf={mapValue:{}},_N="__vector__",Dp="value";function Ta(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?TE(n)?4:_B(n)?9007199254740991:vB(n)?10:11:Ie()}function Ts(n,e){if(n===e)return!0;const t=Ta(n);if(t!==Ta(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return bh(n).isEqual(bh(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const l=_a(s.timestampValue),c=_a(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,o){return Ea(s.bytesValue).isEqual(Ea(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,o){return jt(s.geoPointValue.latitude)===jt(o.geoPointValue.latitude)&&jt(s.geoPointValue.longitude)===jt(o.geoPointValue.longitude)}(n,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return jt(s.integerValue)===jt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const l=jt(s.doubleValue),c=jt(o.doubleValue);return l===c?Np(l)===Np(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return Zl(n.arrayValue.values||[],e.arrayValue.values||[],Ts);case 10:case 11:return function(s,o){const l=s.mapValue.fields||{},c=o.mapValue.fields||{};if(a2(l)!==a2(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!Ts(l[h],c[h])))return!1;return!0}(n,e);default:return Ie()}}function xh(n,e){return(n.values||[]).find(t=>Ts(t,e))!==void 0}function Jl(n,e){if(n===e)return 0;const t=Ta(n),i=Ta(e);if(t!==i)return $e(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return $e(n.booleanValue,e.booleanValue);case 2:return function(o,l){const c=jt(o.integerValue||o.doubleValue),h=jt(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,e);case 3:return l2(n.timestampValue,e.timestampValue);case 4:return l2(bh(n),bh(e));case 5:return $e(n.stringValue,e.stringValue);case 6:return function(o,l){const c=Ea(o),h=Ea(l);return c.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const c=o.split("/"),h=l.split("/");for(let f=0;f<c.length&&f<h.length;f++){const g=$e(c[f],h[f]);if(g!==0)return g}return $e(c.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const c=$e(jt(o.latitude),jt(l.latitude));return c!==0?c:$e(jt(o.longitude),jt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return u2(n.arrayValue,e.arrayValue);case 10:return function(o,l){var c,h,f,g;const y=o.fields||{},_=l.fields||{},w=(c=y[Dp])===null||c===void 0?void 0:c.arrayValue,x=(h=_[Dp])===null||h===void 0?void 0:h.arrayValue,O=$e(((f=w==null?void 0:w.values)===null||f===void 0?void 0:f.length)||0,((g=x==null?void 0:x.values)===null||g===void 0?void 0:g.length)||0);return O!==0?O:u2(w,x)}(n.mapValue,e.mapValue);case 11:return function(o,l){if(o===xf.mapValue&&l===xf.mapValue)return 0;if(o===xf.mapValue)return 1;if(l===xf.mapValue)return-1;const c=o.fields||{},h=Object.keys(c),f=l.fields||{},g=Object.keys(f);h.sort(),g.sort();for(let y=0;y<h.length&&y<g.length;++y){const _=$e(h[y],g[y]);if(_!==0)return _;const w=Jl(c[h[y]],f[g[y]]);if(w!==0)return w}return $e(h.length,g.length)}(n.mapValue,e.mapValue);default:throw Ie()}}function l2(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return $e(n,e);const t=_a(n),i=_a(e),s=$e(t.seconds,i.seconds);return s!==0?s:$e(t.nanos,i.nanos)}function u2(n,e){const t=n.values||[],i=e.values||[];for(let s=0;s<t.length&&s<i.length;++s){const o=Jl(t[s],i[s]);if(o)return o}return $e(t.length,i.length)}function eu(n){return m_(n)}function m_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=_a(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ea(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Se.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",s=!0;for(const o of t.values||[])s?s=!1:i+=",",i+=m_(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const l of i)o?o=!1:s+=",",s+=`${l}:${m_(t.fields[l])}`;return s+"}"}(n.mapValue):Ie()}function qf(n){switch(Ta(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bm(n);return e?16+qf(e):16;case 5:return 2*n.stringValue.length;case 6:return Ea(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,o)=>s+qf(o),0)}(n.arrayValue);case 10:case 11:return function(i){let s=0;return Aa(i.fields,(o,l)=>{s+=o.length+qf(l)}),s}(n.mapValue);default:throw Ie()}}function g_(n){return!!n&&"integerValue"in n}function wE(n){return!!n&&"arrayValue"in n}function c2(n){return!!n&&"nullValue"in n}function h2(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Gf(n){return!!n&&"mapValue"in n}function vB(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[vN])===null||t===void 0?void 0:t.stringValue)===_N}function Zc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Aa(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Zc(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Zc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function _B(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===yB}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.value=e}static empty(){return new $n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Gf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zc(t)}setAll(e){let t=wn.emptyPath(),i={},s=[];e.forEach((l,c)=>{if(!t.isImmediateParentOf(c)){const h=this.getFieldsMap(t);this.applyChanges(h,i,s),i={},s=[],t=c.popLast()}l?i[c.lastSegment()]=Zc(l):s.push(c.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,i,s)}delete(e){const t=this.field(e.popLast());Gf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ts(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=t.mapValue.fields[e.get(i)];Gf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,i){Aa(t,(s,o)=>e[s]=o);for(const s of i)delete e[s]}clone(){return new $n(Zc(this.value))}}function EN(n){const e=[];return Aa(n.fields,(t,i)=>{const s=new wn([t]);if(Gf(i)){const o=EN(i.mapValue).fields;if(o.length===0)e.push(s);else for(const l of o)e.push(s.child(l))}else e.push(s)}),new ii(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e,t,i,s,o,l,c){this.key=e,this.documentType=t,this.version=i,this.readTime=s,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Pn(e,0,Ne.min(),Ne.min(),Ne.min(),$n.empty(),0)}static newFoundDocument(e,t,i,s){return new Pn(e,1,t,Ne.min(),i,s,0)}static newNoDocument(e,t){return new Pn(e,2,t,Ne.min(),Ne.min(),$n.empty(),0)}static newUnknownDocument(e,t){return new Pn(e,3,t,Ne.min(),Ne.min(),$n.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,t){this.position=e,this.inclusive=t}}function d2(n,e,t){let i=0;for(let s=0;s<n.position.length;s++){const o=e[s],l=n.position[s];if(o.field.isKeyField()?i=Se.comparator(Se.fromName(l.referenceValue),t.key):i=Jl(l,t.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function f2(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ts(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,t="asc"){this.field=e,this.dir=t}}function EB(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{}class Jt extends TN{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new wB(e,t,i):t==="array-contains"?new xB(e,i):t==="in"?new CB(e,i):t==="not-in"?new AB(e,i):t==="array-contains-any"?new RB(e,i):new Jt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new bB(e,i):new SB(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Jl(t,this.value)):t!==null&&Ta(this.value)===Ta(t)&&this.matchesComparison(Jl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ws extends TN{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new ws(e,t)}matches(e){return wN(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function wN(n){return n.op==="and"}function bN(n){return TB(n)&&wN(n)}function TB(n){for(const e of n.filters)if(e instanceof ws)return!1;return!0}function y_(n){if(n instanceof Jt)return n.field.canonicalString()+n.op.toString()+eu(n.value);if(bN(n))return n.filters.map(e=>y_(e)).join(",");{const e=n.filters.map(t=>y_(t)).join(",");return`${n.op}(${e})`}}function SN(n,e){return n instanceof Jt?function(i,s){return s instanceof Jt&&i.op===s.op&&i.field.isEqual(s.field)&&Ts(i.value,s.value)}(n,e):n instanceof ws?function(i,s){return s instanceof ws&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((o,l,c)=>o&&SN(l,s.filters[c]),!0):!1}(n,e):void Ie()}function xN(n){return n instanceof Jt?function(t){return`${t.field.canonicalString()} ${t.op} ${eu(t.value)}`}(n):n instanceof ws?function(t){return t.op.toString()+" {"+t.getFilters().map(xN).join(" ,")+"}"}(n):"Filter"}class wB extends Jt{constructor(e,t,i){super(e,t,i),this.key=Se.fromName(i.referenceValue)}matches(e){const t=Se.comparator(e.key,this.key);return this.matchesComparison(t)}}class bB extends Jt{constructor(e,t){super(e,"in",t),this.keys=CN("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class SB extends Jt{constructor(e,t){super(e,"not-in",t),this.keys=CN("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function CN(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Se.fromName(i.referenceValue))}class xB extends Jt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return wE(t)&&xh(t.arrayValue,this.value)}}class CB extends Jt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&xh(this.value.arrayValue,t)}}class AB extends Jt{constructor(e,t){super(e,"not-in",t)}matches(e){if(xh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!xh(this.value.arrayValue,t)}}class RB extends Jt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!wE(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>xh(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IB{constructor(e,t=null,i=[],s=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=s,this.limit=o,this.startAt=l,this.endAt=c,this.le=null}}function p2(n,e=null,t=[],i=[],s=null,o=null,l=null){return new IB(n,e,t,i,s,o,l)}function bE(n){const e=De(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>y_(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),wm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>eu(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>eu(i)).join(",")),e.le=t}return e.le}function SE(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!EB(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!SN(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!f2(n.startAt,e.startAt)&&f2(n.endAt,e.endAt)}function v_(n){return Se.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e,t=null,i=[],s=[],o=null,l="F",c=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=s,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=h,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function NB(n,e,t,i,s,o,l,c){return new Sm(n,e,t,i,s,o,l,c)}function xE(n){return new Sm(n)}function m2(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function PB(n){return n.collectionGroup!==null}function Jc(n){const e=De(n);if(e.he===null){e.he=[];const t=new Set;for(const o of e.explicitOrderBy)e.he.push(o),t.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new tn(wn.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.he.push(new Op(o,i))}),t.has(wn.keyField().canonicalString())||e.he.push(new Op(wn.keyField(),i))}return e.he}function vs(n){const e=De(n);return e.Pe||(e.Pe=DB(e,Jc(n))),e.Pe}function DB(n,e){if(n.limitType==="F")return p2(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new Op(s.field,o)});const t=n.endAt?new Mp(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Mp(n.startAt.position,n.startAt.inclusive):null;return p2(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function __(n,e,t){return new Sm(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function xm(n,e){return SE(vs(n),vs(e))&&n.limitType===e.limitType}function AN(n){return`${bE(vs(n))}|lt:${n.limitType}`}function Tl(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(s=>xN(s)).join(", ")}]`),wm(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>eu(s)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>eu(s)).join(",")),`Target(${i})`}(vs(n))}; limitType=${n.limitType})`}function Cm(n,e){return e.isFoundDocument()&&function(i,s){const o=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Se.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,e)&&function(i,s){for(const o of Jc(i))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(n,e)&&function(i,s){for(const o of i.filters)if(!o.matches(s))return!1;return!0}(n,e)&&function(i,s){return!(i.startAt&&!function(l,c,h){const f=d2(l,c,h);return l.inclusive?f<=0:f<0}(i.startAt,Jc(i),s)||i.endAt&&!function(l,c,h){const f=d2(l,c,h);return l.inclusive?f>=0:f>0}(i.endAt,Jc(i),s))}(n,e)}function MB(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function RN(n){return(e,t)=>{let i=!1;for(const s of Jc(n)){const o=OB(s,e,t);if(o!==0)return o;i=i||s.field.isKeyField()}return 0}}function OB(n,e,t){const i=n.field.isKeyField()?Se.comparator(e.key,t.key):function(o,l,c){const h=l.data.field(o),f=c.data.field(o);return h!==null&&f!==null?Jl(h,f):Ie()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[s,o]of i)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[t]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Aa(this.inner,(t,i)=>{for(const[s,o]of i)e(s,o)})}isEmpty(){return dN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kB=new xt(Se.comparator);function fr(){return kB}const IN=new xt(Se.comparator);function zc(...n){let e=IN;for(const t of n)e=e.insert(t.key,t);return e}function NN(n){let e=IN;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function fo(){return eh()}function PN(){return eh()}function eh(){return new No(n=>n.toString(),(n,e)=>n.isEqual(e))}const LB=new xt(Se.comparator),VB=new tn(Se.comparator);function qe(...n){let e=VB;for(const t of n)e=e.add(t);return e}const jB=new tn($e);function UB(){return jB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Np(e)?"-0":e}}function DN(n){return{integerValue:""+n}}function BB(n,e){return dB(e)?DN(e):CE(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(){this._=void 0}}function zB(n,e,t){return n instanceof kp?function(s,o){const l={fields:{[mN]:{stringValue:pN},[yN]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&TE(o)&&(o=bm(o)),o&&(l.fields[gN]=o),{mapValue:l}}(t,e):n instanceof Ch?ON(n,e):n instanceof Ah?kN(n,e):function(s,o){const l=MN(s,o),c=g2(l)+g2(s.Ie);return g_(l)&&g_(s.Ie)?DN(c):CE(s.serializer,c)}(n,e)}function FB(n,e,t){return n instanceof Ch?ON(n,e):n instanceof Ah?kN(n,e):t}function MN(n,e){return n instanceof Lp?function(i){return g_(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}class kp extends Am{}class Ch extends Am{constructor(e){super(),this.elements=e}}function ON(n,e){const t=LN(e);for(const i of n.elements)t.some(s=>Ts(s,i))||t.push(i);return{arrayValue:{values:t}}}class Ah extends Am{constructor(e){super(),this.elements=e}}function kN(n,e){let t=LN(e);for(const i of n.elements)t=t.filter(s=>!Ts(s,i));return{arrayValue:{values:t}}}class Lp extends Am{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function g2(n){return jt(n.integerValue||n.doubleValue)}function LN(n){return wE(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function HB(n,e){return n.field.isEqual(e.field)&&function(i,s){return i instanceof Ch&&s instanceof Ch||i instanceof Ah&&s instanceof Ah?Zl(i.elements,s.elements,Ts):i instanceof Lp&&s instanceof Lp?Ts(i.Ie,s.Ie):i instanceof kp&&s instanceof kp}(n.transform,e.transform)}class qB{constructor(e,t){this.version=e,this.transformResults=t}}class ji{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ji}static exists(e){return new ji(void 0,e)}static updateTime(e){return new ji(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $f(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Rm{}function VN(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new AE(n.key,ji.none()):new Hh(n.key,n.data,ji.none());{const t=n.data,i=$n.empty();let s=new tn(wn.comparator);for(let o of e.fields)if(!s.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?i.delete(o):i.set(o,l),s=s.add(o)}return new Ra(n.key,i,new ii(s.toArray()),ji.none())}}function GB(n,e,t){n instanceof Hh?function(s,o,l){const c=s.value.clone(),h=v2(s.fieldTransforms,o,l.transformResults);c.setAll(h),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Ra?function(s,o,l){if(!$f(s.precondition,o))return void o.convertToUnknownDocument(l.version);const c=v2(s.fieldTransforms,o,l.transformResults),h=o.data;h.setAll(jN(s)),h.setAll(c),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):function(s,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function th(n,e,t,i){return n instanceof Hh?function(o,l,c,h){if(!$f(o.precondition,l))return c;const f=o.value.clone(),g=_2(o.fieldTransforms,h,l);return f.setAll(g),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(n,e,t,i):n instanceof Ra?function(o,l,c,h){if(!$f(o.precondition,l))return c;const f=_2(o.fieldTransforms,h,l),g=l.data;return g.setAll(jN(o)),g.setAll(f),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(y=>y.field))}(n,e,t,i):function(o,l,c){return $f(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(n,e,t)}function $B(n,e){let t=null;for(const i of n.fieldTransforms){const s=e.data.field(i.field),o=MN(i.transform,s||null);o!=null&&(t===null&&(t=$n.empty()),t.set(i.field,o))}return t||null}function y2(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Zl(i,s,(o,l)=>HB(o,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Hh extends Rm{constructor(e,t,i,s=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ra extends Rm{constructor(e,t,i,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function jN(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function v2(n,e,t){const i=new Map;at(n.length===t.length);for(let s=0;s<t.length;s++){const o=n[s],l=o.transform,c=e.data.field(o.field);i.set(o.field,FB(l,c,t[s]))}return i}function _2(n,e,t){const i=new Map;for(const s of n){const o=s.transform,l=t.data.field(s.field);i.set(s.field,zB(o,l,e))}return i}class AE extends Rm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KB extends Rm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{constructor(e,t,i,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&GB(o,e,i[s])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=th(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=th(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=PN();return this.mutations.forEach(s=>{const o=e.get(s.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=t.has(s.key)?null:c;const h=VN(l,c);h!==null&&i.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(Ne.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),qe())}isEqual(e){return this.batchId===e.batchId&&Zl(this.mutations,e.mutations,(t,i)=>y2(t,i))&&Zl(this.baseMutations,e.baseMutations,(t,i)=>y2(t,i))}}class RE{constructor(e,t,i,s){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=s}static from(e,t,i){at(e.mutations.length===i.length);let s=function(){return LB}();const o=e.mutations;for(let l=0;l<o.length;l++)s=s.insert(o[l].key,i[l].version);return new RE(e,t,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QB{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht,et;function XB(n){switch(n){case le.OK:return Ie();case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Ie()}}function UN(n){if(n===void 0)return dr("GRPC error has no .code"),le.UNKNOWN;switch(n){case Ht.OK:return le.OK;case Ht.CANCELLED:return le.CANCELLED;case Ht.UNKNOWN:return le.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return le.INTERNAL;case Ht.UNAVAILABLE:return le.UNAVAILABLE;case Ht.UNAUTHENTICATED:return le.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case Ht.NOT_FOUND:return le.NOT_FOUND;case Ht.ALREADY_EXISTS:return le.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return le.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case Ht.ABORTED:return le.ABORTED;case Ht.OUT_OF_RANGE:return le.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return le.UNIMPLEMENTED;case Ht.DATA_LOSS:return le.DATA_LOSS;default:return Ie()}}(et=Ht||(Ht={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZB(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JB=new ua([4294967295,4294967295],0);function E2(n){const e=ZB().encode(n),t=new iN;return t.update(e),new Uint8Array(t.digest())}function T2(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ua([t,i],0),new ua([s,o],0)]}class IE{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Fc(`Invalid padding: ${t}`);if(i<0)throw new Fc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Fc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Fc(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=ua.fromNumber(this.Ee)}Ae(e,t,i){let s=e.add(t.multiply(ua.fromNumber(i)));return s.compare(JB)===1&&(s=new ua([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=E2(e),[i,s]=T2(t);for(let o=0;o<this.hashCount;o++){const l=this.Ae(i,s,o);if(!this.Re(l))return!1}return!0}static create(e,t,i){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new IE(o,s,t);return i.forEach(c=>l.insert(c)),l}insert(e){if(this.Ee===0)return;const t=E2(e),[i,s]=T2(t);for(let o=0;o<this.hashCount;o++){const l=this.Ae(i,s,o);this.Ve(l)}}Ve(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Fc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,t,i,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const s=new Map;return s.set(e,qh.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Im(Ne.min(),s,new xt($e),fr(),qe())}}class qh{constructor(e,t,i,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new qh(i,t,qe(),qe(),qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e,t,i,s){this.me=e,this.removedTargetIds=t,this.key=i,this.fe=s}}class BN{constructor(e,t){this.targetId=e,this.ge=t}}class zN{constructor(e,t,i=Sn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=s}}class w2{constructor(){this.pe=0,this.ye=b2(),this.we=Sn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=qe(),t=qe(),i=qe();return this.ye.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:i=i.add(s);break;default:Ie()}}),new qh(this.we,this.Se,e,t,i)}Me(){this.be=!1,this.ye=b2()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,at(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class ez{constructor(e){this.ke=e,this.qe=new Map,this.Qe=fr(),this.$e=Cf(),this.Ke=Cf(),this.Ue=new xt($e)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(t);break;case 3:this.Je(t)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Ce(e.resumeToken));break;default:Ie()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((i,s)=>{this.Je(s)&&t(s)})}Ze(e){const t=e.targetId,i=e.ge.count,s=this.Xe(t);if(s){const o=s.target;if(v_(o))if(i===0){const l=new Se(o.path);this.ze(t,l,Pn.newNoDocument(l,Ne.min()))}else at(i===1);else{const l=this.et(t);if(l!==i){const c=this.tt(e),h=c?this.nt(c,e,l):1;if(h!==0){this.Ye(t);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,f)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=t;let l,c;try{l=Ea(i).toUint8Array()}catch(h){if(h instanceof fN)return Xl("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new IE(l,s,o)}catch(h){return Xl(h instanceof Fc?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.Ee===0?null:c}nt(e,t,i){return t.ge.count===i-this.st(e,t.targetId)?0:2}st(e,t){const i=this.ke.getRemoteKeysForTarget(t);let s=0;return i.forEach(o=>{const l=this.ke.it(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.ze(t,o,null),s++)}),s}ot(e){const t=new Map;this.qe.forEach((o,l)=>{const c=this.Xe(l);if(c){if(o.current&&v_(c.target)){const h=new Se(c.target.path);this._t(h).has(l)||this.ut(l,h)||this.ze(l,h,Pn.newNoDocument(h,e))}o.ve&&(t.set(l,o.Fe()),o.Me())}});let i=qe();this.Ke.forEach((o,l)=>{let c=!0;l.forEachWhile(h=>{const f=this.Xe(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(o))}),this.Qe.forEach((o,l)=>l.setReadTime(e));const s=new Im(e,t,this.Ue,this.Qe,i);return this.Qe=fr(),this.$e=Cf(),this.Ke=Cf(),this.Ue=new xt($e),s}Ge(e,t){if(!this.Je(e))return;const i=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,i),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const s=this.He(e);this.ut(e,t)?s.xe(t,1):s.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),i&&(this.Qe=this.Qe.insert(t,i))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new w2,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new tn($e),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new tn($e),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ge("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new w2),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Cf(){return new xt(Se.comparator)}function b2(){return new xt(Se.comparator)}const tz={asc:"ASCENDING",desc:"DESCENDING"},nz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iz={and:"AND",or:"OR"};class sz{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function E_(n,e){return n.useProto3Json||wm(e)?e:{value:e}}function Vp(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FN(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function rz(n,e){return Vp(n,e.toTimestamp())}function _s(n){return at(!!n),Ne.fromTimestamp(function(t){const i=_a(t);return new en(i.seconds,i.nanos)}(n))}function NE(n,e){return T_(n,e).canonicalString()}function T_(n,e){const t=function(s){return new vt(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function HN(n){const e=vt.fromString(n);return at(WN(e)),e}function w_(n,e){return NE(n.databaseId,e.path)}function gv(n,e){const t=HN(e);if(t.get(1)!==n.databaseId.projectId)throw new be(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new be(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Se(GN(t))}function qN(n,e){return NE(n.databaseId,e)}function az(n){const e=HN(n);return e.length===4?vt.emptyPath():GN(e)}function b_(n){return new vt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function GN(n){return at(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function S2(n,e,t){return{name:w_(n,e),fields:t.value.mapValue.fields}}function oz(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(f,g){return f.useProto3Json?(at(g===void 0||typeof g=="string"),Sn.fromBase64String(g||"")):(at(g===void 0||g instanceof Buffer||g instanceof Uint8Array),Sn.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(f){const g=f.code===void 0?le.UNKNOWN:UN(f.code);return new be(g,f.message||"")}(l);t=new zN(i,s,o,c||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=gv(n,i.document.name),o=_s(i.document.updateTime),l=i.document.createTime?_s(i.document.createTime):Ne.min(),c=new $n({mapValue:{fields:i.document.fields}}),h=Pn.newFoundDocument(s,o,l,c),f=i.targetIds||[],g=i.removedTargetIds||[];t=new Kf(f,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=gv(n,i.document),o=i.readTime?_s(i.readTime):Ne.min(),l=Pn.newNoDocument(s,o),c=i.removedTargetIds||[];t=new Kf([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=gv(n,i.document),o=i.removedTargetIds||[];t=new Kf([],o,s,null)}else{if(!("filter"in e))return Ie();{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:o}=i,l=new QB(s,o),c=i.targetId;t=new BN(c,l)}}return t}function lz(n,e){let t;if(e instanceof Hh)t={update:S2(n,e.key,e.value)};else if(e instanceof AE)t={delete:w_(n,e.key)};else if(e instanceof Ra)t={update:S2(n,e.key,e.data),updateMask:yz(e.fieldMask)};else{if(!(e instanceof KB))return Ie();t={verify:w_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(o,l){const c=l.transform;if(c instanceof kp)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ch)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Ah)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Lp)return{fieldPath:l.field.canonicalString(),increment:c.Ie};throw Ie()}(0,i))),e.precondition.isNone||(t.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:rz(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ie()}(n,e.precondition)),t}function uz(n,e){return n&&n.length>0?(at(e!==void 0),n.map(t=>function(s,o){let l=s.updateTime?_s(s.updateTime):_s(o);return l.isEqual(Ne.min())&&(l=_s(o)),new qB(l,s.transformResults||[])}(t,e))):[]}function cz(n,e){return{documents:[qN(n,e.path)]}}function hz(n,e){const t={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=qN(n,s);const o=function(f){if(f.length!==0)return KN(ws.create(f,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const l=function(f){if(f.length!==0)return f.map(g=>function(_){return{field:wl(_.field),direction:pz(_.dir)}}(g))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=E_(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{ht:t,parent:s}}function dz(n){let e=az(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let s=null;if(i>0){at(i===1);const g=t.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=function(y){const _=$N(y);return _ instanceof ws&&bN(_)?_.getFilters():[_]}(t.where));let l=[];t.orderBy&&(l=function(y){return y.map(_=>function(x){return new Op(bl(x.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(_))}(t.orderBy));let c=null;t.limit&&(c=function(y){let _;return _=typeof y=="object"?y.value:y,wm(_)?null:_}(t.limit));let h=null;t.startAt&&(h=function(y){const _=!!y.before,w=y.values||[];return new Mp(w,_)}(t.startAt));let f=null;return t.endAt&&(f=function(y){const _=!y.before,w=y.values||[];return new Mp(w,_)}(t.endAt)),NB(e,s,l,o,c,"F",h,f)}function fz(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function $N(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=bl(t.unaryFilter.field);return Jt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=bl(t.unaryFilter.field);return Jt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=bl(t.unaryFilter.field);return Jt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=bl(t.unaryFilter.field);return Jt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Ie()}}(n):n.fieldFilter!==void 0?function(t){return Jt.create(bl(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ie()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ws.create(t.compositeFilter.filters.map(i=>$N(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ie()}}(t.compositeFilter.op))}(n):Ie()}function pz(n){return tz[n]}function mz(n){return nz[n]}function gz(n){return iz[n]}function wl(n){return{fieldPath:n.canonicalString()}}function bl(n){return wn.fromServerFormat(n.fieldPath)}function KN(n){return n instanceof Jt?function(t){if(t.op==="=="){if(h2(t.value))return{unaryFilter:{field:wl(t.field),op:"IS_NAN"}};if(c2(t.value))return{unaryFilter:{field:wl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(h2(t.value))return{unaryFilter:{field:wl(t.field),op:"IS_NOT_NAN"}};if(c2(t.value))return{unaryFilter:{field:wl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wl(t.field),op:mz(t.op),value:t.value}}}(n):n instanceof ws?function(t){const i=t.getFilters().map(s=>KN(s));return i.length===1?i[0]:{compositeFilter:{op:gz(t.op),filters:i}}}(n):Ie()}function yz(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function WN(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,t,i,s,o=Ne.min(),l=Ne.min(),c=Sn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new ia(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ia(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vz{constructor(e){this.Tt=e}}function _z(n){const e=dz({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?__(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ez{constructor(){this.Tn=new Tz}addToCollectionParentIndex(e,t){return this.Tn.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(va.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(va.min())}updateCollectionGroup(e,t,i){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class Tz{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t]||new tn(vt.comparator),o=!s.has(i);return this.index[t]=s.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t];return s&&s.has(i)}getEntries(e){return(this.index[e]||new tn(vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},YN=41943040;class Gn{static withCacheSize(e){return new Gn(e,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gn.DEFAULT_COLLECTION_PERCENTILE=10,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gn.DEFAULT=new Gn(YN,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gn.DISABLED=new Gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new tu(0)}static Un(){return new tu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2="LruGarbageCollector",wz=1048576;function A2([n,e],[t,i]){const s=$e(n,t);return s===0?$e(e,i):s}class bz{constructor(e){this.Hn=e,this.buffer=new tn(A2),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();A2(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Sz{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ge(C2,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){vu(t)?ge(C2,"Ignoring IndexedDB error during garbage collection: ",t):await yu(t)}await this.er(3e5)})}}class xz{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return ne.resolve(Tm.ae);const i=new bz(t);return this.tr.forEachTarget(e,s=>i.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>i.Zn(s))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.tr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(x2)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),x2):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let i,s,o,l,c,h,f;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),s=this.params.maximumSequenceNumbersToCollect):s=y,l=Date.now(),this.nthSequenceNumber(e,s))).next(y=>(i=y,c=Date.now(),this.removeTargets(e,i,t))).next(y=>(o=y,h=Date.now(),this.removeOrphanedDocuments(e,i))).next(y=>(f=Date.now(),El()<=ze.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${o} targets in `+(h-c)+`ms
	Removed ${y} documents in `+(f-h)+`ms
Total Duration: ${f-g}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:y})))}}function Cz(n,e){return new xz(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Az{constructor(){this.changes=new No(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Pn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ne.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rz{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz{constructor(e,t,i,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(i!==null&&th(i.mutation,s,ii.empty(),en.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,qe()).next(()=>i))}getLocalViewOfDocuments(e,t,i=qe()){const s=fo();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,i).next(o=>{let l=zc();return o.forEach((c,h)=>{l=l.insert(c,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const i=fo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,qe()))}populateOverlays(e,t,i){const s=[];return i.forEach(o=>{t.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((l,c)=>{t.set(l,c)})})}computeViews(e,t,i,s){let o=fr();const l=eh(),c=function(){return eh()}();return t.forEach((h,f)=>{const g=i.get(f.key);s.has(f.key)&&(g===void 0||g.mutation instanceof Ra)?o=o.insert(f.key,f):g!==void 0?(l.set(f.key,g.mutation.getFieldMask()),th(g.mutation,f,g.mutation.getFieldMask(),en.now())):l.set(f.key,ii.empty())}),this.recalculateAndSaveOverlays(e,o).next(h=>(h.forEach((f,g)=>l.set(f,g)),t.forEach((f,g)=>{var y;return c.set(f,new Rz(g,(y=l.get(f))!==null&&y!==void 0?y:null))}),c))}recalculateAndSaveOverlays(e,t){const i=eh();let s=new xt((l,c)=>l-c),o=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const c of l)c.keys().forEach(h=>{const f=t.get(h);if(f===null)return;let g=i.get(h)||ii.empty();g=c.applyToLocalView(f,g),i.set(h,g);const y=(s.get(c.batchId)||qe()).add(h);s=s.insert(c.batchId,y)})}).next(()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),f=h.key,g=h.value,y=PN();g.forEach(_=>{if(!o.has(_)){const w=VN(t.get(_),i.get(_));w!==null&&y.set(_,w),o=o.add(_)}}),l.push(this.documentOverlayCache.saveOverlays(e,f,y))}return ne.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,s){return function(l){return Se.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):PB(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,s):this.getDocumentsMatchingCollectionQuery(e,t,i,s)}getNextDocuments(e,t,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,s).next(o=>{const l=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,s-o.size):ne.resolve(fo());let c=wh,h=o;return l.next(f=>ne.forEach(f,(g,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),o.get(g)?ne.resolve():this.remoteDocumentCache.getEntry(e,g).next(_=>{h=h.insert(g,_)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,h,f,qe())).next(g=>({batchId:c,changes:NN(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Se(t)).next(i=>{let s=zc();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,i,s){const o=t.collectionGroup;let l=zc();return this.indexManager.getCollectionParents(e,o).next(c=>ne.forEach(c,h=>{const f=function(y,_){return new Sm(_,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(t,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,i,s).next(g=>{g.forEach((y,_)=>{l=l.insert(y,_)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,i,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,s))).next(l=>{o.forEach((h,f)=>{const g=f.getKey();l.get(g)===null&&(l=l.insert(g,Pn.newInvalidDocument(g)))});let c=zc();return l.forEach((h,f)=>{const g=o.get(h);g!==void 0&&th(g.mutation,f,ii.empty(),en.now()),Cm(t,f)&&(c=c.insert(h,f))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nz{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ne.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:_s(s.createTime)}}(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(s){return{name:s.name,query:_z(s.bundledQuery),readTime:_s(s.readTime)}}(t)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pz{constructor(){this.overlays=new xt(Se.comparator),this.Rr=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const i=fo();return ne.forEach(t,s=>this.getOverlay(e,s).next(o=>{o!==null&&i.set(s,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((s,o)=>{this.Et(e,t,o)}),ne.resolve()}removeOverlaysForBatchId(e,t,i){const s=this.Rr.get(i);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(i)),ne.resolve()}getOverlaysForCollection(e,t,i){const s=fo(),o=t.length+1,l=new Se(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,f=h.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===o&&h.largestBatchId>i&&s.set(h.getKey(),h)}return ne.resolve(s)}getOverlaysForCollectionGroup(e,t,i,s){let o=new xt((f,g)=>f-g);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>i){let g=o.get(f.largestBatchId);g===null&&(g=fo(),o=o.insert(f.largestBatchId,g)),g.set(f.getKey(),f)}}const c=fo(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,g)=>c.set(f,g)),!(c.size()>=s)););return ne.resolve(c)}Et(e,t,i){const s=this.overlays.get(i.key);if(s!==null){const l=this.Rr.get(s.largestBatchId).delete(i.key);this.Rr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new YB(t,i));let o=this.Rr.get(t);o===void 0&&(o=qe(),this.Rr.set(t,o)),this.Rr.set(t,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dz{constructor(){this.sessionToken=Sn.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(){this.Vr=new tn(hn.mr),this.gr=new tn(hn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const i=new hn(e,t);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.wr(new hn(e,t))}Sr(e,t){e.forEach(i=>this.removeReference(i,t))}br(e){const t=new Se(new vt([])),i=new hn(t,e),s=new hn(t,e+1),o=[];return this.gr.forEachInRange([i,s],l=>{this.wr(l),o.push(l.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Se(new vt([])),i=new hn(t,e),s=new hn(t,e+1);let o=qe();return this.gr.forEachInRange([i,s],l=>{o=o.add(l.key)}),o}containsKey(e){const t=new hn(e,0),i=this.Vr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class hn{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Se.comparator(e.key,t.key)||$e(e.Cr,t.Cr)}static pr(e,t){return $e(e.Cr,t.Cr)||Se.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mz{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new tn(hn.mr)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,s){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new WB(o,t,i,s);this.mutationQueue.push(l);for(const c of s)this.Mr=this.Mr.add(new hn(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ne.resolve(l)}lookupMutationBatch(e,t){return ne.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,s=this.Nr(i),o=s<0?0:s;return ne.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?EE:this.Fr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new hn(t,0),s=new hn(t,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([i,s],l=>{const c=this.Or(l.Cr);o.push(c)}),ne.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new tn($e);return t.forEach(s=>{const o=new hn(s,0),l=new hn(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,l],c=>{i=i.add(c.Cr)})}),ne.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,s=i.length+1;let o=i;Se.isDocumentKey(o)||(o=o.child(""));const l=new hn(new Se(o),0);let c=new tn($e);return this.Mr.forEachWhile(h=>{const f=h.key.path;return!!i.isPrefixOf(f)&&(f.length===s&&(c=c.add(h.Cr)),!0)},l),ne.resolve(this.Br(c))}Br(e){const t=[];return e.forEach(i=>{const s=this.Or(i);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){at(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return ne.forEach(t.mutations,s=>{const o=new hn(s.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,t){const i=new hn(t,0),s=this.Mr.firstAfterOrEqual(i);return ne.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oz{constructor(e){this.kr=e,this.docs=function(){return new xt(Se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,s=this.docs.get(i),o=s?s.size:0,l=this.kr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ne.resolve(i?i.document.mutableCopy():Pn.newInvalidDocument(t))}getEntries(e,t){let i=fr();return t.forEach(s=>{const o=this.docs.get(s);i=i.insert(s,o?o.document.mutableCopy():Pn.newInvalidDocument(s))}),ne.resolve(i)}getDocumentsMatchingQuery(e,t,i,s){let o=fr();const l=t.path,c=new Se(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:f,value:{document:g}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||lB(oB(g),i)<=0||(s.has(g.key)||Cm(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return ne.resolve(o)}getAllFromCollectionGroup(e,t,i,s){Ie()}qr(e,t){return ne.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new kz(this)}getSize(e){return ne.resolve(this.size)}}class kz extends Az{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?t.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(i)}),ne.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lz{constructor(e){this.persistence=e,this.Qr=new No(t=>bE(t),SE),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.$r=0,this.Kr=new PE,this.targetCount=0,this.Ur=tu.Kn()}forEachTarget(e,t){return this.Qr.forEach((i,s)=>t(s)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$r&&(this.$r=t),ne.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new tu(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.zn(t),ne.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,i){let s=0;const o=[];return this.Qr.forEach((l,c)=>{c.sequenceNumber<=t&&i.get(c.targetId)===null&&(this.Qr.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),ne.waitFor(o).next(()=>s)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const i=this.Qr.get(t)||null;return ne.resolve(i)}addMatchingKeys(e,t,i){return this.Kr.yr(t,i),ne.resolve()}removeMatchingKeys(e,t,i){this.Kr.Sr(t,i);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach(l=>{o.push(s.markPotentiallyOrphaned(e,l))}),ne.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Kr.vr(t);return ne.resolve(i)}containsKey(e,t){return ne.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Tm(0),this.zr=!1,this.zr=!0,this.jr=new Dz,this.referenceDelegate=e(this),this.Hr=new Lz(this),this.indexManager=new Ez,this.remoteDocumentCache=function(s){return new Oz(s)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new vz(t),this.Yr=new Nz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Pz,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Wr[e.toKey()];return i||(i=new Mz(t,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,i){ge("MemoryPersistence","Starting transaction:",e);const s=new Vz(this.Gr.next());return this.referenceDelegate.Zr(),i(s).next(o=>this.referenceDelegate.Xr(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}ei(e,t){return ne.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,t)))}}class Vz extends cB{constructor(e){super(),this.currentSequenceNumber=e}}class DE{constructor(e){this.persistence=e,this.ti=new PE,this.ni=null}static ri(e){return new DE(e)}get ii(){if(this.ni)return this.ni;throw Ie()}addReference(e,t,i){return this.ti.addReference(i,t),this.ii.delete(i.toString()),ne.resolve()}removeReference(e,t,i){return this.ti.removeReference(i,t),this.ii.add(i.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ne.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(s=>this.ii.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(o=>this.ii.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.ii,i=>{const s=Se.fromPath(i);return this.si(e,s).next(o=>{o||t.removeEntry(s,Ne.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(i=>{i?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ne.or([()=>ne.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class jp{constructor(e,t){this.persistence=e,this.oi=new No(i=>fB(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=Cz(this,t)}static ri(e,t){return new jp(e,t)}Zr(){}Xr(e){return ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(s=>i+s))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}rr(e,t){return ne.forEach(this.oi,(i,s)=>this.ar(e,i,s).next(o=>o?ne.resolve():t(s)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.qr(e,l=>this.ar(e,l,t).next(c=>{c||(i++,o.removeEntry(l,Ne.min()))})).next(()=>o.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ne.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),ne.resolve()}removeReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ne.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=qf(e.data.value)),t}ar(e,t,i){return ne.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.oi.get(t);return ne.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e,t,i,s){this.targetId=e,this.fromCache=t,this.Hi=i,this.Ji=s}static Yi(e,t){let i=qe(),s=qe();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new ME(e,t.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uz{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return aV()?8:hB(Mn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,i,s){const o={result:null};return this.rs(e,t).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.ss(e,t,s,i).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new jz;return this._s(e,t,l).next(c=>{if(o.result=c,this.Xi)return this.us(e,t,l,c.size)})}).next(()=>o.result)}us(e,t,i,s){return i.documentReadCount<this.es?(El()<=ze.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",Tl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ne.resolve()):(El()<=ze.DEBUG&&ge("QueryEngine","Query:",Tl(t),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ts*s?(El()<=ze.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",Tl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vs(t))):ne.resolve())}rs(e,t){if(m2(t))return ne.resolve(null);let i=vs(t);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=__(t,null,"F"),i=vs(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const l=qe(...o);return this.ns.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,i).next(h=>{const f=this.cs(t,c);return this.ls(t,f,l,h.readTime)?this.rs(e,__(t,null,"F")):this.hs(e,f,t,h)}))})))}ss(e,t,i,s){return m2(t)||s.isEqual(Ne.min())?ne.resolve(null):this.ns.getDocuments(e,i).next(o=>{const l=this.cs(t,o);return this.ls(t,l,i,s)?ne.resolve(null):(El()<=ze.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Tl(t)),this.hs(e,l,t,aB(s,wh)).next(c=>c))})}cs(e,t){let i=new tn(RN(e));return t.forEach((s,o)=>{Cm(e,o)&&(i=i.add(o))}),i}ls(e,t,i,s){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}_s(e,t,i){return El()<=ze.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Tl(t)),this.ns.getDocumentsMatchingQuery(e,t,va.min(),i)}hs(e,t,i,s){return this.ns.getDocumentsMatchingQuery(e,i,s).next(o=>(t.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="LocalStore",Bz=3e8;class zz{constructor(e,t,i,s){this.persistence=e,this.Ps=t,this.serializer=s,this.Ts=new xt($e),this.Is=new No(o=>bE(o),SE),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Iz(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function Fz(n,e,t,i){return new zz(n,e,t,i)}async function XN(n,e){const t=De(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let s;return t.mutationQueue.getAllMutationBatches(i).next(o=>(s=o,t.As(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{const l=[],c=[];let h=qe();for(const f of s){l.push(f.batchId);for(const g of f.mutations)h=h.add(g.key)}for(const f of o){c.push(f.batchId);for(const g of f.mutations)h=h.add(g.key)}return t.localDocuments.getDocuments(i,h).next(f=>({Rs:f,removedBatchIds:l,addedBatchIds:c}))})})}function Hz(n,e){const t=De(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),o=t.ds.newChangeBuffer({trackRemovals:!0});return function(c,h,f,g){const y=f.batch,_=y.keys();let w=ne.resolve();return _.forEach(x=>{w=w.next(()=>g.getEntry(h,x)).next(O=>{const V=f.docVersions.get(x);at(V!==null),O.version.compareTo(V)<0&&(y.applyToRemoteDocument(O,f),O.isValidDocument()&&(O.setReadTime(f.commitVersion),g.addEntry(O)))})}),w.next(()=>c.mutationQueue.removeMutationBatch(h,y))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let h=qe();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(h=h.add(c.batch.mutations[f].key));return h}(e))).next(()=>t.localDocuments.getDocuments(i,s))})}function ZN(n){const e=De(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function qz(n,e){const t=De(n),i=e.snapshotVersion;let s=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=t.ds.newChangeBuffer({trackRemovals:!0});s=t.Ts;const c=[];e.targetChanges.forEach((g,y)=>{const _=s.get(y);if(!_)return;c.push(t.Hr.removeMatchingKeys(o,g.removedDocuments,y).next(()=>t.Hr.addMatchingKeys(o,g.addedDocuments,y)));let w=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(y)!==null?w=w.withResumeToken(Sn.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):g.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(g.resumeToken,i)),s=s.insert(y,w),function(O,V,P){return O.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=Bz?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(_,w,g)&&c.push(t.Hr.updateTargetData(o,w))});let h=fr(),f=qe();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))}),c.push(Gz(o,l,e.documentUpdates).next(g=>{h=g.Vs,f=g.fs})),!i.isEqual(Ne.min())){const g=t.Hr.getLastRemoteSnapshotVersion(o).next(y=>t.Hr.setTargetsMetadata(o,o.currentSequenceNumber,i));c.push(g)}return ne.waitFor(c).next(()=>l.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,h,f)).next(()=>h)}).then(o=>(t.Ts=s,o))}function Gz(n,e,t){let i=qe(),s=qe();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let l=fr();return t.forEach((c,h)=>{const f=o.get(c);h.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(c)),h.isNoDocument()&&h.version.isEqual(Ne.min())?(e.removeEntry(c,h.readTime),l=l.insert(c,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),l=l.insert(c,h)):ge(OE,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",h.version)}),{Vs:l,fs:s}})}function $z(n,e){const t=De(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=EE),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Kz(n,e){const t=De(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return t.Hr.getTargetData(i,e).next(o=>o?(s=o,ne.resolve(s)):t.Hr.allocateTargetId(i).next(l=>(s=new ia(e,l,"TargetPurposeListen",i.currentSequenceNumber),t.Hr.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=t.Ts.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(i.targetId,i),t.Is.set(e,i.targetId)),i})}async function S_(n,e,t){const i=De(n),s=i.Ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",o,l=>i.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!vu(l))throw l;ge(OE,`Failed to update sequence numbers for target ${e}: ${l}`)}i.Ts=i.Ts.remove(e),i.Is.delete(s.target)}function R2(n,e,t){const i=De(n);let s=Ne.min(),o=qe();return i.persistence.runTransaction("Execute query","readwrite",l=>function(h,f,g){const y=De(h),_=y.Is.get(g);return _!==void 0?ne.resolve(y.Ts.get(_)):y.Hr.getTargetData(f,g)}(i,l,vs(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(l,c.targetId).next(h=>{o=h})}).next(()=>i.Ps.getDocumentsMatchingQuery(l,e,t?s:Ne.min(),t?o:qe())).next(c=>(Wz(i,MB(e),c),{documents:c,gs:o})))}function Wz(n,e,t){let i=n.Es.get(e)||Ne.min();t.forEach((s,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Es.set(e,i)}class I2{constructor(){this.activeTargetIds=UB()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Yz{constructor(){this.ho=new I2,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,i){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new I2,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qz{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2="ConnectivityMonitor";class P2{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ge(N2,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ge(N2,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Af=null;function x_(){return Af===null?Af=function(){return 268435456+Math.round(2147483648*Math.random())}():Af++,"0x"+Af.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv="RestConnection",Xz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Zz{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${i}/databases/${s}`,this.wo=this.databaseId.database===Pp?`project_id=${i}`:`project_id=${i}&database_id=${s}`}So(e,t,i,s,o){const l=x_(),c=this.bo(e,t.toUriEncodedString());ge(yv,`Sending RPC '${e}' ${l}:`,c,i);const h={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(h,s,o),this.vo(e,c,h,i).then(f=>(ge(yv,`Received RPC '${e}' ${l}: `,f),f),f=>{throw Xl(yv,`RPC '${e}' ${l} failed with error: `,f,"url: ",c,"request:",i),f})}Co(e,t,i,s,o,l){return this.So(e,t,i,s,o)}Do(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+gu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,o)=>e[o]=s),i&&i.headers.forEach((s,o)=>e[o]=s)}bo(e,t){const i=Xz[e];return`${this.po}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jz{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rn="WebChannelConnection";class eF extends Zz{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,i,s){const o=x_();return new Promise((l,c)=>{const h=new sN;h.setWithCredentials(!0),h.listenOnce(rN.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Hf.NO_ERROR:const g=h.getResponseJson();ge(Rn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),l(g);break;case Hf.TIMEOUT:ge(Rn,`RPC '${e}' ${o} timed out`),c(new be(le.DEADLINE_EXCEEDED,"Request time out"));break;case Hf.HTTP_ERROR:const y=h.getStatus();if(ge(Rn,`RPC '${e}' ${o} failed with status:`,y,"response text:",h.getResponseText()),y>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const w=_==null?void 0:_.error;if(w&&w.status&&w.message){const x=function(V){const P=V.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(P)>=0?P:le.UNKNOWN}(w.status);c(new be(x,w.message))}else c(new be(le.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new be(le.UNAVAILABLE,"Connection failed."));break;default:Ie()}}finally{ge(Rn,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(s);ge(Rn,`RPC '${e}' ${o} sending request:`,s),h.send(t,"POST",f,i,15)})}Wo(e,t,i){const s=x_(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=lN(),c=oN(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Do(h.initMessageHeaders,t,i),h.encodeInitMessageHeaders=!0;const g=o.join("");ge(Rn,`Creating RPC '${e}' stream ${s}: ${g}`,h);const y=l.createWebChannel(g,h);let _=!1,w=!1;const x=new Jz({Fo:V=>{w?ge(Rn,`Not sending because RPC '${e}' stream ${s} is closed:`,V):(_||(ge(Rn,`Opening RPC '${e}' stream ${s} transport.`),y.open(),_=!0),ge(Rn,`RPC '${e}' stream ${s} sending:`,V),y.send(V))},Mo:()=>y.close()}),O=(V,P,I)=>{V.listen(P,N=>{try{I(N)}catch(H){setTimeout(()=>{throw H},0)}})};return O(y,Bc.EventType.OPEN,()=>{w||(ge(Rn,`RPC '${e}' stream ${s} transport opened.`),x.Qo())}),O(y,Bc.EventType.CLOSE,()=>{w||(w=!0,ge(Rn,`RPC '${e}' stream ${s} transport closed`),x.Ko())}),O(y,Bc.EventType.ERROR,V=>{w||(w=!0,Xl(Rn,`RPC '${e}' stream ${s} transport errored:`,V),x.Ko(new be(le.UNAVAILABLE,"The operation could not be completed")))}),O(y,Bc.EventType.MESSAGE,V=>{var P;if(!w){const I=V.data[0];at(!!I);const N=I,H=(N==null?void 0:N.error)||((P=N[0])===null||P===void 0?void 0:P.error);if(H){ge(Rn,`RPC '${e}' stream ${s} received error:`,H);const q=H.status;let Z=function(C){const R=Ht[C];if(R!==void 0)return UN(R)}(q),k=H.message;Z===void 0&&(Z=le.INTERNAL,k="Unknown error status: "+q+" with message "+H.message),w=!0,x.Ko(new be(Z,k)),y.close()}else ge(Rn,`RPC '${e}' stream ${s} received:`,I),x.Uo(I)}}),O(c,aN.STAT_EVENT,V=>{V.stat===p_.PROXY?ge(Rn,`RPC '${e}' stream ${s} detected buffering proxy`):V.stat===p_.NOPROXY&&ge(Rn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{x.$o()},0),x}}function vv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(n){return new sz(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e,t,i=1e3,s=1.5,o=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=s,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),s=Math.max(0,t-i);s>0&&ge("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2="PersistentStream";class eP{constructor(e,t,i,s,o,l,c,h){this.Ti=e,this.n_=i,this.r_=s,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new JN(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===le.RESOURCE_EXHAUSTED?(dr(t.toString()),dr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.i_===t&&this.V_(i,s)},i=>{e(()=>{const s=new be(le.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(s)})})}V_(e,t){const i=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{i(()=>this.m_(s))}),this.stream.onMessage(s=>{i(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ge(D2,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ge(D2,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class tF extends eP{constructor(e,t,i,s,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,s,l),this.serializer=o}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=oz(this.serializer,e),i=function(o){if(!("targetChange"in o))return Ne.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Ne.min():l.readTime?_s(l.readTime):Ne.min()}(e);return this.listener.p_(t,i)}y_(e){const t={};t.database=b_(this.serializer),t.addTarget=function(o,l){let c;const h=l.target;if(c=v_(h)?{documents:cz(o,h)}:{query:hz(o,h).ht},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=FN(o,l.resumeToken);const f=E_(o,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(Ne.min())>0){c.readTime=Vp(o,l.snapshotVersion.toTimestamp());const f=E_(o,l.expectedCount);f!==null&&(c.expectedCount=f)}return c}(this.serializer,e);const i=fz(this.serializer,e);i&&(t.labels=i),this.I_(t)}w_(e){const t={};t.database=b_(this.serializer),t.removeTarget=e,this.I_(t)}}class nF extends eP{constructor(e,t,i,s,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,s,l),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return at(!!e.streamToken),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){at(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=uz(e.writeResults,e.commitTime),i=_s(e.commitTime);return this.listener.v_(i,t)}C_(){const e={};e.database=b_(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>lz(this.serializer,i))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{}class sF extends iF{constructor(e,t,i,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new be(le.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.So(e,T_(t,i),s,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new be(le.UNKNOWN,o.toString())})}Co(e,t,i,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Co(e,T_(t,i),s,l,c,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new be(le.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class rF{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(dr(t),this.N_=!1):ge("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo="RemoteStore";class aF{constructor(e,t,i,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(l=>{i.enqueueAndForget(async()=>{Po(this)&&(ge(wo,"Restarting streams for network reachability change."),await async function(h){const f=De(h);f.W_.add(4),await Gh(f),f.j_.set("Unknown"),f.W_.delete(4),await Pm(f)}(this))})}),this.j_=new rF(i,s)}}async function Pm(n){if(Po(n))for(const e of n.G_)await e(!0)}async function Gh(n){for(const e of n.G_)await e(!1)}function tP(n,e){const t=De(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),jE(t)?VE(t):_u(t).c_()&&LE(t,e))}function kE(n,e){const t=De(n),i=_u(t);t.U_.delete(e),i.c_()&&nP(t,e),t.U_.size===0&&(i.c_()?i.P_():Po(t)&&t.j_.set("Unknown"))}function LE(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}_u(n).y_(e)}function nP(n,e){n.H_.Ne(e),_u(n).w_(e)}function VE(n){n.H_=new ez({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),_u(n).start(),n.j_.B_()}function jE(n){return Po(n)&&!_u(n).u_()&&n.U_.size>0}function Po(n){return De(n).W_.size===0}function iP(n){n.H_=void 0}async function oF(n){n.j_.set("Online")}async function lF(n){n.U_.forEach((e,t)=>{LE(n,e)})}async function uF(n,e){iP(n),jE(n)?(n.j_.q_(e),VE(n)):n.j_.set("Unknown")}async function cF(n,e,t){if(n.j_.set("Online"),e instanceof zN&&e.state===2&&e.cause)try{await async function(s,o){const l=o.cause;for(const c of o.targetIds)s.U_.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.U_.delete(c),s.H_.removeTarget(c))}(n,e)}catch(i){ge(wo,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Up(n,i)}else if(e instanceof Kf?n.H_.We(e):e instanceof BN?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Ne.min()))try{const i=await ZN(n.localStore);t.compareTo(i)>=0&&await function(o,l){const c=o.H_.ot(l);return c.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const g=o.U_.get(f);g&&o.U_.set(f,g.withResumeToken(h.resumeToken,l))}}),c.targetMismatches.forEach((h,f)=>{const g=o.U_.get(h);if(!g)return;o.U_.set(h,g.withResumeToken(Sn.EMPTY_BYTE_STRING,g.snapshotVersion)),nP(o,h);const y=new ia(g.target,h,f,g.sequenceNumber);LE(o,y)}),o.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(i){ge(wo,"Failed to raise snapshot:",i),await Up(n,i)}}async function Up(n,e,t){if(!vu(e))throw e;n.W_.add(1),await Gh(n),n.j_.set("Offline"),t||(t=()=>ZN(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ge(wo,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await Pm(n)})}function sP(n,e){return e().catch(t=>Up(n,t,e))}async function Dm(n){const e=De(n),t=wa(e);let i=e.K_.length>0?e.K_[e.K_.length-1].batchId:EE;for(;hF(e);)try{const s=await $z(e.localStore,i);if(s===null){e.K_.length===0&&t.P_();break}i=s.batchId,dF(e,s)}catch(s){await Up(e,s)}rP(e)&&aP(e)}function hF(n){return Po(n)&&n.K_.length<10}function dF(n,e){n.K_.push(e);const t=wa(n);t.c_()&&t.S_&&t.b_(e.mutations)}function rP(n){return Po(n)&&!wa(n).u_()&&n.K_.length>0}function aP(n){wa(n).start()}async function fF(n){wa(n).C_()}async function pF(n){const e=wa(n);for(const t of n.K_)e.b_(t.mutations)}async function mF(n,e,t){const i=n.K_.shift(),s=RE.from(i,e,t);await sP(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await Dm(n)}async function gF(n,e){e&&wa(n).S_&&await async function(i,s){if(function(l){return XB(l)&&l!==le.ABORTED}(s.code)){const o=i.K_.shift();wa(i).h_(),await sP(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),await Dm(i)}}(n,e),rP(n)&&aP(n)}async function M2(n,e){const t=De(n);t.asyncQueue.verifyOperationInProgress(),ge(wo,"RemoteStore received new credentials");const i=Po(t);t.W_.add(3),await Gh(t),i&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Pm(t)}async function yF(n,e){const t=De(n);e?(t.W_.delete(2),await Pm(t)):e||(t.W_.add(2),await Gh(t),t.j_.set("Unknown"))}function _u(n){return n.J_||(n.J_=function(t,i,s){const o=De(t);return o.M_(),new tF(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{xo:oF.bind(null,n),No:lF.bind(null,n),Lo:uF.bind(null,n),p_:cF.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),jE(n)?VE(n):n.j_.set("Unknown")):(await n.J_.stop(),iP(n))})),n.J_}function wa(n){return n.Y_||(n.Y_=function(t,i,s){const o=De(t);return o.M_(),new nF(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:fF.bind(null,n),Lo:gF.bind(null,n),D_:pF.bind(null,n),v_:mF.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Dm(n)):(await n.Y_.stop(),n.K_.length>0&&(ge(wo,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(e,t,i,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=s,this.removalCallback=o,this.deferred=new ca,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,s,o){const l=Date.now()+i,c=new UE(e,t,l,s,o);return c.start(i),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function BE(n,e){if(dr("AsyncQueue",`${e}: ${n}`),vu(n))return new be(le.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{static emptySet(e){return new Ul(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Se.comparator(t.key,i.key):(t,i)=>Se.comparator(t.key,i.key),this.keyedMap=zc(),this.sortedSet=new xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ul)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=i.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Ul;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(){this.Z_=new xt(Se.comparator)}track(e){const t=e.doc.key,i=this.Z_.get(t);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(t):e.type===1&&i.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ie():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class nu{constructor(e,t,i,s,o,l,c,h,f){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,t,i,s,o){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new nu(e,t,Ul.emptySet(t),l,i,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==i[s].type||!t[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class _F{constructor(){this.queries=k2(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,i){const s=De(t),o=s.queries;s.queries=k2(),o.forEach((l,c)=>{for(const h of c.ta)h.onError(i)})})(this,new be(le.ABORTED,"Firestore shutting down"))}}function k2(){return new No(n=>AN(n),xm)}async function EF(n,e){const t=De(n);let i=3;const s=e.query;let o=t.queries.get(s);o?!o.na()&&e.ra()&&(i=2):(o=new vF,i=e.ra()?0:1);try{switch(i){case 0:o.ea=await t.onListen(s,!0);break;case 1:o.ea=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(l){const c=BE(l,`Initialization of query '${Tl(e.query)}' failed`);return void e.onError(c)}t.queries.set(s,o),o.ta.push(e),e.sa(t.onlineState),o.ea&&e.oa(o.ea)&&zE(t)}async function TF(n,e){const t=De(n),i=e.query;let s=3;const o=t.queries.get(i);if(o){const l=o.ta.indexOf(e);l>=0&&(o.ta.splice(l,1),o.ta.length===0?s=e.ra()?0:1:!o.na()&&e.ra()&&(s=2))}switch(s){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function wF(n,e){const t=De(n);let i=!1;for(const s of e){const o=s.query,l=t.queries.get(o);if(l){for(const c of l.ta)c.oa(s)&&(i=!0);l.ea=s}}i&&zE(t)}function bF(n,e,t){const i=De(n),s=i.queries.get(e);if(s)for(const o of s.ta)o.onError(t);i.queries.delete(e)}function zE(n){n.ia.forEach(e=>{e.next()})}var C_,L2;(L2=C_||(C_={}))._a="default",L2.Cache="cache";class SF{constructor(e,t,i){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new nu(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const i=t!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=nu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==C_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e){this.key=e}}class lP{constructor(e){this.key=e}}class xF{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=qe(),this.mutatedKeys=qe(),this.ya=RN(e),this.wa=new Ul(this.ya)}get Sa(){return this.fa}ba(e,t){const i=t?t.Da:new O2,s=t?t.wa:this.wa;let o=t?t.mutatedKeys:this.mutatedKeys,l=s,c=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((g,y)=>{const _=s.get(g),w=Cm(this.query,y)?y:null,x=!!_&&this.mutatedKeys.has(_.key),O=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let V=!1;_&&w?_.data.isEqual(w.data)?x!==O&&(i.track({type:3,doc:w}),V=!0):this.va(_,w)||(i.track({type:2,doc:w}),V=!0,(h&&this.ya(w,h)>0||f&&this.ya(w,f)<0)&&(c=!0)):!_&&w?(i.track({type:0,doc:w}),V=!0):_&&!w&&(i.track({type:1,doc:_}),V=!0,(h||f)&&(c=!0)),V&&(w?(l=l.add(w),o=O?o.add(g):o.delete(g)):(l=l.delete(g),o=o.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),o=o.delete(g.key),i.track({type:1,doc:g})}return{wa:l,Da:i,ls:c,mutatedKeys:o}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,s){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((g,y)=>function(w,x){const O=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie()}};return O(w)-O(x)}(g.type,y.type)||this.ya(g.doc,y.doc)),this.Ca(i),s=s!=null&&s;const c=t&&!s?this.Fa():[],h=this.pa.size===0&&this.current&&!s?1:0,f=h!==this.ga;return this.ga=h,l.length!==0||f?{snapshot:new nu(this.query,e.wa,o,l,e.mutatedKeys,h===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new O2,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=qe(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const t=[];return e.forEach(i=>{this.pa.has(i)||t.push(new lP(i))}),this.pa.forEach(i=>{e.has(i)||t.push(new oP(i))}),t}Oa(e){this.fa=e.gs,this.pa=qe();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return nu.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const FE="SyncEngine";class CF{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class AF{constructor(e){this.key=e,this.Ba=!1}}class RF{constructor(e,t,i,s,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new No(c=>AN(c),xm),this.qa=new Map,this.Qa=new Set,this.$a=new xt(Se.comparator),this.Ka=new Map,this.Ua=new PE,this.Wa={},this.Ga=new Map,this.za=tu.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function IF(n,e,t=!0){const i=pP(n);let s;const o=i.ka.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.Na()):s=await uP(i,e,t,!0),s}async function NF(n,e){const t=pP(n);await uP(t,e,!0,!1)}async function uP(n,e,t,i){const s=await Kz(n.localStore,vs(e)),o=s.targetId,l=n.sharedClientState.addLocalQueryTarget(o,t);let c;return i&&(c=await PF(n,e,o,l==="current",s.resumeToken)),n.isPrimaryClient&&t&&tP(n.remoteStore,s),c}async function PF(n,e,t,i,s){n.Ha=(y,_,w)=>async function(O,V,P,I){let N=V.view.ba(P);N.ls&&(N=await R2(O.localStore,V.query,!1).then(({documents:k})=>V.view.ba(k,N)));const H=I&&I.targetChanges.get(V.targetId),q=I&&I.targetMismatches.get(V.targetId)!=null,Z=V.view.applyChanges(N,O.isPrimaryClient,H,q);return j2(O,V.targetId,Z.Ma),Z.snapshot}(n,y,_,w);const o=await R2(n.localStore,e,!0),l=new xF(e,o.gs),c=l.ba(o.documents),h=qh.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",s),f=l.applyChanges(c,n.isPrimaryClient,h);j2(n,t,f.Ma);const g=new CF(e,t,l);return n.ka.set(e,g),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),f.snapshot}async function DF(n,e,t){const i=De(n),s=i.ka.get(e),o=i.qa.get(s.targetId);if(o.length>1)return i.qa.set(s.targetId,o.filter(l=>!xm(l,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await S_(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),t&&kE(i.remoteStore,s.targetId),A_(i,s.targetId)}).catch(yu)):(A_(i,s.targetId),await S_(i.localStore,s.targetId,!0))}async function MF(n,e){const t=De(n),i=t.ka.get(e),s=t.qa.get(i.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),kE(t.remoteStore,i.targetId))}async function OF(n,e,t){const i=zF(n);try{const s=await function(l,c){const h=De(l),f=en.now(),g=c.reduce((w,x)=>w.add(x.key),qe());let y,_;return h.persistence.runTransaction("Locally write mutations","readwrite",w=>{let x=fr(),O=qe();return h.ds.getEntries(w,g).next(V=>{x=V,x.forEach((P,I)=>{I.isValidDocument()||(O=O.add(P))})}).next(()=>h.localDocuments.getOverlayedDocuments(w,x)).next(V=>{y=V;const P=[];for(const I of c){const N=$B(I,y.get(I.key).overlayedDocument);N!=null&&P.push(new Ra(I.key,N,EN(N.value.mapValue),ji.exists(!0)))}return h.mutationQueue.addMutationBatch(w,f,P,c)}).next(V=>{_=V;const P=V.applyToLocalDocumentSet(y,O);return h.documentOverlayCache.saveOverlays(w,V.batchId,P)})}).then(()=>({batchId:_.batchId,changes:NN(y)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(l,c,h){let f=l.Wa[l.currentUser.toKey()];f||(f=new xt($e)),f=f.insert(c,h),l.Wa[l.currentUser.toKey()]=f}(i,s.batchId,t),await $h(i,s.changes),await Dm(i.remoteStore)}catch(s){const o=BE(s,"Failed to persist write");t.reject(o)}}async function cP(n,e){const t=De(n);try{const i=await qz(t.localStore,e);e.targetChanges.forEach((s,o)=>{const l=t.Ka.get(o);l&&(at(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.Ba=!0:s.modifiedDocuments.size>0?at(l.Ba):s.removedDocuments.size>0&&(at(l.Ba),l.Ba=!1))}),await $h(t,i,e)}catch(i){await yu(i)}}function V2(n,e,t){const i=De(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const s=[];i.ka.forEach((o,l)=>{const c=l.view.sa(e);c.snapshot&&s.push(c.snapshot)}),function(l,c){const h=De(l);h.onlineState=c;let f=!1;h.queries.forEach((g,y)=>{for(const _ of y.ta)_.sa(c)&&(f=!0)}),f&&zE(h)}(i.eventManager,e),s.length&&i.La.p_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function kF(n,e,t){const i=De(n);i.sharedClientState.updateQueryState(e,"rejected",t);const s=i.Ka.get(e),o=s&&s.key;if(o){let l=new xt(Se.comparator);l=l.insert(o,Pn.newNoDocument(o,Ne.min()));const c=qe().add(o),h=new Im(Ne.min(),new Map,new xt($e),l,c);await cP(i,h),i.$a=i.$a.remove(o),i.Ka.delete(e),HE(i)}else await S_(i.localStore,e,!1).then(()=>A_(i,e,t)).catch(yu)}async function LF(n,e){const t=De(n),i=e.batch.batchId;try{const s=await Hz(t.localStore,e);dP(t,i,null),hP(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await $h(t,s)}catch(s){await yu(s)}}async function VF(n,e,t){const i=De(n);try{const s=await function(l,c){const h=De(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let g;return h.mutationQueue.lookupMutationBatch(f,c).next(y=>(at(y!==null),g=y.keys(),h.mutationQueue.removeMutationBatch(f,y))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,g,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g)).next(()=>h.localDocuments.getDocuments(f,g))})}(i.localStore,e);dP(i,e,t),hP(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await $h(i,s)}catch(s){await yu(s)}}function hP(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function dP(n,e,t){const i=De(n);let s=i.Wa[i.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),i.Wa[i.currentUser.toKey()]=s}}function A_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.qa.get(e))n.ka.delete(i),t&&n.La.Ja(i,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.br(e).forEach(i=>{n.Ua.containsKey(i)||fP(n,i)})}function fP(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(kE(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),HE(n))}function j2(n,e,t){for(const i of t)i instanceof oP?(n.Ua.addReference(i.key,e),jF(n,i)):i instanceof lP?(ge(FE,"Document no longer in limbo: "+i.key),n.Ua.removeReference(i.key,e),n.Ua.containsKey(i.key)||fP(n,i.key)):Ie()}function jF(n,e){const t=e.key,i=t.path.canonicalString();n.$a.get(t)||n.Qa.has(i)||(ge(FE,"New document in limbo: "+t),n.Qa.add(i),HE(n))}function HE(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Se(vt.fromString(e)),i=n.za.next();n.Ka.set(i,new AF(t)),n.$a=n.$a.insert(t,i),tP(n.remoteStore,new ia(vs(xE(t.path)),i,"TargetPurposeLimboResolution",Tm.ae))}}async function $h(n,e,t){const i=De(n),s=[],o=[],l=[];i.ka.isEmpty()||(i.ka.forEach((c,h)=>{l.push(i.Ha(h,e,t).then(f=>{var g;if((f||t)&&i.isPrimaryClient){const y=f?!f.fromCache:(g=t==null?void 0:t.targetChanges.get(h.targetId))===null||g===void 0?void 0:g.current;i.sharedClientState.updateQueryState(h.targetId,y?"current":"not-current")}if(f){s.push(f);const y=ME.Yi(h.targetId,f);o.push(y)}}))}),await Promise.all(l),i.La.p_(s),await async function(h,f){const g=De(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>ne.forEach(f,_=>ne.forEach(_.Hi,w=>g.persistence.referenceDelegate.addReference(y,_.targetId,w)).next(()=>ne.forEach(_.Ji,w=>g.persistence.referenceDelegate.removeReference(y,_.targetId,w)))))}catch(y){if(!vu(y))throw y;ge(OE,"Failed to update sequence numbers: "+y)}for(const y of f){const _=y.targetId;if(!y.fromCache){const w=g.Ts.get(_),x=w.snapshotVersion,O=w.withLastLimboFreeSnapshotVersion(x);g.Ts=g.Ts.insert(_,O)}}}(i.localStore,o))}async function UF(n,e){const t=De(n);if(!t.currentUser.isEqual(e)){ge(FE,"User change. New user:",e.toKey());const i=await XN(t.localStore,e);t.currentUser=e,function(o,l){o.Ga.forEach(c=>{c.forEach(h=>{h.reject(new be(le.CANCELLED,l))})}),o.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await $h(t,i.Rs)}}function BF(n,e){const t=De(n),i=t.Ka.get(e);if(i&&i.Ba)return qe().add(i.key);{let s=qe();const o=t.qa.get(e);if(!o)return s;for(const l of o){const c=t.ka.get(l);s=s.unionWith(c.view.Sa)}return s}}function pP(n){const e=De(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=cP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=BF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kF.bind(null,e),e.La.p_=wF.bind(null,e.eventManager),e.La.Ja=bF.bind(null,e.eventManager),e}function zF(n){const e=De(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=VF.bind(null,e),e}class Bp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nm(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return Fz(this.persistence,new Uz,e.initialUser,this.serializer)}Xa(e){return new QN(DE.ri,this.serializer)}Za(e){return new Yz}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bp.provider={build:()=>new Bp};class FF extends Bp{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){at(this.persistence.referenceDelegate instanceof jp);const i=this.persistence.referenceDelegate.garbageCollector;return new Sz(i,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Gn.withCacheSize(this.cacheSizeBytes):Gn.DEFAULT;return new QN(i=>jp.ri(i,t),this.serializer)}}class R_{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>V2(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=UF.bind(null,this.syncEngine),await yF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new _F}()}createDatastore(e){const t=Nm(e.databaseInfo.databaseId),i=function(o){return new eF(o)}(e.databaseInfo);return function(o,l,c,h){return new sF(o,l,c,h)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,s,o,l,c){return new aF(i,s,o,l,c)}(this.localStore,this.datastore,e.asyncQueue,t=>V2(this.syncEngine,t,0),function(){return P2.D()?new P2:new Qz}())}createSyncEngine(e,t){return function(s,o,l,c,h,f,g){const y=new RF(s,o,l,c,h,f);return g&&(y.ja=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const o=De(s);ge(wo,"RemoteStore shutting down."),o.W_.add(5),await Gh(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}R_.provider={build:()=>new R_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):dr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="FirestoreClient";class qF{constructor(e,t,i,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=s,this.user=Nn.UNAUTHENTICATED,this.clientId=cN.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async l=>{ge(ba,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(i,l=>(ge(ba,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ca;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=BE(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function _v(n,e){n.asyncQueue.verifyOperationInProgress(),ge(ba,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async s=>{i.isEqual(s)||(await XN(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function U2(n,e){n.asyncQueue.verifyOperationInProgress();const t=await GF(n);ge(ba,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>M2(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>M2(e.remoteStore,s)),n._onlineComponents=e}async function GF(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ge(ba,"Using user provided OfflineComponentProvider");try{await _v(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===le.FAILED_PRECONDITION||s.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Xl("Error using user provided cache. Falling back to memory cache: "+t),await _v(n,new Bp)}}else ge(ba,"Using default OfflineComponentProvider"),await _v(n,new FF(void 0));return n._offlineComponents}async function mP(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ge(ba,"Using user provided OnlineComponentProvider"),await U2(n,n._uninitializedComponentsProvider._online)):(ge(ba,"Using default OnlineComponentProvider"),await U2(n,new R_))),n._onlineComponents}function $F(n){return mP(n).then(e=>e.syncEngine)}async function KF(n){const e=await mP(n),t=e.eventManager;return t.onListen=IF.bind(null,e.syncEngine),t.onUnlisten=DF.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=NF.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=MF.bind(null,e.syncEngine),t}function WF(n,e,t={}){const i=new ca;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,c,h,f){const g=new HF({next:_=>{g.su(),l.enqueueAndForget(()=>TF(o,y));const w=_.docs.has(c);!w&&_.fromCache?f.reject(new be(le.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&_.fromCache&&h&&h.source==="server"?f.reject(new be(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(_)},error:_=>f.reject(_)}),y=new SF(xE(c.path),g,{includeMetadataChanges:!0,Ta:!0});return EF(o,y)}(await KF(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(n,e,t){if(!t)throw new be(le.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function YF(n,e,t,i){if(e===!0&&i===!0)throw new be(le.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function z2(n){if(!Se.isDocumentKey(n))throw new be(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function F2(n){if(Se.isDocumentKey(n))throw new be(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function qE(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ie()}function bo(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new be(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=qE(n);throw new be(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP="firestore.googleapis.com",H2=!0;class q2{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new be(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vP,this.ssl=H2}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:H2;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=YN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wz)throw new be(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gP((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new be(le.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new be(le.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new be(le.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mm{constructor(e,t,i,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new q2({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new q2(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new ZU;switch(i.type){case"firstParty":return new nB(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new be(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=B2.get(t);i&&(ge("ComponentProvider","Removing Datastore"),B2.delete(t),i.terminate())}(this),Promise.resolve()}}function QF(n,e,t,i={}){var s;const o=(n=bo(n,Mm))._getSettings(),l=`${e}:${t}`;if(o.host!==vP&&o.host!==l&&Xl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:l,ssl:!1})),i.mockUserToken){let c,h;if(typeof i.mockUserToken=="string")c=i.mockUserToken,h=Nn.MOCK_USER;else{c=iR(i.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new be(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Nn(f)}n._authCredentials=new JU(new uN(c,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new GE(this.firestore,e,this._query)}}class ri{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ha(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ri(this.firestore,e,this._key)}}class ha extends GE{constructor(e,t,i){super(e,t,xE(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ri(this.firestore,null,new Se(e))}withConverter(e){return new ha(this.firestore,e,this._path)}}function G2(n,e,...t){if(n=St(n),yP("collection","path",e),n instanceof Mm){const i=vt.fromString(e,...t);return F2(i),new ha(n,null,i)}{if(!(n instanceof ri||n instanceof ha))throw new be(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(vt.fromString(e,...t));return F2(i),new ha(n.firestore,null,i)}}function I_(n,e,...t){if(n=St(n),arguments.length===1&&(e=cN.newId()),yP("doc","path",e),n instanceof Mm){const i=vt.fromString(e,...t);return z2(i),new ri(n,null,new Se(i))}{if(!(n instanceof ri||n instanceof ha))throw new be(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(vt.fromString(e,...t));return z2(i),new ri(n.firestore,n instanceof ha?n.converter:null,new Se(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2="AsyncQueue";class K2{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new JN(this,"async_queue_retry"),this.Su=()=>{const i=vv();i&&ge($2,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const t=vv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=vv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new ca;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!vu(e))throw e;ge($2,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const s=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(i);throw dr("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.pu=!1,i))));return this.bu=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const s=UE.createAndSchedule(this,e,t,i,o=>this.Fu(o));return this.fu.push(s),s}Du(){this.gu&&Ie()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Kh extends Mm{constructor(e,t,i,s){super(e,t,i,s),this.type="firestore",this._queue=new K2,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new K2(e),this._firestoreClient=void 0,await e}}}function XF(n,e){const t=typeof n=="object"?n:x0(),i=typeof n=="string"?n:Pp,s=rm(t,"firestore").getImmediate({identifier:i});if(!s._initialized){const o=eR("firestore");o&&QF(s,...o)}return s}function _P(n){if(n._terminated)throw new be(le.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||ZF(n),n._firestoreClient}function ZF(n){var e,t,i;const s=n._freezeSettings(),o=function(c,h,f,g){return new gB(c,h,f,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,gP(g.experimentalLongPollingOptions),g.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new qF(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new iu(Sn.fromBase64String(e))}catch(t){throw new be(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new iu(Sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new be(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new be(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new be(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==s[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JF=/^__.*__$/;class eH{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Ra(e,this.data,this.fieldMask,t,this.fieldTransforms):new Hh(e,this.data,t,this.fieldTransforms)}}class EP{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Ra(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function TP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie()}}class YE{constructor(e,t,i,s,o,l){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=s,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new YE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:i,Qu:!1});return s.$u(e),s}Ku(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:i,Qu:!1});return s.Bu(),s}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return zp(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(TP(this.Lu)&&JF.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class tH{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Nm(e)}ju(e,t,i,s=!1){return new YE({Lu:e,methodName:t,zu:i,path:wn.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wP(n){const e=n._freezeSettings(),t=Nm(n._databaseId);return new tH(n._databaseId,!!e.ignoreUndefinedProperties,t)}function nH(n,e,t,i,s,o={}){const l=n.ju(o.merge||o.mergeFields?2:0,e,t,s);QE("Data must be an object, but it was:",l,i);const c=bP(i,l);let h,f;if(o.merge)h=new ii(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const g=[];for(const y of o.mergeFields){const _=N_(e,y,t);if(!l.contains(_))throw new be(le.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);xP(g,_)||g.push(_)}h=new ii(g),f=l.fieldTransforms.filter(y=>h.covers(y.field))}else h=null,f=l.fieldTransforms;return new eH(new $n(c),h,f)}class km extends $E{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof km}}function iH(n,e,t,i){const s=n.ju(1,e,t);QE("Data must be an object, but it was:",s,i);const o=[],l=$n.empty();Aa(i,(h,f)=>{const g=XE(e,h,t);f=St(f);const y=s.Ku(g);if(f instanceof km)o.push(g);else{const _=Lm(f,y);_!=null&&(o.push(g),l.set(g,_))}});const c=new ii(o);return new EP(l,c,s.fieldTransforms)}function sH(n,e,t,i,s,o){const l=n.ju(1,e,t),c=[N_(e,i,t)],h=[s];if(o.length%2!=0)throw new be(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)c.push(N_(e,o[_])),h.push(o[_+1]);const f=[],g=$n.empty();for(let _=c.length-1;_>=0;--_)if(!xP(f,c[_])){const w=c[_];let x=h[_];x=St(x);const O=l.Ku(w);if(x instanceof km)f.push(w);else{const V=Lm(x,O);V!=null&&(f.push(w),g.set(w,V))}}const y=new ii(f);return new EP(g,y,l.fieldTransforms)}function Lm(n,e){if(SP(n=St(n)))return QE("Unsupported field value:",e,n),bP(n,e);if(n instanceof $E)return function(i,s){if(!TP(s.Lu))throw s.Wu(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,s){const o=[];let l=0;for(const c of i){let h=Lm(c,s.Uu(l));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),l++}return{arrayValue:{values:o}}}(n,e)}return function(i,s){if((i=St(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return BB(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=en.fromDate(i);return{timestampValue:Vp(s.serializer,o)}}if(i instanceof en){const o=new en(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Vp(s.serializer,o)}}if(i instanceof KE)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof iu)return{bytesValue:FN(s.serializer,i._byteString)};if(i instanceof ri){const o=s.databaseId,l=i.firestore._databaseId;if(!l.isEqual(o))throw s.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:NE(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof WE)return function(l,c){return{mapValue:{fields:{[vN]:{stringValue:_N},[Dp]:{arrayValue:{values:l.toArray().map(f=>{if(typeof f!="number")throw c.Wu("VectorValues must only contain numeric values.");return CE(c.serializer,f)})}}}}}}(i,s);throw s.Wu(`Unsupported field value: ${qE(i)}`)}(n,e)}function bP(n,e){const t={};return dN(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Aa(n,(i,s)=>{const o=Lm(s,e.qu(i));o!=null&&(t[i]=o)}),{mapValue:{fields:t}}}function SP(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof en||n instanceof KE||n instanceof iu||n instanceof ri||n instanceof $E||n instanceof WE)}function QE(n,e,t){if(!SP(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const i=qE(t);throw i==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+i)}}function N_(n,e,t){if((e=St(e))instanceof Om)return e._internalPath;if(typeof e=="string")return XE(n,e);throw zp("Field path arguments must be of type string or ",n,!1,void 0,t)}const rH=new RegExp("[~\\*/\\[\\]]");function XE(n,e,t){if(e.search(rH)>=0)throw zp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Om(...e.split("."))._internalPath}catch{throw zp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function zp(n,e,t,i,s){const o=i&&!i.isEmpty(),l=s!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(o||l)&&(h+=" (found",o&&(h+=` in field ${i}`),l&&(h+=` in document ${s}`),h+=")"),new be(le.INVALID_ARGUMENT,c+n+h)}function xP(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(e,t,i,s,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ri(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new aH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(AP("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class aH extends CP{data(){return super.data()}}function AP(n,e){return typeof e=="string"?XE(n,e):e instanceof Om?e._internalPath:e._delegate._internalPath}class oH{convertValue(e,t="none"){switch(Ta(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ea(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Aa(e,(s,o)=>{i[s]=this.convertValue(o,t)}),i}convertVectorValue(e){var t,i,s;const o=(s=(i=(t=e.fields)===null||t===void 0?void 0:t[Dp].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(l=>jt(l.doubleValue));return new WE(o)}convertGeoPoint(e){return new KE(jt(e.latitude),jt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=bm(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(bh(e));default:return null}}convertTimestamp(e){const t=_a(e);return new en(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=vt.fromString(e);at(WN(i));const s=new Sh(i.get(1),i.get(3)),o=new Se(i.popFirst(5));return s.isEqual(t)||dr(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lH(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uH{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class RP extends CP{constructor(e,t,i,s,o,l){super(e,t,i,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new cH(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(AP("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class cH extends RP{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hH(n){n=bo(n,ri);const e=bo(n.firestore,Kh);return WF(_P(e),n._key).then(t=>mH(e,n,t))}class dH extends oH{constructor(e){super(),this.firestore=e}convertBytes(e){return new iu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ri(this.firestore,null,t)}}function fH(n,e,t,...i){n=bo(n,ri);const s=bo(n.firestore,Kh),o=wP(s);let l;return l=typeof(e=St(e))=="string"||e instanceof Om?sH(o,"updateDoc",n._key,e,t,i):iH(o,"updateDoc",n._key,e),ZE(s,[l.toMutation(n._key,ji.exists(!0))])}function pH(n){return ZE(bo(n.firestore,Kh),[new AE(n._key,ji.none())])}function W2(n,e){const t=bo(n.firestore,Kh),i=I_(n),s=lH(n.converter,e);return ZE(t,[nH(wP(n.firestore),"addDoc",i._key,s,n.converter!==null,{}).toMutation(i._key,ji.exists(!1))]).then(()=>i)}function ZE(n,e){return function(i,s){const o=new ca;return i.asyncQueue.enqueueAndForget(async()=>OF(await $F(i),s,o)),o.promise}(_P(n),e)}function mH(n,e,t){const i=t.docs.get(e._key),s=new dH(n);return new RP(n,s,e._key,i,new uH(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){gu=s})(Co),mo(new ma("firestore",(i,{instanceIdentifier:s,options:o})=>{const l=i.getProvider("app").getImmediate(),c=new Kh(new eB(i.getProvider("auth-internal")),new iB(l,i.getProvider("app-check-internal")),function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new be(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sh(f.options.projectId,g)}(l,s),l);return o=Object.assign({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),ps(Jx,e2,e),ps(Jx,e2,"esm2017")})();const gH={apiKey:"AIzaSyC_aTfZtrXc8cFufHlvEjQJ5R_wl9Rgnas",authDomain:"chasam-5d05c.firebaseapp.com",databaseURL:"https://chasam-5d05c-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"chasam-5d05c",storageBucket:"chasam-5d05c.firebasestorage.app",messagingSenderId:"883788806730",appId:"1:883788806730:web:99454d79d47dc23bca04b3",measurementId:"G-HXZWJ24E34"},JE=lR(gH),yH=Ip(JE),Rf=XF(JE),Zt=TI(JE);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),IP=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _H={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=U.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:s="",children:o,iconNode:l,...c},h)=>U.createElement("svg",{ref:h,..._H,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:IP("lucide",s),...c},[...l.map(([f,g])=>U.createElement(f,g)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=(n,e)=>{const t=U.forwardRef(({className:i,...s},o)=>U.createElement(EH,{ref:o,iconNode:e,className:IP(`lucide-${vH(n)}`,i),...s}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TH=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],NP=eT("ChevronLeft",TH);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],PP=eT("ChevronRight",wH);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bH=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],SH=eT("X",bH),xH=({openPopUp:n,setOpenPopUp:e,productId:t})=>{const[i,s]=U.useState(null),[o,l]=U.useState(!0),[c,h]=U.useState(!1),[f,g]=U.useState(0),[y,_]=U.useState([]),[w,x]=U.useState(null);if(U.useEffect(()=>{if(!t)return;l(!0);const H=qt(Zt,`products/${t}`),q=ms(H,Z=>{const k=Z.val();if(k){s({id:t,...k}),k.bgImage&&x(k.bgImage),console.log("Product data:",k);let A=[];k.images&&(typeof k.images=="object"&&!Array.isArray(k.images)?A=Object.values(k.images).filter(C=>C&&typeof C=="string"):Array.isArray(k.images)&&(A=k.images.filter(C=>C&&typeof C=="string"))),A.length===0&&k.image&&typeof k.image=="string"&&(A=[k.image]),console.log("Images array:",A),_(A)}else s(null),_([]),x(null);l(!1)});return()=>q()},[t]),o)return T.jsx("div",{className:"fixed top-0 bottom-0 left-0 right-0 bg-[#178000] z-[999] flex justify-center items-center",children:T.jsx("div",{className:"bg-white p-6 rounded-lg",children:T.jsx("p",{children:"Loading product details..."})})});if(!i)return T.jsx("div",{className:"fixed top-0 bottom-0 left-0 right-0 bg-[#178000] z-[999] flex justify-center items-center",children:T.jsx("div",{className:"bg-white p-6 rounded-lg",children:T.jsx("p",{children:"Product not found"})})});let O=0;const V=()=>{g(H=>H>0?H-1:y.length-1)},P=()=>{g(H=>H<y.length-1?H+1:0)},I=H=>{O=H.touches[0].clientX},N=H=>{const q=H.changedTouches[0].clientX,Z=O-q;Z>50?P():Z<-50&&V()};return T.jsxs("div",{className:"fixed top-0 bottom-0 left-0 right-0 bg-[#178000] z-[999]",children:[T.jsxs("div",{className:"absolute w-full bottom-0 py-2 bg-[#fff] z-[999] flex justify-center items-center gap-5 BoxShadow",children:[T.jsxs("button",{className:"TextFont BoxShadow font-semibold px-10 py-2 rounded-lg bg-[#178000] text-[#fff] flex items-center gap-1 text-sm",children:[T.jsx(EC,{}),"Mail Us"]}),T.jsxs("button",{className:"TextFont BoxShadow px-10 py-2 font-semibold rounded-lg bg-[#178000] text-[#fff] flex items-center gap-1 text-sm",children:[T.jsx(yO,{}),"Contact Us"]})]}),T.jsx("div",{className:"px-2",children:T.jsx(BS.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1,transition:{duration:1.2,ease:"backInOut"}},className:"fixed w-[95%] mx-auto top-2 bottom-0 rounded-t-3xl z-[998] popUpBg bg-[#fff] backdrop-blur-sm overflow-y-auto scrollBar",children:T.jsxs("div",{children:[T.jsx("div",{className:"flex pt-4 pl-4 mb-5",children:T.jsx("span",{className:"bg-[#0000] p-1 rounded-full text-[#178000] text-xl",onClick:()=>e(!1),children:T.jsx(yC,{})})}),T.jsxs("div",{className:"w-full flex justify-center items-center rounded-2xl h-[340px] backdrop-blur-sm mb-2 BoxShadow relative overflow-hidden",onTouchStart:I,onTouchEnd:N,children:[T.jsx("div",{className:"w-full h-full flex justify-center items-center z-10",children:T.jsx(BS.img,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3,ease:"easeInOut"},src:y.length>0?y[f]:eO,alt:`${(i==null?void 0:i.name)||"Product"} - Image ${f+1}`,className:"w-full h-full object-contain drop-shadow-md"},f)}),y.length>1&&T.jsxs(T.Fragment,{children:[T.jsx("button",{onClick:V,className:"absolute left-4 top-1/2 transform -translate-y-1/2 z-20 bg-green-600 text-white rounded-full p-2 opacity-80 hover:opacity-100","aria-label":"Previous image",children:T.jsx(NP,{size:20})}),T.jsx("button",{onClick:P,className:"absolute right-4 top-1/2 transform -translate-y-1/2 z-20 bg-green-600 text-white rounded-full p-2 opacity-80 hover:opacity-100","aria-label":"Next image",children:T.jsx(PP,{size:20})})]}),y.length>1&&T.jsx("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center space-x-2 z-20",children:y.map((H,q)=>T.jsx("button",{onClick:()=>g(q),className:`w-2 h-2 rounded-full ${f===q?"bg-white":"bg-gray-400"}`,"aria-label":`Go to image ${q+1}`},q))})]}),y.length>1&&T.jsx("div",{className:"overflow-x-auto w-full scrollBar px-2 py-1",children:T.jsx("div",{className:"flex gap-2 mb-3 w-max ",children:y.map((H,q)=>T.jsx("div",{onClick:()=>g(q),className:`w-[100px] h-[100px]  bg-[#fff] shadow-2xl rounded-md cursor-pointer overflow-hidden ${f===q?"ring-2 ring-green-600":""}`,children:T.jsx("img",{src:H,alt:`Thumbnail ${q+1}`,className:"w-full h-full object-contain"})},q))})}),T.jsxs("div",{className:"px-4 py-2 mb-2 BoxShadow",children:[T.jsx("div",{className:"text-xl font-bold text-[#000000] TextFont1",children:i.name}),T.jsx("div",{className:"text-sm font-semibold text-[#6e736d]",children:i.category}),T.jsxs("div",{className:"flex items-center font-bold TextFont",children:[T.jsx(_C,{}),T.jsx("span",{className:"text-lg",children:i.price})]})]}),T.jsxs("div",{className:"px-4 py-4 text-[12px] text-[#000000] mb-3 font-semibold BoxShadow",children:[T.jsx("h3",{className:"text-[16px] font-bold mb-2",children:"Indication"}),T.jsx("div",{className:"flex flex-col gap-1 ",children:i.features&&i.features.length>0?i.features.map((H,q)=>T.jsx("div",{className:"flex items-start",children:T.jsx("span",{children:H})},q)):T.jsx("div",{className:"flex items-start",children:T.jsx("span",{children:i.description||"No description available"})})})]}),T.jsxs("div",{className:`px-4 BoxShadow pb-2 ${c?"mb-5":"mb-20"}`,children:[T.jsxs("div",{className:"relative",children:[T.jsx("div",{className:"font-bold mb-2",children:"Usage"}),T.jsx("div",{className:"font-semibold text-[12px]",children:i.usage||"Usage information not available"})]}),T.jsx("div",{className:"text-[12px] font-semibold items-center flex justify-end right-0",children:T.jsx("div",{className:"flex items-center cursor-pointer",onClick:()=>h(!c),children:c?T.jsxs("div",{className:"flex items-center gap-0.5",children:[T.jsx(G6,{}),"Less"]}):T.jsxs("div",{className:"flex items-center gap-0.5",children:[T.jsx($6,{}),"More"]})})})]}),c&&T.jsxs("div",{className:"px-4 text-sm text-[#000000] mb-20 font-semibold",children:[T.jsx("div",{className:"TextFont font-bold text-xl mb-2",children:"Other Information"}),T.jsxs("ul",{className:"flex flex-col gap-1",children:[T.jsxs("li",{className:"flex items-start w-full gap-2",children:[T.jsxs("div",{className:"w-[40%] flex text-[12px] items-center font-bold",children:[T.jsx("span",{className:"text-2xl",children:T.jsx(Rc,{})}),"MRP"]}),T.jsxs("div",{className:"w-[60%] text-[12px]",children:[": Rs. ",i.price,".00 inclusive of all taxes"," ",T.jsx("span",{className:"block",children:"(MRP changes as per size selection)"})]})]}),T.jsxs("li",{className:"flex items-start w-full gap-2",children:[T.jsxs("div",{className:"w-[40%] flex text-[12px] items-center font-bold",children:[T.jsx("span",{className:"text-2xl",children:T.jsx(Rc,{})}),"Net Qty"]}),T.jsxs("div",{className:"w-[60%] text-[12px]",children:[": ",i.quantity||"1 N"]})]}),T.jsxs("li",{className:"flex items-start w-full gap-2",children:[T.jsxs("div",{className:"w-[40%] flex text-[12px] items-center font-bold",children:[T.jsx("span",{className:"text-2xl",children:T.jsx(Rc,{})}),"Manufactured By"]}),T.jsxs("div",{className:"w-[60%] text-[12px]",children:[":"," ",i.manufacturer||"Chasam Ayurvedic Clinic, Vythiri, Wayanad, Kerala"]})]}),T.jsxs("li",{className:"flex items-center w-full gap-2",children:[T.jsxs("div",{className:"w-[40%] flex text-[12px] items-center font-bold",children:[T.jsx("span",{className:"text-2xl",children:T.jsx(Rc,{})}),"Country Of Origin"]}),T.jsxs("div",{className:"w-[60%] text-[12px]",children:[": ",i.country||"India"]})]}),T.jsxs("li",{className:"flex items-center w-full gap-2",children:[T.jsxs("div",{className:"w-[40%] flex text-[12px] items-center font-bold",children:[T.jsx("span",{className:"text-2xl",children:T.jsx(Rc,{})}),"Customer Care Address"]}),T.jsxs("div",{className:"w-[60%] text-[12px]",children:[": ",i.customerCare||"India"]})]})]})]})]})})})]})},CH="/assets/homeimage1-DZ5e7-BS.png",AH="/assets/homeimage2-CzomThMO.png",RH="/assets/homeimage3-wFBo2ORF.png";function IH(n){return Ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.31 48 48 141.32 48 256c0 114.86 93.14 208 208 208 114.69 0 208-93.31 208-208 0-114.87-93.13-208-208-208zm94 219a94 94 0 1 1-94-94h4.21l-24-24L256 129.2l59.8 59.8-59.8 59.8-19.8-19.8 27.92-27.92c-2.4-.08-5.12-.08-8.12-.08a66 66 0 1 0 66 66v-14h28z"},child:[]}]})(n)}function Y2(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function tT(n,e){n===void 0&&(n={}),e===void 0&&(e={});const t=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>t.indexOf(i)<0).forEach(i=>{typeof n[i]>"u"?n[i]=e[i]:Y2(e[i])&&Y2(n[i])&&Object.keys(e[i]).length>0&&tT(n[i],e[i])})}const DP={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Es(){const n=typeof document<"u"?document:{};return tT(n,DP),n}const NH={document:DP,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function Fn(){const n=typeof window<"u"?window:{};return tT(n,NH),n}function PH(n){return n===void 0&&(n=""),n.trim().split(" ").filter(e=>!!e.trim())}function DH(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function P_(n,e){return e===void 0&&(e=0),setTimeout(n,e)}function Fp(){return Date.now()}function MH(n){const e=Fn();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function OH(n,e){e===void 0&&(e="x");const t=Fn();let i,s,o;const l=MH(n);return t.WebKitCSSMatrix?(s=l.transform||l.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(c=>c.replace(",",".")).join(", ")),o=new t.WebKitCSSMatrix(s==="none"?"":s)):(o=l.MozTransform||l.OTransform||l.MsTransform||l.msTransform||l.transform||l.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=o.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?s=o.m41:i.length===16?s=parseFloat(i[12]):s=parseFloat(i[4])),e==="y"&&(t.WebKitCSSMatrix?s=o.m42:i.length===16?s=parseFloat(i[13]):s=parseFloat(i[5])),s||0}function If(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function kH(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function ni(){const n=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const i=t<0||arguments.length<=t?void 0:arguments[t];if(i!=null&&!kH(i)){const s=Object.keys(Object(i)).filter(o=>e.indexOf(o)<0);for(let o=0,l=s.length;o<l;o+=1){const c=s[o],h=Object.getOwnPropertyDescriptor(i,c);h!==void 0&&h.enumerable&&(If(n[c])&&If(i[c])?i[c].__swiper__?n[c]=i[c]:ni(n[c],i[c]):!If(n[c])&&If(i[c])?(n[c]={},i[c].__swiper__?n[c]=i[c]:ni(n[c],i[c])):n[c]=i[c])}}}return n}function Nf(n,e,t){n.style.setProperty(e,t)}function MP(n){let{swiper:e,targetPosition:t,side:i}=n;const s=Fn(),o=-e.translate;let l=null,c;const h=e.params.speed;e.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(e.cssModeFrameID);const f=t>o?"next":"prev",g=(_,w)=>f==="next"&&_>=w||f==="prev"&&_<=w,y=()=>{c=new Date().getTime(),l===null&&(l=c);const _=Math.max(Math.min((c-l)/h,1),0),w=.5-Math.cos(_*Math.PI)/2;let x=o+w*(t-o);if(g(x,t)&&(x=t),e.wrapperEl.scrollTo({[i]:x}),g(x,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[i]:x})}),s.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=s.requestAnimationFrame(y)};y()}function hs(n,e){e===void 0&&(e="");const t=Fn(),i=[...n.children];return t.HTMLSlotElement&&n instanceof HTMLSlotElement&&i.push(...n.assignedElements()),e?i.filter(s=>s.matches(e)):i}function LH(n,e){const t=[e];for(;t.length>0;){const i=t.shift();if(n===i)return!0;t.push(...i.children,...i.shadowRoot?i.shadowRoot.children:[],...i.assignedElements?i.assignedElements():[])}}function VH(n,e){const t=Fn();let i=e.contains(n);return!i&&t.HTMLSlotElement&&e instanceof HTMLSlotElement&&(i=[...e.assignedElements()].includes(n),i||(i=LH(n,e))),i}function Hp(n){try{console.warn(n);return}catch{}}function qp(n,e){e===void 0&&(e=[]);const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:PH(e)),t}function jH(n,e){const t=[];for(;n.previousElementSibling;){const i=n.previousElementSibling;e?i.matches(e)&&t.push(i):t.push(i),n=i}return t}function UH(n,e){const t=[];for(;n.nextElementSibling;){const i=n.nextElementSibling;e?i.matches(e)&&t.push(i):t.push(i),n=i}return t}function sa(n,e){return Fn().getComputedStyle(n,null).getPropertyValue(e)}function Gp(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function OP(n,e){const t=[];let i=n.parentElement;for(;i;)e?i.matches(e)&&t.push(i):t.push(i),i=i.parentElement;return t}function D_(n,e,t){const i=Fn();return n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function Xs(n){return(Array.isArray(n)?n:[n]).filter(e=>!!e)}let Ev;function BH(){const n=Fn(),e=Es();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function kP(){return Ev||(Ev=BH()),Ev}let Tv;function zH(n){let{userAgent:e}=n===void 0?{}:n;const t=kP(),i=Fn(),s=i.navigator.platform,o=e||i.navigator.userAgent,l={ios:!1,android:!1},c=i.screen.width,h=i.screen.height,f=o.match(/(Android);?[\s\/]+([\d.]+)?/);let g=o.match(/(iPad).*OS\s([\d_]+)/);const y=o.match(/(iPod)(.*OS\s([\d_]+))?/),_=!g&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),w=s==="Win32";let x=s==="MacIntel";const O=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!g&&x&&t.touch&&O.indexOf(`${c}x${h}`)>=0&&(g=o.match(/(Version)\/([\d.]+)/),g||(g=[0,1,"13_0_0"]),x=!1),f&&!w&&(l.os="android",l.android=!0),(g||_||y)&&(l.os="ios",l.ios=!0),l}function LP(n){return n===void 0&&(n={}),Tv||(Tv=zH(n)),Tv}let wv;function FH(){const n=Fn(),e=LP();let t=!1;function i(){const c=n.navigator.userAgent.toLowerCase();return c.indexOf("safari")>=0&&c.indexOf("chrome")<0&&c.indexOf("android")<0}if(i()){const c=String(n.navigator.userAgent);if(c.includes("Version/")){const[h,f]=c.split("Version/")[1].split(" ")[0].split(".").map(g=>Number(g));t=h<16||h===16&&f<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),o=i(),l=o||s&&e.ios;return{isSafari:t||o,needPerspectiveFix:t,need3dFix:l,isWebView:s}}function VP(){return wv||(wv=FH()),wv}function HH(n){let{swiper:e,on:t,emit:i}=n;const s=Fn();let o=null,l=null;const c=()=>{!e||e.destroyed||!e.initialized||(i("beforeResize"),i("resize"))},h=()=>{!e||e.destroyed||!e.initialized||(o=new ResizeObserver(y=>{l=s.requestAnimationFrame(()=>{const{width:_,height:w}=e;let x=_,O=w;y.forEach(V=>{let{contentBoxSize:P,contentRect:I,target:N}=V;N&&N!==e.el||(x=I?I.width:(P[0]||P).inlineSize,O=I?I.height:(P[0]||P).blockSize)}),(x!==_||O!==w)&&c()})}),o.observe(e.el))},f=()=>{l&&s.cancelAnimationFrame(l),o&&o.unobserve&&e.el&&(o.unobserve(e.el),o=null)},g=()=>{!e||e.destroyed||!e.initialized||i("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof s.ResizeObserver<"u"){h();return}s.addEventListener("resize",c),s.addEventListener("orientationchange",g)}),t("destroy",()=>{f(),s.removeEventListener("resize",c),s.removeEventListener("orientationchange",g)})}function qH(n){let{swiper:e,extendParams:t,on:i,emit:s}=n;const o=[],l=Fn(),c=function(g,y){y===void 0&&(y={});const _=l.MutationObserver||l.WebkitMutationObserver,w=new _(x=>{if(e.__preventObserver__)return;if(x.length===1){s("observerUpdate",x[0]);return}const O=function(){s("observerUpdate",x[0])};l.requestAnimationFrame?l.requestAnimationFrame(O):l.setTimeout(O,0)});w.observe(g,{attributes:typeof y.attributes>"u"?!0:y.attributes,childList:e.isElement||(typeof y.childList>"u"?!0:y).childList,characterData:typeof y.characterData>"u"?!0:y.characterData}),o.push(w)},h=()=>{if(e.params.observer){if(e.params.observeParents){const g=OP(e.hostEl);for(let y=0;y<g.length;y+=1)c(g[y])}c(e.hostEl,{childList:e.params.observeSlideChildren}),c(e.wrapperEl,{attributes:!1})}},f=()=>{o.forEach(g=>{g.disconnect()}),o.splice(0,o.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",h),i("destroy",f)}var GH={on(n,e,t){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;const s=t?"unshift":"push";return n.split(" ").forEach(o=>{i.eventsListeners[o]||(i.eventsListeners[o]=[]),i.eventsListeners[o][s](e)}),i},once(n,e,t){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;function s(){i.off(n,s),s.__emitterProxy&&delete s.__emitterProxy;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];e.apply(i,l)}return s.__emitterProxy=e,i.on(n,s,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;const i=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[i](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(i=>{typeof e>"u"?t.eventsListeners[i]=[]:t.eventsListeners[i]&&t.eventsListeners[i].forEach((s,o)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&t.eventsListeners[i].splice(o,1)})}),t},emit(){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let e,t,i;for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];return typeof o[0]=="string"||Array.isArray(o[0])?(e=o[0],t=o.slice(1,o.length),i=n):(e=o[0].events,t=o[0].data,i=o[0].context||n),t.unshift(i),(Array.isArray(e)?e:e.split(" ")).forEach(h=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(f=>{f.apply(i,[h,...t])}),n.eventsListeners&&n.eventsListeners[h]&&n.eventsListeners[h].forEach(f=>{f.apply(i,t)})}),n}};function $H(){const n=this;let e,t;const i=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=i.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=i.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(sa(i,"padding-left")||0,10)-parseInt(sa(i,"padding-right")||0,10),t=t-parseInt(sa(i,"padding-top")||0,10)-parseInt(sa(i,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function KH(){const n=this;function e(R,j){return parseFloat(R.getPropertyValue(n.getDirectionLabel(j))||0)}const t=n.params,{wrapperEl:i,slidesEl:s,size:o,rtlTranslate:l,wrongRTL:c}=n,h=n.virtual&&t.virtual.enabled,f=h?n.virtual.slides.length:n.slides.length,g=hs(s,`.${n.params.slideClass}, swiper-slide`),y=h?n.virtual.slides.length:g.length;let _=[];const w=[],x=[];let O=t.slidesOffsetBefore;typeof O=="function"&&(O=t.slidesOffsetBefore.call(n));let V=t.slidesOffsetAfter;typeof V=="function"&&(V=t.slidesOffsetAfter.call(n));const P=n.snapGrid.length,I=n.slidesGrid.length;let N=t.spaceBetween,H=-O,q=0,Z=0;if(typeof o>"u")return;typeof N=="string"&&N.indexOf("%")>=0?N=parseFloat(N.replace("%",""))/100*o:typeof N=="string"&&(N=parseFloat(N)),n.virtualSize=-N,g.forEach(R=>{l?R.style.marginLeft="":R.style.marginRight="",R.style.marginBottom="",R.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(Nf(i,"--swiper-centered-offset-before",""),Nf(i,"--swiper-centered-offset-after",""));const k=t.grid&&t.grid.rows>1&&n.grid;k?n.grid.initSlides(g):n.grid&&n.grid.unsetSlides();let A;const C=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(R=>typeof t.breakpoints[R].slidesPerView<"u").length>0;for(let R=0;R<y;R+=1){A=0;let j;if(g[R]&&(j=g[R]),k&&n.grid.updateSlide(R,j,g),!(g[R]&&sa(j,"display")==="none")){if(t.slidesPerView==="auto"){C&&(g[R].style[n.getDirectionLabel("width")]="");const z=getComputedStyle(j),L=j.style.transform,de=j.style.webkitTransform;if(L&&(j.style.transform="none"),de&&(j.style.webkitTransform="none"),t.roundLengths)A=n.isHorizontal()?D_(j,"width"):D_(j,"height");else{const _e=e(z,"width"),re=e(z,"padding-left"),he=e(z,"padding-right"),ae=e(z,"margin-left"),fe=e(z,"margin-right"),F=z.getPropertyValue("box-sizing");if(F&&F==="border-box")A=_e+ae+fe;else{const{clientWidth:ie,offsetWidth:ye}=j;A=_e+re+he+ae+fe+(ye-ie)}}L&&(j.style.transform=L),de&&(j.style.webkitTransform=de),t.roundLengths&&(A=Math.floor(A))}else A=(o-(t.slidesPerView-1)*N)/t.slidesPerView,t.roundLengths&&(A=Math.floor(A)),g[R]&&(g[R].style[n.getDirectionLabel("width")]=`${A}px`);g[R]&&(g[R].swiperSlideSize=A),x.push(A),t.centeredSlides?(H=H+A/2+q/2+N,q===0&&R!==0&&(H=H-o/2-N),R===0&&(H=H-o/2-N),Math.abs(H)<1/1e3&&(H=0),t.roundLengths&&(H=Math.floor(H)),Z%t.slidesPerGroup===0&&_.push(H),w.push(H)):(t.roundLengths&&(H=Math.floor(H)),(Z-Math.min(n.params.slidesPerGroupSkip,Z))%n.params.slidesPerGroup===0&&_.push(H),w.push(H),H=H+A+N),n.virtualSize+=A+N,q=A,Z+=1}}if(n.virtualSize=Math.max(n.virtualSize,o)+V,l&&c&&(t.effect==="slide"||t.effect==="coverflow")&&(i.style.width=`${n.virtualSize+N}px`),t.setWrapperSize&&(i.style[n.getDirectionLabel("width")]=`${n.virtualSize+N}px`),k&&n.grid.updateWrapperSize(A,_),!t.centeredSlides){const R=[];for(let j=0;j<_.length;j+=1){let z=_[j];t.roundLengths&&(z=Math.floor(z)),_[j]<=n.virtualSize-o&&R.push(z)}_=R,Math.floor(n.virtualSize-o)-Math.floor(_[_.length-1])>1&&_.push(n.virtualSize-o)}if(h&&t.loop){const R=x[0]+N;if(t.slidesPerGroup>1){const j=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/t.slidesPerGroup),z=R*t.slidesPerGroup;for(let L=0;L<j;L+=1)_.push(_[_.length-1]+z)}for(let j=0;j<n.virtual.slidesBefore+n.virtual.slidesAfter;j+=1)t.slidesPerGroup===1&&_.push(_[_.length-1]+R),w.push(w[w.length-1]+R),n.virtualSize+=R}if(_.length===0&&(_=[0]),N!==0){const R=n.isHorizontal()&&l?"marginLeft":n.getDirectionLabel("marginRight");g.filter((j,z)=>!t.cssMode||t.loop?!0:z!==g.length-1).forEach(j=>{j.style[R]=`${N}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let R=0;x.forEach(z=>{R+=z+(N||0)}),R-=N;const j=R>o?R-o:0;_=_.map(z=>z<=0?-O:z>j?j+V:z)}if(t.centerInsufficientSlides){let R=0;x.forEach(z=>{R+=z+(N||0)}),R-=N;const j=(t.slidesOffsetBefore||0)+(t.slidesOffsetAfter||0);if(R+j<o){const z=(o-R-j)/2;_.forEach((L,de)=>{_[de]=L-z}),w.forEach((L,de)=>{w[de]=L+z})}}if(Object.assign(n,{slides:g,snapGrid:_,slidesGrid:w,slidesSizesGrid:x}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){Nf(i,"--swiper-centered-offset-before",`${-_[0]}px`),Nf(i,"--swiper-centered-offset-after",`${n.size/2-x[x.length-1]/2}px`);const R=-n.snapGrid[0],j=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(z=>z+R),n.slidesGrid=n.slidesGrid.map(z=>z+j)}if(y!==f&&n.emit("slidesLengthChange"),_.length!==P&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),w.length!==I&&n.emit("slidesGridLengthChange"),t.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!h&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const R=`${t.containerModifierClass}backface-hidden`,j=n.el.classList.contains(R);y<=t.maxBackfaceHiddenSlides?j||n.el.classList.add(R):j&&n.el.classList.remove(R)}}function WH(n){const e=this,t=[],i=e.virtual&&e.params.virtual.enabled;let s=0,o;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);const l=c=>i?e.slides[e.getSlideIndexByData(c)]:e.slides[c];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(c=>{t.push(c)});else for(o=0;o<Math.ceil(e.params.slidesPerView);o+=1){const c=e.activeIndex+o;if(c>e.slides.length&&!i)break;t.push(l(c))}else t.push(l(e.activeIndex));for(o=0;o<t.length;o+=1)if(typeof t[o]<"u"){const c=t[o].offsetHeight;s=c>s?c:s}(s||s===0)&&(e.wrapperEl.style.height=`${s}px`)}function YH(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let i=0;i<e.length;i+=1)e[i].swiperSlideOffset=(n.isHorizontal()?e[i].offsetLeft:e[i].offsetTop)-t-n.cssOverflowAdjustment()}const Q2=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function QH(n){n===void 0&&(n=this&&this.translate||0);const e=this,t=e.params,{slides:i,rtlTranslate:s,snapGrid:o}=e;if(i.length===0)return;typeof i[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let l=-n;s&&(l=n),e.visibleSlidesIndexes=[],e.visibleSlides=[];let c=t.spaceBetween;typeof c=="string"&&c.indexOf("%")>=0?c=parseFloat(c.replace("%",""))/100*e.size:typeof c=="string"&&(c=parseFloat(c));for(let h=0;h<i.length;h+=1){const f=i[h];let g=f.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(g-=i[0].swiperSlideOffset);const y=(l+(t.centeredSlides?e.minTranslate():0)-g)/(f.swiperSlideSize+c),_=(l-o[0]+(t.centeredSlides?e.minTranslate():0)-g)/(f.swiperSlideSize+c),w=-(l-g),x=w+e.slidesSizesGrid[h],O=w>=0&&w<=e.size-e.slidesSizesGrid[h],V=w>=0&&w<e.size-1||x>1&&x<=e.size||w<=0&&x>=e.size;V&&(e.visibleSlides.push(f),e.visibleSlidesIndexes.push(h)),Q2(f,V,t.slideVisibleClass),Q2(f,O,t.slideFullyVisibleClass),f.progress=s?-y:y,f.originalProgress=s?-_:_}}function XH(n){const e=this;if(typeof n>"u"){const g=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*g||0}const t=e.params,i=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:o,isEnd:l,progressLoop:c}=e;const h=o,f=l;if(i===0)s=0,o=!0,l=!0;else{s=(n-e.minTranslate())/i;const g=Math.abs(n-e.minTranslate())<1,y=Math.abs(n-e.maxTranslate())<1;o=g||s<=0,l=y||s>=1,g&&(s=0),y&&(s=1)}if(t.loop){const g=e.getSlideIndexByData(0),y=e.getSlideIndexByData(e.slides.length-1),_=e.slidesGrid[g],w=e.slidesGrid[y],x=e.slidesGrid[e.slidesGrid.length-1],O=Math.abs(n);O>=_?c=(O-_)/x:c=(O+x-w)/x,c>1&&(c-=1)}Object.assign(e,{progress:s,progressLoop:c,isBeginning:o,isEnd:l}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),o&&!h&&e.emit("reachBeginning toEdge"),l&&!f&&e.emit("reachEnd toEdge"),(h&&!o||f&&!l)&&e.emit("fromEdge"),e.emit("progress",s)}const bv=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function ZH(){const n=this,{slides:e,params:t,slidesEl:i,activeIndex:s}=n,o=n.virtual&&t.virtual.enabled,l=n.grid&&t.grid&&t.grid.rows>1,c=y=>hs(i,`.${t.slideClass}${y}, swiper-slide${y}`)[0];let h,f,g;if(o)if(t.loop){let y=s-n.virtual.slidesBefore;y<0&&(y=n.virtual.slides.length+y),y>=n.virtual.slides.length&&(y-=n.virtual.slides.length),h=c(`[data-swiper-slide-index="${y}"]`)}else h=c(`[data-swiper-slide-index="${s}"]`);else l?(h=e.find(y=>y.column===s),g=e.find(y=>y.column===s+1),f=e.find(y=>y.column===s-1)):h=e[s];h&&(l||(g=UH(h,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!g&&(g=e[0]),f=jH(h,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!f===0&&(f=e[e.length-1]))),e.forEach(y=>{bv(y,y===h,t.slideActiveClass),bv(y,y===g,t.slideNextClass),bv(y,y===f,t.slidePrevClass)}),n.emitSlidesClasses()}const Wf=(n,e)=>{if(!n||n.destroyed||!n.params)return;const t=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,i=e.closest(t());if(i){let s=i.querySelector(`.${n.params.lazyPreloaderClass}`);!s&&n.isElement&&(i.shadowRoot?s=i.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{i.shadowRoot&&(s=i.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),s&&s.remove())})),s&&s.remove()}},Sv=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},M_=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const i=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),s=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const l=s,c=[l-e];c.push(...Array.from({length:e}).map((h,f)=>l+i+f)),n.slides.forEach((h,f)=>{c.includes(h.column)&&Sv(n,f)});return}const o=s+i-1;if(n.params.rewind||n.params.loop)for(let l=s-e;l<=o+e;l+=1){const c=(l%t+t)%t;(c<s||c>o)&&Sv(n,c)}else for(let l=Math.max(s-e,0);l<=Math.min(o+e,t-1);l+=1)l!==s&&(l>o||l<s)&&Sv(n,l)};function JH(n){const{slidesGrid:e,params:t}=n,i=n.rtlTranslate?n.translate:-n.translate;let s;for(let o=0;o<e.length;o+=1)typeof e[o+1]<"u"?i>=e[o]&&i<e[o+1]-(e[o+1]-e[o])/2?s=o:i>=e[o]&&i<e[o+1]&&(s=o+1):i>=e[o]&&(s=o);return t.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function eq(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:i,params:s,activeIndex:o,realIndex:l,snapIndex:c}=e;let h=n,f;const g=w=>{let x=w-e.virtual.slidesBefore;return x<0&&(x=e.virtual.slides.length+x),x>=e.virtual.slides.length&&(x-=e.virtual.slides.length),x};if(typeof h>"u"&&(h=JH(e)),i.indexOf(t)>=0)f=i.indexOf(t);else{const w=Math.min(s.slidesPerGroupSkip,h);f=w+Math.floor((h-w)/s.slidesPerGroup)}if(f>=i.length&&(f=i.length-1),h===o&&!e.params.loop){f!==c&&(e.snapIndex=f,e.emit("snapIndexChange"));return}if(h===o&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=g(h);return}const y=e.grid&&s.grid&&s.grid.rows>1;let _;if(e.virtual&&s.virtual.enabled&&s.loop)_=g(h);else if(y){const w=e.slides.find(O=>O.column===h);let x=parseInt(w.getAttribute("data-swiper-slide-index"),10);Number.isNaN(x)&&(x=Math.max(e.slides.indexOf(w),0)),_=Math.floor(x/s.grid.rows)}else if(e.slides[h]){const w=e.slides[h].getAttribute("data-swiper-slide-index");w?_=parseInt(w,10):_=h}else _=h;Object.assign(e,{previousSnapIndex:c,snapIndex:f,previousRealIndex:l,realIndex:_,previousIndex:o,activeIndex:h}),e.initialized&&M_(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(l!==_&&e.emit("realIndexChange"),e.emit("slideChange"))}function tq(n,e){const t=this,i=t.params;let s=n.closest(`.${i.slideClass}, swiper-slide`);!s&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(c=>{!s&&c.matches&&c.matches(`.${i.slideClass}, swiper-slide`)&&(s=c)});let o=!1,l;if(s){for(let c=0;c<t.slides.length;c+=1)if(t.slides[c]===s){o=!0,l=c;break}}if(s&&o)t.clickedSlide=s,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=l;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}i.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var nq={updateSize:$H,updateSlides:KH,updateAutoHeight:WH,updateSlidesOffset:YH,updateSlidesProgress:QH,updateProgress:XH,updateSlidesClasses:ZH,updateActiveIndex:eq,updateClickedSlide:tq};function iq(n){n===void 0&&(n=this.isHorizontal()?"x":"y");const e=this,{params:t,rtlTranslate:i,translate:s,wrapperEl:o}=e;if(t.virtualTranslate)return i?-s:s;if(t.cssMode)return s;let l=OH(o,n);return l+=e.cssOverflowAdjustment(),i&&(l=-l),l||0}function sq(n,e){const t=this,{rtlTranslate:i,params:s,wrapperEl:o,progress:l}=t;let c=0,h=0;const f=0;t.isHorizontal()?c=i?-n:n:h=n,s.roundLengths&&(c=Math.floor(c),h=Math.floor(h)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?c:h,s.cssMode?o[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-c:-h:s.virtualTranslate||(t.isHorizontal()?c-=t.cssOverflowAdjustment():h-=t.cssOverflowAdjustment(),o.style.transform=`translate3d(${c}px, ${h}px, ${f}px)`);let g;const y=t.maxTranslate()-t.minTranslate();y===0?g=0:g=(n-t.minTranslate())/y,g!==l&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function rq(){return-this.snapGrid[0]}function aq(){return-this.snapGrid[this.snapGrid.length-1]}function oq(n,e,t,i,s){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),i===void 0&&(i=!0);const o=this,{params:l,wrapperEl:c}=o;if(o.animating&&l.preventInteractionOnTransition)return!1;const h=o.minTranslate(),f=o.maxTranslate();let g;if(i&&n>h?g=h:i&&n<f?g=f:g=n,o.updateProgress(g),l.cssMode){const y=o.isHorizontal();if(e===0)c[y?"scrollLeft":"scrollTop"]=-g;else{if(!o.support.smoothScroll)return MP({swiper:o,targetPosition:-g,side:y?"left":"top"}),!0;c.scrollTo({[y?"left":"top"]:-g,behavior:"smooth"})}return!0}return e===0?(o.setTransition(0),o.setTranslate(g),t&&(o.emit("beforeTransitionStart",e,s),o.emit("transitionEnd"))):(o.setTransition(e),o.setTranslate(g),t&&(o.emit("beforeTransitionStart",e,s),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(_){!o||o.destroyed||_.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,o.animating=!1,t&&o.emit("transitionEnd"))}),o.wrapperEl.addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd))),!0}var lq={getTranslate:iq,setTranslate:sq,minTranslate:rq,maxTranslate:aq,translateTo:oq};function uq(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`,t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function jP(n){let{swiper:e,runCallbacks:t,direction:i,step:s}=n;const{activeIndex:o,previousIndex:l}=e;let c=i;if(c||(o>l?c="next":o<l?c="prev":c="reset"),e.emit(`transition${s}`),t&&o!==l){if(c==="reset"){e.emit(`slideResetTransition${s}`);return}e.emit(`slideChangeTransition${s}`),c==="next"?e.emit(`slideNextTransition${s}`):e.emit(`slidePrevTransition${s}`)}}function cq(n,e){n===void 0&&(n=!0);const t=this,{params:i}=t;i.cssMode||(i.autoHeight&&t.updateAutoHeight(),jP({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function hq(n,e){n===void 0&&(n=!0);const t=this,{params:i}=t;t.animating=!1,!i.cssMode&&(t.setTransition(0),jP({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var dq={setTransition:uq,transitionStart:cq,transitionEnd:hq};function fq(n,e,t,i,s){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const o=this;let l=n;l<0&&(l=0);const{params:c,snapGrid:h,slidesGrid:f,previousIndex:g,activeIndex:y,rtlTranslate:_,wrapperEl:w,enabled:x}=o;if(!x&&!i&&!s||o.destroyed||o.animating&&c.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=o.params.speed);const O=Math.min(o.params.slidesPerGroupSkip,l);let V=O+Math.floor((l-O)/o.params.slidesPerGroup);V>=h.length&&(V=h.length-1);const P=-h[V];if(c.normalizeSlideIndex)for(let k=0;k<f.length;k+=1){const A=-Math.floor(P*100),C=Math.floor(f[k]*100),R=Math.floor(f[k+1]*100);typeof f[k+1]<"u"?A>=C&&A<R-(R-C)/2?l=k:A>=C&&A<R&&(l=k+1):A>=C&&(l=k)}if(o.initialized&&l!==y&&(!o.allowSlideNext&&(_?P>o.translate&&P>o.minTranslate():P<o.translate&&P<o.minTranslate())||!o.allowSlidePrev&&P>o.translate&&P>o.maxTranslate()&&(y||0)!==l))return!1;l!==(g||0)&&t&&o.emit("beforeSlideChangeStart"),o.updateProgress(P);let I;l>y?I="next":l<y?I="prev":I="reset";const N=o.virtual&&o.params.virtual.enabled;if(!(N&&s)&&(_&&-P===o.translate||!_&&P===o.translate))return o.updateActiveIndex(l),c.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),c.effect!=="slide"&&o.setTranslate(P),I!=="reset"&&(o.transitionStart(t,I),o.transitionEnd(t,I)),!1;if(c.cssMode){const k=o.isHorizontal(),A=_?P:-P;if(e===0)N&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),N&&!o._cssModeVirtualInitialSet&&o.params.initialSlide>0?(o._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{w[k?"scrollLeft":"scrollTop"]=A})):w[k?"scrollLeft":"scrollTop"]=A,N&&requestAnimationFrame(()=>{o.wrapperEl.style.scrollSnapType="",o._immediateVirtual=!1});else{if(!o.support.smoothScroll)return MP({swiper:o,targetPosition:A,side:k?"left":"top"}),!0;w.scrollTo({[k?"left":"top"]:A,behavior:"smooth"})}return!0}const Z=VP().isSafari;return N&&!s&&Z&&o.isElement&&o.virtual.update(!1,!1,l),o.setTransition(e),o.setTranslate(P),o.updateActiveIndex(l),o.updateSlidesClasses(),o.emit("beforeTransitionStart",e,i),o.transitionStart(t,I),e===0?o.transitionEnd(t,I):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(A){!o||o.destroyed||A.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(t,I))}),o.wrapperEl.addEventListener("transitionend",o.onSlideToWrapperTransitionEnd)),!0}function pq(n,e,t,i){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const s=this;if(s.destroyed)return;typeof e>"u"&&(e=s.params.speed);const o=s.grid&&s.params.grid&&s.params.grid.rows>1;let l=n;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)l=l+s.virtual.slidesBefore;else{let c;if(o){const _=l*s.params.grid.rows;c=s.slides.find(w=>w.getAttribute("data-swiper-slide-index")*1===_).column}else c=s.getSlideIndexByData(l);const h=o?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:f}=s.params;let g=s.params.slidesPerView;g==="auto"?g=s.slidesPerViewDynamic():(g=Math.ceil(parseFloat(s.params.slidesPerView,10)),f&&g%2===0&&(g=g+1));let y=h-c<g;if(f&&(y=y||c<Math.ceil(g/2)),i&&f&&s.params.slidesPerView!=="auto"&&!o&&(y=!1),y){const _=f?c<s.activeIndex?"prev":"next":c-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:_,slideTo:!0,activeSlideIndex:_==="next"?c+1:c-h+1,slideRealIndex:_==="next"?s.realIndex:void 0})}if(o){const _=l*s.params.grid.rows;l=s.slides.find(w=>w.getAttribute("data-swiper-slide-index")*1===_).column}else l=s.getSlideIndexByData(l)}return requestAnimationFrame(()=>{s.slideTo(l,e,t,i)}),s}function mq(n,e,t){e===void 0&&(e=!0);const i=this,{enabled:s,params:o,animating:l}=i;if(!s||i.destroyed)return i;typeof n>"u"&&(n=i.params.speed);let c=o.slidesPerGroup;o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(c=Math.max(i.slidesPerViewDynamic("current",!0),1));const h=i.activeIndex<o.slidesPerGroupSkip?1:c,f=i.virtual&&o.virtual.enabled;if(o.loop){if(l&&!f&&o.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&o.cssMode)return requestAnimationFrame(()=>{i.slideTo(i.activeIndex+h,n,e,t)}),!0}return o.rewind&&i.isEnd?i.slideTo(0,n,e,t):i.slideTo(i.activeIndex+h,n,e,t)}function gq(n,e,t){e===void 0&&(e=!0);const i=this,{params:s,snapGrid:o,slidesGrid:l,rtlTranslate:c,enabled:h,animating:f}=i;if(!h||i.destroyed)return i;typeof n>"u"&&(n=i.params.speed);const g=i.virtual&&s.virtual.enabled;if(s.loop){if(f&&!g&&s.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}const y=c?i.translate:-i.translate;function _(I){return I<0?-Math.floor(Math.abs(I)):Math.floor(I)}const w=_(y),x=o.map(I=>_(I)),O=s.freeMode&&s.freeMode.enabled;let V=o[x.indexOf(w)-1];if(typeof V>"u"&&(s.cssMode||O)){let I;o.forEach((N,H)=>{w>=N&&(I=H)}),typeof I<"u"&&(V=O?o[I]:o[I>0?I-1:I])}let P=0;if(typeof V<"u"&&(P=l.indexOf(V),P<0&&(P=i.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(P=P-i.slidesPerViewDynamic("previous",!0)+1,P=Math.max(P,0))),s.rewind&&i.isBeginning){const I=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(I,n,e,t)}else if(s.loop&&i.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{i.slideTo(P,n,e,t)}),!0;return i.slideTo(P,n,e,t)}function yq(n,e,t){e===void 0&&(e=!0);const i=this;if(!i.destroyed)return typeof n>"u"&&(n=i.params.speed),i.slideTo(i.activeIndex,n,e,t)}function vq(n,e,t,i){e===void 0&&(e=!0),i===void 0&&(i=.5);const s=this;if(s.destroyed)return;typeof n>"u"&&(n=s.params.speed);let o=s.activeIndex;const l=Math.min(s.params.slidesPerGroupSkip,o),c=l+Math.floor((o-l)/s.params.slidesPerGroup),h=s.rtlTranslate?s.translate:-s.translate;if(h>=s.snapGrid[c]){const f=s.snapGrid[c],g=s.snapGrid[c+1];h-f>(g-f)*i&&(o+=s.params.slidesPerGroup)}else{const f=s.snapGrid[c-1],g=s.snapGrid[c];h-f<=(g-f)*i&&(o-=s.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,s.slidesGrid.length-1),s.slideTo(o,n,e,t)}function _q(){const n=this;if(n.destroyed)return;const{params:e,slidesEl:t}=n,i=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView;let s=n.clickedIndex,o;const l=n.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(n.animating)return;o=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?s<n.loopedSlides-i/2||s>n.slides.length-n.loopedSlides+i/2?(n.loopFix(),s=n.getSlideIndex(hs(t,`${l}[data-swiper-slide-index="${o}"]`)[0]),P_(()=>{n.slideTo(s)})):n.slideTo(s):s>n.slides.length-i?(n.loopFix(),s=n.getSlideIndex(hs(t,`${l}[data-swiper-slide-index="${o}"]`)[0]),P_(()=>{n.slideTo(s)})):n.slideTo(s)}else n.slideTo(s)}var Eq={slideTo:fq,slideToLoop:pq,slideNext:mq,slidePrev:gq,slideReset:yq,slideToClosest:vq,slideToClickedSlide:_q};function Tq(n){const e=this,{params:t,slidesEl:i}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;const s=()=>{hs(i,`.${t.slideClass}, swiper-slide`).forEach((y,_)=>{y.setAttribute("data-swiper-slide-index",_)})},o=e.grid&&t.grid&&t.grid.rows>1,l=t.slidesPerGroup*(o?t.grid.rows:1),c=e.slides.length%l!==0,h=o&&e.slides.length%t.grid.rows!==0,f=g=>{for(let y=0;y<g;y+=1){const _=e.isElement?qp("swiper-slide",[t.slideBlankClass]):qp("div",[t.slideClass,t.slideBlankClass]);e.slidesEl.append(_)}};if(c){if(t.loopAddBlankSlides){const g=l-e.slides.length%l;f(g),e.recalcSlides(),e.updateSlides()}else Hp("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(h){if(t.loopAddBlankSlides){const g=t.grid.rows-e.slides.length%t.grid.rows;f(g),e.recalcSlides(),e.updateSlides()}else Hp("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();e.loopFix({slideRealIndex:n,direction:t.centeredSlides?void 0:"next"})}function wq(n){let{slideRealIndex:e,slideTo:t=!0,direction:i,setTranslate:s,activeSlideIndex:o,byController:l,byMousewheel:c}=n===void 0?{}:n;const h=this;if(!h.params.loop)return;h.emit("beforeLoopFix");const{slides:f,allowSlidePrev:g,allowSlideNext:y,slidesEl:_,params:w}=h,{centeredSlides:x}=w;if(h.allowSlidePrev=!0,h.allowSlideNext=!0,h.virtual&&w.virtual.enabled){t&&(!w.centeredSlides&&h.snapIndex===0?h.slideTo(h.virtual.slides.length,0,!1,!0):w.centeredSlides&&h.snapIndex<w.slidesPerView?h.slideTo(h.virtual.slides.length+h.snapIndex,0,!1,!0):h.snapIndex===h.snapGrid.length-1&&h.slideTo(h.virtual.slidesBefore,0,!1,!0)),h.allowSlidePrev=g,h.allowSlideNext=y,h.emit("loopFix");return}let O=w.slidesPerView;O==="auto"?O=h.slidesPerViewDynamic():(O=Math.ceil(parseFloat(w.slidesPerView,10)),x&&O%2===0&&(O=O+1));const V=w.slidesPerGroupAuto?O:w.slidesPerGroup;let P=V;P%V!==0&&(P+=V-P%V),P+=w.loopAdditionalSlides,h.loopedSlides=P;const I=h.grid&&w.grid&&w.grid.rows>1;f.length<O+P?Hp("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):I&&w.grid.fill==="row"&&Hp("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const N=[],H=[];let q=h.activeIndex;typeof o>"u"?o=h.getSlideIndex(f.find(L=>L.classList.contains(w.slideActiveClass))):q=o;const Z=i==="next"||!i,k=i==="prev"||!i;let A=0,C=0;const R=I?Math.ceil(f.length/w.grid.rows):f.length,z=(I?f[o].column:o)+(x&&typeof s>"u"?-O/2+.5:0);if(z<P){A=Math.max(P-z,V);for(let L=0;L<P-z;L+=1){const de=L-Math.floor(L/R)*R;if(I){const _e=R-de-1;for(let re=f.length-1;re>=0;re-=1)f[re].column===_e&&N.push(re)}else N.push(R-de-1)}}else if(z+O>R-P){C=Math.max(z-(R-P*2),V);for(let L=0;L<C;L+=1){const de=L-Math.floor(L/R)*R;I?f.forEach((_e,re)=>{_e.column===de&&H.push(re)}):H.push(de)}}if(h.__preventObserver__=!0,requestAnimationFrame(()=>{h.__preventObserver__=!1}),k&&N.forEach(L=>{f[L].swiperLoopMoveDOM=!0,_.prepend(f[L]),f[L].swiperLoopMoveDOM=!1}),Z&&H.forEach(L=>{f[L].swiperLoopMoveDOM=!0,_.append(f[L]),f[L].swiperLoopMoveDOM=!1}),h.recalcSlides(),w.slidesPerView==="auto"?h.updateSlides():I&&(N.length>0&&k||H.length>0&&Z)&&h.slides.forEach((L,de)=>{h.grid.updateSlide(de,L,h.slides)}),w.watchSlidesProgress&&h.updateSlidesOffset(),t){if(N.length>0&&k){if(typeof e>"u"){const L=h.slidesGrid[q],_e=h.slidesGrid[q+A]-L;c?h.setTranslate(h.translate-_e):(h.slideTo(q+Math.ceil(A),0,!1,!0),s&&(h.touchEventsData.startTranslate=h.touchEventsData.startTranslate-_e,h.touchEventsData.currentTranslate=h.touchEventsData.currentTranslate-_e))}else if(s){const L=I?N.length/w.grid.rows:N.length;h.slideTo(h.activeIndex+L,0,!1,!0),h.touchEventsData.currentTranslate=h.translate}}else if(H.length>0&&Z)if(typeof e>"u"){const L=h.slidesGrid[q],_e=h.slidesGrid[q-C]-L;c?h.setTranslate(h.translate-_e):(h.slideTo(q-C,0,!1,!0),s&&(h.touchEventsData.startTranslate=h.touchEventsData.startTranslate-_e,h.touchEventsData.currentTranslate=h.touchEventsData.currentTranslate-_e))}else{const L=I?H.length/w.grid.rows:H.length;h.slideTo(h.activeIndex-L,0,!1,!0)}}if(h.allowSlidePrev=g,h.allowSlideNext=y,h.controller&&h.controller.control&&!l){const L={slideRealIndex:e,direction:i,setTranslate:s,activeSlideIndex:o,byController:!0};Array.isArray(h.controller.control)?h.controller.control.forEach(de=>{!de.destroyed&&de.params.loop&&de.loopFix({...L,slideTo:de.params.slidesPerView===w.slidesPerView?t:!1})}):h.controller.control instanceof h.constructor&&h.controller.control.params.loop&&h.controller.control.loopFix({...L,slideTo:h.controller.control.params.slidesPerView===w.slidesPerView?t:!1})}h.emit("loopFix")}function bq(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const i=[];n.slides.forEach(s=>{const o=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;i[o]=s}),n.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),i.forEach(s=>{t.append(s)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var Sq={loopCreate:Tq,loopFix:wq,loopDestroy:bq};function xq(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function Cq(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var Aq={setGrabCursor:xq,unsetGrabCursor:Cq};function Rq(n,e){e===void 0&&(e=this);function t(i){if(!i||i===Es()||i===Fn())return null;i.assignedSlot&&(i=i.assignedSlot);const s=i.closest(n);return!s&&!i.getRootNode?null:s||t(i.getRootNode().host)}return t(e)}function X2(n,e,t){const i=Fn(),{params:s}=n,o=s.edgeSwipeDetection,l=s.edgeSwipeThreshold;return o&&(t<=l||t>=i.innerWidth-l)?o==="prevent"?(e.preventDefault(),!0):!1:!0}function Iq(n){const e=this,t=Es();let i=n;i.originalEvent&&(i=i.originalEvent);const s=e.touchEventsData;if(i.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==i.pointerId)return;s.pointerId=i.pointerId}else i.type==="touchstart"&&i.targetTouches.length===1&&(s.touchId=i.targetTouches[0].identifier);if(i.type==="touchstart"){X2(e,i,i.targetTouches[0].pageX);return}const{params:o,touches:l,enabled:c}=e;if(!c||!o.simulateTouch&&i.pointerType==="mouse"||e.animating&&o.preventInteractionOnTransition)return;!e.animating&&o.cssMode&&o.loop&&e.loopFix();let h=i.target;if(o.touchEventsTarget==="wrapper"&&!VH(h,e.wrapperEl)||"which"in i&&i.which===3||"button"in i&&i.button>0||s.isTouched&&s.isMoved)return;const f=!!o.noSwipingClass&&o.noSwipingClass!=="",g=i.composedPath?i.composedPath():i.path;f&&i.target&&i.target.shadowRoot&&g&&(h=g[0]);const y=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`,_=!!(i.target&&i.target.shadowRoot);if(o.noSwiping&&(_?Rq(y,h):h.closest(y))){e.allowClick=!0;return}if(o.swipeHandler&&!h.closest(o.swipeHandler))return;l.currentX=i.pageX,l.currentY=i.pageY;const w=l.currentX,x=l.currentY;if(!X2(e,i,w))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),l.startX=w,l.startY=x,s.touchStartTime=Fp(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,o.threshold>0&&(s.allowThresholdMove=!1);let O=!0;h.matches(s.focusableElements)&&(O=!1,h.nodeName==="SELECT"&&(s.isTouched=!1)),t.activeElement&&t.activeElement.matches(s.focusableElements)&&t.activeElement!==h&&(i.pointerType==="mouse"||i.pointerType!=="mouse"&&!h.matches(s.focusableElements))&&t.activeElement.blur();const V=O&&e.allowTouchMove&&o.touchStartPreventDefault;(o.touchStartForcePreventDefault||V)&&!h.isContentEditable&&i.preventDefault(),o.freeMode&&o.freeMode.enabled&&e.freeMode&&e.animating&&!o.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",i)}function Nq(n){const e=Es(),t=this,i=t.touchEventsData,{params:s,touches:o,rtlTranslate:l,enabled:c}=t;if(!c||!s.simulateTouch&&n.pointerType==="mouse")return;let h=n;if(h.originalEvent&&(h=h.originalEvent),h.type==="pointermove"&&(i.touchId!==null||h.pointerId!==i.pointerId))return;let f;if(h.type==="touchmove"){if(f=[...h.changedTouches].find(q=>q.identifier===i.touchId),!f||f.identifier!==i.touchId)return}else f=h;if(!i.isTouched){i.startMoving&&i.isScrolling&&t.emit("touchMoveOpposite",h);return}const g=f.pageX,y=f.pageY;if(h.preventedByNestedSwiper){o.startX=g,o.startY=y;return}if(!t.allowTouchMove){h.target.matches(i.focusableElements)||(t.allowClick=!1),i.isTouched&&(Object.assign(o,{startX:g,startY:y,currentX:g,currentY:y}),i.touchStartTime=Fp());return}if(s.touchReleaseOnEdges&&!s.loop){if(t.isVertical()){if(y<o.startY&&t.translate<=t.maxTranslate()||y>o.startY&&t.translate>=t.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else if(g<o.startX&&t.translate<=t.maxTranslate()||g>o.startX&&t.translate>=t.minTranslate())return}if(e.activeElement&&e.activeElement.matches(i.focusableElements)&&e.activeElement!==h.target&&h.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&h.target===e.activeElement&&h.target.matches(i.focusableElements)){i.isMoved=!0,t.allowClick=!1;return}i.allowTouchCallbacks&&t.emit("touchMove",h),o.previousX=o.currentX,o.previousY=o.currentY,o.currentX=g,o.currentY=y;const _=o.currentX-o.startX,w=o.currentY-o.startY;if(t.params.threshold&&Math.sqrt(_**2+w**2)<t.params.threshold)return;if(typeof i.isScrolling>"u"){let q;t.isHorizontal()&&o.currentY===o.startY||t.isVertical()&&o.currentX===o.startX?i.isScrolling=!1:_*_+w*w>=25&&(q=Math.atan2(Math.abs(w),Math.abs(_))*180/Math.PI,i.isScrolling=t.isHorizontal()?q>s.touchAngle:90-q>s.touchAngle)}if(i.isScrolling&&t.emit("touchMoveOpposite",h),typeof i.startMoving>"u"&&(o.currentX!==o.startX||o.currentY!==o.startY)&&(i.startMoving=!0),i.isScrolling||h.type==="touchmove"&&i.preventTouchMoveFromPointerMove){i.isTouched=!1;return}if(!i.startMoving)return;t.allowClick=!1,!s.cssMode&&h.cancelable&&h.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&h.stopPropagation();let x=t.isHorizontal()?_:w,O=t.isHorizontal()?o.currentX-o.previousX:o.currentY-o.previousY;s.oneWayMovement&&(x=Math.abs(x)*(l?1:-1),O=Math.abs(O)*(l?1:-1)),o.diff=x,x*=s.touchRatio,l&&(x=-x,O=-O);const V=t.touchesDirection;t.swipeDirection=x>0?"prev":"next",t.touchesDirection=O>0?"prev":"next";const P=t.params.loop&&!s.cssMode,I=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!i.isMoved){if(P&&I&&t.loopFix({direction:t.swipeDirection}),i.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const q=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(q)}i.allowMomentumBounce=!1,s.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",h)}if(new Date().getTime(),s._loopSwapReset!==!1&&i.isMoved&&i.allowThresholdMove&&V!==t.touchesDirection&&P&&I&&Math.abs(x)>=1){Object.assign(o,{startX:g,startY:y,currentX:g,currentY:y,startTranslate:i.currentTranslate}),i.loopSwapReset=!0,i.startTranslate=i.currentTranslate;return}t.emit("sliderMove",h),i.isMoved=!0,i.currentTranslate=x+i.startTranslate;let N=!0,H=s.resistanceRatio;if(s.touchReleaseOnEdges&&(H=0),x>0?(P&&I&&i.allowThresholdMove&&i.currentTranslate>(s.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(s.slidesPerView!=="auto"&&t.slides.length-s.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>t.minTranslate()&&(N=!1,s.resistance&&(i.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+i.startTranslate+x)**H))):x<0&&(P&&I&&i.allowThresholdMove&&i.currentTranslate<(s.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(s.slidesPerView!=="auto"&&t.slides.length-s.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(s.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),i.currentTranslate<t.maxTranslate()&&(N=!1,s.resistance&&(i.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-i.startTranslate-x)**H))),N&&(h.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(i.currentTranslate=i.startTranslate),s.threshold>0)if(Math.abs(x)>s.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,i.currentTranslate=i.startTranslate,o.diff=t.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY;return}}else{i.currentTranslate=i.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&t.freeMode||s.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(i.currentTranslate),t.setTranslate(i.currentTranslate))}function Pq(n){const e=this,t=e.touchEventsData;let i=n;i.originalEvent&&(i=i.originalEvent);let s;if(i.type==="touchend"||i.type==="touchcancel"){if(s=[...i.changedTouches].find(q=>q.identifier===t.touchId),!s||s.identifier!==t.touchId)return}else{if(t.touchId!==null||i.pointerId!==t.pointerId)return;s=i}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(i.type)&&!(["pointercancel","contextmenu"].includes(i.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:l,touches:c,rtlTranslate:h,slidesGrid:f,enabled:g}=e;if(!g||!l.simulateTouch&&i.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",i),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&l.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}l.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const y=Fp(),_=y-t.touchStartTime;if(e.allowClick){const q=i.path||i.composedPath&&i.composedPath();e.updateClickedSlide(q&&q[0]||i.target,q),e.emit("tap click",i),_<300&&y-t.lastClickTime<300&&e.emit("doubleTap doubleClick",i)}if(t.lastClickTime=Fp(),P_(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||c.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let w;if(l.followFinger?w=h?e.translate:-e.translate:w=-t.currentTranslate,l.cssMode)return;if(l.freeMode&&l.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:w});return}const x=w>=-e.maxTranslate()&&!e.params.loop;let O=0,V=e.slidesSizesGrid[0];for(let q=0;q<f.length;q+=q<l.slidesPerGroupSkip?1:l.slidesPerGroup){const Z=q<l.slidesPerGroupSkip-1?1:l.slidesPerGroup;typeof f[q+Z]<"u"?(x||w>=f[q]&&w<f[q+Z])&&(O=q,V=f[q+Z]-f[q]):(x||w>=f[q])&&(O=q,V=f[f.length-1]-f[f.length-2])}let P=null,I=null;l.rewind&&(e.isBeginning?I=l.virtual&&l.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(P=0));const N=(w-f[O])/V,H=O<l.slidesPerGroupSkip-1?1:l.slidesPerGroup;if(_>l.longSwipesMs){if(!l.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(N>=l.longSwipesRatio?e.slideTo(l.rewind&&e.isEnd?P:O+H):e.slideTo(O)),e.swipeDirection==="prev"&&(N>1-l.longSwipesRatio?e.slideTo(O+H):I!==null&&N<0&&Math.abs(N)>l.longSwipesRatio?e.slideTo(I):e.slideTo(O))}else{if(!l.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(i.target===e.navigation.nextEl||i.target===e.navigation.prevEl)?i.target===e.navigation.nextEl?e.slideTo(O+H):e.slideTo(O):(e.swipeDirection==="next"&&e.slideTo(P!==null?P:O+H),e.swipeDirection==="prev"&&e.slideTo(I!==null?I:O))}}function Z2(){const n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:s,snapGrid:o}=n,l=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const c=l&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!c?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!l?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=s,n.allowSlideNext=i,n.params.watchOverflow&&o!==n.snapGrid&&n.checkOverflow()}function Dq(n){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function Mq(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:i}=n;if(!i)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let s;const o=n.maxTranslate()-n.minTranslate();o===0?s=0:s=(n.translate-n.minTranslate())/o,s!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function Oq(n){const e=this;Wf(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function kq(){const n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}const UP=(n,e)=>{const t=Es(),{params:i,el:s,wrapperEl:o,device:l}=n,c=!!i.nested,h=e==="on"?"addEventListener":"removeEventListener",f=e;!s||typeof s=="string"||(t[h]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:c}),s[h]("touchstart",n.onTouchStart,{passive:!1}),s[h]("pointerdown",n.onTouchStart,{passive:!1}),t[h]("touchmove",n.onTouchMove,{passive:!1,capture:c}),t[h]("pointermove",n.onTouchMove,{passive:!1,capture:c}),t[h]("touchend",n.onTouchEnd,{passive:!0}),t[h]("pointerup",n.onTouchEnd,{passive:!0}),t[h]("pointercancel",n.onTouchEnd,{passive:!0}),t[h]("touchcancel",n.onTouchEnd,{passive:!0}),t[h]("pointerout",n.onTouchEnd,{passive:!0}),t[h]("pointerleave",n.onTouchEnd,{passive:!0}),t[h]("contextmenu",n.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&s[h]("click",n.onClick,!0),i.cssMode&&o[h]("scroll",n.onScroll),i.updateOnWindowResize?n[f](l.ios||l.android?"resize orientationchange observerUpdate":"resize observerUpdate",Z2,!0):n[f]("observerUpdate",Z2,!0),s[h]("load",n.onLoad,{capture:!0}))};function Lq(){const n=this,{params:e}=n;n.onTouchStart=Iq.bind(n),n.onTouchMove=Nq.bind(n),n.onTouchEnd=Pq.bind(n),n.onDocumentTouchStart=kq.bind(n),e.cssMode&&(n.onScroll=Mq.bind(n)),n.onClick=Dq.bind(n),n.onLoad=Oq.bind(n),UP(n,"on")}function Vq(){UP(this,"off")}var jq={attachEvents:Lq,detachEvents:Vq};const J2=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function Uq(){const n=this,{realIndex:e,initialized:t,params:i,el:s}=n,o=i.breakpoints;if(!o||o&&Object.keys(o).length===0)return;const l=Es(),c=i.breakpointsBase==="window"||!i.breakpointsBase?i.breakpointsBase:"container",h=["window","container"].includes(i.breakpointsBase)||!i.breakpointsBase?n.el:l.querySelector(i.breakpointsBase),f=n.getBreakpoint(o,c,h);if(!f||n.currentBreakpoint===f)return;const y=(f in o?o[f]:void 0)||n.originalParams,_=J2(n,i),w=J2(n,y),x=n.params.grabCursor,O=y.grabCursor,V=i.enabled;_&&!w?(s.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),n.emitContainerClasses()):!_&&w&&(s.classList.add(`${i.containerModifierClass}grid`),(y.grid.fill&&y.grid.fill==="column"||!y.grid.fill&&i.grid.fill==="column")&&s.classList.add(`${i.containerModifierClass}grid-column`),n.emitContainerClasses()),x&&!O?n.unsetGrabCursor():!x&&O&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(Z=>{if(typeof y[Z]>"u")return;const k=i[Z]&&i[Z].enabled,A=y[Z]&&y[Z].enabled;k&&!A&&n[Z].disable(),!k&&A&&n[Z].enable()});const P=y.direction&&y.direction!==i.direction,I=i.loop&&(y.slidesPerView!==i.slidesPerView||P),N=i.loop;P&&t&&n.changeDirection(),ni(n.params,y);const H=n.params.enabled,q=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),V&&!H?n.disable():!V&&H&&n.enable(),n.currentBreakpoint=f,n.emit("_beforeBreakpoint",y),t&&(I?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!N&&q?(n.loopCreate(e),n.updateSlides()):N&&!q&&n.loopDestroy()),n.emit("breakpoint",y)}function Bq(n,e,t){if(e===void 0&&(e="window"),!n||e==="container"&&!t)return;let i=!1;const s=Fn(),o=e==="window"?s.innerHeight:t.clientHeight,l=Object.keys(n).map(c=>{if(typeof c=="string"&&c.indexOf("@")===0){const h=parseFloat(c.substr(1));return{value:o*h,point:c}}return{value:c,point:c}});l.sort((c,h)=>parseInt(c.value,10)-parseInt(h.value,10));for(let c=0;c<l.length;c+=1){const{point:h,value:f}=l[c];e==="window"?s.matchMedia(`(min-width: ${f}px)`).matches&&(i=h):f<=t.clientWidth&&(i=h)}return i||"max"}var zq={setBreakpoint:Uq,getBreakpoint:Bq};function Fq(n,e){const t=[];return n.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(s=>{i[s]&&t.push(e+s)}):typeof i=="string"&&t.push(e+i)}),t}function Hq(){const n=this,{classNames:e,params:t,rtl:i,el:s,device:o}=n,l=Fq(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:i},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:o.android},{ios:o.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...l),s.classList.add(...e),n.emitContainerClasses()}function qq(){const n=this,{el:e,classNames:t}=n;!e||typeof e=="string"||(e.classList.remove(...t),n.emitContainerClasses())}var Gq={addClasses:Hq,removeClasses:qq};function $q(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:i}=t;if(i){const s=n.slides.length-1,o=n.slidesGrid[s]+n.slidesSizesGrid[s]+i*2;n.isLocked=n.size>o}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var Kq={checkOverflow:$q},O_={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function Wq(n,e){return function(i){i===void 0&&(i={});const s=Object.keys(i)[0],o=i[s];if(typeof o!="object"||o===null){ni(e,i);return}if(n[s]===!0&&(n[s]={enabled:!0}),s==="navigation"&&n[s]&&n[s].enabled&&!n[s].prevEl&&!n[s].nextEl&&(n[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&n[s]&&n[s].enabled&&!n[s].el&&(n[s].auto=!0),!(s in n&&"enabled"in o)){ni(e,i);return}typeof n[s]=="object"&&!("enabled"in n[s])&&(n[s].enabled=!0),n[s]||(n[s]={enabled:!1}),ni(e,i)}}const xv={eventsEmitter:GH,update:nq,translate:lq,transition:dq,slide:Eq,loop:Sq,grabCursor:Aq,events:jq,breakpoints:zq,checkOverflow:Kq,classes:Gq},Cv={};let nT=class Js{constructor(){let e,t;for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];s.length===1&&s[0].constructor&&Object.prototype.toString.call(s[0]).slice(8,-1)==="Object"?t=s[0]:[e,t]=s,t||(t={}),t=ni({},t),e&&!t.el&&(t.el=e);const l=Es();if(t.el&&typeof t.el=="string"&&l.querySelectorAll(t.el).length>1){const g=[];return l.querySelectorAll(t.el).forEach(y=>{const _=ni({},t,{el:y});g.push(new Js(_))}),g}const c=this;c.__swiper__=!0,c.support=kP(),c.device=LP({userAgent:t.userAgent}),c.browser=VP(),c.eventsListeners={},c.eventsAnyListeners=[],c.modules=[...c.__modules__],t.modules&&Array.isArray(t.modules)&&c.modules.push(...t.modules);const h={};c.modules.forEach(g=>{g({params:t,swiper:c,extendParams:Wq(t,h),on:c.on.bind(c),once:c.once.bind(c),off:c.off.bind(c),emit:c.emit.bind(c)})});const f=ni({},O_,h);return c.params=ni({},f,Cv,t),c.originalParams=ni({},c.params),c.passedParams=ni({},t),c.params&&c.params.on&&Object.keys(c.params.on).forEach(g=>{c.on(g,c.params.on[g])}),c.params&&c.params.onAny&&c.onAny(c.params.onAny),Object.assign(c,{enabled:c.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return c.params.direction==="horizontal"},isVertical(){return c.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:c.params.allowSlideNext,allowSlidePrev:c.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:c.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:c.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),c.emit("_swiper"),c.params.init&&c.init(),c}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:i}=this,s=hs(t,`.${i.slideClass}, swiper-slide`),o=Gp(s[0]);return Gp(e)-o}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>t.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:t,params:i}=e;e.slides=hs(t,`.${i.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const i=this;e=Math.min(Math.max(e,0),1);const s=i.minTranslate(),l=(i.maxTranslate()-s)*e+s;i.translateTo(l,typeof t>"u"?0:t),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(i=>{const s=e.getSlideClasses(i);t.push({slideEl:i,classNames:s}),e.emit("_slideClass",i,s)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);const i=this,{params:s,slides:o,slidesGrid:l,slidesSizesGrid:c,size:h,activeIndex:f}=i;let g=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let y=o[f]?Math.ceil(o[f].swiperSlideSize):0,_;for(let w=f+1;w<o.length;w+=1)o[w]&&!_&&(y+=Math.ceil(o[w].swiperSlideSize),g+=1,y>h&&(_=!0));for(let w=f-1;w>=0;w-=1)o[w]&&!_&&(y+=o[w].swiperSlideSize,g+=1,y>h&&(_=!0))}else if(e==="current")for(let y=f+1;y<o.length;y+=1)(t?l[y]+c[y]-l[f]<h:l[y]-l[f]<h)&&(g+=1);else for(let y=f-1;y>=0;y-=1)l[f]-l[y]<h&&(g+=1);return g}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:i}=e;i.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(l=>{l.complete&&Wf(e,l)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){const l=e.rtlTranslate?e.translate*-1:e.translate,c=Math.min(Math.max(l,e.maxTranslate()),e.minTranslate());e.setTranslate(c),e.updateActiveIndex(),e.updateSlidesClasses()}let o;if(i.freeMode&&i.freeMode.enabled&&!i.cssMode)s(),i.autoHeight&&e.updateAutoHeight();else{if((i.slidesPerView==="auto"||i.slidesPerView>1)&&e.isEnd&&!i.centeredSlides){const l=e.virtual&&i.virtual.enabled?e.virtual.slides:e.slides;o=e.slideTo(l.length-1,0,!1,!0)}else o=e.slideTo(e.activeIndex,0,!1,!0);o||s()}i.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);const i=this,s=i.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(i.el.classList.remove(`${i.params.containerModifierClass}${s}`),i.el.classList.add(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.forEach(o=>{e==="vertical"?o.style.width="":o.style.height=""}),i.emit("changeDirection"),t&&i.update()),i}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let i=e||t.params.el;if(typeof i=="string"&&(i=document.querySelector(i)),!i)return!1;i.swiper=t,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const s=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let l=i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(s()):hs(i,s())[0];return!l&&t.params.createElements&&(l=qp("div",t.params.wrapperClass),i.append(l),hs(i,`.${t.params.slideClass}`).forEach(c=>{l.append(c)})),Object.assign(t,{el:i,wrapperEl:l,slidesEl:t.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:l,hostEl:t.isElement?i.parentNode.host:i,mounted:!0,rtl:i.dir.toLowerCase()==="rtl"||sa(i,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(i.dir.toLowerCase()==="rtl"||sa(i,"direction")==="rtl"),wrongRTL:sa(l,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(),t.attachEvents();const s=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&s.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(o=>{o.complete?Wf(t,o):o.addEventListener("load",l=>{Wf(t,l.target)})}),M_(t),t.initialized=!0,M_(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);const i=this,{params:s,el:o,wrapperEl:l,slides:c}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),s.loop&&i.loopDestroy(),t&&(i.removeClasses(),o&&typeof o!="string"&&o.removeAttribute("style"),l&&l.removeAttribute("style"),c&&c.length&&c.forEach(h=>{h.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),h.removeAttribute("style"),h.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(h=>{i.off(h)}),e!==!1&&(i.el&&typeof i.el!="string"&&(i.el.swiper=null),DH(i)),i.destroyed=!0),null}static extendDefaults(e){ni(Cv,e)}static get extendedDefaults(){return Cv}static get defaults(){return O_}static installModule(e){Js.prototype.__modules__||(Js.prototype.__modules__=[]);const t=Js.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>Js.installModule(t)),Js):(Js.installModule(e),Js)}};Object.keys(xv).forEach(n=>{Object.keys(xv[n]).forEach(e=>{nT.prototype[e]=xv[n][e]})});nT.use([HH,qH]);const BP=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function So(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"&&!n.__swiper__}function Bl(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>t.indexOf(i)<0).forEach(i=>{typeof n[i]>"u"?n[i]=e[i]:So(e[i])&&So(n[i])&&Object.keys(e[i]).length>0?e[i].__swiper__?n[i]=e[i]:Bl(n[i],e[i]):n[i]=e[i]})}function zP(n){return n===void 0&&(n={}),n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}function FP(n){return n===void 0&&(n={}),n.pagination&&typeof n.pagination.el>"u"}function HP(n){return n===void 0&&(n={}),n.scrollbar&&typeof n.scrollbar.el>"u"}function qP(n){n===void 0&&(n="");const e=n.split(" ").map(i=>i.trim()).filter(i=>!!i),t=[];return e.forEach(i=>{t.indexOf(i)<0&&t.push(i)}),t.join(" ")}function Yq(n){return n===void 0&&(n=""),n?n.includes("swiper-wrapper")?n:`swiper-wrapper ${n}`:"swiper-wrapper"}function Qq(n){let{swiper:e,slides:t,passedParams:i,changedParams:s,nextEl:o,prevEl:l,scrollbarEl:c,paginationEl:h}=n;const f=s.filter(C=>C!=="children"&&C!=="direction"&&C!=="wrapperClass"),{params:g,pagination:y,navigation:_,scrollbar:w,virtual:x,thumbs:O}=e;let V,P,I,N,H,q,Z,k;s.includes("thumbs")&&i.thumbs&&i.thumbs.swiper&&!i.thumbs.swiper.destroyed&&g.thumbs&&(!g.thumbs.swiper||g.thumbs.swiper.destroyed)&&(V=!0),s.includes("controller")&&i.controller&&i.controller.control&&g.controller&&!g.controller.control&&(P=!0),s.includes("pagination")&&i.pagination&&(i.pagination.el||h)&&(g.pagination||g.pagination===!1)&&y&&!y.el&&(I=!0),s.includes("scrollbar")&&i.scrollbar&&(i.scrollbar.el||c)&&(g.scrollbar||g.scrollbar===!1)&&w&&!w.el&&(N=!0),s.includes("navigation")&&i.navigation&&(i.navigation.prevEl||l)&&(i.navigation.nextEl||o)&&(g.navigation||g.navigation===!1)&&_&&!_.prevEl&&!_.nextEl&&(H=!0);const A=C=>{e[C]&&(e[C].destroy(),C==="navigation"?(e.isElement&&(e[C].prevEl.remove(),e[C].nextEl.remove()),g[C].prevEl=void 0,g[C].nextEl=void 0,e[C].prevEl=void 0,e[C].nextEl=void 0):(e.isElement&&e[C].el.remove(),g[C].el=void 0,e[C].el=void 0))};s.includes("loop")&&e.isElement&&(g.loop&&!i.loop?q=!0:!g.loop&&i.loop?Z=!0:k=!0),f.forEach(C=>{if(So(g[C])&&So(i[C]))Object.assign(g[C],i[C]),(C==="navigation"||C==="pagination"||C==="scrollbar")&&"enabled"in i[C]&&!i[C].enabled&&A(C);else{const R=i[C];(R===!0||R===!1)&&(C==="navigation"||C==="pagination"||C==="scrollbar")?R===!1&&A(C):g[C]=i[C]}}),f.includes("controller")&&!P&&e.controller&&e.controller.control&&g.controller&&g.controller.control&&(e.controller.control=g.controller.control),s.includes("children")&&t&&x&&g.virtual.enabled?(x.slides=t,x.update(!0)):s.includes("virtual")&&x&&g.virtual.enabled&&(t&&(x.slides=t),x.update(!0)),s.includes("children")&&t&&g.loop&&(k=!0),V&&O.init()&&O.update(!0),P&&(e.controller.control=g.controller.control),I&&(e.isElement&&(!h||typeof h=="string")&&(h=document.createElement("div"),h.classList.add("swiper-pagination"),h.part.add("pagination"),e.el.appendChild(h)),h&&(g.pagination.el=h),y.init(),y.render(),y.update()),N&&(e.isElement&&(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-scrollbar"),c.part.add("scrollbar"),e.el.appendChild(c)),c&&(g.scrollbar.el=c),w.init(),w.updateSize(),w.setTranslate()),H&&(e.isElement&&((!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-next"),o.innerHTML=e.hostEl.constructor.nextButtonSvg,o.part.add("button-next"),e.el.appendChild(o)),(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-button-prev"),l.innerHTML=e.hostEl.constructor.prevButtonSvg,l.part.add("button-prev"),e.el.appendChild(l))),o&&(g.navigation.nextEl=o),l&&(g.navigation.prevEl=l),_.init(),_.update()),s.includes("allowSlideNext")&&(e.allowSlideNext=i.allowSlideNext),s.includes("allowSlidePrev")&&(e.allowSlidePrev=i.allowSlidePrev),s.includes("direction")&&e.changeDirection(i.direction,!1),(q||k)&&e.loopDestroy(),(Z||k)&&e.loopCreate(),e.update()}function Xq(n,e){n===void 0&&(n={}),e===void 0&&(e=!0);const t={on:{}},i={},s={};Bl(t,O_),t._emitClasses=!0,t.init=!1;const o={},l=BP.map(h=>h.replace(/_/,"")),c=Object.assign({},n);return Object.keys(c).forEach(h=>{typeof n[h]>"u"||(l.indexOf(h)>=0?So(n[h])?(t[h]={},s[h]={},Bl(t[h],n[h]),Bl(s[h],n[h])):(t[h]=n[h],s[h]=n[h]):h.search(/on[A-Z]/)===0&&typeof n[h]=="function"?e?i[`${h[2].toLowerCase()}${h.substr(3)}`]=n[h]:t.on[`${h[2].toLowerCase()}${h.substr(3)}`]=n[h]:o[h]=n[h])}),["navigation","pagination","scrollbar"].forEach(h=>{t[h]===!0&&(t[h]={}),t[h]===!1&&delete t[h]}),{params:t,passedParams:s,rest:o,events:i}}function Zq(n,e){let{el:t,nextEl:i,prevEl:s,paginationEl:o,scrollbarEl:l,swiper:c}=n;zP(e)&&i&&s&&(c.params.navigation.nextEl=i,c.originalParams.navigation.nextEl=i,c.params.navigation.prevEl=s,c.originalParams.navigation.prevEl=s),FP(e)&&o&&(c.params.pagination.el=o,c.originalParams.pagination.el=o),HP(e)&&l&&(c.params.scrollbar.el=l,c.originalParams.scrollbar.el=l),c.init(t)}function Jq(n,e,t,i,s){const o=[];if(!e)return o;const l=h=>{o.indexOf(h)<0&&o.push(h)};if(t&&i){const h=i.map(s),f=t.map(s);h.join("")!==f.join("")&&l("children"),i.length!==t.length&&l("children")}return BP.filter(h=>h[0]==="_").map(h=>h.replace(/_/,"")).forEach(h=>{if(h in n&&h in e)if(So(n[h])&&So(e[h])){const f=Object.keys(n[h]),g=Object.keys(e[h]);f.length!==g.length?l(h):(f.forEach(y=>{n[h][y]!==e[h][y]&&l(h)}),g.forEach(y=>{n[h][y]!==e[h][y]&&l(h)}))}else n[h]!==e[h]&&l(h)}),o}const eG=n=>{!n||n.destroyed||!n.params.virtual||n.params.virtual&&!n.params.virtual.enabled||(n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.parallax&&n.params.parallax&&n.params.parallax.enabled&&n.parallax.setTranslate())};function $p(){return $p=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},$p.apply(this,arguments)}function GP(n){return n.type&&n.type.displayName&&n.type.displayName.includes("SwiperSlide")}function $P(n){const e=[];return ht.Children.toArray(n).forEach(t=>{GP(t)?e.push(t):t.props&&t.props.children&&$P(t.props.children).forEach(i=>e.push(i))}),e}function tG(n){const e=[],t={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return ht.Children.toArray(n).forEach(i=>{if(GP(i))e.push(i);else if(i.props&&i.props.slot&&t[i.props.slot])t[i.props.slot].push(i);else if(i.props&&i.props.children){const s=$P(i.props.children);s.length>0?s.forEach(o=>e.push(o)):t["container-end"].push(i)}else t["container-end"].push(i)}),{slides:e,slots:t}}function nG(n,e,t){if(!t)return null;const i=g=>{let y=g;return g<0?y=e.length+g:y>=e.length&&(y=y-e.length),y},s=n.isHorizontal()?{[n.rtlTranslate?"right":"left"]:`${t.offset}px`}:{top:`${t.offset}px`},{from:o,to:l}=t,c=n.params.loop?-e.length:0,h=n.params.loop?e.length*2:e.length,f=[];for(let g=c;g<h;g+=1)g>=o&&g<=l&&f.push(e[i(g)]);return f.map((g,y)=>ht.cloneElement(g,{swiper:n,style:s,key:g.props.virtualIndex||g.key||`slide-${y}`}))}function nh(n,e){return typeof window>"u"?U.useEffect(n,e):U.useLayoutEffect(n,e)}const eC=U.createContext(null),iG=U.createContext(null),iT=U.forwardRef(function(n,e){let{className:t,tag:i="div",wrapperTag:s="div",children:o,onSwiper:l,...c}=n===void 0?{}:n,h=!1;const[f,g]=U.useState("swiper"),[y,_]=U.useState(null),[w,x]=U.useState(!1),O=U.useRef(!1),V=U.useRef(null),P=U.useRef(null),I=U.useRef(null),N=U.useRef(null),H=U.useRef(null),q=U.useRef(null),Z=U.useRef(null),k=U.useRef(null),{params:A,passedParams:C,rest:R,events:j}=Xq(c),{slides:z,slots:L}=tG(o),de=()=>{x(!w)};Object.assign(A.on,{_containerClasses(fe,F){g(F)}});const _e=()=>{Object.assign(A.on,j),h=!0;const fe={...A};if(delete fe.wrapperClass,P.current=new nT(fe),P.current.virtual&&P.current.params.virtual.enabled){P.current.virtual.slides=z;const F={cache:!1,slides:z,renderExternal:_,renderExternalUpdate:!1};Bl(P.current.params.virtual,F),Bl(P.current.originalParams.virtual,F)}};V.current||_e(),P.current&&P.current.on("_beforeBreakpoint",de);const re=()=>{h||!j||!P.current||Object.keys(j).forEach(fe=>{P.current.on(fe,j[fe])})},he=()=>{!j||!P.current||Object.keys(j).forEach(fe=>{P.current.off(fe,j[fe])})};U.useEffect(()=>()=>{P.current&&P.current.off("_beforeBreakpoint",de)}),U.useEffect(()=>{!O.current&&P.current&&(P.current.emitSlidesClasses(),O.current=!0)}),nh(()=>{if(e&&(e.current=V.current),!!V.current)return P.current.destroyed&&_e(),Zq({el:V.current,nextEl:H.current,prevEl:q.current,paginationEl:Z.current,scrollbarEl:k.current,swiper:P.current},A),l&&!P.current.destroyed&&l(P.current),()=>{P.current&&!P.current.destroyed&&P.current.destroy(!0,!1)}},[]),nh(()=>{re();const fe=Jq(C,I.current,z,N.current,F=>F.key);return I.current=C,N.current=z,fe.length&&P.current&&!P.current.destroyed&&Qq({swiper:P.current,slides:z,passedParams:C,changedParams:fe,nextEl:H.current,prevEl:q.current,scrollbarEl:k.current,paginationEl:Z.current}),()=>{he()}}),nh(()=>{eG(P.current)},[y]);function ae(){return A.virtual?nG(P.current,z,y):z.map((fe,F)=>ht.cloneElement(fe,{swiper:P.current,swiperSlideIndex:F}))}return ht.createElement(i,$p({ref:V,className:qP(`${f}${t?` ${t}`:""}`)},R),ht.createElement(iG.Provider,{value:P.current},L["container-start"],ht.createElement(s,{className:Yq(A.wrapperClass)},L["wrapper-start"],ae(),L["wrapper-end"]),zP(A)&&ht.createElement(ht.Fragment,null,ht.createElement("div",{ref:q,className:"swiper-button-prev"}),ht.createElement("div",{ref:H,className:"swiper-button-next"})),HP(A)&&ht.createElement("div",{ref:k,className:"swiper-scrollbar"}),FP(A)&&ht.createElement("div",{ref:Z,className:"swiper-pagination"}),L["container-end"]))});iT.displayName="Swiper";const sT=U.forwardRef(function(n,e){let{tag:t="div",children:i,className:s="",swiper:o,zoom:l,lazy:c,virtualIndex:h,swiperSlideIndex:f,...g}=n===void 0?{}:n;const y=U.useRef(null),[_,w]=U.useState("swiper-slide"),[x,O]=U.useState(!1);function V(H,q,Z){q===y.current&&w(Z)}nh(()=>{if(typeof f<"u"&&(y.current.swiperSlideIndex=f),e&&(e.current=y.current),!(!y.current||!o)){if(o.destroyed){_!=="swiper-slide"&&w("swiper-slide");return}return o.on("_slideClass",V),()=>{o&&o.off("_slideClass",V)}}}),nh(()=>{o&&y.current&&!o.destroyed&&w(o.getSlideClasses(y.current))},[o]);const P={isActive:_.indexOf("swiper-slide-active")>=0,isVisible:_.indexOf("swiper-slide-visible")>=0,isPrev:_.indexOf("swiper-slide-prev")>=0,isNext:_.indexOf("swiper-slide-next")>=0},I=()=>typeof i=="function"?i(P):i,N=()=>{O(!0)};return ht.createElement(t,$p({ref:y,className:qP(`${_}${s?` ${s}`:""}`),"data-swiper-slide-index":h,onLoad:N},g),l&&ht.createElement(eC.Provider,{value:P},ht.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof l=="number"?l:void 0},I(),c&&!x&&ht.createElement("div",{className:"swiper-lazy-preloader"}))),!l&&ht.createElement(eC.Provider,{value:P},I(),c&&!x&&ht.createElement("div",{className:"swiper-lazy-preloader"})))});sT.displayName="SwiperSlide";function sG(n,e,t,i){return n.params.createElements&&Object.keys(i).forEach(s=>{if(!t[s]&&t.auto===!0){let o=hs(n.el,`.${i[s]}`)[0];o||(o=qp("div",i[s]),o.className=i[s],n.el.append(o)),t[s]=o,e[s]=o}}),t}function Oc(n){return n===void 0&&(n=""),`.${n.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function KP(n){let{swiper:e,extendParams:t,on:i,emit:s}=n;const o="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:I=>I,formatFractionTotal:I=>I,bulletClass:`${o}-bullet`,bulletActiveClass:`${o}-bullet-active`,modifierClass:`${o}-`,currentClass:`${o}-current`,totalClass:`${o}-total`,hiddenClass:`${o}-hidden`,progressbarFillClass:`${o}-progressbar-fill`,progressbarOppositeClass:`${o}-progressbar-opposite`,clickableClass:`${o}-clickable`,lockClass:`${o}-lock`,horizontalClass:`${o}-horizontal`,verticalClass:`${o}-vertical`,paginationDisabledClass:`${o}-disabled`}}),e.pagination={el:null,bullets:[]};let l,c=0;function h(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function f(I,N){const{bulletActiveClass:H}=e.params.pagination;I&&(I=I[`${N==="prev"?"previous":"next"}ElementSibling`],I&&(I.classList.add(`${H}-${N}`),I=I[`${N==="prev"?"previous":"next"}ElementSibling`],I&&I.classList.add(`${H}-${N}-${N}`)))}function g(I,N,H){if(I=I%H,N=N%H,N===I+1)return"next";if(N===I-1)return"previous"}function y(I){const N=I.target.closest(Oc(e.params.pagination.bulletClass));if(!N)return;I.preventDefault();const H=Gp(N)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===H)return;const q=g(e.realIndex,H,e.slides.length);q==="next"?e.slideNext():q==="previous"?e.slidePrev():e.slideToLoop(H)}else e.slideTo(H)}function _(){const I=e.rtl,N=e.params.pagination;if(h())return;let H=e.pagination.el;H=Xs(H);let q,Z;const k=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,A=e.params.loop?Math.ceil(k/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(Z=e.previousRealIndex||0,q=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(q=e.snapIndex,Z=e.previousSnapIndex):(Z=e.previousIndex||0,q=e.activeIndex||0),N.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const C=e.pagination.bullets;let R,j,z;if(N.dynamicBullets&&(l=D_(C[0],e.isHorizontal()?"width":"height"),H.forEach(L=>{L.style[e.isHorizontal()?"width":"height"]=`${l*(N.dynamicMainBullets+4)}px`}),N.dynamicMainBullets>1&&Z!==void 0&&(c+=q-(Z||0),c>N.dynamicMainBullets-1?c=N.dynamicMainBullets-1:c<0&&(c=0)),R=Math.max(q-c,0),j=R+(Math.min(C.length,N.dynamicMainBullets)-1),z=(j+R)/2),C.forEach(L=>{const de=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(_e=>`${N.bulletActiveClass}${_e}`)].map(_e=>typeof _e=="string"&&_e.includes(" ")?_e.split(" "):_e).flat();L.classList.remove(...de)}),H.length>1)C.forEach(L=>{const de=Gp(L);de===q?L.classList.add(...N.bulletActiveClass.split(" ")):e.isElement&&L.setAttribute("part","bullet"),N.dynamicBullets&&(de>=R&&de<=j&&L.classList.add(...`${N.bulletActiveClass}-main`.split(" ")),de===R&&f(L,"prev"),de===j&&f(L,"next"))});else{const L=C[q];if(L&&L.classList.add(...N.bulletActiveClass.split(" ")),e.isElement&&C.forEach((de,_e)=>{de.setAttribute("part",_e===q?"bullet-active":"bullet")}),N.dynamicBullets){const de=C[R],_e=C[j];for(let re=R;re<=j;re+=1)C[re]&&C[re].classList.add(...`${N.bulletActiveClass}-main`.split(" "));f(de,"prev"),f(_e,"next")}}if(N.dynamicBullets){const L=Math.min(C.length,N.dynamicMainBullets+4),de=(l*L-l)/2-z*l,_e=I?"right":"left";C.forEach(re=>{re.style[e.isHorizontal()?_e:"top"]=`${de}px`})}}H.forEach((C,R)=>{if(N.type==="fraction"&&(C.querySelectorAll(Oc(N.currentClass)).forEach(j=>{j.textContent=N.formatFractionCurrent(q+1)}),C.querySelectorAll(Oc(N.totalClass)).forEach(j=>{j.textContent=N.formatFractionTotal(A)})),N.type==="progressbar"){let j;N.progressbarOpposite?j=e.isHorizontal()?"vertical":"horizontal":j=e.isHorizontal()?"horizontal":"vertical";const z=(q+1)/A;let L=1,de=1;j==="horizontal"?L=z:de=z,C.querySelectorAll(Oc(N.progressbarFillClass)).forEach(_e=>{_e.style.transform=`translate3d(0,0,0) scaleX(${L}) scaleY(${de})`,_e.style.transitionDuration=`${e.params.speed}ms`})}N.type==="custom"&&N.renderCustom?(C.innerHTML=N.renderCustom(e,q+1,A),R===0&&s("paginationRender",C)):(R===0&&s("paginationRender",C),s("paginationUpdate",C)),e.params.watchOverflow&&e.enabled&&C.classList[e.isLocked?"add":"remove"](N.lockClass)})}function w(){const I=e.params.pagination;if(h())return;const N=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let H=e.pagination.el;H=Xs(H);let q="";if(I.type==="bullets"){let Z=e.params.loop?Math.ceil(N/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&Z>N&&(Z=N);for(let k=0;k<Z;k+=1)I.renderBullet?q+=I.renderBullet.call(e,k,I.bulletClass):q+=`<${I.bulletElement} ${e.isElement?'part="bullet"':""} class="${I.bulletClass}"></${I.bulletElement}>`}I.type==="fraction"&&(I.renderFraction?q=I.renderFraction.call(e,I.currentClass,I.totalClass):q=`<span class="${I.currentClass}"></span> / <span class="${I.totalClass}"></span>`),I.type==="progressbar"&&(I.renderProgressbar?q=I.renderProgressbar.call(e,I.progressbarFillClass):q=`<span class="${I.progressbarFillClass}"></span>`),e.pagination.bullets=[],H.forEach(Z=>{I.type!=="custom"&&(Z.innerHTML=q||""),I.type==="bullets"&&e.pagination.bullets.push(...Z.querySelectorAll(Oc(I.bulletClass)))}),I.type!=="custom"&&s("paginationRender",H[0])}function x(){e.params.pagination=sG(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const I=e.params.pagination;if(!I.el)return;let N;typeof I.el=="string"&&e.isElement&&(N=e.el.querySelector(I.el)),!N&&typeof I.el=="string"&&(N=[...document.querySelectorAll(I.el)]),N||(N=I.el),!(!N||N.length===0)&&(e.params.uniqueNavElements&&typeof I.el=="string"&&Array.isArray(N)&&N.length>1&&(N=[...e.el.querySelectorAll(I.el)],N.length>1&&(N=N.find(H=>OP(H,".swiper")[0]===e.el))),Array.isArray(N)&&N.length===1&&(N=N[0]),Object.assign(e.pagination,{el:N}),N=Xs(N),N.forEach(H=>{I.type==="bullets"&&I.clickable&&H.classList.add(...(I.clickableClass||"").split(" ")),H.classList.add(I.modifierClass+I.type),H.classList.add(e.isHorizontal()?I.horizontalClass:I.verticalClass),I.type==="bullets"&&I.dynamicBullets&&(H.classList.add(`${I.modifierClass}${I.type}-dynamic`),c=0,I.dynamicMainBullets<1&&(I.dynamicMainBullets=1)),I.type==="progressbar"&&I.progressbarOpposite&&H.classList.add(I.progressbarOppositeClass),I.clickable&&H.addEventListener("click",y),e.enabled||H.classList.add(I.lockClass)}))}function O(){const I=e.params.pagination;if(h())return;let N=e.pagination.el;N&&(N=Xs(N),N.forEach(H=>{H.classList.remove(I.hiddenClass),H.classList.remove(I.modifierClass+I.type),H.classList.remove(e.isHorizontal()?I.horizontalClass:I.verticalClass),I.clickable&&(H.classList.remove(...(I.clickableClass||"").split(" ")),H.removeEventListener("click",y))})),e.pagination.bullets&&e.pagination.bullets.forEach(H=>H.classList.remove(...I.bulletActiveClass.split(" ")))}i("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const I=e.params.pagination;let{el:N}=e.pagination;N=Xs(N),N.forEach(H=>{H.classList.remove(I.horizontalClass,I.verticalClass),H.classList.add(e.isHorizontal()?I.horizontalClass:I.verticalClass)})}),i("init",()=>{e.params.pagination.enabled===!1?P():(x(),w(),_())}),i("activeIndexChange",()=>{typeof e.snapIndex>"u"&&_()}),i("snapIndexChange",()=>{_()}),i("snapGridLengthChange",()=>{w(),_()}),i("destroy",()=>{O()}),i("enable disable",()=>{let{el:I}=e.pagination;I&&(I=Xs(I),I.forEach(N=>N.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),i("lock unlock",()=>{_()}),i("click",(I,N)=>{const H=N.target,q=Xs(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&q&&q.length>0&&!H.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&H===e.navigation.nextEl||e.navigation.prevEl&&H===e.navigation.prevEl))return;const Z=q[0].classList.contains(e.params.pagination.hiddenClass);s(Z===!0?"paginationShow":"paginationHide"),q.forEach(k=>k.classList.toggle(e.params.pagination.hiddenClass))}});const V=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:I}=e.pagination;I&&(I=Xs(I),I.forEach(N=>N.classList.remove(e.params.pagination.paginationDisabledClass))),x(),w(),_()},P=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:I}=e.pagination;I&&(I=Xs(I),I.forEach(N=>N.classList.add(e.params.pagination.paginationDisabledClass))),O()};Object.assign(e.pagination,{enable:V,disable:P,render:w,update:_,init:x,destroy:O})}function WP(n){let{swiper:e,extendParams:t,on:i,emit:s,params:o}=n;e.autoplay={running:!1,paused:!1,timeLeft:0},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let l,c,h=o&&o.autoplay?o.autoplay.delay:3e3,f=o&&o.autoplay?o.autoplay.delay:3e3,g,y=new Date().getTime(),_,w,x,O,V,P,I;function N(ae){!e||e.destroyed||!e.wrapperEl||ae.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",N),!(I||ae.detail&&ae.detail.bySwiperTouchMove)&&R())}const H=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?_=!0:_&&(f=g,_=!1);const ae=e.autoplay.paused?g:y+f-new Date().getTime();e.autoplay.timeLeft=ae,s("autoplayTimeLeft",ae,ae/h),c=requestAnimationFrame(()=>{H()})},q=()=>{let ae;return e.virtual&&e.params.virtual.enabled?ae=e.slides.find(F=>F.classList.contains("swiper-slide-active")):ae=e.slides[e.activeIndex],ae?parseInt(ae.getAttribute("data-swiper-autoplay"),10):void 0},Z=ae=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(c),H();let fe=typeof ae>"u"?e.params.autoplay.delay:ae;h=e.params.autoplay.delay,f=e.params.autoplay.delay;const F=q();!Number.isNaN(F)&&F>0&&typeof ae>"u"&&(fe=F,h=F,f=F),g=fe;const ie=e.params.speed,ye=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(ie,!0,!0),s("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,ie,!0,!0),s("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(ie,!0,!0),s("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,ie,!0,!0),s("autoplay")),e.params.cssMode&&(y=new Date().getTime(),requestAnimationFrame(()=>{Z()})))};return fe>0?(clearTimeout(l),l=setTimeout(()=>{ye()},fe)):requestAnimationFrame(()=>{ye()}),fe},k=()=>{y=new Date().getTime(),e.autoplay.running=!0,Z(),s("autoplayStart")},A=()=>{e.autoplay.running=!1,clearTimeout(l),cancelAnimationFrame(c),s("autoplayStop")},C=(ae,fe)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(l),ae||(P=!0);const F=()=>{s("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",N):R()};if(e.autoplay.paused=!0,fe){V&&(g=e.params.autoplay.delay),V=!1,F();return}g=(g||e.params.autoplay.delay)-(new Date().getTime()-y),!(e.isEnd&&g<0&&!e.params.loop)&&(g<0&&(g=0),F())},R=()=>{e.isEnd&&g<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(y=new Date().getTime(),P?(P=!1,Z(g)):Z(),e.autoplay.paused=!1,s("autoplayResume"))},j=()=>{if(e.destroyed||!e.autoplay.running)return;const ae=Es();ae.visibilityState==="hidden"&&(P=!0,C(!0)),ae.visibilityState==="visible"&&R()},z=ae=>{ae.pointerType==="mouse"&&(P=!0,I=!0,!(e.animating||e.autoplay.paused)&&C(!0))},L=ae=>{ae.pointerType==="mouse"&&(I=!1,e.autoplay.paused&&R())},de=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",z),e.el.addEventListener("pointerleave",L))},_e=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",z),e.el.removeEventListener("pointerleave",L))},re=()=>{Es().addEventListener("visibilitychange",j)},he=()=>{Es().removeEventListener("visibilitychange",j)};i("init",()=>{e.params.autoplay.enabled&&(de(),re(),k())}),i("destroy",()=>{_e(),he(),e.autoplay.running&&A()}),i("_freeModeStaticRelease",()=>{(x||P)&&R()}),i("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?A():C(!0,!0)}),i("beforeTransitionStart",(ae,fe,F)=>{e.destroyed||!e.autoplay.running||(F||!e.params.autoplay.disableOnInteraction?C(!0,!0):A())}),i("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){A();return}w=!0,x=!1,P=!1,O=setTimeout(()=>{P=!0,x=!0,C(!0)},200)}}),i("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!w)){if(clearTimeout(O),clearTimeout(l),e.params.autoplay.disableOnInteraction){x=!1,w=!1;return}x&&e.params.cssMode&&R(),x=!1,w=!1}}),i("slideChange",()=>{e.destroyed||!e.autoplay.running||(V=!0)}),Object.assign(e.autoplay,{start:k,stop:A,pause:C,resume:R})}const rG=()=>{const[n,e]=U.useState([]),t=Hi();U.useEffect(()=>{const l=qt(Zt,"banners"),c=ms(l,h=>{if(h.exists()){const f=h.val(),g=Object.keys(f).map(y=>({id:y,...f[y]})).filter(y=>y.status==="active");e(g)}else e([])});return()=>c()},[]);const[i,s]=U.useState([]);U.useEffect(()=>{const l=TI(),c=qt(l,"categories");ms(c,h=>{if(h.exists()){const f=h.val(),g=Object.keys(f).map(y=>({id:y,...f[y]}));s(g)}})},[]);const o=l=>{t(`/products?category=${l}`)};return T.jsxs("div",{className:"overflow-hidden relative w-full",children:[T.jsx("div",{className:"absolute top-0 bottom-0 left-0 right-0",children:T.jsx("img",{src:"https://img.freepik.com/free-vector/hand-drawn-olive-green-background_23-2149725222.jpg?t=st=1739964142~exp=1739967742~hmac=2bc705054c2a2430867275dad61e87e6b18ad0dda207c3f165ca54f906f8a593&w=1060",alt:"",className:"w-full h-full object-cover opacity-20"})}),T.jsx("section",{className:"relative overflow-hidden",children:T.jsxs("div",{children:[T.jsx("div",{className:"w-[600px] md:w-[1200px] md:h-[1200px] lg:w-[1600px] lg:h-[1600px] BannerCircle lg:top-[-900px] z-0 absolute h-[600px] rounded-full md:top-[-550px] top-[-290px] bgGradient overflow-hidden"}),T.jsx("div",{className:"w-[600px] md:w-[1200px] md:h-[1200px] -z-10 absolute h-[600px] BannerCircle2 rounded-full top-[-270px] lg:top-[-880px] md:top-[-520px] bgGradient opacity-30 "}),T.jsx("div",{className:" absolute w-[70px] h-[70px]  left-[10px] top-2 drop-shadow-md",children:T.jsx("img",{src:pC,alt:""})}),T.jsxs("div",{className:"relative text-[#fff] pr-2 pt-5 leading-tight",children:[T.jsx("div",{className:"text-[12px]  text-[#B1C29E] text-end font-semibold",children:"Leading Spice Retailer in Wayanad"}),T.jsx("div",{className:"text-2xl text-end font-bold TextFont1 ",children:"Chasam Ayurvedic"}),T.jsx("div",{className:"text-[12px] text-[#B1C29E] text-end font-semibold",children:"Authentic Ayurvedic & Spice Products"})]}),T.jsxs("div",{className:"overflow-x-auto mx-auto max-w-[1400px] scrollBar md:flex md:justify-center md:items-center md:gap-5 md:px-4",children:[T.jsxs("div",{className:"flex justify-between md:justify-center items-center gap-5 relative pt-[50px] px-2 mb-5",children:[T.jsxs("div",{className:"w-[100px] relative h-[100px] flex justify-center items-center flex-col gap-2 overflow-hidden bg-[#EFE3C2] border border-[#fff] rounded-xl HeaderElements",children:[T.jsx("div",{className:"w-[100px] HeaderElementsimg relative h-[60px]  overflow-hidden rounded-xl",children:T.jsx("img",{src:CH,alt:"",className:"w-full h-full object-contain drop-shadow-md"})}),T.jsx("div",{className:"text-center font-bold text-[10px] leading-tight bottom-1 HeaderElementstext",children:"100% Organic"})]}),T.jsxs("div",{className:"w-[100px] relative h-[100px] HeaderElements flex justify-center items-center flex-col gap-2 overflow-hidden bg-[#EFE3C2] border border-[#fff] rounded-xl",children:[T.jsx("div",{className:"w-[100px] HeaderElementsimg relative h-[60px] overflow-hidden rounded-xl",children:T.jsx("img",{src:AH,alt:"",className:"w-full h-full object-contain drop-shadow-md"})}),T.jsx("div",{className:"text-center font-bold text-[10px] leading-tight bottom-1 HeaderElementstext",children:"Genuine Product"})]}),T.jsxs("div",{className:"w-[100px] relative h-[100px] HeaderElements flex justify-center items-center flex-col gap-2 overflow-hidden bg-[#EFE3C2] border border-[#fff] rounded-xl",children:[T.jsx("div",{className:"w-[100px] HeaderElementsimg relative h-[60px] overflow-hidden rounded-xl",children:T.jsx("img",{src:RH,alt:"",className:"w-full h-full object-contain drop-shadow-md"})}),T.jsx("div",{className:"text-center font-bold text-[10px] leading-tight bottom-1 HeaderElementstext",children:"Quality Guranteed"})]})]}),T.jsx("div",{className:"hidden md:flex md:relative text-[#fff]",children:T.jsx("p",{className:"mt-4 text-lg md:text-xl text-white font-medium",children:"Chasam Ayurvedic & Spice Garden Shop offers pure Ayurvedic products, exotic spices, and natural remedies sourced from nature. We provide herbal supplements, organic spices, essential oils, and handcrafted wellness products to support a healthy lifestyle."})})]}),T.jsx("div",{className:"px-2 mb-3 relative",children:n.length>1?T.jsx(iT,{modules:[KP,WP],pagination:{clickable:!0,renderBullet:(l,c)=>`
          <span class="${c}" style="background-color: #95CD41; width: 10px; height: 10px; margin-bottom: 10px;"></span>
        `},autoplay:{delay:3e3,disableOnInteraction:!1},loop:!0,className:"w-full h-auto md:h-auto BoxShadow border-[#fff] border rounded-xl overflow-hidden",children:n.map(l=>T.jsx(sT,{children:T.jsx("img",{src:l.image,alt:"Banner",className:"w-full h-auto object-cover"})},l.id))}):n.length===1?T.jsx("div",{className:"w-full h-auto md:h-auto BoxShadow border-[#fff] border rounded-xl overflow-hidden",children:T.jsx("img",{src:n[0].image,alt:"Banner",className:"w-full h-auto object-cover"})}):T.jsx("p",{children:"No active banners"})}),T.jsxs("div",{className:"grid grid-cols-2 px-2 gap-2 mb-5",children:[i.map(l=>T.jsx("div",{onClick:()=>o(l.id),className:"cursor-pointer",children:T.jsxs("div",{className:"w-full h-[150px] md:h-[200px] lg:h-[300px] rounded-3xl overflow-hidden relative BoxShadow border border-[#fff]",children:[T.jsx("div",{className:"absolute w-full h-full bg-[#06660c48]"}),T.jsx("div",{className:"absolute bottom-1 text-[#fff] text-center px-2 w-full md:text-3xl",children:l.name}),T.jsx("img",{src:l.image||"default-image-url.jpg",className:"w-full h-full object-cover",alt:l.name})]})},l.id)),T.jsx(Dl,{to:"/products",children:T.jsxs("div",{className:"w-full h-[150px] md:h-[200px] lg:h-[300px] rounded-3xl overflow-hidden relative BoxShadow border border-[#fff]",children:[T.jsx("div",{className:"absolute w-full h-full bg-[#06660c48]"}),T.jsx("span",{className:"text-5xl md:text-8xl relative flex justify-center items-center h-full",children:T.jsx(IH,{className:"border border-[#fff] rounded-full"})}),T.jsx("div",{className:"absolute bottom-1 text-[#fff] text-center px-2 w-full md:text-3xl",children:"See More"})]})})]})]})}),T.jsx("section",{className:"w-full flex flex-col justify-center items-center bg-[#000000] h-auto mb-[53px] lg:mb-[90px]",children:T.jsx("div",{className:" w-full  backdrop-blur-3xl",children:T.jsxs("div",{className:"w-full h-full `rounded-[calc(1.5rem-1px)] bg-[#000] py-5",children:[T.jsx("div",{className:"text-center font-bold text-lg text-[#fff] lg:text-4xl lg:mb-2",children:"Vythiri Care"}),T.jsx("div",{className:"text-center px-2 text-[13px] text-[#fff] lg:text-xl",children:"Chasam Ayurvedic & Spices Garden Shop in Wayanad is one of the leading businesses in the Spice Retailers."})]})})})]})};function aG(n){return Ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M399 384.2C376.9 345.8 335.4 320 288 320l-64 0c-47.4 0-88.9 25.8-111 64.2c35.2 39.2 86.2 63.8 143 63.8s107.8-24.7 143-63.8zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm256 16a72 72 0 1 0 0-144 72 72 0 1 0 0 144z"},child:[]}]})(n)}function oG(n){return Ke({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304l-91.4 0z"},child:[]}]})(n)}function lG(n){return Ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M211.1 33c-25.9 0-49.4 2.68-65.7 6.76-8.2 2.04-14.6 4.51-18.2 6.65-1.3.78-1.7 1.18-2.1 1.59.4.41.8.81 2.1 1.59 3.6 2.14 10 4.61 18.2 6.65 16.3 4.08 39.8 6.76 65.7 6.76 25.9 0 49.4-2.68 65.7-6.76 8.2-2.04 14.6-4.51 18.2-6.65 1.3-.78 1.7-1.18 2.1-1.59-.4-.41-.8-.81-2.1-1.59-3.6-2.14-10-4.61-18.2-6.65C260.5 35.68 237 33 211.1 33zm-87 35.13v40.07c6.5 3.3 15 6.6 21.3 8.2 16.3 4.1 39.8 6.8 65.7 6.8 25.9 0 49.4-2.7 65.7-6.8 12-2.9 13.4-3.2 21.3-8.2V68.13c-4.9 2.16-10.5 3.97-16.9 5.57-18.5 4.61-43 7.3-70.1 7.3-27.1 0-51.6-2.69-70.1-7.3-6.4-1.6-12-3.41-16.9-5.57zm8.6 63.47c-8.3 2.9-16.5 8.1-23.2 14.8C98.88 156.9 92.1 171 92.1 184v64c0 5 2.2 9.3 7.86 14.2 5.64 4.8 14.74 9.5 25.94 13.3 22.6 7.5 53.9 11.5 85.2 11.5 31.2 0 62.6-4 85.2-11.5 11.2-3.8 20.3-8.5 25.9-13.3 5.7-4.9 7.9-9.2 7.9-14.2v-64c0-13-6.8-27.1-17.4-37.6-6.7-6.7-14.8-11.9-23.2-14.8-2.6.8-5.4 1.6-8.3 2.3-18.5 4.6-43 7.3-70.1 7.3-27.1 0-51.6-2.7-70.1-7.3-2.9-.7-5.7-1.5-8.3-2.3zM92.1 278.9V344c0 5 2.2 9.3 7.86 14.2 5.64 4.8 14.74 9.5 25.94 13.3 22.6 7.5 53.9 11.5 85.2 11.5 31.2 0 62.6-4 85.2-11.5 11.2-3.8 20.3-8.5 25.9-13.3 5.7-4.9 7.9-9.2 7.9-14.2v-65.1c-7.8 5.6-17.3 10-28.2 13.6-25.4 8.5-58.1 12.5-90.8 12.5-32.8 0-65.4-4-90.8-12.5-10.9-3.6-20.45-8-28.2-13.6zm0 96V440c0 5 2.2 9.3 7.86 14.2 5.64 4.8 14.74 9.5 25.94 13.3 22.6 7.5 53.9 11.5 85.2 11.5 17.5 0 35.2-1.3 51.2-3.7-3.2-4.5-5.2-9.6-5.2-15.4 0-11.8 8.3-21.1 18.7-26.9 6.3-3.6 13.8-6.1 22-7.6 2.2-8.9 9.4-16 17.9-20.8 4.3-2.4 9.2-4.4 14.4-5.9v-23.8c-7.8 5.6-17.3 10-28.2 13.6-25.4 8.5-58.1 12.5-90.8 12.5-32.8 0-65.4-4-90.8-12.5-10.9-3.6-20.45-8-28.2-13.6zM354 413.6c-11.9 0-22.6 2.8-29.5 6.7-2.3 1.3-4 2.6-5.4 3.8 12.6.7 24.2 3.8 33.3 8.9 6.2 3.5 11.7 8.2 15 13.9 3-7.5 9.4-13.6 17-17.8 2-1.1 4.1-2.1 6.3-3.1-1.5-1.8-3.8-3.8-7.2-5.7-6.9-3.9-17.6-6.7-29.5-6.7zm68.7 24.5c-11.9 0-22.6 2.8-29.5 6.7-7 3.9-9.5 8.1-9.5 11.2 0 3.1 2.5 7.3 9.5 11.2 6.9 3.9 17.6 6.7 29.5 6.7 11.9 0 22.6-2.8 29.5-6.7 7-3.9 9.5-8.1 9.5-11.2 0-3.1-2.5-7.3-9.5-11.2-6.9-3.9-17.6-6.7-29.5-6.7zM314.1 442c-11.9 0-22.6 2.8-29.5 6.7-7 3.9-9.5 8.1-9.5 11.2 0 3.1 2.5 7.3 9.5 11.2 6.9 3.9 17.6 6.7 29.5 6.7 11.9 0 22.6-2.8 29.5-6.7 7-3.9 9.5-8.1 9.5-11.2 0-3.1-2.5-7.3-9.5-11.2-6.9-3.9-17.6-6.7-29.5-6.7z"},child:[]}]})(n)}function uG(n){return Ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m13 16 5-4-5-4v3H4v2h9z"},child:[]},{tag:"path",attr:{d:"M20 3h-9c-1.103 0-2 .897-2 2v4h2V5h9v14h-9v-4H9v4c0 1.103.897 2 2 2h9c1.103 0 2-.897 2-2V5c0-1.103-.897-2-2-2z"},child:[]}]})(n)}function Kp(n){return Ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M6 22h12a2 2 0 0 0 2-2V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2zm7-18 5 5h-5V4zm-4.5 7a1.5 1.5 0 1 1-.001 3.001A1.5 1.5 0 0 1 8.5 11zm.5 5 1.597 1.363L13 13l4 6H7l2-3z"},child:[]}]})(n)}function cG(n){return Ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.001 2.002c-5.522 0-9.999 4.477-9.999 9.999 0 4.99 3.656 9.126 8.437 9.879v-6.988h-2.54v-2.891h2.54V9.798c0-2.508 1.493-3.891 3.776-3.891 1.094 0 2.24.195 2.24.195v2.459h-1.264c-1.24 0-1.628.772-1.628 1.563v1.875h2.771l-.443 2.891h-2.328v6.988C18.344 21.129 22 16.992 22 12.001c0-5.522-4.477-9.999-9.999-9.999z"},child:[]}]})(n)}const hG=()=>{const n=Hi(),e=()=>{n("/login")};return T.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-[997]",children:T.jsx("div",{children:T.jsx("nav",{className:"w-full bg-[#3E7B27] text-[#fff] font-medium bg-gradient-to-r from-[#8d8d8d] via-[#ffffff] to-[#3E7B27] pt-[5px]  backdrop-blur-3xl",children:T.jsx("div",{className:" w-full h-full bg-[#000]",children:T.jsxs("ul",{className:"flex justify-evenly items-start gap-10 py-3 px-4 text-2xl lg:text-6xl",children:[T.jsx(Dl,{to:"/",children:T.jsx("li",{className:"flex flex-col justify-center items-center",children:T.jsx(vC,{})})}),T.jsx(Dl,{to:"/products",children:T.jsx("li",{children:T.jsx(lG,{})})}),T.jsx(Dl,{to:"/contact",children:T.jsxs("li",{className:"flex flex-col justify-center items-center",children:[" ",T.jsx(aG,{})]})}),T.jsxs("li",{className:"flex flex-col justify-center items-center",onClick:e,children:[" ",T.jsx(uG,{})]})]})})})})})},dG="/assets/an-BR3wQVO_.webm",fG=()=>T.jsx("div",{className:"bg-[#ffffff] h-screen w-full flex flex-col justify-center items-center fixed top-0 bottom-0 left-0 right-0 z-[999]",children:T.jsx("div",{children:T.jsx("div",{className:"w-[100px] h-[100px]",children:T.jsx("video",{src:dG,playsInline:!0,autoPlay:!0,loop:!0,muted:!0,className:"w-full h-full object-contain drop-shadow-md"})})})}),Wh="/assets/chasam-B6Fz_ORD.png";function pG(n){return Ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M217.9 256L345 129c9.4-9.4 9.4-24.6 0-33.9-9.4-9.4-24.6-9.3-34 0L167 239c-9.1 9.1-9.3 23.7-.7 33.1L310.9 417c4.7 4.7 10.9 7 17 7s12.3-2.3 17-7c9.4-9.4 9.4-24.6 0-33.9L217.9 256z"},child:[]}]})(n)}function mG(n){return Ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M295.6 163.7c-5.1 5-5.1 13.3-.1 18.4l60.8 60.9H124.9c-7.1 0-12.9 5.8-12.9 13s5.8 13 12.9 13h231.3l-60.8 60.9c-5 5.1-4.9 13.3.1 18.4 5.1 5 13.2 5 18.3-.1l82.4-83c1.1-1.2 2-2.5 2.7-4.1.7-1.6 1-3.3 1-5 0-3.4-1.3-6.6-3.7-9.1l-82.4-83c-4.9-5.2-13.1-5.3-18.2-.3z"},child:[]}]})(n)}function gG(n){return Ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M435.9 64.9l-367.1 160c-6.5 3.1-6.3 12.4.3 15.3l99.3 56.1c5.9 3.3 13.2 2.6 18.3-1.8l195.8-168.8c1.3-1.1 4.4-3.2 5.6-2 1.3 1.3-.7 4.3-1.8 5.6L216.9 320.1c-4.7 5.3-5.4 13.1-1.6 19.1l64.9 104.1c3.2 6.3 12.3 6.2 15.2-.2L447.2 76c3.3-7.2-4.2-14.5-11.3-11.1z"},child:[]}]})(n)}function yG(n){return Ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M260.062 32C138.605 32 40.134 129.701 40.134 250.232c0 41.23 11.532 79.79 31.559 112.687L32 480l121.764-38.682c31.508 17.285 67.745 27.146 106.298 27.146C381.535 468.464 480 370.749 480 250.232 480 129.701 381.535 32 260.062 32zm109.362 301.11c-5.174 12.827-28.574 24.533-38.899 25.072-10.314.547-10.608 7.994-66.84-16.434-56.225-24.434-90.052-83.844-92.719-87.67-2.669-3.812-21.78-31.047-20.749-58.455 1.038-27.413 16.047-40.346 21.404-45.725 5.351-5.387 11.486-6.352 15.232-6.413 4.428-.072 7.296-.132 10.573-.011 3.274.124 8.192-.685 12.45 10.639 4.256 11.323 14.443 39.153 15.746 41.989 1.302 2.839 2.108 6.126.102 9.771-2.012 3.653-3.042 5.935-5.961 9.083-2.935 3.148-6.174 7.042-8.792 9.449-2.92 2.665-5.97 5.572-2.9 11.269 3.068 5.693 13.653 24.356 29.779 39.736 20.725 19.771 38.598 26.329 44.098 29.317 5.515 3.004 8.806 2.67 12.226-.929 3.404-3.599 14.639-15.746 18.596-21.169 3.955-5.438 7.661-4.373 12.742-2.329 5.078 2.052 32.157 16.556 37.673 19.551 5.51 2.989 9.193 4.529 10.51 6.9 1.317 2.38.901 13.531-4.271 26.359z"},child:[]}]})(n)}function Vm(n){return Ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M192 277.4h189.7l-43.6 44.7L368 352l96-96-96-96-31 29.9 44.7 44.7H192v42.8z"},child:[]},{tag:"path",attr:{d:"M255.7 421.3c-44.1 0-85.5-17.2-116.7-48.4-31.2-31.2-48.3-72.7-48.3-116.9 0-44.1 17.2-85.7 48.3-116.9 31.2-31.2 72.6-48.4 116.7-48.4 44 0 85.3 17.1 116.5 48.2l30.3-30.3c-8.5-8.4-17.8-16.2-27.7-23.2C339.7 61 298.6 48 255.7 48 141.2 48 48 141.3 48 256s93.2 208 207.7 208c42.9 0 84-13 119-37.5 10-7 19.2-14.7 27.7-23.2l-30.2-30.2c-31.1 31.1-72.5 48.2-116.5 48.2zM448.004 256.847l-.849-.848.849-.849.848.849z"},child:[]}]})(n)}const vG=()=>{const[n,e]=U.useState(""),[t,i]=U.useState(""),[s,o]=U.useState(""),[l,c]=U.useState(!1),h=Hi(),f=async g=>{g.preventDefault(),c(!0),o("");try{const _=(await V8(yH,n,t)).user;n==="admin@gmail.com"&&t==="123456"?h("/admin"):o("Unauthorized access. Only admins can log in.")}catch{o("Failed to log in. Check your credentials.")}finally{c(!1)}};return T.jsx("div",{className:"w-full h-screen flex items-center justify-center bg-gray-100 px-4",children:T.jsxs("div",{className:"bg-white relative p-6 rounded-2xl shadow-lg w-full max-w-sm",children:[T.jsx("div",{className:" absolute left-2 top-4",children:T.jsx("span",{onClick:()=>h("/"),className:"cursor-pointer",children:T.jsx(pG,{className:"text-[#178000] text-2xl"})})}),T.jsx("div",{className:"flex justify-center mb-6",children:T.jsx("img",{src:Wh,alt:"Logo",className:"w-24 h-24"})}),T.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-6",children:"Sign In"}),s&&T.jsx("p",{className:"text-red-500 text-center mb-4",children:s}),T.jsxs("form",{onSubmit:f,children:[T.jsxs("div",{className:"relative mb-4",children:[T.jsx(cO,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),T.jsx("input",{type:"email",placeholder:"Enter your email",value:n,onChange:g=>e(g.target.value),className:"w-full pl-10 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),T.jsxs("div",{className:"relative mb-4",children:[T.jsx(fO,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),T.jsx("input",{type:"password",placeholder:"Enter your password",value:t,onChange:g=>i(g.target.value),className:"w-full pl-10 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),T.jsx("button",{type:"submit",className:"w-full bg-green-500 text-white p-3 rounded-lg text-lg font-semibold hover:bg-green-600 transition disabled:bg-gray-400",disabled:l,children:l?"Signing In...":"Sign In"})]})]})})},_G="/assets/adminbg-G0YSHEFU.jpeg",jm=({})=>{const n=Hi(),e=t=>{n(t)};return T.jsxs("nav",{className:"flex flex-col items-center justify-center space-y-6  mt-[-100px] h-full",children:[T.jsx("button",{className:"p-3 pt-0 rounded-lg hover:bg-green-100",onClick:()=>e("/admin"),children:T.jsx(vC,{className:"text-white text-2xl"})}),T.jsx("button",{className:"p-3 rounded-lg hover:bg-green-100",onClick:()=>e("/imagebanner"),children:T.jsx(hO,{className:"text-white text-2xl"})}),T.jsx("button",{className:"p-3 rounded-lg hover:bg-green-100",onClick:()=>e("/product"),children:T.jsx(lO,{className:"text-white text-2xl"})}),T.jsx("button",{className:"p-3 rounded-lg hover:bg-green-100",onClick:()=>e("/category"),children:T.jsx(dO,{className:"text-white text-2xl"})})]})},EG=({})=>{const n=Hi(),[e,t]=U.useState(!1),[i,s]=U.useState(!0);U.useEffect(()=>{const g=Ip(),y=$I(g,_=>{s(!!_)});return()=>y()},[]);const o=g=>{g.stopPropagation(),t(y=>!y)},l=g=>{!g.target.closest(".sidebar")&&!g.target.closest(".menu-btn")&&t(!1)},c=()=>{const g=Ip();B8(g).then(()=>{s(!1),n("/login")}).catch(y=>{console.error("Logout Error:",y)})},[h,f]=U.useState(!1);return U.useEffect(()=>{const g=()=>{window.scrollY>50?f(!0):f(!1)};return window.addEventListener("scroll",g),()=>window.removeEventListener("scroll",g)},[]),T.jsxs("div",{className:"flex h-screen relative overflow-hidden",onClick:l,children:[T.jsx("div",{className:`sidebar fixed top-0 left-0 h-full z-[998] bg-[#00000007] backdrop-blur-sm shadow-lg w-14 transform transition-transform ${e?"translate-x-0":"-translate-x-full"}`,children:T.jsx(jm,{closeMenu:()=>t(!1)})}),T.jsx("div",{className:"fixed inset-0 w-full h-full -z-20",children:T.jsx("img",{src:_G,alt:"Background",className:"h-full w-full object-cover opacity-90"})}),T.jsxs("div",{className:"flex flex-col w-full pb-10",children:[T.jsxs("div",{className:`flex items-center py-4 px-0 z-[999] sticky top-0 w-full transition-colors duration-300 ${h?"bg-white shadow-md rounded-b-3xl":"bg-transparent"}`,children:[T.jsx("button",{className:"menu-btn text-gray-700 text-2xl p-4 focus:outline-none ml-0",onClick:o,children:T.jsx(Qp,{className:`text-3xl ${h?"text-black":"text-white"}`})}),T.jsx("div",{className:"ml-[-5px] flex justify-center",children:T.jsx("img",{src:Wh,alt:"Logo",className:"w-14"})}),T.jsx("div",{className:"flex justify-center ml-auto pr-3 text-2xl",onClick:c,children:T.jsx(Vm,{className:`text-3xl ${h?"text-black":"text-white"}`})})]}),T.jsxs("div",{className:"flex flex-col items-center justify-center w-full mt-5 px-4",children:[T.jsxs("div",{className:"max-w-4xl text-center bg-black/20 backdrop-blur-sm p-5 rounded-lg",children:[T.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-white",children:["🌿 Nature’s 🌿",T.jsx("span",{className:"block",children:"Wellness Hub!"})]}),T.jsx("p",{className:"mt-4 text-lg md:text-xl text-white font-medium",children:"Chasam Ayurvedic & Spice Garden Shop offers pure Ayurvedic products, exotic spices, and natural remedies sourced from nature. We provide herbal supplements, organic spices, essential oils, and handcrafted wellness products to support a healthy lifestyle."}),T.jsx("p",{className:"mt-2 text-lg md:text-xl text-white font-medium",children:"Discover healing herbs, aromatic spices, and Ayurvedic beauty essentials – all sustainably sourced for your well-being. Step into Chasam and embrace the power of nature! 🌱✨"})]}),T.jsx("div",{className:"mt-10 max-w-4xl w-full"})]})]})]})},TG="/assets/imgb1-DyqoLXDI.jpeg",wG="/assets/imgb2-BJd5ULGS.jpeg",rT="/assets/imgbg-BEyhKrRX.jpeg",bG=()=>{const n=Hi(),[e,t]=U.useState(!1),[i,s]=U.useState(!1),[o,l]=U.useState(!1),[c,h]=U.useState(null),[f,g]=U.useState({});U.useEffect(()=>{const N=qt(Zt,"banners");ms(N,H=>{const q=H.val();g(q||{})})},[]);const y=()=>{n("/login")},_=N=>{N.stopPropagation(),t(H=>!H)},w=N=>{const H=N.target.files[0];if(H){const q=new FileReader;q.readAsDataURL(H),q.onloadend=()=>{h(q.result)}}},x=async()=>{if(!c){alert("Please select an image!");return}const N={image:c,date:new Date().toLocaleString(),status:"active"};try{const H=qt(Zt,"banners");await oE(H,N),alert("Banner added successfully!"),s(!1),h(null)}catch(H){console.error("Error uploading banner:",H),alert("Failed to upload banner.")}},O=async(N,H)=>{try{await bp(qt(Zt,`banners/${N}`),{status:H==="active"?"inactive":"active"})}catch(q){console.error("Error updating banner status:",q),alert("Failed to update banner status.")}},V=async N=>{if(window.confirm("Are you sure you want to delete this banner?"))try{await lE(qt(Zt,`banners/${N}`)),alert("Banner deleted successfully!")}catch(H){console.error("Error deleting banner:",H),alert("Failed to delete banner.")}},[P,I]=U.useState(!1);return U.useEffect(()=>{const N=()=>{window.scrollY>50?I(!0):I(!1)};return window.addEventListener("scroll",N),()=>window.removeEventListener("scroll",N)},[]),T.jsxs("div",{className:"min-h-screen w-full relative",children:[T.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-60",style:{backgroundImage:`url(${rT})`}}),T.jsx("div",{className:"relative z-10",children:T.jsxs("div",{className:"flex h-auto",children:[T.jsx("div",{className:`fixed top-0 z-[998] left-0 h-full bg-[#00000007] backdrop-blur-sm shadow-lg w-14 transition-transform ${e?"translate-x-0":"-translate-x-full"}`,children:T.jsx(jm,{closeMenu:()=>t(!1)})}),T.jsx("div",{className:"flex flex-1 items-center w-full",children:T.jsxs("div",{className:`flex items-center py-4 px-0 z-[999] fixed top-0 w-full transition-colors duration-300 ${P?"bg-white shadow-md rounded-b-3xl":"bg-transparent"}`,children:[T.jsx("button",{className:"menu-btn text-gray-700 text-2xl p-4 focus:outline-none ml-0",onClick:_,children:T.jsx(Qp,{className:`text-3xl ${P?"text-black":"text-white"}`})}),T.jsx("div",{className:"ml-[-5px] flex justify-center",children:T.jsx("img",{src:Wh,alt:"Logo",className:"w-14"})}),T.jsx("div",{className:"flex justify-center ml-auto pr-3 text-2xl",onClick:y,children:T.jsx(Vm,{className:`text-3xl ${P?"text-black":"text-white"}`})})]})}),T.jsxs("div",{className:"w-full flex flex-col h-auto px-2 mt-[80px]",children:[T.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center justify-center pt-5",children:"MANAGE BANNERS"}),T.jsxs("div",{className:"flex gap-2 w-full",children:[T.jsxs("div",{className:"relative w-[50%] h-[180px] flex justify-center items-center rounded-3xl bg-cover bg-center cursor-pointer",style:{backgroundImage:`url(${TG})`},onClick:()=>{s(N=>!N),l(!1)},children:[T.jsx("div",{className:"bg-black absolute inset-0 w-full h-full opacity-30 rounded-3xl"}),T.jsx("button",{className:"text-white relative px-6 py-3 text-2xl font-black",children:"ADD BANNER"})]}),T.jsxs("div",{className:"relative w-[50%] h-[180px] flex justify-center items-center rounded-3xl bg-cover bg-center cursor-pointer",style:{backgroundImage:`url(${wG})`},onClick:()=>{l(N=>!N),s(!1)},children:[T.jsx("div",{className:"bg-black absolute inset-0 w-full h-full opacity-30 rounded-3xl"}),T.jsx("button",{className:"text-white relative px-6 py-3 text-2xl font-black",children:"VIEW BANNERS"})]})]}),i&&T.jsxs("div",{className:"w-full max-w-md bg-[#CBBA9E] p-6 mt-6 rounded-lg shadow-lg mb-3",children:[T.jsx("h3",{className:"text-2xl font-bold text-white mb-4 text-center",children:"ADD NEW BANNER"}),T.jsxs("div",{className:"relative flex items-center",children:[T.jsx("div",{className:"absolute right-2",children:T.jsx(Kp,{})}),T.jsx("input",{type:"file",className:"w-full border border-[#51372A] bg-white p-2 rounded-lg focus:outline-none",onChange:w})]}),c&&T.jsxs("div",{className:"mt-4",children:[T.jsx("p",{className:"text-white text-sm ",children:"Preview:"}),T.jsx("img",{src:c,alt:"Preview",className:"w-full h-40 object-cover rounded-lg border border-gray-300 mt-2"})]}),T.jsxs("div",{className:"mt-4 flex justify-center gap-2 w-full",children:[T.jsx("button",{className:"px-4 py-2 bg-[#8B6254] text-white rounded-lg w-full",onClick:()=>{s(!1),h(null)},children:"Cancel"}),T.jsx("button",{className:"px-4 py-2 bg-[#435933] hover:bg-[#304421] text-white rounded-lg w-full",onClick:x,children:"Submit"})]})]}),o&&T.jsxs("div",{className:"mt-8 w-full relative",children:[T.jsx("div",{className:"absolute inset-0 bg-[#ffffff79] bg-opacity-10 backdrop-blur-xl rounded-lg"}),T.jsxs("div",{className:"relative z-10 p-4 rounded-lg shadow-lg",children:[T.jsx("h3",{className:"text-xl font-bold text-black mb-4 text-center",children:"UPLOADED BANNERS"}),Object.keys(f).length===0?T.jsx("p",{className:"text-black",children:"No banners uploaded yet."}):T.jsx("div",{className:"grid grid-cols-1 gap-4",children:Object.entries(f).map(([N,H])=>T.jsxs("div",{className:"shadow-lg bg-[#ab8c59] rounded-lg overflow-hidden",children:[T.jsx("img",{src:H.image,alt:"Banner",className:"w-full h-40 object-cover"}),T.jsxs("div",{className:"p-3 flex justify-between items-center",children:[T.jsx("button",{onClick:()=>O(N,H.status),className:`px-3 py-1 rounded ${H.status==="active"?"bg-green-500":"bg-red-500"} text-white`,children:H.status}),T.jsx("button",{onClick:()=>V(N),className:"px-3 py-1 bg-red-600 text-white rounded",children:"Delete"})]})]},N))})]})]})]})]})})]})},SG="/assets/pbg1-vF5Ze8HB.jpeg",xG="/assets/pbg2-BikijSuf.jpeg";function CG(n){return Ke({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"},child:[]}]})(n)}const AG="/assets/product-default-DWdPPkff.png",RG=()=>{const n=Hi(),[e,t]=U.useState(!1),[i,s]=U.useState(!1),[o,l]=U.useState(!1),[c,h]=U.useState([]),[f,g]=U.useState(""),[y,_]=U.useState([]),[w,x]=U.useState(!1),[O,V]=U.useState(null),[P,I]=U.useState({name:"",category:"",price:"",purpose:"",description:"",usage:"",netQty:"",images:[],mainImageIndex:0,status:"active"}),[N,H]=U.useState(!1),[q,Z]=U.useState(null);U.useEffect(()=>{const oe=()=>{window.scrollY>50?H(!0):H(!1)};return window.addEventListener("scroll",oe),()=>window.removeEventListener("scroll",oe)},[]),U.useEffect(()=>{(async()=>{try{const Qe=await(await fetch(AG)).blob(),He=await F(Qe);Z(He)}catch(we){console.error("Error loading default image:",we)}})()},[]);const[k,A]=U.useState([]),[C,R]=U.useState([]),[j,z]=U.useState(!1),[L,de]=U.useState([]),[_e,re]=U.useState(0);let he=0;U.useEffect(()=>{const oe=qt(Zt,"products");ms(oe,Qe=>{const He=Qe.val();if(He){const Ut=Object.entries(He).map(([Gt,$i])=>({id:Gt,...$i}));h(Ut)}else h([])});const we=qt(Zt,"categories");ms(we,Qe=>{const He=Qe.val();_(He?Object.values(He):[])})},[]);const ae=()=>n("/login"),fe=oe=>{I({...P,[oe.target.name]:oe.target.value})},F=oe=>new Promise((we,Qe)=>{const He=new FileReader;He.readAsDataURL(oe),He.onload=()=>we(He.result),He.onerror=Ut=>Qe(Ut)}),ie=oe=>{I(we=>({...we,mainImageIndex:oe}))},ye=(oe,we)=>{if(!oe||oe.length===0)return[];if(we===0||we===void 0)return oe;const Qe=[...oe],He=Qe.splice(we,1)[0];return Qe.unshift(He),Qe},pe=async()=>{if(!P.name||!P.category){alert("Please provide a product name and select a category");return}try{let oe=[];P.images&&P.images.length>0?oe=ye(P.images,P.mainImageIndex):q&&(oe=[q]);const we={...P,price:P.price||"",purpose:P.purpose||"",description:P.description||"",usage:P.usage||"",netQty:P.netQty||"",images:oe,mainImageIndex:0,status:w?P.status:"active"};if(w&&O){const Qe=qt(Zt,`products/${O.id}`);await bp(Qe,we);const He=I_(Rf,"productImages",O.id);if((await hH(He)).exists())await fH(He,{images:oe});else{const Gt={productId:O.id,images:oe};await W2(G2(Rf,"productImages"),Gt)}alert("Product updated successfully!")}else{const Qe=qt(Zt,"products"),Ut={productId:(await oE(Qe,we)).key,images:oe};await W2(G2(Rf,"productImages"),Ut),alert("Product added successfully!")}Ye(),s(!1),x(!1),A([]),V(null),l(!0),I({name:"",category:"",price:"",purpose:"",description:"",usage:"",netQty:"",images:[],mainImageIndex:0,status:"active"})}catch(oe){console.error("Error saving product:",oe),alert("Error saving product. Please try again.")}},me=async oe=>{if(window.confirm("Are you sure you want to delete this product?"))try{const we=qt(Zt,`products/${oe}`);await lE(we);const Qe=I_(Rf,"productImages",oe);await pH(Qe),alert("Product deleted successfully!")}catch(we){console.error("Error deleting product:",we),alert("Error deleting product. Please try again.")}},Oe=oe=>{V(oe);const we={...oe};we.bgImage&&delete we.bgImage,we.mainImageIndex===void 0&&(we.mainImageIndex=0),I(we),x(!0),s(!0),l(!1),oe.images&&oe.images.length>0?(A(oe.images),R(oe.images.map((Qe,He)=>`image-${He+1}.jpg`))):(A([]),R([]))},Me=async oe=>{const we=Array.from(oe.target.files);if(we.length>6){alert("You can only upload up to 6 images.");return}const Qe=we.map(He=>URL.createObjectURL(He));A(Qe);try{const He=await Promise.all(we.map(async Ut=>{const Gt=await yt(Ut,800);return await F(Gt)}));I({...P,images:He,mainImageIndex:0}),R(we.map(Ut=>Ut.name))}catch(He){console.error("Error processing images:",He),alert("Error processing images. Please try again with smaller files.")}},Ct=oe=>{!oe.target.closest(".sidebar")&&!oe.target.closest(".menu-btn")&&t(!1)},We=oe=>{oe.stopPropagation(),t(we=>!we)},yt=(oe,we)=>new Promise(Qe=>{const He=new FileReader;He.readAsDataURL(oe),He.onload=Ut=>{const Gt=new Image;Gt.src=Ut.target.result,Gt.onload=()=>{const $i=document.createElement("canvas");let Ai=Gt.width,$t=Gt.height;Ai>we&&($t=we*$t/Ai,Ai=we),$i.width=Ai,$i.height=$t,$i.getContext("2d").drawImage(Gt,0,0,Ai,$t),$i.toBlob(Ot=>{Qe(new File([Ot],oe.name,{type:"image/jpeg",lastModified:Date.now()}))},"image/jpeg",.7)}}}),Ye=()=>{A([]),R([]),I({name:"",category:"",price:"",purpose:"",description:"",usage:"",netQty:"",images:[],mainImageIndex:0,status:"active"}),x(!1),V(null)},pn=(oe,we=0)=>{oe&&oe.length>0&&(de(oe),re(we),z(!0))},ai=()=>{re(oe=>oe>0?oe-1:L.length-1)},On=()=>{re(oe=>oe<L.length-1?oe+1:0)},qi=oe=>{he=oe.touches[0].clientX},Gi=oe=>{const we=oe.changedTouches[0].clientX,Qe=he-we;Math.abs(Qe)>50&&(Qe>0?On():ai())};return T.jsxs("div",{className:"min-h-screen w-full relative",children:[T.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-60",style:{backgroundImage:`url(${rT})`}}),T.jsxs("div",{className:"relative z-10",children:[T.jsxs("div",{className:"flex h-auto",onClick:Ct,children:[T.jsx("div",{className:`sidebar fixed top-0 left-0 h-full z-[998] bg-[#00000007] backdrop-blur-sm shadow-lg w-14 transform transition-transform ${e?"translate-x-0":"-translate-x-full"}`,children:T.jsx(jm,{closeMenu:()=>t(!1)})}),T.jsx("div",{className:"flex flex-1 items-center w-full",children:T.jsxs("div",{className:`flex items-center py-4 px-0 z-[999] fixed top-0 w-full transition-colors duration-300 ${N?"bg-white shadow-md rounded-b-3xl":"bg-transparent"}`,children:[T.jsx("button",{className:"menu-btn text-gray-700 text-2xl p-4 focus:outline-none ml-0",onClick:We,children:T.jsx(Qp,{className:`text-3xl ${N?"text-black":"text-white"}`})}),T.jsx("div",{className:"ml-[-5px] flex justify-center",children:T.jsx("img",{src:Wh,alt:"Logo",className:"w-14"})}),T.jsx("div",{className:"flex justify-center ml-auto pr-3 text-2xl",onClick:ae,children:T.jsx(Vm,{className:`text-3xl ${N?"text-black":"text-white"}`})})]})})]}),T.jsxs("div",{className:"w-full flex flex-col h-auto px-2 mt-[80px]",children:[T.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center justify-center pt-5",children:"MANAGE PRODUCTS"}),T.jsxs("div",{className:"flex gap-2 w-full ",children:[T.jsxs("div",{className:"relative w-[50%] h-[180px] flex justify-center items-center rounded-3xl bg-cover bg-center cursor-pointer",style:{backgroundImage:`url(${SG})`},onClick:()=>{s(!i),l(!1),i||(Ye(),x(!1),V(null))},children:[T.jsx("div",{className:"bg-[#000] absolute inset-0 w-full h-full -z-0 mix-blend-multiply opacity-30 rounded-3xl"}),T.jsx("button",{className:"text-white relative px-6 py-3 rounded-lg text-2xl font-black",children:"ADD PRODUCT"})]}),T.jsxs("div",{className:"relative w-[50%] h-[180px] flex justify-center items-center rounded-3xl bg-cover bg-center cursor-pointer",style:{backgroundImage:`url(${xG})`},onClick:()=>{l(!o),s(!1),A([]),Ye()},children:[T.jsx("div",{className:"bg-[#000] absolute inset-0 w-full h-full -z-0 mix-blend-multiply opacity-30 rounded-3xl"}),T.jsx("button",{className:"text-white relative px-6 py-3 rounded-lg text-2xl font-black",children:"VIEW PRODUCTS"})]})]}),i&&T.jsxs("div",{className:"mb-8",children:[T.jsx("h3",{className:"text-xl font-bold text-black mb-4 text-center",children:w?"EDIT PRODUCT":"ADD NEW PRODUCT"}),T.jsx("div",{children:T.jsxs("label",{className:"w-full border cursor-pointer p-2 rounded-lg mb-2 flex justify-center items-center gap-2 bg-white",children:[T.jsx(Kp,{size:20}),T.jsx("span",{children:C.length?C.join(", "):"Product Images (Optional)"}),T.jsx("input",{type:"file",multiple:!0,className:"hidden",onChange:Me,accept:"image/*"})]})}),k.length>0&&T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-center mb-2",children:"Click on a star icon to set as main product image"}),T.jsx("div",{className:"grid grid-cols-3 gap-2 mb-4",children:k.map((oe,we)=>T.jsxs("div",{className:"relative",children:[T.jsx("img",{src:oe,alt:`Preview ${we}`,className:"h-16 w-16 object-cover rounded"}),T.jsx("button",{className:"absolute top-1 right-1 bg-white rounded-full p-1",onClick:()=>ie(we),children:T.jsx(CG,{size:12,className:P.mainImageIndex===we?"text-yellow-500":"text-gray-300"})})]},we))})]}),T.jsxs("select",{name:"category",value:P.category,onChange:fe,className:"w-full border p-2 rounded-lg mb-2 bg-white",required:!0,children:[T.jsx("option",{value:"",disabled:!0,children:"Select Category *"}),y.map((oe,we)=>T.jsx("option",{value:oe.name,children:oe.name},we))]}),T.jsx("input",{type:"text",name:"name",placeholder:"Product Name *",value:P.name,onChange:fe,className:"w-full border p-2 rounded-lg mb-2 bg-white",required:!0}),T.jsx("input",{type:"text",name:"price",placeholder:"Price (Optional)",value:P.price,onChange:fe,className:"w-full border p-2 rounded-lg mb-2 bg-white"}),T.jsx("textarea",{name:"description",placeholder:"Description (Optional)",value:P.description,onChange:fe,className:"w-full border p-2 rounded-lg mb-2 bg-white"}),T.jsx("textarea",{name:"usage",placeholder:"Product Usage Instructions (Optional)",value:P.usage,onChange:fe,className:"w-full border p-2 rounded-lg mb-2 bg-white"}),T.jsx("input",{type:"text",name:"purpose",placeholder:"Purpose (Optional)",value:P.purpose,onChange:fe,className:"w-full border p-2 rounded-lg mb-2 bg-white"}),T.jsx("input",{type:"text",name:"netQty",placeholder:"Net Qty (Optional)",value:P.netQty,onChange:fe,className:"w-full border p-2 rounded-lg mb-2 bg-white"}),T.jsxs("div",{className:"mt-4 flex justify-center gap-2 w-full",children:[T.jsx("button",{className:"px-4 py-2 bg-[#8B6254] text-white rounded-lg w-full",onClick:()=>{s(!1),x(!1),V(null),Ye()},children:"Cancel"}),T.jsx("button",{className:"px-4 py-2 bg-[#435933] hover:bg-[#304421] text-white rounded-lg w-full",onClick:pe,children:w?"Update":"Submit"})]})]}),o&&T.jsxs("div",{className:"mt-8 w-full backdrop-blur-xl p-4 rounded-lg shadow-lg",children:[T.jsx("h3",{className:"text-xl font-bold text-black mb-4 text-center",children:"PRODUCT LIST"}),T.jsx("div",{className:"overflow-auto max-h-[500px]",children:T.jsxs("table",{className:"w-full min-w-[1000px] bg-white border rounded-lg",children:[T.jsx("thead",{className:"sticky top-0 bg-gray-200 z-10 shadow-md",children:T.jsxs("tr",{children:[T.jsx("th",{className:"p-2",children:"Images"}),T.jsx("th",{className:"p-2",children:"Name"}),T.jsx("th",{className:"p-2",children:"Category"}),T.jsx("th",{className:"p-2",children:"Price"}),T.jsx("th",{className:"p-2",children:"Description"}),T.jsx("th",{className:"p-2",children:"Purpose"}),T.jsx("th",{className:"p-2",children:"Usage"}),T.jsx("th",{className:"p-2",children:"Net Qty"}),T.jsx("th",{className:"p-2",children:"Status"}),T.jsx("th",{className:"p-2",children:"Actions"})]})}),T.jsx("tbody",{children:c.map(oe=>T.jsxs("tr",{className:"border-b border-r text-center",children:[T.jsx("td",{className:"p-2",children:oe.images&&oe.images.length>0?T.jsx("div",{className:"w-12 h-12 cursor-pointer",children:T.jsx("img",{src:oe.images[0],alt:"Thumbnail",className:"w-full h-full object-cover rounded",onClick:()=>pn(oe.images,0)})}):T.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded flex items-center justify-center",children:T.jsx(Kp,{size:20,className:"text-gray-400"})})}),T.jsx("td",{className:"p-2",children:oe.name}),T.jsx("td",{className:"p-2",children:oe.category}),T.jsx("td",{className:"p-2",children:oe.price||"-"}),T.jsx("td",{className:"p-2 max-w-[200px]",children:T.jsx("div",{className:"truncate",children:oe.description||"-"})}),T.jsx("td",{className:"p-2",children:oe.purpose||"-"}),T.jsx("td",{className:"p-2",children:oe.usage||"-"}),T.jsx("td",{className:"p-2",children:oe.netQty||"-"}),T.jsx("td",{className:"p-2",children:T.jsx("button",{className:`px-3 py-1 rounded-full text-sm ${oe.status==="active"?"bg-green-500 text-white":"bg-red-500 text-white"}`,onClick:()=>{const we=oe.status==="active"?"inactive":"active",Qe=qt(Zt,`products/${oe.id}`);bp(Qe,{status:we})},children:oe.status==="active"?"Active":"Inactive"})}),T.jsx("td",{className:"p-2",children:T.jsxs("div",{className:"flex justify-center gap-2",children:[T.jsx("button",{className:"bg-yellow-500 hover:bg-yellow-600 text-white px-3 py-1 rounded-md text-sm",onClick:()=>Oe(oe),children:"Edit"}),T.jsx("button",{className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded-md text-sm",onClick:()=>me(oe.id),children:"Delete"})]})})]},oe.id))})]})})]})]})]}),j&&T.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 backdrop-blur-sm",onClick:()=>z(!1),children:T.jsxs("div",{className:"relative max-w-4xl w-full h-full flex items-center justify-center",onClick:oe=>oe.stopPropagation(),onTouchStart:qi,onTouchEnd:Gi,children:[T.jsx("button",{className:"absolute top-4 right-4 z-20 bg-gray-200 rounded-full p-1",onClick:()=>z(!1),children:T.jsx(SH,{size:24})}),T.jsx("button",{className:"absolute left-4 z-20 bg-gray-200 rounded-full p-2 opacity-80 hover:opacity-100",onClick:oe=>{oe.stopPropagation(),ai()},children:T.jsx(NP,{size:24})}),T.jsxs("div",{className:"relative max-h-screen max-w-full p-4",children:[T.jsx("img",{src:L[_e],alt:"Product View",className:"max-h-[90vh] max-w-full object-contain"}),T.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-gray-200 px-3 py-1 rounded-full text-sm",children:[_e+1," / ",L.length]})]}),T.jsx("button",{className:"absolute right-4 z-20 bg-gray-200 rounded-full p-2 opacity-80 hover:opacity-100",onClick:oe=>{oe.stopPropagation(),On()},children:T.jsx(PP,{size:24})})]})})]})},IG="/assets/catbg1-CSrqY68K.jpg",NG="/assets/catbg2-B8U5fr-g.jpg",PG=()=>{const n=Hi(),[e,t]=U.useState(!1),[i,s]=U.useState(!1),[o,l]=U.useState(!1),[c,h]=U.useState(null),[f,g]=U.useState(""),[y,_]=U.useState([]),[w,x]=U.useState(!1),[O,V]=U.useState(null);U.useEffect(()=>{const R=qt(Zt,"categories");ms(R,j=>{const z=j.val();if(z){const L=Object.entries(z).map(([de,_e])=>({id:de,..._e}));_(L)}else _([])})},[]);const P=()=>{n("/login")},I=R=>{R.stopPropagation(),t(j=>!j)},N=R=>{const j=R.target.files[0];if(j){const z=new FileReader;z.readAsDataURL(j),z.onloadend=()=>{h(z.result)}}},H=()=>{s(!1),h(null),g(""),x(!1),V(null)},q=async()=>{if(!c||!f){alert("Please enter category name and select an image!");return}const R={image:c,name:f,date:new Date().toLocaleString()};try{if(w&&O){const j=qt(Zt,`categories/${O}`);await bp(j,R),alert("Category updated successfully!")}else{const j=qt(Zt,"categories");await oE(j,R),alert("Category added successfully!")}H()}catch(j){console.error("Error saving category:",j),alert("Failed to save category.")}},Z=R=>{x(!0),V(R.id),g(R.name),h(R.image),s(!0),l(!1)},k=async R=>{if(window.confirm("Are you sure you want to delete this category?"))try{const j=qt(Zt,`categories/${R}`);await lE(j),alert("Category deleted successfully!")}catch(j){console.error("Error deleting category:",j),alert("Failed to delete category.")}},[A,C]=U.useState(!1);return U.useEffect(()=>{const R=()=>{window.scrollY>50?C(!0):C(!1)};return window.addEventListener("scroll",R),()=>window.removeEventListener("scroll",R)},[]),T.jsxs("div",{className:"min-h-screen w-full relative",children:[T.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-60",style:{backgroundImage:`url(${rT})`}}),T.jsx("div",{className:"relative z-10",children:T.jsxs("div",{className:"flex h-auto",children:[T.jsx("div",{className:`sidebar fixed top-0 left-0 h-full z-[998] bg-[#00000007] backdrop-blur-sm shadow-lg w-14 transform transition-transform ${e?"translate-x-0":"-translate-x-full"}`,children:T.jsx(jm,{closeMenu:()=>t(!1)})}),T.jsx("div",{className:"flex flex-1 items-center w-full",children:T.jsxs("div",{className:`flex items-center py-4 px-0 z-[999] fixed top-0 w-full transition-colors duration-300 ${A?"bg-white shadow-md rounded-b-3xl":"bg-transparent"}`,children:[T.jsx("button",{className:"menu-btn text-gray-700 text-2xl p-4 focus:outline-none ml-0",onClick:I,children:T.jsx(Qp,{className:`text-3xl ${A?"text-black":"text-white"}`})}),T.jsx("div",{className:"ml-[-5px] flex justify-center",children:T.jsx("img",{src:Wh,alt:"Logo",className:"w-14"})}),T.jsx("div",{className:"flex justify-center ml-auto pr-3 text-2xl",onClick:P,children:T.jsx(Vm,{className:`text-3xl ${A?"text-black":"text-white"}`})})]})}),T.jsxs("div",{className:"w-full flex flex-col h-auto px-2 mt-[80px]",children:[T.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center justify-center pt-5",children:"MANAGE CATEGORIES"}),T.jsxs("div",{className:"flex gap-2 w-full",children:[T.jsxs("div",{className:"relative w-[50%] h-[180px] flex justify-center overflow-hidden items-center rounded-3xl bg-cover bg-center cursor-pointer",style:{backgroundImage:`url(${IG})`},onClick:()=>{H(),s(!0),l(!1)},children:[T.jsx("div",{className:"bg-[#000] absolute inset-0 w-full h-full -z-0 mix-blend-multiply opacity-30"}),T.jsx("button",{className:"text-white relative px-6 py-3 rounded-lg text-2xl font-black transition",children:"ADD CATEGORY"})]}),T.jsxs("div",{className:"relative w-[50%] h-[180px] flex justify-center overflow-hidden items-center rounded-3xl bg-cover bg-center cursor-pointer",style:{backgroundImage:`url(${NG})`},onClick:()=>{l(R=>!R),s(!1)},children:[T.jsx("div",{className:"bg-[#000] absolute inset-0 w-full h-full -z-0 mix-blend-multiply opacity-30"}),T.jsx("button",{className:"text-white relative px-6 py-3 rounded-lg text-2xl font-black transition",children:"VIEW CATEGORIES"})]})]}),i&&T.jsxs("div",{className:"w-full max-w-md bg-[#CBBA9E] p-6 mt-6 rounded-lg shadow-lg",children:[T.jsx("h3",{className:"text-2xl font-bold text-white mb-4 text-center",children:w?"EDIT CATEGORY":"ADD NEW CATEGORY"}),T.jsx("input",{type:"text",placeholder:"Category Name",className:"w-full border p-2 rounded-lg",value:f,onChange:R=>g(R.target.value)}),T.jsxs("div",{className:"mt-2 relative border rounded-lg p-2 bg-white",children:[T.jsx("input",{type:"file",id:"categoryImage",className:"opacity-0 absolute inset-0 w-full h-full cursor-pointer",onChange:N}),T.jsxs("div",{className:"flex items-center justify-center",children:[T.jsx(Kp,{className:"text-gray-500 mr-2"}),T.jsx("span",{className:"text-gray-500",children:c?"Change Image":"Select Image"})]})]}),c&&T.jsxs("div",{className:"mt-2",children:[T.jsx("p",{className:"text-white text-sm mb-1",children:"Image Preview:"}),T.jsx("img",{src:c,alt:"Preview",className:"w-full h-40 object-cover rounded-lg"})]}),T.jsxs("div",{className:"mt-4 flex justify-center gap-2 w-full",children:[T.jsx("button",{className:"px-4 py-2 bg-[#8B6254] text-white rounded-lg w-full",onClick:H,children:"Cancel"}),T.jsx("button",{className:"px-4 py-2 bg-[#435933] hover:bg-[#304421] text-white rounded-lg w-full",onClick:q,children:w?"Update":"Submit"})]})]}),o&&T.jsxs("div",{className:"mt-8 w-full mb-5",children:[T.jsx("h3",{className:"text-xl font-bold text-black mb-4 text-center",children:"UPLOADED CATEGORIES"}),y.length===0?T.jsx("p",{className:"text-black",children:"No categories uploaded yet."}):T.jsx("div",{className:"grid grid-cols-2 gap-4",children:y.map(R=>T.jsxs("div",{className:"bg-[#aea08f] p-4 rounded-lg shadow-lg relative",children:[T.jsx("img",{src:R.image,alt:"Category",className:"w-full h-40 object-cover rounded-lg"}),T.jsx("p",{className:"text-black text-center mt-2 font-bold",children:R.name}),T.jsxs("div",{className:" justify-center items-center flex gap-2",children:[T.jsx("button",{onClick:()=>Z(R),className:" p-2 rounded-full text-blue-600 ",children:T.jsx(uO,{})}),T.jsx("button",{onClick:()=>k(R.id),className:" p-2 rounded-full text-red-600 ",children:T.jsx(pO,{})})]})]},R.id))})]})]})]})})]})};function DG(n){return Ke({attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M18.319 14.4326C20.7628 11.2941 20.542 6.75347 17.6569 3.86829C14.5327 0.744098 9.46734 0.744098 6.34315 3.86829C3.21895 6.99249 3.21895 12.0578 6.34315 15.182C9.22833 18.0672 13.769 18.2879 16.9075 15.8442C16.921 15.8595 16.9351 15.8745 16.9497 15.8891L21.1924 20.1317C21.5829 20.5223 22.2161 20.5223 22.6066 20.1317C22.9971 19.7412 22.9971 19.1081 22.6066 18.7175L18.364 14.4749C18.3493 14.4603 18.3343 14.4462 18.319 14.4326ZM16.2426 5.28251C18.5858 7.62565 18.5858 11.4246 16.2426 13.7678C13.8995 16.1109 10.1005 16.1109 7.75736 13.7678C5.41421 11.4246 5.41421 7.62565 7.75736 5.28251C10.1005 2.93936 13.8995 2.93936 16.2426 5.28251Z",fill:"currentColor"},child:[]}]})(n)}const MG=()=>{const[n,e]=U.useState([]),[t,i]=U.useState([]),[s,o]=U.useState(null),[l,c]=U.useState(!1),[h,f]=U.useState([]),[g,y]=U.useState(""),[_,w]=U.useState([]),[x,O]=U.useState(!1);U.useRef(null);const V=Ss(),P=Hi();U.useEffect(()=>{const A=new URLSearchParams(V.search).get("category");A&&o(A)},[V]),U.useEffect(()=>{const k=qt(Zt,"categories");ms(k,A=>{const C=A.val();if(C){const R=Object.entries(C).map(([j,z])=>({id:j,...z}));e(R)}})},[]),U.useEffect(()=>{const k=qt(Zt,"products");ms(k,A=>{const C=A.val();if(C){const R=Object.entries(C).map(([j,z])=>({id:j,...z})).filter(j=>j.status!=="inactive");i(R),I(R,s)}else i([]),w([])})},[]),U.useEffect(()=>{I(t,s);const k=new URLSearchParams(V.search);s?k.set("category",s):k.delete("category"),P({pathname:V.pathname,search:k.toString()},{replace:!0})},[s,t]);const I=(k,A)=>{if(!A){w(k);return}const C=n.find(j=>j.id===A);if(!C){w(k);return}const R=k.filter(j=>j.category===C.name);w(R)},N=k=>{const A=k.target.value.toLowerCase();if(y(A),A.trim()==="")I(t,s);else{const C=_.filter(R=>R.name.toLowerCase().includes(A));w(C)}},H=k=>{o(k),y(""),window.scrollTo({top:-50,behavior:"smooth"})};U.useEffect(()=>{const k=qt(Zt,"banners"),A=ms(k,C=>{if(C.exists()){const R=C.val(),j=Object.keys(R).map(z=>({id:z,...R[z]})).filter(z=>z.status==="active");f(j)}else f([])});return()=>A()},[]);const[q,Z]=U.useState(null);return T.jsxs("div",{className:"overflow-hidden relative w-full",children:[T.jsx("div",{className:"absolute top-0 bottom-0 left-0 right-0",children:T.jsx("img",{src:"https://img.freepik.com/free-vector/hand-drawn-olive-green-background_23-2149725222.jpg?t=st=1739964142~exp=1739967742~hmac=2bc705054c2a2430867275dad61e87e6b18ad0dda207c3f165ca54f906f8a593&w=1060",alt:"",className:"w-full h-full object-cover opacity-20"})}),T.jsx("section",{className:"relative overflow-hidden ",children:T.jsxs("div",{children:[T.jsx("div",{className:"w-[600px] md:w-[1200px] md:h-[1200px] lg:w-[1600px] lg:h-[1600px] BannerCircle lg:top-[-900px] z-0 absolute h-[600px] rounded-full md:top-[-550px] top-[-290px] bgGradient overflow-hidden"}),T.jsx("div",{className:"w-[600px] md:w-[1200px] md:h-[1200px] -z-10 absolute h-[600px] BannerCircle2 rounded-full top-[-270px] lg:top-[-880px] md:top-[-520px] bgGradient opacity-30 "}),T.jsx("div",{className:" absolute w-[70px] h-[70px]  left-[10px] top-2 drop-shadow-md pb-5",children:T.jsx("img",{src:pC,alt:""})}),T.jsxs("div",{className:"relative text-[#fff] pr-2 pt-5 leading-tight mb-5",children:[T.jsx("div",{className:"text-[12px]  text-[#B1C29E] text-end font-semibold",children:"Leading Spice Retailer in Wayanad"}),T.jsx("div",{className:"text-2xl text-end font-bold TextFont1 ",children:"Chasam Ayurvedic"}),T.jsx("div",{className:"text-[12px] text-[#B1C29E] text-end font-semibold",children:"Authentic Ayurvedic & Spice Products"})]}),T.jsx("div",{className:"px-2 mb-3  relative mt-2",children:h.length>1?T.jsx(iT,{modules:[KP,WP],pagination:{clickable:!0,renderBullet:(k,A)=>`
          <span class="${A}" style="background-color: #95CD41; width: 10px; height: 10px; margin-bottom: 10px;"></span>
        `},autoplay:{delay:3e3,disableOnInteraction:!1},loop:!0,className:"w-full h-auto md:h-auto BoxShadow border-[#fff] border rounded-xl overflow-hidden",children:h.map(k=>T.jsx(sT,{children:T.jsx("img",{src:k.image,alt:"Banner",className:"w-full h-full object-cover"})},k.id))}):h.length===1?T.jsx("div",{className:"w-full h-auto md:h-auto BoxShadow border-[#fff] border rounded-xl overflow-hidden",children:T.jsx("img",{src:h[0].image,alt:"Banner",className:"w-full h-full object-cover"})}):T.jsx("p",{children:"No active banners"})}),T.jsx("div",{className:"px-2 w-full mb-3 max-w-[1200px] mx-auto",children:T.jsx("div",{className:"bg-gradient-to-r from-[#13c200] via-[#7eff87] to-[#006000] rounded-3xl p-[1px]",children:T.jsxs("div",{className:"relative w-full flex justify- items-center bg-[#fff] py-3 lg:py-4 rounded-3xl",children:[T.jsx("input",{type:"text",placeholder:"Search Product...",className:"border-none w-full outline-none px-4 text-[#5B913B]",value:g,onChange:N}),T.jsx("div",{className:" absolute right-5 text-2xl text-[#5B913B]",children:T.jsx(DG,{})})]})})}),T.jsx("div",{className:"mb-5 overflow-x-auto relative whitespace-nowrap w-full scrollBar",children:T.jsxs("ul",{className:"flex items-center lg:justify-center gap-2 font-semibold flex-shrink-0 min-w-fit px-4",children:[T.jsxs("li",{className:"flex justify-center items-center flex-col text-[12px] font-semibold gap-1 cursor-pointer",onClick:()=>H(null),children:[T.jsx("div",{className:`w-[80px] h-[80px] rounded-full border-[2px] overflow-hidden bgGradient ${s===null?"border-yellow-400":"border-[#00aa0b]"}`,children:T.jsx("div",{className:"w-full h-full flex items-center justify-center text-center",children:T.jsx("span",{className:"text-white text-lg font-bold",children:"ALL"})})}),T.jsx("span",{className:`text-nowrap ${s===null?"font-bold text-yellow-400":"text-[#00aa0b]"}`,children:"All Products"})]}),n.map(k=>T.jsxs("li",{className:"flex justify-center items-center flex-col text-[12px] font-semibold gap-1 cursor-pointer",onClick:()=>H(k.id),children:[T.jsx("div",{className:`w-[80px] h-[80px] rounded-full border-[2px] overflow-hidden bg-[#1A1A19] ${s===k.id?"border-yellow-400":"border-[#00aa0b]"}`,children:T.jsx("img",{src:k.image,className:"w-full h-full object-cover",alt:k.name})}),T.jsx("span",{className:`text-nowrap ${s===k.id?"font-bold text-yellow-400":"text-[#00aa0b]"}`,children:k.name})]},k.id))]})})]})}),T.jsx("section",{className:"w-full px-2 mb-16 md:py-8",children:T.jsx("div",{className:"w-full grid grid-cols-2 place-items-center  md:grid md:grid-cols-2 gap-2 relative z-20 mb-2",children:_.length>0?_.map(k=>T.jsx("div",{className:"w-full ",children:T.jsxs("div",{className:"w-full relative flex flex-col gap-3 drop-shadow-sm h-[250px] p-1  backdrop-blur-sm rounded-xl border border-[#fff] bg-[#fff]",onClick:()=>{Z(k.id),c(!0)},children:[T.jsx("div",{className:"w-full h-[150px] rounded-xl border-[#fff] border overflow-hidden ",children:T.jsx("img",{src:k.image||k.images&&k.images[0],alt:k.name,className:"w-full h-full object-cover"})}),T.jsxs("div",{className:"flex flex-col gap- bg-amber-100 w-full px-2  rounded-b-xl",children:[T.jsx("div",{className:"text-[#000] font-bold TextFont1",children:k.name}),T.jsxs("div",{className:"text-[#000] font-base flex items-center",children:[T.jsx(_C,{}),T.jsx("span",{className:"text-[17px] font-bold",children:k.price})]}),T.jsxs("div",{className:"flex justify-start items-center gap-0.5 text-sm font-medium mb-2",children:["View More ",T.jsx(mG,{className:"text-xl"})]})]})]})},k.id)):T.jsx("div",{className:"text-center text-white text-lg py-4",children:"No products found"})})}),l&&T.jsx(xH,{openPopUp:l,setOpenPopUp:c,productId:q})]})};function OG(n){return Ke({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13.0281 2.00073C14.1535 2.00259 14.7238 2.00855 15.2166 2.02322L15.4107 2.02956C15.6349 2.03753 15.8561 2.04753 16.1228 2.06003C17.1869 2.1092 17.9128 2.27753 18.5503 2.52503C19.2094 2.7792 19.7661 3.12253 20.3219 3.67837C20.8769 4.2342 21.2203 4.79253 21.4753 5.45003C21.7219 6.0867 21.8903 6.81337 21.9403 7.87753C21.9522 8.1442 21.9618 8.3654 21.9697 8.58964L21.976 8.78373C21.9906 9.27647 21.9973 9.84686 21.9994 10.9723L22.0002 11.7179C22.0003 11.809 22.0003 11.903 22.0003 12L22.0002 12.2821L21.9996 13.0278C21.9977 14.1532 21.9918 14.7236 21.9771 15.2163L21.9707 15.4104C21.9628 15.6347 21.9528 15.8559 21.9403 16.1225C21.8911 17.1867 21.7219 17.9125 21.4753 18.55C21.2211 19.2092 20.8769 19.7659 20.3219 20.3217C19.7661 20.8767 19.2069 21.22 18.5503 21.475C17.9128 21.7217 17.1869 21.89 16.1228 21.94C15.8561 21.9519 15.6349 21.9616 15.4107 21.9694L15.2166 21.9757C14.7238 21.9904 14.1535 21.997 13.0281 21.9992L12.2824 22C12.1913 22 12.0973 22 12.0003 22L11.7182 22L10.9725 21.9993C9.8471 21.9975 9.27672 21.9915 8.78397 21.9768L8.58989 21.9705C8.36564 21.9625 8.14444 21.9525 7.87778 21.94C6.81361 21.8909 6.08861 21.7217 5.45028 21.475C4.79194 21.2209 4.23444 20.8767 3.67861 20.3217C3.12278 19.7659 2.78028 19.2067 2.52528 18.55C2.27778 17.9125 2.11028 17.1867 2.06028 16.1225C2.0484 15.8559 2.03871 15.6347 2.03086 15.4104L2.02457 15.2163C2.00994 14.7236 2.00327 14.1532 2.00111 13.0278L2.00098 10.9723C2.00284 9.84686 2.00879 9.27647 2.02346 8.78373L2.02981 8.58964C2.03778 8.3654 2.04778 8.1442 2.06028 7.87753C2.10944 6.81253 2.27778 6.08753 2.52528 5.45003C2.77944 4.7917 3.12278 4.2342 3.67861 3.67837C4.23444 3.12253 4.79278 2.78003 5.45028 2.52503C6.08778 2.27753 6.81278 2.11003 7.87778 2.06003C8.14444 2.04816 8.36564 2.03847 8.58989 2.03062L8.78397 2.02433C9.27672 2.00969 9.8471 2.00302 10.9725 2.00086L13.0281 2.00073ZM12.0003 7.00003C9.23738 7.00003 7.00028 9.23956 7.00028 12C7.00028 14.7629 9.23981 17 12.0003 17C14.7632 17 17.0003 14.7605 17.0003 12C17.0003 9.23713 14.7607 7.00003 12.0003 7.00003ZM12.0003 9.00003C13.6572 9.00003 15.0003 10.3427 15.0003 12C15.0003 13.6569 13.6576 15 12.0003 15C10.3434 15 9.00028 13.6574 9.00028 12C9.00028 10.3431 10.3429 9.00003 12.0003 9.00003ZM17.2503 5.50003C16.561 5.50003 16.0003 6.05994 16.0003 6.74918C16.0003 7.43843 16.5602 7.9992 17.2503 7.9992C17.9395 7.9992 18.5003 7.4393 18.5003 6.74918C18.5003 6.05994 17.9386 5.49917 17.2503 5.50003Z"},child:[]}]})(n)}const Pf="/assets/waveorg-COFwNQey.png";function kG(n){return Ke({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm167 633.6C638.4 735 583 757 516.9 757c-95.7 0-178.5-54.9-218.8-134.9C281.5 589 272 551.6 272 512s9.5-77 26.1-110.1c40.3-80.1 123.1-135 218.8-135 66 0 121.4 24.3 163.9 63.8L610.6 401c-25.4-24.3-57.7-36.6-93.6-36.6-63.8 0-117.8 43.1-137.1 101-4.9 14.7-7.7 30.4-7.7 46.6s2.8 31.9 7.7 46.6c19.3 57.9 73.3 101 137 101 33 0 61-8.7 82.9-23.4 26-17.4 43.2-43.3 48.9-74H516.9v-94.8h230.7c2.9 16.1 4.4 32.8 4.4 50.1 0 74.7-26.7 137.4-73 180.1z"},child:[]}]})(n)}const LG=()=>{const[n,e]=ht.useState(""),t=async i=>{i.preventDefault(),e("Sending....");const s=new FormData(i.target);s.append("access_key","3e557a00-0b21-45e5-b274-496427ac9210");const l=await(await fetch("https://api.web3forms.com/submit",{method:"POST",body:s})).json();l.success?(e("Message Sent Successfully!"),i.target.reset(),setTimeout(()=>{e("")},3e3)):(console.log("Error",l),e(l.message),setTimeout(()=>{e("")},3e3))};return T.jsxs("div",{className:"ContactBg relative bgGradient mix-blend-multiply w-full h-screen py-10 flex flex-col justify-center items-center overflow-hidden",children:[T.jsx("a",{href:"/",children:T.jsx("div",{className:" absolute top-4 left-4 text-xl bg-[#fff] p-1 rounded-full",children:T.jsx(yC,{})})}),T.jsxs("div",{className:"relative",children:[T.jsx("img",{src:Pf,alt:""}),T.jsx("img",{src:Pf,alt:"",className:"opacity-10 absolute top-2 drop-shadow-sm rotate-3"})]}),T.jsx("div",{className:"text-center mb-3 text-3xl drop-shadow-2xl font-bold text-[#fff]",children:"Contact Us"}),T.jsxs("div",{className:"md:flex md:justify-center md:items-center w-full md:gap-10 px-2 md:px-6 max-w-[1200px] mx-auto",children:[T.jsxs("div",{className:"flex flex-col justify-center items-center w-full px-2 md:w-[60%]",children:[T.jsxs("form",{action:"",className:"w-full flex flex-col gap-2 mb-5",onSubmit:t,children:[T.jsxs("div",{className:"relative flex items-center w-full",children:[T.jsx("input",{type:"text",placeholder:"First Name",className:"w-full px-8 py-2 rounded-3xl border-[2px] border-[#fff] backdrop-blur-sm outline-none text-[#fff]",name:"firstname"}),T.jsx("span",{className:" absolute right-4 text-[#fff]",children:T.jsx(oG,{})})]}),T.jsxs("div",{className:"relative flex items-center w-full",children:[T.jsx("input",{type:"number",placeholder:"Phone Number",className:"w-full px-8 py-2 rounded-3xl border-[2px] border-[#fff] backdrop-blur-sm outline-none text-[#fff]",name:"phonenumber"}),T.jsx("span",{className:" absolute right-4 text-[#fff]",children:T.jsx(gO,{})})]}),T.jsxs("div",{className:"relative flex items-center w-full",children:[T.jsx("input",{type:"email",placeholder:"Email",className:"w-full px-8 py-2 rounded-3xl border-[2px] border-[#fff] backdrop-blur-sm outline-none text-[#fff]",name:"email"}),T.jsx("span",{className:"absolute right-4 text-[#fff]",children:T.jsx(EC,{})})]}),T.jsxs("div",{className:"relative flex items-start w-full",children:[T.jsx("textarea",{name:"message",placeholder:"Message",id:"",className:"w-full px-8 py-2 rounded-3xl border-[2px] border-[#fff] backdrop-blur-sm outline-none text-[#fff]"}),T.jsx("span",{className:"absolute right-4 text-[#fff] top-2",children:T.jsx(mO,{})})]}),T.jsx("div",{className:"flex justify-between w-full rounded-2xl bg-[#fff]",children:T.jsxs("button",{className:"flex items-center textGradient2 justify-center font-bold gap-2 px-10 w-full py-2 rounded-2xl",children:["Submit ",T.jsx(gG,{className:"text-[#00af0f]"})]})})]}),T.jsx("span",{children:n}),T.jsxs("div",{className:"flex justify-center items-center gap-4 border-t w-full pt-3 border-[#fff]",children:[T.jsx("a",{href:"https://search.google.com/local/writereview?placeid=ChIJG6gdUlVzpjsR8Sj5q9DT2h4",target:"_blank",rel:"noopener noreferrer",className:"text-2xl text-[#fff]",children:T.jsx(kG,{})}),T.jsx("div",{className:"text-2xl text-[#fff]",children:T.jsx(cG,{})}),T.jsx("a",{href:"https://www.instagram.com/chasamayurvedicspicesgarden?utm_source=ig_web_button_share_sheet&igsh=ZDNlZDc0MzIxNw==",target:"_blank",rel:"noopener noreferrer",className:"text-2xl text-[#fff]",children:T.jsx(OG,{})}),T.jsx("a",{href:"https://wa.me/919072423493",target:"_blank",rel:"noopener noreferrer",className:"text-2xl text-[#fff]",children:T.jsx(yG,{})}),T.jsx("a",{href:"https://maps.app.goo.gl/sFaWva2sS49HMHip7",target:"_blank",rel:"noopener noreferrer",className:"text-2xl text-[#fff]",children:T.jsx(vO,{})})]})]}),T.jsxs("div",{className:"hidden md:flex md:flex-col md:w-[40%]",children:[T.jsx("div",{className:"mb-2 text-3xl font-semibold text-[#fff]",children:"🌿 Experience the Essence of Ayurveda & Pure Spices 🌿"}),T.jsxs("div",{className:"text-[#fff]",children:["We are always here to assist you! Whether you have questions about our Ayurvedic products, need guidance on our organic spices, or want to visit our store, feel free to reach out.",T.jsx("span",{className:"block font-bold",children:"📍 Address "}),"  📌 Chasam Ayurvedic & Spices Garden Vythiri, Wayanad, Kerala, India",T.jsx("span",{className:"block font-bold",children:"📲 Get in Touch"}),"  📞 Phone: +91 90724 23493 ",T.jsx("span",{className:"block",children:"✉️ Email: chasamayurvedic@gmail.com"})]})]})]}),T.jsxs("div",{className:"relative",children:[T.jsx("img",{src:Pf,alt:""}),T.jsx("img",{src:Pf,alt:"",className:"opacity-10 absolute top-2 drop-shadow-sm rotate-3"})]})]})},VG=()=>T.jsx(q4,{children:T.jsx(jG,{})}),jG=()=>{const n=Ss(),e=["/login","/admin","/imagebanner","/product","/category"],[t,i]=U.useState(!1);U.useEffect(()=>{if(n.pathname==="/"){i(!0);const f=setTimeout(()=>{i(!1)},3e3);return()=>clearTimeout(f)}else i(!1)},[n.pathname]);const[s,o]=U.useState(!0),[l,c]=U.useState(!1);U.useEffect(()=>{const f=Ip(),g=$I(f,_=>{c(!!_)}),y=setTimeout(()=>{o(!1)},500);return()=>{clearTimeout(y),g()}},[]);const h=({element:f})=>l?f:T.jsx(v4,{to:"/login",replace:!0});return T.jsxs(T.Fragment,{children:[!e.includes(n.pathname)&&T.jsx(hG,{}),t?T.jsx(fG,{}):T.jsxs(E4,{children:[T.jsx(Zs,{path:"/",element:T.jsx(rG,{})}),T.jsx(Zs,{path:"/login",element:T.jsx(vG,{})}),T.jsx(Zs,{path:"/admin",element:T.jsx(h,{element:T.jsx(EG,{})})}),T.jsx(Zs,{path:"/imagebanner",element:T.jsx(h,{element:T.jsx(bG,{})})}),T.jsx(Zs,{path:"/product",element:T.jsx(h,{element:T.jsx(RG,{})})}),T.jsx(Zs,{path:"/category",element:T.jsx(h,{element:T.jsx(PG,{})})}),T.jsx(Zs,{path:"/products",element:T.jsx(MG,{})}),T.jsx(Zs,{path:"/contact",element:T.jsx(LG,{})})]})]})};IM.createRoot(document.getElementById("root")).render(T.jsx(U.StrictMode,{children:T.jsx(VG,{})}));
