(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();function mM(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Oy={exports:{}},wc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sb;function gM(){if(sb)return wc;sb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,s,o){var l=null;if(o!==void 0&&(l=""+o),s.key!==void 0&&(l=""+s.key),"key"in s){o={};for(var c in s)c!=="key"&&(o[c]=s[c])}else o=s;return s=o.ref,{$$typeof:n,type:i,key:l,ref:s!==void 0?s:null,props:o}}return wc.Fragment=e,wc.jsx=t,wc.jsxs=t,wc}var rb;function yM(){return rb||(rb=1,Oy.exports=gM()),Oy.exports}var T=yM(),ky={exports:{}},ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ab;function vM(){if(ab)return ke;ab=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function _(F){return F===null||typeof F!="object"?null:(F=v&&F[v]||F["@@iterator"],typeof F=="function"?F:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,O={};function V(F,ie,ge){this.props=F,this.context=ie,this.refs=O,this.updater=ge||w}V.prototype.isReactComponent={},V.prototype.setState=function(F,ie){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,ie,"setState")},V.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function D(){}D.prototype=V.prototype;function I(F,ie,ge){this.props=F,this.context=ie,this.refs=O,this.updater=ge||w}var N=I.prototype=new D;N.constructor=I,x(N,V.prototype),N.isPureReactComponent=!0;var H=Array.isArray,q={H:null,A:null,T:null,S:null},Z=Object.prototype.hasOwnProperty;function k(F,ie,ge,fe,pe,Oe){return ge=Oe.ref,{$$typeof:n,type:F,key:ie,ref:ge!==void 0?ge:null,props:Oe}}function A(F,ie){return k(F.type,ie,void 0,void 0,void 0,F.props)}function C(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function R(F){var ie={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ge){return ie[ge]})}var j=/\/+/g;function z(F,ie){return typeof F=="object"&&F!==null&&F.key!=null?R(""+F.key):ie.toString(36)}function L(){}function de(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(L,L):(F.status="pending",F.then(function(ie){F.status==="pending"&&(F.status="fulfilled",F.value=ie)},function(ie){F.status==="pending"&&(F.status="rejected",F.reason=ie)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function _e(F,ie,ge,fe,pe){var Oe=typeof F;(Oe==="undefined"||Oe==="boolean")&&(F=null);var Me=!1;if(F===null)Me=!0;else switch(Oe){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(F.$$typeof){case n:case e:Me=!0;break;case g:return Me=F._init,_e(Me(F._payload),ie,ge,fe,pe)}}if(Me)return pe=pe(F),Me=fe===""?"."+z(F,0):fe,H(pe)?(ge="",Me!=null&&(ge=Me.replace(j,"$&/")+"/"),_e(pe,ie,ge,"",function(yt){return yt})):pe!=null&&(C(pe)&&(pe=A(pe,ge+(pe.key==null||F&&F.key===pe.key?"":(""+pe.key).replace(j,"$&/")+"/")+Me)),ie.push(pe)),1;Me=0;var xt=fe===""?".":fe+":";if(H(F))for(var Be=0;Be<F.length;Be++)fe=F[Be],Oe=xt+z(fe,Be),Me+=_e(fe,ie,ge,Oe,pe);else if(Be=_(F),typeof Be=="function")for(F=Be.call(F),Be=0;!(fe=F.next()).done;)fe=fe.value,Oe=xt+z(fe,Be++),Me+=_e(fe,ie,ge,Oe,pe);else if(Oe==="object"){if(typeof F.then=="function")return _e(de(F),ie,ge,fe,pe);throw ie=String(F),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Me}function ae(F,ie,ge){if(F==null)return F;var fe=[],pe=0;return _e(F,fe,"","",function(Oe){return ie.call(ge,Oe,pe++)}),fe}function he(F){if(F._status===-1){var ie=F._result;ie=ie(),ie.then(function(ge){(F._status===0||F._status===-1)&&(F._status=1,F._result=ge)},function(ge){(F._status===0||F._status===-1)&&(F._status=2,F._result=ge)}),F._status===-1&&(F._status=0,F._result=ie)}if(F._status===1)return F._result.default;throw F._result}var re=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function ye(){}return ke.Children={map:ae,forEach:function(F,ie,ge){ae(F,function(){ie.apply(this,arguments)},ge)},count:function(F){var ie=0;return ae(F,function(){ie++}),ie},toArray:function(F){return ae(F,function(ie){return ie})||[]},only:function(F){if(!C(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},ke.Component=V,ke.Fragment=t,ke.Profiler=s,ke.PureComponent=I,ke.StrictMode=i,ke.Suspense=h,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,ke.act=function(){throw Error("act(...) is not supported in production builds of React.")},ke.cache=function(F){return function(){return F.apply(null,arguments)}},ke.cloneElement=function(F,ie,ge){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var fe=x({},F.props),pe=F.key,Oe=void 0;if(ie!=null)for(Me in ie.ref!==void 0&&(Oe=void 0),ie.key!==void 0&&(pe=""+ie.key),ie)!Z.call(ie,Me)||Me==="key"||Me==="__self"||Me==="__source"||Me==="ref"&&ie.ref===void 0||(fe[Me]=ie[Me]);var Me=arguments.length-2;if(Me===1)fe.children=ge;else if(1<Me){for(var xt=Array(Me),Be=0;Be<Me;Be++)xt[Be]=arguments[Be+2];fe.children=xt}return k(F.type,pe,void 0,void 0,Oe,fe)},ke.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:o,_context:F},F},ke.createElement=function(F,ie,ge){var fe,pe={},Oe=null;if(ie!=null)for(fe in ie.key!==void 0&&(Oe=""+ie.key),ie)Z.call(ie,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(pe[fe]=ie[fe]);var Me=arguments.length-2;if(Me===1)pe.children=ge;else if(1<Me){for(var xt=Array(Me),Be=0;Be<Me;Be++)xt[Be]=arguments[Be+2];pe.children=xt}if(F&&F.defaultProps)for(fe in Me=F.defaultProps,Me)pe[fe]===void 0&&(pe[fe]=Me[fe]);return k(F,Oe,void 0,void 0,null,pe)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(F){return{$$typeof:c,render:F}},ke.isValidElement=C,ke.lazy=function(F){return{$$typeof:g,_payload:{_status:-1,_result:F},_init:he}},ke.memo=function(F,ie){return{$$typeof:f,type:F,compare:ie===void 0?null:ie}},ke.startTransition=function(F){var ie=q.T,ge={};q.T=ge;try{var fe=F(),pe=q.S;pe!==null&&pe(ge,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(ye,re)}catch(Oe){re(Oe)}finally{q.T=ie}},ke.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},ke.use=function(F){return q.H.use(F)},ke.useActionState=function(F,ie,ge){return q.H.useActionState(F,ie,ge)},ke.useCallback=function(F,ie){return q.H.useCallback(F,ie)},ke.useContext=function(F){return q.H.useContext(F)},ke.useDebugValue=function(){},ke.useDeferredValue=function(F,ie){return q.H.useDeferredValue(F,ie)},ke.useEffect=function(F,ie){return q.H.useEffect(F,ie)},ke.useId=function(){return q.H.useId()},ke.useImperativeHandle=function(F,ie,ge){return q.H.useImperativeHandle(F,ie,ge)},ke.useInsertionEffect=function(F,ie){return q.H.useInsertionEffect(F,ie)},ke.useLayoutEffect=function(F,ie){return q.H.useLayoutEffect(F,ie)},ke.useMemo=function(F,ie){return q.H.useMemo(F,ie)},ke.useOptimistic=function(F,ie){return q.H.useOptimistic(F,ie)},ke.useReducer=function(F,ie,ge){return q.H.useReducer(F,ie,ge)},ke.useRef=function(F){return q.H.useRef(F)},ke.useState=function(F){return q.H.useState(F)},ke.useSyncExternalStore=function(F,ie,ge){return q.H.useSyncExternalStore(F,ie,ge)},ke.useTransition=function(){return q.H.useTransition()},ke.version="19.0.0",ke}var ob;function O_(){return ob||(ob=1,ky.exports=vM()),ky.exports}var U=O_();const ht=mM(U);var Ly={exports:{}},bc={},Vy={exports:{}},jy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lb;function _M(){return lb||(lb=1,function(n){function e(ae,he){var re=ae.length;ae.push(he);e:for(;0<re;){var ye=re-1>>>1,F=ae[ye];if(0<s(F,he))ae[ye]=he,ae[re]=F,re=ye;else break e}}function t(ae){return ae.length===0?null:ae[0]}function i(ae){if(ae.length===0)return null;var he=ae[0],re=ae.pop();if(re!==he){ae[0]=re;e:for(var ye=0,F=ae.length,ie=F>>>1;ye<ie;){var ge=2*(ye+1)-1,fe=ae[ge],pe=ge+1,Oe=ae[pe];if(0>s(fe,re))pe<F&&0>s(Oe,fe)?(ae[ye]=Oe,ae[pe]=re,ye=pe):(ae[ye]=fe,ae[ge]=re,ye=ge);else if(pe<F&&0>s(Oe,re))ae[ye]=Oe,ae[pe]=re,ye=pe;else break e}}return he}function s(ae,he){var re=ae.sortIndex-he.sortIndex;return re!==0?re:ae.id-he.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var h=[],f=[],g=1,v=null,_=3,w=!1,x=!1,O=!1,V=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function N(ae){for(var he=t(f);he!==null;){if(he.callback===null)i(f);else if(he.startTime<=ae)i(f),he.sortIndex=he.expirationTime,e(h,he);else break;he=t(f)}}function H(ae){if(O=!1,N(ae),!x)if(t(h)!==null)x=!0,de();else{var he=t(f);he!==null&&_e(H,he.startTime-ae)}}var q=!1,Z=-1,k=5,A=-1;function C(){return!(n.unstable_now()-A<k)}function R(){if(q){var ae=n.unstable_now();A=ae;var he=!0;try{e:{x=!1,O&&(O=!1,D(Z),Z=-1),w=!0;var re=_;try{t:{for(N(ae),v=t(h);v!==null&&!(v.expirationTime>ae&&C());){var ye=v.callback;if(typeof ye=="function"){v.callback=null,_=v.priorityLevel;var F=ye(v.expirationTime<=ae);if(ae=n.unstable_now(),typeof F=="function"){v.callback=F,N(ae),he=!0;break t}v===t(h)&&i(h),N(ae)}else i(h);v=t(h)}if(v!==null)he=!0;else{var ie=t(f);ie!==null&&_e(H,ie.startTime-ae),he=!1}}break e}finally{v=null,_=re,w=!1}he=void 0}}finally{he?j():q=!1}}}var j;if(typeof I=="function")j=function(){I(R)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,L=z.port2;z.port1.onmessage=R,j=function(){L.postMessage(null)}}else j=function(){V(R,0)};function de(){q||(q=!0,j())}function _e(ae,he){Z=V(function(){ae(n.unstable_now())},he)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ae){ae.callback=null},n.unstable_continueExecution=function(){x||w||(x=!0,de())},n.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ae?Math.floor(1e3/ae):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(ae){switch(_){case 1:case 2:case 3:var he=3;break;default:he=_}var re=_;_=he;try{return ae()}finally{_=re}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ae,he){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var re=_;_=ae;try{return he()}finally{_=re}},n.unstable_scheduleCallback=function(ae,he,re){var ye=n.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ye+re:ye):re=ye,ae){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=re+F,ae={id:g++,callback:he,priorityLevel:ae,startTime:re,expirationTime:F,sortIndex:-1},re>ye?(ae.sortIndex=re,e(f,ae),t(h)===null&&ae===t(f)&&(O?(D(Z),Z=-1):O=!0,_e(H,re-ye))):(ae.sortIndex=F,e(h,ae),x||w||(x=!0,de())),ae},n.unstable_shouldYield=C,n.unstable_wrapCallback=function(ae){var he=_;return function(){var re=_;_=he;try{return ae.apply(this,arguments)}finally{_=re}}}}(jy)),jy}var ub;function EM(){return ub||(ub=1,Vy.exports=_M()),Vy.exports}var Uy={exports:{}},An={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cb;function TM(){if(cb)return An;cb=1;var n=O_();function e(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(h,f,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:h,containerInfo:f,implementation:g}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return An.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,An.createPortal=function(h,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(h,f,null,g)},An.flushSync=function(h){var f=l.T,g=i.p;try{if(l.T=null,i.p=2,h)return h()}finally{l.T=f,i.p=g,i.d.f()}},An.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(h,f))},An.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},An.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var g=f.as,v=c(g,f.crossOrigin),_=typeof f.integrity=="string"?f.integrity:void 0,w=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?i.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:v,integrity:_,fetchPriority:w}):g==="script"&&i.d.X(h,{crossOrigin:v,integrity:_,fetchPriority:w,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},An.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=c(f.as,f.crossOrigin);i.d.M(h,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(h)},An.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,v=c(g,f.crossOrigin);i.d.L(h,g,{crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},An.preloadModule=function(h,f){if(typeof h=="string")if(f){var g=c(f.as,f.crossOrigin);i.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(h)},An.requestFormReset=function(h){i.d.r(h)},An.unstable_batchedUpdates=function(h,f){return h(f)},An.useFormState=function(h,f,g){return l.H.useFormState(h,f,g)},An.useFormStatus=function(){return l.H.useHostTransitionStatus()},An.version="19.0.0",An}var hb;function wM(){if(hb)return Uy.exports;hb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Uy.exports=TM(),Uy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var db;function bM(){if(db)return bc;db=1;var n=EM(),e=O_(),t=wM();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}var o=Symbol.for("react.element"),l=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),_=Symbol.for("react.consumer"),w=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),N=Symbol.for("react.offscreen"),H=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function Z(r){return r===null||typeof r!="object"?null:(r=q&&r[q]||r["@@iterator"],typeof r=="function"?r:null)}var k=Symbol.for("react.client.reference");function A(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===k?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case h:return"Fragment";case c:return"Portal";case g:return"Profiler";case f:return"StrictMode";case O:return"Suspense";case V:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case w:return(r.displayName||"Context")+".Provider";case _:return(r._context.displayName||"Context")+".Consumer";case x:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case D:return a=r.displayName||null,a!==null?a:A(r.type)||"Memo";case I:a=r._payload,r=r._init;try{return A(r(a))}catch{}}return null}var C=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R=Object.assign,j,z;function L(r){if(j===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);j=a&&a[1]||"",z=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+j+r+z}var de=!1;function _e(r,a){if(!r||de)return"";de=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(a){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(J){var Q=J}Reflect.construct(r,[],se)}else{try{se.call()}catch(J){Q=J}r.call(se.prototype)}}else{try{throw Error()}catch(J){Q=J}(se=r())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(J){if(J&&Q&&typeof J.stack=="string")return[J.stack,Q.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=d.DetermineComponentFrameRoot(),S=y[0],P=y[1];if(S&&P){var B=S.split(`
`),$=P.split(`
`);for(m=d=0;d<B.length&&!B[d].includes("DetermineComponentFrameRoot");)d++;for(;m<$.length&&!$[m].includes("DetermineComponentFrameRoot");)m++;if(d===B.length||m===$.length)for(d=B.length-1,m=$.length-1;1<=d&&0<=m&&B[d]!==$[m];)m--;for(;1<=d&&0<=m;d--,m--)if(B[d]!==$[m]){if(d!==1||m!==1)do if(d--,m--,0>m||B[d]!==$[m]){var ee=`
`+B[d].replace(" at new "," at ");return r.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",r.displayName)),ee}while(1<=d&&0<=m);break}}}finally{de=!1,Error.prepareStackTrace=u}return(u=r?r.displayName||r.name:"")?L(u):""}function ae(r){switch(r.tag){case 26:case 27:case 5:return L(r.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 15:return r=_e(r.type,!1),r;case 11:return r=_e(r.type.render,!1),r;case 1:return r=_e(r.type,!0),r;default:return""}}function he(r){try{var a="";do a+=ae(r),r=r.return;while(r);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function re(r){var a=r,u=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,a.flags&4098&&(u=a.return),r=a.return;while(r)}return a.tag===3?u:null}function ye(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function F(r){if(re(r)!==r)throw Error(i(188))}function ie(r){var a=r.alternate;if(!a){if(a=re(r),a===null)throw Error(i(188));return a!==r?null:r}for(var u=r,d=a;;){var m=u.return;if(m===null)break;var y=m.alternate;if(y===null){if(d=m.return,d!==null){u=d;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===u)return F(m),r;if(y===d)return F(m),a;y=y.sibling}throw Error(i(188))}if(u.return!==d.return)u=m,d=y;else{for(var S=!1,P=m.child;P;){if(P===u){S=!0,u=m,d=y;break}if(P===d){S=!0,d=m,u=y;break}P=P.sibling}if(!S){for(P=y.child;P;){if(P===u){S=!0,u=y,d=m;break}if(P===d){S=!0,d=y,u=m;break}P=P.sibling}if(!S)throw Error(i(189))}}if(u.alternate!==d)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?r:a}function ge(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=ge(r),a!==null)return a;r=r.sibling}return null}var fe=Array.isArray,pe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Oe={pending:!1,data:null,method:null,action:null},Me=[],xt=-1;function Be(r){return{current:r}}function yt(r){0>xt||(r.current=Me[xt],Me[xt]=null,xt--)}function et(r,a){xt++,Me[xt]=r.current,r.current=a}var en=Be(null),Ri=Be(null),Fn=Be(null),le=Be(null);function we(r,a){switch(et(Fn,a),et(Ri,r),et(en,null),r=a.nodeType,r){case 9:case 11:a=(a=a.documentElement)&&(a=a.namespaceURI)?M1(a):0;break;default:if(r=r===8?a.parentNode:a,a=r.tagName,r=r.namespaceURI)r=M1(r),a=O1(r,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}yt(en),et(en,a)}function Ge(){yt(en),yt(Ri),yt(Fn)}function We(r){r.memoizedState!==null&&et(le,r);var a=en.current,u=O1(a,r.type);a!==u&&(et(Ri,r),et(en,u))}function Ht(r){Ri.current===r&&(yt(en),yt(Ri)),le.current===r&&(yt(le),yc._currentValue=Oe)}var fn=Object.prototype.hasOwnProperty,Hn=n.unstable_scheduleCallback,oi=n.unstable_cancelCallback,fr=n.unstable_shouldYield,Po=n.unstable_requestPaint,Sn=n.unstable_now,Wh=n.unstable_getCurrentPriorityLevel,qt=n.unstable_ImmediatePriority,tn=n.unstable_UserBlockingPriority,ws=n.unstable_NormalPriority,Yh=n.unstable_LowPriority,_u=n.unstable_IdlePriority,Vm=n.log,Ra=n.unstable_setDisableYieldValue,pr=null,xn=null;function Eu(r){if(xn&&typeof xn.onCommitFiberRoot=="function")try{xn.onCommitFiberRoot(pr,r,void 0,(r.current.flags&128)===128)}catch{}}function Fi(r){if(typeof Vm=="function"&&Ra(r),xn&&typeof xn.setStrictMode=="function")try{xn.setStrictMode(pr,r)}catch{}}var On=Math.clz32?Math.clz32:Xh,Tu=Math.log,Qh=Math.LN2;function Xh(r){return r>>>=0,r===0?32:31-(Tu(r)/Qh|0)|0}var Hi=128,mr=4194304;function Ii(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function li(r,a){var u=r.pendingLanes;if(u===0)return 0;var d=0,m=r.suspendedLanes,y=r.pingedLanes,S=r.warmLanes;r=r.finishedLanes!==0;var P=u&134217727;return P!==0?(u=P&~m,u!==0?d=Ii(u):(y&=P,y!==0?d=Ii(y):r||(S=P&~S,S!==0&&(d=Ii(S))))):(P=u&~m,P!==0?d=Ii(P):y!==0?d=Ii(y):r||(S=u&~S,S!==0&&(d=Ii(S)))),d===0?0:a!==0&&a!==d&&!(a&m)&&(m=d&-d,S=a&-a,m>=S||m===32&&(S&4194176)!==0)?a:d}function gr(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function Do(r,a){switch(r){case 1:case 2:case 4:case 8:return a+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wu(){var r=Hi;return Hi<<=1,!(Hi&4194176)&&(Hi=128),r}function yr(){var r=mr;return mr<<=1,!(mr&62914560)&&(mr=4194304),r}function Mo(r){for(var a=[],u=0;31>u;u++)a.push(r);return a}function Mt(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Zh(r,a,u,d,m,y){var S=r.pendingLanes;r.pendingLanes=u,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=u,r.entangledLanes&=u,r.errorRecoveryDisabledLanes&=u,r.shellSuspendCounter=0;var P=r.entanglements,B=r.expirationTimes,$=r.hiddenUpdates;for(u=S&~u;0<u;){var ee=31-On(u),se=1<<ee;P[ee]=0,B[ee]=-1;var Q=$[ee];if(Q!==null)for($[ee]=null,ee=0;ee<Q.length;ee++){var J=Q[ee];J!==null&&(J.lane&=-536870913)}u&=~se}d!==0&&vr(r,d,0),y!==0&&m===0&&r.tag!==0&&(r.suspendedLanes|=y&~(S&~a))}function vr(r,a,u){r.pendingLanes|=a,r.suspendedLanes&=~a;var d=31-On(a);r.entangledLanes|=a,r.entanglements[d]=r.entanglements[d]|1073741824|u&4194218}function _r(r,a){var u=r.entangledLanes|=a;for(r=r.entanglements;u;){var d=31-On(u),m=1<<d;m&a|r[d]&a&&(r[d]|=a),u&=~m}}function Jh(r){return r&=-r,2<r?8<r?r&134217727?32:268435456:8:2}function ed(){var r=pe.p;return r!==0?r:(r=window.event,r===void 0?32:Z1(r.type))}function Er(r,a){var u=pe.p;try{return pe.p=r,a()}finally{pe.p=u}}var qi=Math.random().toString(36).slice(2),nn="__reactFiber$"+qi,Gt="__reactProps$"+qi,bs="__reactContainer$"+qi,Ia="__reactEvents$"+qi,Oo="__reactListeners$"+qi,Gi="__reactHandles$"+qi,bu="__reactResources$"+qi,Tr="__reactMarker$"+qi;function Na(r){delete r[nn],delete r[Gt],delete r[Ia],delete r[Oo],delete r[Gi]}function Ni(r){var a=r[nn];if(a)return a;for(var u=r.parentNode;u;){if(a=u[bs]||u[nn]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(r=V1(r);r!==null;){if(u=r[nn])return u;r=V1(r)}return a}r=u,u=r.parentNode}return null}function Ss(r){if(r=r[nn]||r[bs]){var a=r.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return r}return null}function wr(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function br(r){var a=r[bu];return a||(a=r[bu]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function _t(r){r[Tr]=!0}var Su=new Set,ko={};function Yn(r,a){qn(r,a),qn(r+"Capture",a)}function qn(r,a){for(ko[r]=a,r=0;r<a.length;r++)Su.add(a[r])}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jm=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xu={},Cu={};function td(r){return fn.call(Cu,r)?!0:fn.call(xu,r)?!1:jm.test(r)?Cu[r]=!0:(xu[r]=!0,!1)}function Sr(r,a,u){if(td(a))if(u===null)r.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var d=a.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+u)}}function xr(r,a,u){if(u===null)r.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+u)}}function ui(r,a,u,d){if(d===null)r.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(u);return}r.setAttributeNS(a,u,""+d)}}function kn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function nd(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Um(r){var a=nd(r)?"checked":"value",u=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),d=""+r[a];if(!r.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,y=u.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return m.call(this)},set:function(S){d=""+S,y.call(this,S)}}),Object.defineProperty(r,a,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(S){d=""+S},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function Pa(r){r._valueTracker||(r._valueTracker=Um(r))}function Au(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var u=a.getValue(),d="";return r&&(d=nd(r)?r.checked?"true":"false":r.value),r=d,r!==u?(a.setValue(r),!0):!1}function Lo(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var xs=/[\n"\\]/g;function Ct(r){return r.replace(xs,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Cr(r,a,u,d,m,y,S,P){r.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.type=S:r.removeAttribute("type"),a!=null?S==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+kn(a)):r.value!==""+kn(a)&&(r.value=""+kn(a)):S!=="submit"&&S!=="reset"||r.removeAttribute("value"),a!=null?Vo(r,S,kn(a)):u!=null?Vo(r,S,kn(u)):d!=null&&r.removeAttribute("value"),m==null&&y!=null&&(r.defaultChecked=!!y),m!=null&&(r.checked=m&&typeof m!="function"&&typeof m!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?r.name=""+kn(P):r.removeAttribute("name")}function Da(r,a,u,d,m,y,S,P){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),a!=null||u!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;u=u!=null?""+kn(u):"",a=a!=null?""+kn(a):u,P||a===r.value||(r.value=a),r.defaultValue=a}d=d??m,d=typeof d!="function"&&typeof d!="symbol"&&!!d,r.checked=P?r.checked:!!d,r.defaultChecked=!!d,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(r.name=S)}function Vo(r,a,u){a==="number"&&Lo(r.ownerDocument)===r||r.defaultValue===""+u||(r.defaultValue=""+u)}function tt(r,a,u,d){if(r=r.options,a){a={};for(var m=0;m<u.length;m++)a["$"+u[m]]=!0;for(u=0;u<r.length;u++)m=a.hasOwnProperty("$"+r[u].value),r[u].selected!==m&&(r[u].selected=m),m&&d&&(r[u].defaultSelected=!0)}else{for(u=""+kn(u),a=null,m=0;m<r.length;m++){if(r[m].value===u){r[m].selected=!0,d&&(r[m].defaultSelected=!0);return}a!==null||r[m].disabled||(a=r[m])}a!==null&&(a.selected=!0)}}function Ma(r,a,u){if(a!=null&&(a=""+kn(a),a!==r.value&&(r.value=a),u==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=u!=null?""+kn(u):""}function Ar(r,a,u,d){if(a==null){if(d!=null){if(u!=null)throw Error(i(92));if(fe(d)){if(1<d.length)throw Error(i(93));d=d[0]}u=d}u==null&&(u=""),a=u}u=kn(a),r.defaultValue=u,d=r.textContent,d===u&&d!==""&&d!==null&&(r.value=d)}function ci(r,a){if(a){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=a;return}}r.textContent=a}var Bm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ru(r,a,u){var d=a.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?d?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":d?r.setProperty(a,u):typeof u!="number"||u===0||Bm.has(a)?a==="float"?r.cssFloat=u:r[a]=(""+u).trim():r[a]=u+"px"}function id(r,a,u){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,u!=null){for(var d in u)!u.hasOwnProperty(d)||a!=null&&a.hasOwnProperty(d)||(d.indexOf("--")===0?r.setProperty(d,""):d==="float"?r.cssFloat="":r[d]="");for(var m in a)d=a[m],a.hasOwnProperty(m)&&u[m]!==d&&Ru(r,m,d)}else for(var y in a)a.hasOwnProperty(y)&&Ru(r,y,a[y])}function Iu(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $i(r){return Fm.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var hi=null;function jo(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Cs=null,As=null;function Rs(r){var a=Ss(r);if(a&&(r=a.stateNode)){var u=r[Gt]||null;e:switch(r=a.stateNode,a.type){case"input":if(Cr(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),a=u.name,u.type==="radio"&&a!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Ct(""+a)+'"][type="radio"]'),a=0;a<u.length;a++){var d=u[a];if(d!==r&&d.form===r.form){var m=d[Gt]||null;if(!m)throw Error(i(90));Cr(d,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<u.length;a++)d=u[a],d.form===r.form&&Au(d)}break e;case"textarea":Ma(r,u.value,u.defaultValue);break e;case"select":a=u.value,a!=null&&tt(r,!!u.multiple,a,!1)}}}var Nu=!1;function sd(r,a,u){if(Nu)return r(a,u);Nu=!0;try{var d=r(a);return d}finally{if(Nu=!1,(Cs!==null||As!==null)&&(Yd(),Cs&&(a=Cs,r=As,As=Cs=null,Rs(a),r)))for(a=0;a<r.length;a++)Rs(r[a])}}function Oa(r,a){var u=r.stateNode;if(u===null)return null;var d=u[Gt]||null;if(d===null)return null;u=d[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(i(231,a,typeof u));return u}var di=!1;if(Qn)try{var ka={};Object.defineProperty(ka,"passive",{get:function(){di=!0}}),window.addEventListener("test",ka,ka),window.removeEventListener("test",ka,ka)}catch{di=!1}var Ki=null,Rr=null,Is=null;function Pu(){if(Is)return Is;var r,a=Rr,u=a.length,d,m="value"in Ki?Ki.value:Ki.textContent,y=m.length;for(r=0;r<u&&a[r]===m[r];r++);var S=u-r;for(d=1;d<=S&&a[u-d]===m[y-d];d++);return Is=m.slice(r,1<d?1-d:void 0)}function Wi(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function Yi(){return!0}function Du(){return!1}function sn(r){function a(u,d,m,y,S){this._reactName=u,this._targetInst=m,this.type=d,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var P in r)r.hasOwnProperty(P)&&(u=r[P],this[P]=u?u(y):y[P]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Yi:Du,this.isPropagationStopped=Du,this}return R(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Yi)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Yi)},persist:function(){},isPersistent:Yi}),a}var rt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uo=sn(rt),La=R({},rt,{view:0,detail:0}),rd=sn(La),Bo,zo,Qi,Va=R({},La,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ba,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Qi&&(Qi&&r.type==="mousemove"?(Bo=r.screenX-Qi.screenX,zo=r.screenY-Qi.screenY):zo=Bo=0,Qi=r),Bo)},movementY:function(r){return"movementY"in r?r.movementY:zo}}),fi=sn(Va),ad=R({},Va,{dataTransfer:0}),Hm=sn(ad),ja=R({},La,{relatedTarget:0}),Fo=sn(ja),Mu=R({},rt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ho=sn(Mu),od=R({},rt,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),qo=sn(od),qm=R({},rt,{data:0}),Ou=sn(qm),Ua={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ld={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ud={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ku(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=ud[r])?!!a[r]:!1}function Ba(){return ku}var cd=R({},La,{key:function(r){if(r.key){var a=Ua[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=Wi(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?ld[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ba,charCode:function(r){return r.type==="keypress"?Wi(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Wi(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Go=sn(cd),hd=R({},Va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lu=sn(hd),Ns=R({},La,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ba}),dd=sn(Ns),fd=R({},rt,{propertyName:0,elapsedTime:0,pseudoElement:0}),pd=sn(fd),md=R({},Va,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),$o=sn(md),Ln=R({},rt,{newState:0,oldState:0}),gd=sn(Ln),yd=[9,13,27,32],Xi=Qn&&"CompositionEvent"in window,p=null;Qn&&"documentMode"in document&&(p=document.documentMode);var E=Qn&&"TextEvent"in window&&!p,b=Qn&&(!Xi||p&&8<p&&11>=p),M=" ",W=!1;function X(r,a){switch(r){case"keyup":return yd.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ce(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ye=!1;function $t(r,a){switch(r){case"compositionend":return ce(a);case"keypress":return a.which!==32?null:(W=!0,M);case"textInput":return r=a.data,r===M&&W?null:r;default:return null}}function Qe(r,a){if(Ye)return r==="compositionend"||!Xi&&X(r,a)?(r=Pu(),Is=Rr=Ki=null,Ye=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return b&&a.locale!=="ko"?null:a.data;default:return null}}var rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kt(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!rn[r.type]:a==="textarea"}function Ps(r,a,u,d){Cs?As?As.push(d):As=[d]:Cs=d,a=ef(a,"onChange"),0<a.length&&(u=new Uo("onChange","change",null,u,d),r.push({event:u,listeners:a}))}var pn=null,Zi=null;function Vu(r){R1(r,0)}function vd(r){var a=wr(r);if(Au(a))return r}function iT(r,a){if(r==="change")return a}var sT=!1;if(Qn){var Gm;if(Qn){var $m="oninput"in document;if(!$m){var rT=document.createElement("div");rT.setAttribute("oninput","return;"),$m=typeof rT.oninput=="function"}Gm=$m}else Gm=!1;sT=Gm&&(!document.documentMode||9<document.documentMode)}function aT(){pn&&(pn.detachEvent("onpropertychange",oT),Zi=pn=null)}function oT(r){if(r.propertyName==="value"&&vd(Zi)){var a=[];Ps(a,Zi,r,jo(r)),sd(Vu,a)}}function GP(r,a,u){r==="focusin"?(aT(),pn=a,Zi=u,pn.attachEvent("onpropertychange",oT)):r==="focusout"&&aT()}function $P(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return vd(Zi)}function KP(r,a){if(r==="click")return vd(a)}function WP(r,a){if(r==="input"||r==="change")return vd(a)}function YP(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var Xn=typeof Object.is=="function"?Object.is:YP;function ju(r,a){if(Xn(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var u=Object.keys(r),d=Object.keys(a);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var m=u[d];if(!fn.call(a,m)||!Xn(r[m],a[m]))return!1}return!0}function lT(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function uT(r,a){var u=lT(r);r=0;for(var d;u;){if(u.nodeType===3){if(d=r+u.textContent.length,r<=a&&d>=a)return{node:u,offset:a-r};r=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=lT(u)}}function cT(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?cT(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function hT(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=Lo(r.document);a instanceof r.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)r=a.contentWindow;else break;a=Lo(r.document)}return a}function Km(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}function QP(r,a){var u=hT(a);a=r.focusedElem;var d=r.selectionRange;if(u!==a&&a&&a.ownerDocument&&cT(a.ownerDocument.documentElement,a)){if(d!==null&&Km(a)){if(r=d.start,u=d.end,u===void 0&&(u=r),"selectionStart"in a)a.selectionStart=r,a.selectionEnd=Math.min(u,a.value.length);else if(u=(r=a.ownerDocument||document)&&r.defaultView||window,u.getSelection){u=u.getSelection();var m=a.textContent.length,y=Math.min(d.start,m);d=d.end===void 0?y:Math.min(d.end,m),!u.extend&&y>d&&(m=d,d=y,y=m),m=uT(a,y);var S=uT(a,d);m&&S&&(u.rangeCount!==1||u.anchorNode!==m.node||u.anchorOffset!==m.offset||u.focusNode!==S.node||u.focusOffset!==S.offset)&&(r=r.createRange(),r.setStart(m.node,m.offset),u.removeAllRanges(),y>d?(u.addRange(r),u.extend(S.node,S.offset)):(r.setEnd(S.node,S.offset),u.addRange(r)))}}for(r=[],u=a;u=u.parentNode;)u.nodeType===1&&r.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<r.length;a++)u=r[a],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var XP=Qn&&"documentMode"in document&&11>=document.documentMode,Ko=null,Wm=null,Uu=null,Ym=!1;function dT(r,a,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Ym||Ko==null||Ko!==Lo(d)||(d=Ko,"selectionStart"in d&&Km(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Uu&&ju(Uu,d)||(Uu=d,d=ef(Wm,"onSelect"),0<d.length&&(a=new Uo("onSelect","select",null,a,u),r.push({event:a,listeners:d}),a.target=Ko)))}function za(r,a){var u={};return u[r.toLowerCase()]=a.toLowerCase(),u["Webkit"+r]="webkit"+a,u["Moz"+r]="moz"+a,u}var Wo={animationend:za("Animation","AnimationEnd"),animationiteration:za("Animation","AnimationIteration"),animationstart:za("Animation","AnimationStart"),transitionrun:za("Transition","TransitionRun"),transitionstart:za("Transition","TransitionStart"),transitioncancel:za("Transition","TransitionCancel"),transitionend:za("Transition","TransitionEnd")},Qm={},fT={};Qn&&(fT=document.createElement("div").style,"AnimationEvent"in window||(delete Wo.animationend.animation,delete Wo.animationiteration.animation,delete Wo.animationstart.animation),"TransitionEvent"in window||delete Wo.transitionend.transition);function Fa(r){if(Qm[r])return Qm[r];if(!Wo[r])return r;var a=Wo[r],u;for(u in a)if(a.hasOwnProperty(u)&&u in fT)return Qm[r]=a[u];return r}var pT=Fa("animationend"),mT=Fa("animationiteration"),gT=Fa("animationstart"),ZP=Fa("transitionrun"),JP=Fa("transitionstart"),eD=Fa("transitioncancel"),yT=Fa("transitionend"),vT=new Map,_T="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Pi(r,a){vT.set(r,a),Yn(a,[r])}var pi=[],Yo=0,Xm=0;function _d(){for(var r=Yo,a=Xm=Yo=0;a<r;){var u=pi[a];pi[a++]=null;var d=pi[a];pi[a++]=null;var m=pi[a];pi[a++]=null;var y=pi[a];if(pi[a++]=null,d!==null&&m!==null){var S=d.pending;S===null?m.next=m:(m.next=S.next,S.next=m),d.pending=m}y!==0&&ET(u,m,y)}}function Ed(r,a,u,d){pi[Yo++]=r,pi[Yo++]=a,pi[Yo++]=u,pi[Yo++]=d,Xm|=d,r.lanes|=d,r=r.alternate,r!==null&&(r.lanes|=d)}function Zm(r,a,u,d){return Ed(r,a,u,d),Td(r)}function Ir(r,a){return Ed(r,null,null,a),Td(r)}function ET(r,a,u){r.lanes|=u;var d=r.alternate;d!==null&&(d.lanes|=u);for(var m=!1,y=r.return;y!==null;)y.childLanes|=u,d=y.alternate,d!==null&&(d.childLanes|=u),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(m=!0)),r=y,y=y.return;m&&a!==null&&r.tag===3&&(y=r.stateNode,m=31-On(u),y=y.hiddenUpdates,r=y[m],r===null?y[m]=[a]:r.push(a),a.lane=u|536870912)}function Td(r){if(50<cc)throw cc=0,sy=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var Qo={},TT=new WeakMap;function mi(r,a){if(typeof r=="object"&&r!==null){var u=TT.get(r);return u!==void 0?u:(a={value:r,source:a,stack:he(a)},TT.set(r,a),a)}return{value:r,source:a,stack:he(a)}}var Xo=[],Zo=0,wd=null,bd=0,gi=[],yi=0,Ha=null,Ds=1,Ms="";function qa(r,a){Xo[Zo++]=bd,Xo[Zo++]=wd,wd=r,bd=a}function wT(r,a,u){gi[yi++]=Ds,gi[yi++]=Ms,gi[yi++]=Ha,Ha=r;var d=Ds;r=Ms;var m=32-On(d)-1;d&=~(1<<m),u+=1;var y=32-On(a)+m;if(30<y){var S=m-m%5;y=(d&(1<<S)-1).toString(32),d>>=S,m-=S,Ds=1<<32-On(a)+m|u<<m|d,Ms=y+r}else Ds=1<<y|u<<m|d,Ms=r}function Jm(r){r.return!==null&&(qa(r,1),wT(r,1,0))}function eg(r){for(;r===wd;)wd=Xo[--Zo],Xo[Zo]=null,bd=Xo[--Zo],Xo[Zo]=null;for(;r===Ha;)Ha=gi[--yi],gi[yi]=null,Ms=gi[--yi],gi[yi]=null,Ds=gi[--yi],gi[yi]=null}var Vn=null,mn=null,nt=!1,Di=null,Ji=!1,tg=Error(i(519));function Ga(r){var a=Error(i(418,""));throw Fu(mi(a,r)),tg}function bT(r){var a=r.stateNode,u=r.type,d=r.memoizedProps;switch(a[nn]=r,a[Gt]=d,u){case"dialog":$e("cancel",a),$e("close",a);break;case"iframe":case"object":case"embed":$e("load",a);break;case"video":case"audio":for(u=0;u<dc.length;u++)$e(dc[u],a);break;case"source":$e("error",a);break;case"img":case"image":case"link":$e("error",a),$e("load",a);break;case"details":$e("toggle",a);break;case"input":$e("invalid",a),Da(a,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),Pa(a);break;case"select":$e("invalid",a);break;case"textarea":$e("invalid",a),Ar(a,d.value,d.defaultValue,d.children),Pa(a)}u=d.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||a.textContent===""+u||d.suppressHydrationWarning===!0||D1(a.textContent,u)?(d.popover!=null&&($e("beforetoggle",a),$e("toggle",a)),d.onScroll!=null&&$e("scroll",a),d.onScrollEnd!=null&&$e("scrollend",a),d.onClick!=null&&(a.onclick=tf),a=!0):a=!1,a||Ga(r)}function ST(r){for(Vn=r.return;Vn;)switch(Vn.tag){case 3:case 27:Ji=!0;return;case 5:case 13:Ji=!1;return;default:Vn=Vn.return}}function Bu(r){if(r!==Vn)return!1;if(!nt)return ST(r),nt=!0,!1;var a=!1,u;if((u=r.tag!==3&&r.tag!==27)&&((u=r.tag===5)&&(u=r.type,u=!(u!=="form"&&u!=="button")||Ty(r.type,r.memoizedProps)),u=!u),u&&(a=!0),a&&mn&&Ga(r),ST(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8)if(u=r.data,u==="/$"){if(a===0){mn=Oi(r.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++;r=r.nextSibling}mn=null}}else mn=Vn?Oi(r.stateNode.nextSibling):null;return!0}function zu(){mn=Vn=null,nt=!1}function Fu(r){Di===null?Di=[r]:Di.push(r)}var Hu=Error(i(460)),xT=Error(i(474)),ng={then:function(){}};function CT(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Sd(){}function AT(r,a,u){switch(u=r[u],u===void 0?r.push(a):u!==a&&(a.then(Sd,Sd),a=u),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,r===Hu?Error(i(483)):r;default:if(typeof a.status=="string")a.then(Sd,Sd);else{if(r=dt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(d){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=d}},function(d){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=d}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,r===Hu?Error(i(483)):r}throw qu=a,Hu}}var qu=null;function RT(){if(qu===null)throw Error(i(459));var r=qu;return qu=null,r}var Jo=null,Gu=0;function xd(r){var a=Gu;return Gu+=1,Jo===null&&(Jo=[]),AT(Jo,r,a)}function $u(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function Cd(r,a){throw a.$$typeof===o?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function IT(r){var a=r._init;return a(r._payload)}function NT(r){function a(K,G){if(r){var Y=K.deletions;Y===null?(K.deletions=[G],K.flags|=16):Y.push(G)}}function u(K,G){if(!r)return null;for(;G!==null;)a(K,G),G=G.sibling;return null}function d(K){for(var G=new Map;K!==null;)K.key!==null?G.set(K.key,K):G.set(K.index,K),K=K.sibling;return G}function m(K,G){return K=zr(K,G),K.index=0,K.sibling=null,K}function y(K,G,Y){return K.index=Y,r?(Y=K.alternate,Y!==null?(Y=Y.index,Y<G?(K.flags|=33554434,G):Y):(K.flags|=33554434,G)):(K.flags|=1048576,G)}function S(K){return r&&K.alternate===null&&(K.flags|=33554434),K}function P(K,G,Y,te){return G===null||G.tag!==6?(G=Qg(Y,K.mode,te),G.return=K,G):(G=m(G,Y),G.return=K,G)}function B(K,G,Y,te){var ve=Y.type;return ve===h?ee(K,G,Y.props.children,te,Y.key):G!==null&&(G.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===I&&IT(ve)===G.type)?(G=m(G,Y.props),$u(G,Y),G.return=K,G):(G=qd(Y.type,Y.key,Y.props,null,K.mode,te),$u(G,Y),G.return=K,G)}function $(K,G,Y,te){return G===null||G.tag!==4||G.stateNode.containerInfo!==Y.containerInfo||G.stateNode.implementation!==Y.implementation?(G=Xg(Y,K.mode,te),G.return=K,G):(G=m(G,Y.children||[]),G.return=K,G)}function ee(K,G,Y,te,ve){return G===null||G.tag!==7?(G=to(Y,K.mode,te,ve),G.return=K,G):(G=m(G,Y),G.return=K,G)}function se(K,G,Y){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Qg(""+G,K.mode,Y),G.return=K,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case l:return Y=qd(G.type,G.key,G.props,null,K.mode,Y),$u(Y,G),Y.return=K,Y;case c:return G=Xg(G,K.mode,Y),G.return=K,G;case I:var te=G._init;return G=te(G._payload),se(K,G,Y)}if(fe(G)||Z(G))return G=to(G,K.mode,Y,null),G.return=K,G;if(typeof G.then=="function")return se(K,xd(G),Y);if(G.$$typeof===w)return se(K,zd(K,G),Y);Cd(K,G)}return null}function Q(K,G,Y,te){var ve=G!==null?G.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return ve!==null?null:P(K,G,""+Y,te);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case l:return Y.key===ve?B(K,G,Y,te):null;case c:return Y.key===ve?$(K,G,Y,te):null;case I:return ve=Y._init,Y=ve(Y._payload),Q(K,G,Y,te)}if(fe(Y)||Z(Y))return ve!==null?null:ee(K,G,Y,te,null);if(typeof Y.then=="function")return Q(K,G,xd(Y),te);if(Y.$$typeof===w)return Q(K,G,zd(K,Y),te);Cd(K,Y)}return null}function J(K,G,Y,te,ve){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return K=K.get(Y)||null,P(G,K,""+te,ve);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case l:return K=K.get(te.key===null?Y:te.key)||null,B(G,K,te,ve);case c:return K=K.get(te.key===null?Y:te.key)||null,$(G,K,te,ve);case I:var Ve=te._init;return te=Ve(te._payload),J(K,G,Y,te,ve)}if(fe(te)||Z(te))return K=K.get(Y)||null,ee(G,K,te,ve,null);if(typeof te.then=="function")return J(K,G,Y,xd(te),ve);if(te.$$typeof===w)return J(K,G,Y,zd(G,te),ve);Cd(G,te)}return null}function Ee(K,G,Y,te){for(var ve=null,Ve=null,Te=G,xe=G=0,ln=null;Te!==null&&xe<Y.length;xe++){Te.index>xe?(ln=Te,Te=null):ln=Te.sibling;var it=Q(K,Te,Y[xe],te);if(it===null){Te===null&&(Te=ln);break}r&&Te&&it.alternate===null&&a(K,Te),G=y(it,G,xe),Ve===null?ve=it:Ve.sibling=it,Ve=it,Te=ln}if(xe===Y.length)return u(K,Te),nt&&qa(K,xe),ve;if(Te===null){for(;xe<Y.length;xe++)Te=se(K,Y[xe],te),Te!==null&&(G=y(Te,G,xe),Ve===null?ve=Te:Ve.sibling=Te,Ve=Te);return nt&&qa(K,xe),ve}for(Te=d(Te);xe<Y.length;xe++)ln=J(Te,K,xe,Y[xe],te),ln!==null&&(r&&ln.alternate!==null&&Te.delete(ln.key===null?xe:ln.key),G=y(ln,G,xe),Ve===null?ve=ln:Ve.sibling=ln,Ve=ln);return r&&Te.forEach(function(Wr){return a(K,Wr)}),nt&&qa(K,xe),ve}function Pe(K,G,Y,te){if(Y==null)throw Error(i(151));for(var ve=null,Ve=null,Te=G,xe=G=0,ln=null,it=Y.next();Te!==null&&!it.done;xe++,it=Y.next()){Te.index>xe?(ln=Te,Te=null):ln=Te.sibling;var Wr=Q(K,Te,it.value,te);if(Wr===null){Te===null&&(Te=ln);break}r&&Te&&Wr.alternate===null&&a(K,Te),G=y(Wr,G,xe),Ve===null?ve=Wr:Ve.sibling=Wr,Ve=Wr,Te=ln}if(it.done)return u(K,Te),nt&&qa(K,xe),ve;if(Te===null){for(;!it.done;xe++,it=Y.next())it=se(K,it.value,te),it!==null&&(G=y(it,G,xe),Ve===null?ve=it:Ve.sibling=it,Ve=it);return nt&&qa(K,xe),ve}for(Te=d(Te);!it.done;xe++,it=Y.next())it=J(Te,K,xe,it.value,te),it!==null&&(r&&it.alternate!==null&&Te.delete(it.key===null?xe:it.key),G=y(it,G,xe),Ve===null?ve=it:Ve.sibling=it,Ve=it);return r&&Te.forEach(function(pM){return a(K,pM)}),nt&&qa(K,xe),ve}function It(K,G,Y,te){if(typeof Y=="object"&&Y!==null&&Y.type===h&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case l:e:{for(var ve=Y.key;G!==null;){if(G.key===ve){if(ve=Y.type,ve===h){if(G.tag===7){u(K,G.sibling),te=m(G,Y.props.children),te.return=K,K=te;break e}}else if(G.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===I&&IT(ve)===G.type){u(K,G.sibling),te=m(G,Y.props),$u(te,Y),te.return=K,K=te;break e}u(K,G);break}else a(K,G);G=G.sibling}Y.type===h?(te=to(Y.props.children,K.mode,te,Y.key),te.return=K,K=te):(te=qd(Y.type,Y.key,Y.props,null,K.mode,te),$u(te,Y),te.return=K,K=te)}return S(K);case c:e:{for(ve=Y.key;G!==null;){if(G.key===ve)if(G.tag===4&&G.stateNode.containerInfo===Y.containerInfo&&G.stateNode.implementation===Y.implementation){u(K,G.sibling),te=m(G,Y.children||[]),te.return=K,K=te;break e}else{u(K,G);break}else a(K,G);G=G.sibling}te=Xg(Y,K.mode,te),te.return=K,K=te}return S(K);case I:return ve=Y._init,Y=ve(Y._payload),It(K,G,Y,te)}if(fe(Y))return Ee(K,G,Y,te);if(Z(Y)){if(ve=Z(Y),typeof ve!="function")throw Error(i(150));return Y=ve.call(Y),Pe(K,G,Y,te)}if(typeof Y.then=="function")return It(K,G,xd(Y),te);if(Y.$$typeof===w)return It(K,G,zd(K,Y),te);Cd(K,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,G!==null&&G.tag===6?(u(K,G.sibling),te=m(G,Y),te.return=K,K=te):(u(K,G),te=Qg(Y,K.mode,te),te.return=K,K=te),S(K)):u(K,G)}return function(K,G,Y,te){try{Gu=0;var ve=It(K,G,Y,te);return Jo=null,ve}catch(Te){if(Te===Hu)throw Te;var Ve=Ti(29,Te,null,K.mode);return Ve.lanes=te,Ve.return=K,Ve}finally{}}}var $a=NT(!0),PT=NT(!1),el=Be(null),Ad=Be(0);function DT(r,a){r=qs,et(Ad,r),et(el,a),qs=r|a.baseLanes}function ig(){et(Ad,qs),et(el,el.current)}function sg(){qs=Ad.current,yt(el),yt(Ad)}var vi=Be(null),es=null;function Nr(r){var a=r.alternate;et(Wt,Wt.current&1),et(vi,r),es===null&&(a===null||el.current!==null||a.memoizedState!==null)&&(es=r)}function MT(r){if(r.tag===22){if(et(Wt,Wt.current),et(vi,r),es===null){var a=r.alternate;a!==null&&a.memoizedState!==null&&(es=r)}}else Pr()}function Pr(){et(Wt,Wt.current),et(vi,vi.current)}function Os(r){yt(vi),es===r&&(es=null),yt(Wt)}var Wt=Be(0);function Rd(r){for(var a=r;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var tD=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(u,d){r.push(d)}};this.abort=function(){a.aborted=!0,r.forEach(function(u){return u()})}},nD=n.unstable_scheduleCallback,iD=n.unstable_NormalPriority,Yt={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rg(){return{controller:new tD,data:new Map,refCount:0}}function Ku(r){r.refCount--,r.refCount===0&&nD(iD,function(){r.controller.abort()})}var Wu=null,ag=0,tl=0,nl=null;function sD(r,a){if(Wu===null){var u=Wu=[];ag=0,tl=dy(),nl={status:"pending",value:void 0,then:function(d){u.push(d)}}}return ag++,a.then(OT,OT),a}function OT(){if(--ag===0&&Wu!==null){nl!==null&&(nl.status="fulfilled");var r=Wu;Wu=null,tl=0,nl=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function rD(r,a){var u=[],d={status:"pending",value:null,reason:null,then:function(m){u.push(m)}};return r.then(function(){d.status="fulfilled",d.value=a;for(var m=0;m<u.length;m++)(0,u[m])(a)},function(m){for(d.status="rejected",d.reason=m,m=0;m<u.length;m++)(0,u[m])(void 0)}),d}var kT=C.S;C.S=function(r,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&sD(r,a),kT!==null&&kT(r,a)};var Ka=Be(null);function og(){var r=Ka.current;return r!==null?r:dt.pooledCache}function Id(r,a){a===null?et(Ka,Ka.current):et(Ka,a.pool)}function LT(){var r=og();return r===null?null:{parent:Yt._currentValue,pool:r}}var Dr=0,Le=null,ot=null,jt=null,Nd=!1,il=!1,Wa=!1,Pd=0,Yu=0,sl=null,aD=0;function Ot(){throw Error(i(321))}function lg(r,a){if(a===null)return!1;for(var u=0;u<a.length&&u<r.length;u++)if(!Xn(r[u],a[u]))return!1;return!0}function ug(r,a,u,d,m,y){return Dr=y,Le=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,C.H=r===null||r.memoizedState===null?Ya:Mr,Wa=!1,y=u(d,m),Wa=!1,il&&(y=jT(a,u,d,m)),VT(r),y}function VT(r){C.H=ts;var a=ot!==null&&ot.next!==null;if(Dr=0,jt=ot=Le=null,Nd=!1,Yu=0,sl=null,a)throw Error(i(300));r===null||an||(r=r.dependencies,r!==null&&Bd(r)&&(an=!0))}function jT(r,a,u,d){Le=r;var m=0;do{if(il&&(sl=null),Yu=0,il=!1,25<=m)throw Error(i(301));if(m+=1,jt=ot=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}C.H=Qa,y=a(u,d)}while(il);return y}function oD(){var r=C.H,a=r.useState()[0];return a=typeof a.then=="function"?Qu(a):a,r=r.useState()[0],(ot!==null?ot.memoizedState:null)!==r&&(Le.flags|=1024),a}function cg(){var r=Pd!==0;return Pd=0,r}function hg(r,a,u){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~u}function dg(r){if(Nd){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Nd=!1}Dr=0,jt=ot=Le=null,il=!1,Yu=Pd=0,sl=null}function Gn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?Le.memoizedState=jt=r:jt=jt.next=r,jt}function Ut(){if(ot===null){var r=Le.alternate;r=r!==null?r.memoizedState:null}else r=ot.next;var a=jt===null?Le.memoizedState:jt.next;if(a!==null)jt=a,ot=r;else{if(r===null)throw Le.alternate===null?Error(i(467)):Error(i(310));ot=r,r={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},jt===null?Le.memoizedState=jt=r:jt=jt.next=r}return jt}var Dd;Dd=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Qu(r){var a=Yu;return Yu+=1,sl===null&&(sl=[]),r=AT(sl,r,a),a=Le,(jt===null?a.memoizedState:jt.next)===null&&(a=a.alternate,C.H=a===null||a.memoizedState===null?Ya:Mr),r}function Md(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Qu(r);if(r.$$typeof===w)return Cn(r)}throw Error(i(438,String(r)))}function fg(r){var a=null,u=Le.updateQueue;if(u!==null&&(a=u.memoCache),a==null){var d=Le.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(a={data:d.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),u===null&&(u=Dd(),Le.updateQueue=u),u.memoCache=a,u=a.data[a.index],u===void 0)for(u=a.data[a.index]=Array(r),d=0;d<r;d++)u[d]=H;return a.index++,u}function ks(r,a){return typeof a=="function"?a(r):a}function Od(r){var a=Ut();return pg(a,ot,r)}function pg(r,a,u){var d=r.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=u;var m=r.baseQueue,y=d.pending;if(y!==null){if(m!==null){var S=m.next;m.next=y.next,y.next=S}a.baseQueue=m=y,d.pending=null}if(y=r.baseState,m===null)r.memoizedState=y;else{a=m.next;var P=S=null,B=null,$=a,ee=!1;do{var se=$.lane&-536870913;if(se!==$.lane?(Xe&se)===se:(Dr&se)===se){var Q=$.revertLane;if(Q===0)B!==null&&(B=B.next={lane:0,revertLane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),se===tl&&(ee=!0);else if((Dr&Q)===Q){$=$.next,Q===tl&&(ee=!0);continue}else se={lane:0,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},B===null?(P=B=se,S=y):B=B.next=se,Le.lanes|=Q,Fr|=Q;se=$.action,Wa&&u(y,se),y=$.hasEagerState?$.eagerState:u(y,se)}else Q={lane:se,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},B===null?(P=B=Q,S=y):B=B.next=Q,Le.lanes|=se,Fr|=se;$=$.next}while($!==null&&$!==a);if(B===null?S=y:B.next=P,!Xn(y,r.memoizedState)&&(an=!0,ee&&(u=nl,u!==null)))throw u;r.memoizedState=y,r.baseState=S,r.baseQueue=B,d.lastRenderedState=y}return m===null&&(d.lanes=0),[r.memoizedState,d.dispatch]}function mg(r){var a=Ut(),u=a.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=r;var d=u.dispatch,m=u.pending,y=a.memoizedState;if(m!==null){u.pending=null;var S=m=m.next;do y=r(y,S.action),S=S.next;while(S!==m);Xn(y,a.memoizedState)||(an=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),u.lastRenderedState=y}return[y,d]}function UT(r,a,u){var d=Le,m=Ut(),y=nt;if(y){if(u===void 0)throw Error(i(407));u=u()}else u=a();var S=!Xn((ot||m).memoizedState,u);if(S&&(m.memoizedState=u,an=!0),m=m.queue,vg(FT.bind(null,d,m,r),[r]),m.getSnapshot!==a||S||jt!==null&&jt.memoizedState.tag&1){if(d.flags|=2048,rl(9,zT.bind(null,d,m,u,a),{destroy:void 0},null),dt===null)throw Error(i(349));y||Dr&60||BT(d,a,u)}return u}function BT(r,a,u){r.flags|=16384,r={getSnapshot:a,value:u},a=Le.updateQueue,a===null?(a=Dd(),Le.updateQueue=a,a.stores=[r]):(u=a.stores,u===null?a.stores=[r]:u.push(r))}function zT(r,a,u,d){a.value=u,a.getSnapshot=d,HT(a)&&qT(r)}function FT(r,a,u){return u(function(){HT(a)&&qT(r)})}function HT(r){var a=r.getSnapshot;r=r.value;try{var u=a();return!Xn(r,u)}catch{return!0}}function qT(r){var a=Ir(r,2);a!==null&&jn(a,r,2)}function gg(r){var a=Gn();if(typeof r=="function"){var u=r;if(r=u(),Wa){Fi(!0);try{u()}finally{Fi(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:r},a}function GT(r,a,u,d){return r.baseState=u,pg(r,ot,typeof d=="function"?d:ks)}function lD(r,a,u,d,m){if(Vd(r))throw Error(i(485));if(r=a.action,r!==null){var y={payload:m,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){y.listeners.push(S)}};C.T!==null?u(!0):y.isTransition=!1,d(y),u=a.pending,u===null?(y.next=a.pending=y,$T(a,y)):(y.next=u.next,a.pending=u.next=y)}}function $T(r,a){var u=a.action,d=a.payload,m=r.state;if(a.isTransition){var y=C.T,S={};C.T=S;try{var P=u(m,d),B=C.S;B!==null&&B(S,P),KT(r,a,P)}catch($){yg(r,a,$)}finally{C.T=y}}else try{y=u(m,d),KT(r,a,y)}catch($){yg(r,a,$)}}function KT(r,a,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(d){WT(r,a,d)},function(d){return yg(r,a,d)}):WT(r,a,u)}function WT(r,a,u){a.status="fulfilled",a.value=u,YT(a),r.state=u,a=r.pending,a!==null&&(u=a.next,u===a?r.pending=null:(u=u.next,a.next=u,$T(r,u)))}function yg(r,a,u){var d=r.pending;if(r.pending=null,d!==null){d=d.next;do a.status="rejected",a.reason=u,YT(a),a=a.next;while(a!==d)}r.action=null}function YT(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function QT(r,a){return a}function XT(r,a){if(nt){var u=dt.formState;if(u!==null){e:{var d=Le;if(nt){if(mn){t:{for(var m=mn,y=Ji;m.nodeType!==8;){if(!y){m=null;break t}if(m=Oi(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){mn=Oi(m.nextSibling),d=m.data==="F!";break e}}Ga(d)}d=!1}d&&(a=u[0])}}return u=Gn(),u.memoizedState=u.baseState=a,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:QT,lastRenderedState:a},u.queue=d,u=mw.bind(null,Le,d),d.dispatch=u,d=gg(!1),y=bg.bind(null,Le,!1,d.queue),d=Gn(),m={state:a,dispatch:null,action:r,pending:null},d.queue=m,u=lD.bind(null,Le,m,y,u),m.dispatch=u,d.memoizedState=r,[a,u,!1]}function ZT(r){var a=Ut();return JT(a,ot,r)}function JT(r,a,u){a=pg(r,a,QT)[0],r=Od(ks)[0],a=typeof a=="object"&&a!==null&&typeof a.then=="function"?Qu(a):a;var d=Ut(),m=d.queue,y=m.dispatch;return u!==d.memoizedState&&(Le.flags|=2048,rl(9,uD.bind(null,m,u),{destroy:void 0},null)),[a,y,r]}function uD(r,a){r.action=a}function ew(r){var a=Ut(),u=ot;if(u!==null)return JT(a,u,r);Ut(),a=a.memoizedState,u=Ut();var d=u.queue.dispatch;return u.memoizedState=r,[a,d,!1]}function rl(r,a,u,d){return r={tag:r,create:a,inst:u,deps:d,next:null},a=Le.updateQueue,a===null&&(a=Dd(),Le.updateQueue=a),u=a.lastEffect,u===null?a.lastEffect=r.next=r:(d=u.next,u.next=r,r.next=d,a.lastEffect=r),r}function tw(){return Ut().memoizedState}function kd(r,a,u,d){var m=Gn();Le.flags|=r,m.memoizedState=rl(1|a,u,{destroy:void 0},d===void 0?null:d)}function Ld(r,a,u,d){var m=Ut();d=d===void 0?null:d;var y=m.memoizedState.inst;ot!==null&&d!==null&&lg(d,ot.memoizedState.deps)?m.memoizedState=rl(a,u,y,d):(Le.flags|=r,m.memoizedState=rl(1|a,u,y,d))}function nw(r,a){kd(8390656,8,r,a)}function vg(r,a){Ld(2048,8,r,a)}function iw(r,a){return Ld(4,2,r,a)}function sw(r,a){return Ld(4,4,r,a)}function rw(r,a){if(typeof a=="function"){r=r();var u=a(r);return function(){typeof u=="function"?u():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function aw(r,a,u){u=u!=null?u.concat([r]):null,Ld(4,4,rw.bind(null,a,r),u)}function _g(){}function ow(r,a){var u=Ut();a=a===void 0?null:a;var d=u.memoizedState;return a!==null&&lg(a,d[1])?d[0]:(u.memoizedState=[r,a],r)}function lw(r,a){var u=Ut();a=a===void 0?null:a;var d=u.memoizedState;if(a!==null&&lg(a,d[1]))return d[0];if(d=r(),Wa){Fi(!0);try{r()}finally{Fi(!1)}}return u.memoizedState=[d,a],d}function Eg(r,a,u){return u===void 0||Dr&1073741824?r.memoizedState=a:(r.memoizedState=u,r=c1(),Le.lanes|=r,Fr|=r,u)}function uw(r,a,u,d){return Xn(u,a)?u:el.current!==null?(r=Eg(r,u,d),Xn(r,a)||(an=!0),r):Dr&42?(r=c1(),Le.lanes|=r,Fr|=r,a):(an=!0,r.memoizedState=u)}function cw(r,a,u,d,m){var y=pe.p;pe.p=y!==0&&8>y?y:8;var S=C.T,P={};C.T=P,bg(r,!1,a,u);try{var B=m(),$=C.S;if($!==null&&$(P,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var ee=rD(B,d);Xu(r,a,ee,ti(r))}else Xu(r,a,d,ti(r))}catch(se){Xu(r,a,{then:function(){},status:"rejected",reason:se},ti())}finally{pe.p=y,C.T=S}}function cD(){}function Tg(r,a,u,d){if(r.tag!==5)throw Error(i(476));var m=hw(r).queue;cw(r,m,a,Oe,u===null?cD:function(){return dw(r),u(d)})}function hw(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:Oe,baseState:Oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:Oe},next:null};var u={};return a.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:u},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function dw(r){var a=hw(r).next.queue;Xu(r,a,{},ti())}function wg(){return Cn(yc)}function fw(){return Ut().memoizedState}function pw(){return Ut().memoizedState}function hD(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var u=ti();r=Lr(u);var d=Vr(a,r,u);d!==null&&(jn(d,a,u),ec(d,a,u)),a={cache:rg()},r.payload=a;return}a=a.return}}function dD(r,a,u){var d=ti();u={lane:d,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Vd(r)?gw(a,u):(u=Zm(r,a,u,d),u!==null&&(jn(u,r,d),yw(u,a,d)))}function mw(r,a,u){var d=ti();Xu(r,a,u,d)}function Xu(r,a,u,d){var m={lane:d,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Vd(r))gw(a,m);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var S=a.lastRenderedState,P=y(S,u);if(m.hasEagerState=!0,m.eagerState=P,Xn(P,S))return Ed(r,a,m,0),dt===null&&_d(),!1}catch{}finally{}if(u=Zm(r,a,m,d),u!==null)return jn(u,r,d),yw(u,a,d),!0}return!1}function bg(r,a,u,d){if(d={lane:2,revertLane:dy(),action:d,hasEagerState:!1,eagerState:null,next:null},Vd(r)){if(a)throw Error(i(479))}else a=Zm(r,u,d,2),a!==null&&jn(a,r,2)}function Vd(r){var a=r.alternate;return r===Le||a!==null&&a===Le}function gw(r,a){il=Nd=!0;var u=r.pending;u===null?a.next=a:(a.next=u.next,u.next=a),r.pending=a}function yw(r,a,u){if(u&4194176){var d=a.lanes;d&=r.pendingLanes,u|=d,a.lanes=u,_r(r,u)}}var ts={readContext:Cn,use:Md,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useLayoutEffect:Ot,useInsertionEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useSyncExternalStore:Ot,useId:Ot};ts.useCacheRefresh=Ot,ts.useMemoCache=Ot,ts.useHostTransitionStatus=Ot,ts.useFormState=Ot,ts.useActionState=Ot,ts.useOptimistic=Ot;var Ya={readContext:Cn,use:Md,useCallback:function(r,a){return Gn().memoizedState=[r,a===void 0?null:a],r},useContext:Cn,useEffect:nw,useImperativeHandle:function(r,a,u){u=u!=null?u.concat([r]):null,kd(4194308,4,rw.bind(null,a,r),u)},useLayoutEffect:function(r,a){return kd(4194308,4,r,a)},useInsertionEffect:function(r,a){kd(4,2,r,a)},useMemo:function(r,a){var u=Gn();a=a===void 0?null:a;var d=r();if(Wa){Fi(!0);try{r()}finally{Fi(!1)}}return u.memoizedState=[d,a],d},useReducer:function(r,a,u){var d=Gn();if(u!==void 0){var m=u(a);if(Wa){Fi(!0);try{u(a)}finally{Fi(!1)}}}else m=a;return d.memoizedState=d.baseState=m,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:m},d.queue=r,r=r.dispatch=dD.bind(null,Le,r),[d.memoizedState,r]},useRef:function(r){var a=Gn();return r={current:r},a.memoizedState=r},useState:function(r){r=gg(r);var a=r.queue,u=mw.bind(null,Le,a);return a.dispatch=u,[r.memoizedState,u]},useDebugValue:_g,useDeferredValue:function(r,a){var u=Gn();return Eg(u,r,a)},useTransition:function(){var r=gg(!1);return r=cw.bind(null,Le,r.queue,!0,!1),Gn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,u){var d=Le,m=Gn();if(nt){if(u===void 0)throw Error(i(407));u=u()}else{if(u=a(),dt===null)throw Error(i(349));Xe&60||BT(d,a,u)}m.memoizedState=u;var y={value:u,getSnapshot:a};return m.queue=y,nw(FT.bind(null,d,y,r),[r]),d.flags|=2048,rl(9,zT.bind(null,d,y,u,a),{destroy:void 0},null),u},useId:function(){var r=Gn(),a=dt.identifierPrefix;if(nt){var u=Ms,d=Ds;u=(d&~(1<<32-On(d)-1)).toString(32)+u,a=":"+a+"R"+u,u=Pd++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=aD++,a=":"+a+"r"+u.toString(32)+":";return r.memoizedState=a},useCacheRefresh:function(){return Gn().memoizedState=hD.bind(null,Le)}};Ya.useMemoCache=fg,Ya.useHostTransitionStatus=wg,Ya.useFormState=XT,Ya.useActionState=XT,Ya.useOptimistic=function(r){var a=Gn();a.memoizedState=a.baseState=r;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=u,a=bg.bind(null,Le,!0,u),u.dispatch=a,[r,a]};var Mr={readContext:Cn,use:Md,useCallback:ow,useContext:Cn,useEffect:vg,useImperativeHandle:aw,useInsertionEffect:iw,useLayoutEffect:sw,useMemo:lw,useReducer:Od,useRef:tw,useState:function(){return Od(ks)},useDebugValue:_g,useDeferredValue:function(r,a){var u=Ut();return uw(u,ot.memoizedState,r,a)},useTransition:function(){var r=Od(ks)[0],a=Ut().memoizedState;return[typeof r=="boolean"?r:Qu(r),a]},useSyncExternalStore:UT,useId:fw};Mr.useCacheRefresh=pw,Mr.useMemoCache=fg,Mr.useHostTransitionStatus=wg,Mr.useFormState=ZT,Mr.useActionState=ZT,Mr.useOptimistic=function(r,a){var u=Ut();return GT(u,ot,r,a)};var Qa={readContext:Cn,use:Md,useCallback:ow,useContext:Cn,useEffect:vg,useImperativeHandle:aw,useInsertionEffect:iw,useLayoutEffect:sw,useMemo:lw,useReducer:mg,useRef:tw,useState:function(){return mg(ks)},useDebugValue:_g,useDeferredValue:function(r,a){var u=Ut();return ot===null?Eg(u,r,a):uw(u,ot.memoizedState,r,a)},useTransition:function(){var r=mg(ks)[0],a=Ut().memoizedState;return[typeof r=="boolean"?r:Qu(r),a]},useSyncExternalStore:UT,useId:fw};Qa.useCacheRefresh=pw,Qa.useMemoCache=fg,Qa.useHostTransitionStatus=wg,Qa.useFormState=ew,Qa.useActionState=ew,Qa.useOptimistic=function(r,a){var u=Ut();return ot!==null?GT(u,ot,r,a):(u.baseState=r,[r,u.queue.dispatch])};function Sg(r,a,u,d){a=r.memoizedState,u=u(d,a),u=u==null?a:R({},a,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var xg={isMounted:function(r){return(r=r._reactInternals)?re(r)===r:!1},enqueueSetState:function(r,a,u){r=r._reactInternals;var d=ti(),m=Lr(d);m.payload=a,u!=null&&(m.callback=u),a=Vr(r,m,d),a!==null&&(jn(a,r,d),ec(a,r,d))},enqueueReplaceState:function(r,a,u){r=r._reactInternals;var d=ti(),m=Lr(d);m.tag=1,m.payload=a,u!=null&&(m.callback=u),a=Vr(r,m,d),a!==null&&(jn(a,r,d),ec(a,r,d))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var u=ti(),d=Lr(u);d.tag=2,a!=null&&(d.callback=a),a=Vr(r,d,u),a!==null&&(jn(a,r,u),ec(a,r,u))}};function vw(r,a,u,d,m,y,S){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,y,S):a.prototype&&a.prototype.isPureReactComponent?!ju(u,d)||!ju(m,y):!0}function _w(r,a,u,d){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,d),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,d),a.state!==r&&xg.enqueueReplaceState(a,a.state,null)}function Xa(r,a){var u=a;if("ref"in a){u={};for(var d in a)d!=="ref"&&(u[d]=a[d])}if(r=r.defaultProps){u===a&&(u=R({},u));for(var m in r)u[m]===void 0&&(u[m]=r[m])}return u}var jd=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Ew(r){jd(r)}function Tw(r){console.error(r)}function ww(r){jd(r)}function Ud(r,a){try{var u=r.onUncaughtError;u(a.value,{componentStack:a.stack})}catch(d){setTimeout(function(){throw d})}}function bw(r,a,u){try{var d=r.onCaughtError;d(u.value,{componentStack:u.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Cg(r,a,u){return u=Lr(u),u.tag=3,u.payload={element:null},u.callback=function(){Ud(r,a)},u}function Sw(r){return r=Lr(r),r.tag=3,r}function xw(r,a,u,d){var m=u.type.getDerivedStateFromError;if(typeof m=="function"){var y=d.value;r.payload=function(){return m(y)},r.callback=function(){bw(a,u,d)}}var S=u.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(r.callback=function(){bw(a,u,d),typeof m!="function"&&(Hr===null?Hr=new Set([this]):Hr.add(this));var P=d.stack;this.componentDidCatch(d.value,{componentStack:P!==null?P:""})})}function fD(r,a,u,d,m){if(u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(a=u.alternate,a!==null&&Ju(a,u,m,!0),u=vi.current,u!==null){switch(u.tag){case 13:return es===null?oy():u.alternate===null&&Rt===0&&(Rt=3),u.flags&=-257,u.flags|=65536,u.lanes=m,d===ng?u.flags|=16384:(a=u.updateQueue,a===null?u.updateQueue=new Set([d]):a.add(d),uy(r,d,m)),!1;case 22:return u.flags|=65536,d===ng?u.flags|=16384:(a=u.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([d])},u.updateQueue=a):(u=a.retryQueue,u===null?a.retryQueue=new Set([d]):u.add(d)),uy(r,d,m)),!1}throw Error(i(435,u.tag))}return uy(r,d,m),oy(),!1}if(nt)return a=vi.current,a!==null?(!(a.flags&65536)&&(a.flags|=256),a.flags|=65536,a.lanes=m,d!==tg&&(r=Error(i(422),{cause:d}),Fu(mi(r,u)))):(d!==tg&&(a=Error(i(423),{cause:d}),Fu(mi(a,u))),r=r.current.alternate,r.flags|=65536,m&=-m,r.lanes|=m,d=mi(d,u),m=Cg(r.stateNode,d,m),zg(r,m),Rt!==4&&(Rt=2)),!1;var y=Error(i(520),{cause:d});if(y=mi(y,u),lc===null?lc=[y]:lc.push(y),Rt!==4&&(Rt=2),a===null)return!0;d=mi(d,u),u=a;do{switch(u.tag){case 3:return u.flags|=65536,r=m&-m,u.lanes|=r,r=Cg(u.stateNode,d,r),zg(u,r),!1;case 1:if(a=u.type,y=u.stateNode,(u.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Hr===null||!Hr.has(y))))return u.flags|=65536,m&=-m,u.lanes|=m,m=Sw(m),xw(m,r,u,d),zg(u,m),!1}u=u.return}while(u!==null);return!1}var Cw=Error(i(461)),an=!1;function gn(r,a,u,d){a.child=r===null?PT(a,null,u,d):$a(a,r.child,u,d)}function Aw(r,a,u,d,m){u=u.render;var y=a.ref;if("ref"in d){var S={};for(var P in d)P!=="ref"&&(S[P]=d[P])}else S=d;return Ja(a),d=ug(r,a,u,S,y,m),P=cg(),r!==null&&!an?(hg(r,a,m),Ls(r,a,m)):(nt&&P&&Jm(a),a.flags|=1,gn(r,a,d,m),a.child)}function Rw(r,a,u,d,m){if(r===null){var y=u.type;return typeof y=="function"&&!Yg(y)&&y.defaultProps===void 0&&u.compare===null?(a.tag=15,a.type=y,Iw(r,a,y,d,m)):(r=qd(u.type,null,d,a,a.mode,m),r.ref=a.ref,r.return=a,a.child=r)}if(y=r.child,!kg(r,m)){var S=y.memoizedProps;if(u=u.compare,u=u!==null?u:ju,u(S,d)&&r.ref===a.ref)return Ls(r,a,m)}return a.flags|=1,r=zr(y,d),r.ref=a.ref,r.return=a,a.child=r}function Iw(r,a,u,d,m){if(r!==null){var y=r.memoizedProps;if(ju(y,d)&&r.ref===a.ref)if(an=!1,a.pendingProps=d=y,kg(r,m))r.flags&131072&&(an=!0);else return a.lanes=r.lanes,Ls(r,a,m)}return Ag(r,a,u,d,m)}function Nw(r,a,u){var d=a.pendingProps,m=d.children,y=(a.stateNode._pendingVisibility&2)!==0,S=r!==null?r.memoizedState:null;if(Zu(r,a),d.mode==="hidden"||y){if(a.flags&128){if(d=S!==null?S.baseLanes|u:u,r!==null){for(m=a.child=r.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;a.childLanes=y&~d}else a.childLanes=0,a.child=null;return Pw(r,a,d,u)}if(u&536870912)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&Id(a,S!==null?S.cachePool:null),S!==null?DT(a,S):ig(),MT(a);else return a.lanes=a.childLanes=536870912,Pw(r,a,S!==null?S.baseLanes|u:u,u)}else S!==null?(Id(a,S.cachePool),DT(a,S),Pr(),a.memoizedState=null):(r!==null&&Id(a,null),ig(),Pr());return gn(r,a,m,u),a.child}function Pw(r,a,u,d){var m=og();return m=m===null?null:{parent:Yt._currentValue,pool:m},a.memoizedState={baseLanes:u,cachePool:m},r!==null&&Id(a,null),ig(),MT(a),r!==null&&Ju(r,a,d,!0),null}function Zu(r,a){var u=a.ref;if(u===null)r!==null&&r.ref!==null&&(a.flags|=2097664);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(r===null||r.ref!==u)&&(a.flags|=2097664)}}function Ag(r,a,u,d,m){return Ja(a),u=ug(r,a,u,d,void 0,m),d=cg(),r!==null&&!an?(hg(r,a,m),Ls(r,a,m)):(nt&&d&&Jm(a),a.flags|=1,gn(r,a,u,m),a.child)}function Dw(r,a,u,d,m,y){return Ja(a),a.updateQueue=null,u=jT(a,d,u,m),VT(r),d=cg(),r!==null&&!an?(hg(r,a,y),Ls(r,a,y)):(nt&&d&&Jm(a),a.flags|=1,gn(r,a,u,y),a.child)}function Mw(r,a,u,d,m){if(Ja(a),a.stateNode===null){var y=Qo,S=u.contextType;typeof S=="object"&&S!==null&&(y=Cn(S)),y=new u(d,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=xg,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=d,y.state=a.memoizedState,y.refs={},Ug(a),S=u.contextType,y.context=typeof S=="object"&&S!==null?Cn(S):Qo,y.state=a.memoizedState,S=u.getDerivedStateFromProps,typeof S=="function"&&(Sg(a,u,S,d),y.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(S=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),S!==y.state&&xg.enqueueReplaceState(y,y.state,null),nc(a,d,y,m),tc(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),d=!0}else if(r===null){y=a.stateNode;var P=a.memoizedProps,B=Xa(u,P);y.props=B;var $=y.context,ee=u.contextType;S=Qo,typeof ee=="object"&&ee!==null&&(S=Cn(ee));var se=u.getDerivedStateFromProps;ee=typeof se=="function"||typeof y.getSnapshotBeforeUpdate=="function",P=a.pendingProps!==P,ee||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(P||$!==S)&&_w(a,y,d,S),kr=!1;var Q=a.memoizedState;y.state=Q,nc(a,d,y,m),tc(),$=a.memoizedState,P||Q!==$||kr?(typeof se=="function"&&(Sg(a,u,se,d),$=a.memoizedState),(B=kr||vw(a,u,B,d,Q,$,S))?(ee||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=d,a.memoizedState=$),y.props=d,y.state=$,y.context=S,d=B):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),d=!1)}else{y=a.stateNode,Bg(r,a),S=a.memoizedProps,ee=Xa(u,S),y.props=ee,se=a.pendingProps,Q=y.context,$=u.contextType,B=Qo,typeof $=="object"&&$!==null&&(B=Cn($)),P=u.getDerivedStateFromProps,($=typeof P=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S!==se||Q!==B)&&_w(a,y,d,B),kr=!1,Q=a.memoizedState,y.state=Q,nc(a,d,y,m),tc();var J=a.memoizedState;S!==se||Q!==J||kr||r!==null&&r.dependencies!==null&&Bd(r.dependencies)?(typeof P=="function"&&(Sg(a,u,P,d),J=a.memoizedState),(ee=kr||vw(a,u,ee,d,Q,J,B)||r!==null&&r.dependencies!==null&&Bd(r.dependencies))?($||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(d,J,B),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(d,J,B)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||S===r.memoizedProps&&Q===r.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&Q===r.memoizedState||(a.flags|=1024),a.memoizedProps=d,a.memoizedState=J),y.props=d,y.state=J,y.context=B,d=ee):(typeof y.componentDidUpdate!="function"||S===r.memoizedProps&&Q===r.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&Q===r.memoizedState||(a.flags|=1024),d=!1)}return y=d,Zu(r,a),d=(a.flags&128)!==0,y||d?(y=a.stateNode,u=d&&typeof u.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,r!==null&&d?(a.child=$a(a,r.child,null,m),a.child=$a(a,null,u,m)):gn(r,a,u,m),a.memoizedState=y.state,r=a.child):r=Ls(r,a,m),r}function Ow(r,a,u,d){return zu(),a.flags|=256,gn(r,a,u,d),a.child}var Rg={dehydrated:null,treeContext:null,retryLane:0};function Ig(r){return{baseLanes:r,cachePool:LT()}}function Ng(r,a,u){return r=r!==null?r.childLanes&~u:0,a&&(r|=wi),r}function kw(r,a,u){var d=a.pendingProps,m=!1,y=(a.flags&128)!==0,S;if((S=y)||(S=r!==null&&r.memoizedState===null?!1:(Wt.current&2)!==0),S&&(m=!0,a.flags&=-129),S=(a.flags&32)!==0,a.flags&=-33,r===null){if(nt){if(m?Nr(a):Pr(),nt){var P=mn,B;if(B=P){e:{for(B=P,P=Ji;B.nodeType!==8;){if(!P){P=null;break e}if(B=Oi(B.nextSibling),B===null){P=null;break e}}P=B}P!==null?(a.memoizedState={dehydrated:P,treeContext:Ha!==null?{id:Ds,overflow:Ms}:null,retryLane:536870912},B=Ti(18,null,null,0),B.stateNode=P,B.return=a,a.child=B,Vn=a,mn=null,B=!0):B=!1}B||Ga(a)}if(P=a.memoizedState,P!==null&&(P=P.dehydrated,P!==null))return P.data==="$!"?a.lanes=16:a.lanes=536870912,null;Os(a)}return P=d.children,d=d.fallback,m?(Pr(),m=a.mode,P=Dg({mode:"hidden",children:P},m),d=to(d,m,u,null),P.return=a,d.return=a,P.sibling=d,a.child=P,m=a.child,m.memoizedState=Ig(u),m.childLanes=Ng(r,S,u),a.memoizedState=Rg,d):(Nr(a),Pg(a,P))}if(B=r.memoizedState,B!==null&&(P=B.dehydrated,P!==null)){if(y)a.flags&256?(Nr(a),a.flags&=-257,a=Mg(r,a,u)):a.memoizedState!==null?(Pr(),a.child=r.child,a.flags|=128,a=null):(Pr(),m=d.fallback,P=a.mode,d=Dg({mode:"visible",children:d.children},P),m=to(m,P,u,null),m.flags|=2,d.return=a,m.return=a,d.sibling=m,a.child=d,$a(a,r.child,null,u),d=a.child,d.memoizedState=Ig(u),d.childLanes=Ng(r,S,u),a.memoizedState=Rg,a=m);else if(Nr(a),P.data==="$!"){if(S=P.nextSibling&&P.nextSibling.dataset,S)var $=S.dgst;S=$,d=Error(i(419)),d.stack="",d.digest=S,Fu({value:d,source:null,stack:null}),a=Mg(r,a,u)}else if(an||Ju(r,a,u,!1),S=(u&r.childLanes)!==0,an||S){if(S=dt,S!==null){if(d=u&-u,d&42)d=1;else switch(d){case 2:d=1;break;case 8:d=4;break;case 32:d=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:d=64;break;case 268435456:d=134217728;break;default:d=0}if(d=d&(S.suspendedLanes|u)?0:d,d!==0&&d!==B.retryLane)throw B.retryLane=d,Ir(r,d),jn(S,r,d),Cw}P.data==="$?"||oy(),a=Mg(r,a,u)}else P.data==="$?"?(a.flags|=128,a.child=r.child,a=RD.bind(null,r),P._reactRetry=a,a=null):(r=B.treeContext,mn=Oi(P.nextSibling),Vn=a,nt=!0,Di=null,Ji=!1,r!==null&&(gi[yi++]=Ds,gi[yi++]=Ms,gi[yi++]=Ha,Ds=r.id,Ms=r.overflow,Ha=a),a=Pg(a,d.children),a.flags|=4096);return a}return m?(Pr(),m=d.fallback,P=a.mode,B=r.child,$=B.sibling,d=zr(B,{mode:"hidden",children:d.children}),d.subtreeFlags=B.subtreeFlags&31457280,$!==null?m=zr($,m):(m=to(m,P,u,null),m.flags|=2),m.return=a,d.return=a,d.sibling=m,a.child=d,d=m,m=a.child,P=r.child.memoizedState,P===null?P=Ig(u):(B=P.cachePool,B!==null?($=Yt._currentValue,B=B.parent!==$?{parent:$,pool:$}:B):B=LT(),P={baseLanes:P.baseLanes|u,cachePool:B}),m.memoizedState=P,m.childLanes=Ng(r,S,u),a.memoizedState=Rg,d):(Nr(a),u=r.child,r=u.sibling,u=zr(u,{mode:"visible",children:d.children}),u.return=a,u.sibling=null,r!==null&&(S=a.deletions,S===null?(a.deletions=[r],a.flags|=16):S.push(r)),a.child=u,a.memoizedState=null,u)}function Pg(r,a){return a=Dg({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function Dg(r,a){return o1(r,a,0,null)}function Mg(r,a,u){return $a(a,r.child,null,u),r=Pg(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function Lw(r,a,u){r.lanes|=a;var d=r.alternate;d!==null&&(d.lanes|=a),Vg(r.return,a,u)}function Og(r,a,u,d,m){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:m}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=u,y.tailMode=m)}function Vw(r,a,u){var d=a.pendingProps,m=d.revealOrder,y=d.tail;if(gn(r,a,d.children,u),d=Wt.current,d&2)d=d&1|2,a.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Lw(r,u,a);else if(r.tag===19)Lw(r,u,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}switch(et(Wt,d),m){case"forwards":for(u=a.child,m=null;u!==null;)r=u.alternate,r!==null&&Rd(r)===null&&(m=u),u=u.sibling;u=m,u===null?(m=a.child,a.child=null):(m=u.sibling,u.sibling=null),Og(a,!1,m,u,y);break;case"backwards":for(u=null,m=a.child,a.child=null;m!==null;){if(r=m.alternate,r!==null&&Rd(r)===null){a.child=m;break}r=m.sibling,m.sibling=u,u=m,m=r}Og(a,!0,u,null,y);break;case"together":Og(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ls(r,a,u){if(r!==null&&(a.dependencies=r.dependencies),Fr|=a.lanes,!(u&a.childLanes))if(r!==null){if(Ju(r,a,u,!1),(u&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,u=zr(r,r.pendingProps),a.child=u,u.return=a;r.sibling!==null;)r=r.sibling,u=u.sibling=zr(r,r.pendingProps),u.return=a;u.sibling=null}return a.child}function kg(r,a){return r.lanes&a?!0:(r=r.dependencies,!!(r!==null&&Bd(r)))}function pD(r,a,u){switch(a.tag){case 3:we(a,a.stateNode.containerInfo),Or(a,Yt,r.memoizedState.cache),zu();break;case 27:case 5:We(a);break;case 4:we(a,a.stateNode.containerInfo);break;case 10:Or(a,a.type,a.memoizedProps.value);break;case 13:var d=a.memoizedState;if(d!==null)return d.dehydrated!==null?(Nr(a),a.flags|=128,null):u&a.child.childLanes?kw(r,a,u):(Nr(a),r=Ls(r,a,u),r!==null?r.sibling:null);Nr(a);break;case 19:var m=(r.flags&128)!==0;if(d=(u&a.childLanes)!==0,d||(Ju(r,a,u,!1),d=(u&a.childLanes)!==0),m){if(d)return Vw(r,a,u);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),et(Wt,Wt.current),d)break;return null;case 22:case 23:return a.lanes=0,Nw(r,a,u);case 24:Or(a,Yt,r.memoizedState.cache)}return Ls(r,a,u)}function jw(r,a,u){if(r!==null)if(r.memoizedProps!==a.pendingProps)an=!0;else{if(!kg(r,u)&&!(a.flags&128))return an=!1,pD(r,a,u);an=!!(r.flags&131072)}else an=!1,nt&&a.flags&1048576&&wT(a,bd,a.index);switch(a.lanes=0,a.tag){case 16:e:{r=a.pendingProps;var d=a.elementType,m=d._init;if(d=m(d._payload),a.type=d,typeof d=="function")Yg(d)?(r=Xa(d,r),a.tag=1,a=Mw(null,a,d,r,u)):(a.tag=0,a=Ag(null,a,d,r,u));else{if(d!=null){if(m=d.$$typeof,m===x){a.tag=11,a=Aw(null,a,d,r,u);break e}else if(m===D){a.tag=14,a=Rw(null,a,d,r,u);break e}}throw a=A(d)||d,Error(i(306,a,""))}}return a;case 0:return Ag(r,a,a.type,a.pendingProps,u);case 1:return d=a.type,m=Xa(d,a.pendingProps),Mw(r,a,d,m,u);case 3:e:{if(we(a,a.stateNode.containerInfo),r===null)throw Error(i(387));var y=a.pendingProps;m=a.memoizedState,d=m.element,Bg(r,a),nc(a,y,null,u);var S=a.memoizedState;if(y=S.cache,Or(a,Yt,y),y!==m.cache&&jg(a,[Yt],u,!0),tc(),y=S.element,m.isDehydrated)if(m={element:y,isDehydrated:!1,cache:S.cache},a.updateQueue.baseState=m,a.memoizedState=m,a.flags&256){a=Ow(r,a,y,u);break e}else if(y!==d){d=mi(Error(i(424)),a),Fu(d),a=Ow(r,a,y,u);break e}else for(mn=Oi(a.stateNode.containerInfo.firstChild),Vn=a,nt=!0,Di=null,Ji=!0,u=PT(a,null,y,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(zu(),y===d){a=Ls(r,a,u);break e}gn(r,a,y,u)}a=a.child}return a;case 26:return Zu(r,a),r===null?(u=z1(a.type,null,a.pendingProps,null))?a.memoizedState=u:nt||(u=a.type,r=a.pendingProps,d=nf(Fn.current).createElement(u),d[nn]=a,d[Gt]=r,yn(d,u,r),_t(d),a.stateNode=d):a.memoizedState=z1(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return We(a),r===null&&nt&&(d=a.stateNode=j1(a.type,a.pendingProps,Fn.current),Vn=a,Ji=!0,mn=Oi(d.firstChild)),d=a.pendingProps.children,r!==null||nt?gn(r,a,d,u):a.child=$a(a,null,d,u),Zu(r,a),a.child;case 5:return r===null&&nt&&((m=d=mn)&&(d=qD(d,a.type,a.pendingProps,Ji),d!==null?(a.stateNode=d,Vn=a,mn=Oi(d.firstChild),Ji=!1,m=!0):m=!1),m||Ga(a)),We(a),m=a.type,y=a.pendingProps,S=r!==null?r.memoizedProps:null,d=y.children,Ty(m,y)?d=null:S!==null&&Ty(m,S)&&(a.flags|=32),a.memoizedState!==null&&(m=ug(r,a,oD,null,null,u),yc._currentValue=m),Zu(r,a),gn(r,a,d,u),a.child;case 6:return r===null&&nt&&((r=u=mn)&&(u=GD(u,a.pendingProps,Ji),u!==null?(a.stateNode=u,Vn=a,mn=null,r=!0):r=!1),r||Ga(a)),null;case 13:return kw(r,a,u);case 4:return we(a,a.stateNode.containerInfo),d=a.pendingProps,r===null?a.child=$a(a,null,d,u):gn(r,a,d,u),a.child;case 11:return Aw(r,a,a.type,a.pendingProps,u);case 7:return gn(r,a,a.pendingProps,u),a.child;case 8:return gn(r,a,a.pendingProps.children,u),a.child;case 12:return gn(r,a,a.pendingProps.children,u),a.child;case 10:return d=a.pendingProps,Or(a,a.type,d.value),gn(r,a,d.children,u),a.child;case 9:return m=a.type._context,d=a.pendingProps.children,Ja(a),m=Cn(m),d=d(m),a.flags|=1,gn(r,a,d,u),a.child;case 14:return Rw(r,a,a.type,a.pendingProps,u);case 15:return Iw(r,a,a.type,a.pendingProps,u);case 19:return Vw(r,a,u);case 22:return Nw(r,a,u);case 24:return Ja(a),d=Cn(Yt),r===null?(m=og(),m===null&&(m=dt,y=rg(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=u),m=y),a.memoizedState={parent:d,cache:m},Ug(a),Or(a,Yt,m)):(r.lanes&u&&(Bg(r,a),nc(a,null,null,u),tc()),m=r.memoizedState,y=a.memoizedState,m.parent!==d?(m={parent:d,cache:d},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),Or(a,Yt,d)):(d=y.cache,Or(a,Yt,d),d!==m.cache&&jg(a,[Yt],u,!0))),gn(r,a,a.pendingProps.children,u),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}var Lg=Be(null),Za=null,Vs=null;function Or(r,a,u){et(Lg,a._currentValue),a._currentValue=u}function js(r){r._currentValue=Lg.current,yt(Lg)}function Vg(r,a,u){for(;r!==null;){var d=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,d!==null&&(d.childLanes|=a)):d!==null&&(d.childLanes&a)!==a&&(d.childLanes|=a),r===u)break;r=r.return}}function jg(r,a,u,d){var m=r.child;for(m!==null&&(m.return=r);m!==null;){var y=m.dependencies;if(y!==null){var S=m.child;y=y.firstContext;e:for(;y!==null;){var P=y;y=m;for(var B=0;B<a.length;B++)if(P.context===a[B]){y.lanes|=u,P=y.alternate,P!==null&&(P.lanes|=u),Vg(y.return,u,r),d||(S=null);break e}y=P.next}}else if(m.tag===18){if(S=m.return,S===null)throw Error(i(341));S.lanes|=u,y=S.alternate,y!==null&&(y.lanes|=u),Vg(S,u,r),S=null}else S=m.child;if(S!==null)S.return=m;else for(S=m;S!==null;){if(S===r){S=null;break}if(m=S.sibling,m!==null){m.return=S.return,S=m;break}S=S.return}m=S}}function Ju(r,a,u,d){r=null;for(var m=a,y=!1;m!==null;){if(!y){if(m.flags&524288)y=!0;else if(m.flags&262144)break}if(m.tag===10){var S=m.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var P=m.type;Xn(m.pendingProps.value,S.value)||(r!==null?r.push(P):r=[P])}}else if(m===le.current){if(S=m.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(r!==null?r.push(yc):r=[yc])}m=m.return}r!==null&&jg(a,r,u,d),a.flags|=262144}function Bd(r){for(r=r.firstContext;r!==null;){if(!Xn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Ja(r){Za=r,Vs=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Cn(r){return Uw(Za,r)}function zd(r,a){return Za===null&&Ja(r),Uw(r,a)}function Uw(r,a){var u=a._currentValue;if(a={context:a,memoizedValue:u,next:null},Vs===null){if(r===null)throw Error(i(308));Vs=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else Vs=Vs.next=a;return u}var kr=!1;function Ug(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bg(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Lr(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Vr(r,a,u){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,Tt&2){var m=d.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),d.pending=a,a=Td(r),ET(r,null,u),a}return Ed(r,d,a,u),Td(r)}function ec(r,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194176)!==0)){var d=a.lanes;d&=r.pendingLanes,u|=d,a.lanes=u,_r(r,u)}}function zg(r,a){var u=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var m=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var S={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};y===null?m=y=S:y=y.next=S,u=u.next}while(u!==null);y===null?m=y=a:y=y.next=a}else m=y=a;u={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:d.shared,callbacks:d.callbacks},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=a:r.next=a,u.lastBaseUpdate=a}var Fg=!1;function tc(){if(Fg){var r=nl;if(r!==null)throw r}}function nc(r,a,u,d){Fg=!1;var m=r.updateQueue;kr=!1;var y=m.firstBaseUpdate,S=m.lastBaseUpdate,P=m.shared.pending;if(P!==null){m.shared.pending=null;var B=P,$=B.next;B.next=null,S===null?y=$:S.next=$,S=B;var ee=r.alternate;ee!==null&&(ee=ee.updateQueue,P=ee.lastBaseUpdate,P!==S&&(P===null?ee.firstBaseUpdate=$:P.next=$,ee.lastBaseUpdate=B))}if(y!==null){var se=m.baseState;S=0,ee=$=B=null,P=y;do{var Q=P.lane&-536870913,J=Q!==P.lane;if(J?(Xe&Q)===Q:(d&Q)===Q){Q!==0&&Q===tl&&(Fg=!0),ee!==null&&(ee=ee.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var Ee=r,Pe=P;Q=a;var It=u;switch(Pe.tag){case 1:if(Ee=Pe.payload,typeof Ee=="function"){se=Ee.call(It,se,Q);break e}se=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Pe.payload,Q=typeof Ee=="function"?Ee.call(It,se,Q):Ee,Q==null)break e;se=R({},se,Q);break e;case 2:kr=!0}}Q=P.callback,Q!==null&&(r.flags|=64,J&&(r.flags|=8192),J=m.callbacks,J===null?m.callbacks=[Q]:J.push(Q))}else J={lane:Q,tag:P.tag,payload:P.payload,callback:P.callback,next:null},ee===null?($=ee=J,B=se):ee=ee.next=J,S|=Q;if(P=P.next,P===null){if(P=m.shared.pending,P===null)break;J=P,P=J.next,J.next=null,m.lastBaseUpdate=J,m.shared.pending=null}}while(!0);ee===null&&(B=se),m.baseState=B,m.firstBaseUpdate=$,m.lastBaseUpdate=ee,y===null&&(m.shared.lanes=0),Fr|=S,r.lanes=S,r.memoizedState=se}}function Bw(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function zw(r,a){var u=r.callbacks;if(u!==null)for(r.callbacks=null,r=0;r<u.length;r++)Bw(u[r],a)}function ic(r,a){try{var u=a.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var m=d.next;u=m;do{if((u.tag&r)===r){d=void 0;var y=u.create,S=u.inst;d=y(),S.destroy=d}u=u.next}while(u!==m)}}catch(P){ct(a,a.return,P)}}function jr(r,a,u){try{var d=a.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var y=m.next;d=y;do{if((d.tag&r)===r){var S=d.inst,P=S.destroy;if(P!==void 0){S.destroy=void 0,m=a;var B=u;try{P()}catch($){ct(m,B,$)}}}d=d.next}while(d!==y)}}catch($){ct(a,a.return,$)}}function Fw(r){var a=r.updateQueue;if(a!==null){var u=r.stateNode;try{zw(a,u)}catch(d){ct(r,r.return,d)}}}function Hw(r,a,u){u.props=Xa(r.type,r.memoizedProps),u.state=r.memoizedState;try{u.componentWillUnmount()}catch(d){ct(r,a,d)}}function eo(r,a){try{var u=r.ref;if(u!==null){var d=r.stateNode;switch(r.tag){case 26:case 27:case 5:var m=d;break;default:m=d}typeof u=="function"?r.refCleanup=u(m):u.current=m}}catch(y){ct(r,a,y)}}function Zn(r,a){var u=r.ref,d=r.refCleanup;if(u!==null)if(typeof d=="function")try{d()}catch(m){ct(r,a,m)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(m){ct(r,a,m)}else u.current=null}function qw(r){var a=r.type,u=r.memoizedProps,d=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":u.autoFocus&&d.focus();break e;case"img":u.src?d.src=u.src:u.srcSet&&(d.srcset=u.srcSet)}}catch(m){ct(r,r.return,m)}}function Gw(r,a,u){try{var d=r.stateNode;UD(d,r.type,u,a),d[Gt]=a}catch(m){ct(r,r.return,m)}}function $w(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27||r.tag===4}function Hg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||$w(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==27&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function qg(r,a,u){var d=r.tag;if(d===5||d===6)r=r.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(r,a):u.insertBefore(r,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(r,u)):(a=u,a.appendChild(r)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=tf));else if(d!==4&&d!==27&&(r=r.child,r!==null))for(qg(r,a,u),r=r.sibling;r!==null;)qg(r,a,u),r=r.sibling}function Fd(r,a,u){var d=r.tag;if(d===5||d===6)r=r.stateNode,a?u.insertBefore(r,a):u.appendChild(r);else if(d!==4&&d!==27&&(r=r.child,r!==null))for(Fd(r,a,u),r=r.sibling;r!==null;)Fd(r,a,u),r=r.sibling}var Us=!1,At=!1,Gg=!1,Kw=typeof WeakSet=="function"?WeakSet:Set,on=null,Ww=!1;function mD(r,a){if(r=r.containerInfo,_y=uf,r=hT(r),Km(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else e:{u=(u=r.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var m=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break e}var S=0,P=-1,B=-1,$=0,ee=0,se=r,Q=null;t:for(;;){for(var J;se!==u||m!==0&&se.nodeType!==3||(P=S+m),se!==y||d!==0&&se.nodeType!==3||(B=S+d),se.nodeType===3&&(S+=se.nodeValue.length),(J=se.firstChild)!==null;)Q=se,se=J;for(;;){if(se===r)break t;if(Q===u&&++$===m&&(P=S),Q===y&&++ee===d&&(B=S),(J=se.nextSibling)!==null)break;se=Q,Q=se.parentNode}se=J}u=P===-1||B===-1?null:{start:P,end:B}}else u=null}u=u||{start:0,end:0}}else u=null;for(Ey={focusedElem:r,selectionRange:u},uf=!1,on=a;on!==null;)if(a=on,r=a.child,(a.subtreeFlags&1028)!==0&&r!==null)r.return=a,on=r;else for(;on!==null;){switch(a=on,y=a.alternate,r=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if(r&1024&&y!==null){r=void 0,u=a,m=y.memoizedProps,y=y.memoizedState,d=u.stateNode;try{var Ee=Xa(u.type,m,u.elementType===u.type);r=d.getSnapshotBeforeUpdate(Ee,y),d.__reactInternalSnapshotBeforeUpdate=r}catch(Pe){ct(u,u.return,Pe)}}break;case 3:if(r&1024){if(r=a.stateNode.containerInfo,u=r.nodeType,u===9)Sy(r);else if(u===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Sy(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(r&1024)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,on=r;break}on=a.return}return Ee=Ww,Ww=!1,Ee}function Yw(r,a,u){var d=u.flags;switch(u.tag){case 0:case 11:case 15:zs(r,u),d&4&&ic(5,u);break;case 1:if(zs(r,u),d&4)if(r=u.stateNode,a===null)try{r.componentDidMount()}catch(P){ct(u,u.return,P)}else{var m=Xa(u.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(m,a,r.__reactInternalSnapshotBeforeUpdate)}catch(P){ct(u,u.return,P)}}d&64&&Fw(u),d&512&&eo(u,u.return);break;case 3:if(zs(r,u),d&64&&(d=u.updateQueue,d!==null)){if(r=null,u.child!==null)switch(u.child.tag){case 27:case 5:r=u.child.stateNode;break;case 1:r=u.child.stateNode}try{zw(d,r)}catch(P){ct(u,u.return,P)}}break;case 26:zs(r,u),d&512&&eo(u,u.return);break;case 27:case 5:zs(r,u),a===null&&d&4&&qw(u),d&512&&eo(u,u.return);break;case 12:zs(r,u);break;case 13:zs(r,u),d&4&&Zw(r,u);break;case 22:if(m=u.memoizedState!==null||Us,!m){a=a!==null&&a.memoizedState!==null||At;var y=Us,S=At;Us=m,(At=a)&&!S?Ur(r,u,(u.subtreeFlags&8772)!==0):zs(r,u),Us=y,At=S}d&512&&(u.memoizedProps.mode==="manual"?eo(u,u.return):Zn(u,u.return));break;default:zs(r,u)}}function Qw(r){var a=r.alternate;a!==null&&(r.alternate=null,Qw(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&Na(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Bt=null,Jn=!1;function Bs(r,a,u){for(u=u.child;u!==null;)Xw(r,a,u),u=u.sibling}function Xw(r,a,u){if(xn&&typeof xn.onCommitFiberUnmount=="function")try{xn.onCommitFiberUnmount(pr,u)}catch{}switch(u.tag){case 26:At||Zn(u,a),Bs(r,a,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:At||Zn(u,a);var d=Bt,m=Jn;for(Bt=u.stateNode,Bs(r,a,u),u=u.stateNode,a=u.attributes;a.length;)u.removeAttributeNode(a[0]);Na(u),Bt=d,Jn=m;break;case 5:At||Zn(u,a);case 6:m=Bt;var y=Jn;if(Bt=null,Bs(r,a,u),Bt=m,Jn=y,Bt!==null)if(Jn)try{r=Bt,d=u.stateNode,r.nodeType===8?r.parentNode.removeChild(d):r.removeChild(d)}catch(S){ct(u,a,S)}else try{Bt.removeChild(u.stateNode)}catch(S){ct(u,a,S)}break;case 18:Bt!==null&&(Jn?(a=Bt,u=u.stateNode,a.nodeType===8?by(a.parentNode,u):a.nodeType===1&&by(a,u),Tc(a)):by(Bt,u.stateNode));break;case 4:d=Bt,m=Jn,Bt=u.stateNode.containerInfo,Jn=!0,Bs(r,a,u),Bt=d,Jn=m;break;case 0:case 11:case 14:case 15:At||jr(2,u,a),At||jr(4,u,a),Bs(r,a,u);break;case 1:At||(Zn(u,a),d=u.stateNode,typeof d.componentWillUnmount=="function"&&Hw(u,a,d)),Bs(r,a,u);break;case 21:Bs(r,a,u);break;case 22:At||Zn(u,a),At=(d=At)||u.memoizedState!==null,Bs(r,a,u),At=d;break;default:Bs(r,a,u)}}function Zw(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Tc(r)}catch(u){ct(a,a.return,u)}}function gD(r){switch(r.tag){case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new Kw),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new Kw),a;default:throw Error(i(435,r.tag))}}function $g(r,a){var u=gD(r);a.forEach(function(d){var m=ID.bind(null,r,d);u.has(d)||(u.add(d),d.then(m,m))})}function _i(r,a){var u=a.deletions;if(u!==null)for(var d=0;d<u.length;d++){var m=u[d],y=r,S=a,P=S;e:for(;P!==null;){switch(P.tag){case 27:case 5:Bt=P.stateNode,Jn=!1;break e;case 3:Bt=P.stateNode.containerInfo,Jn=!0;break e;case 4:Bt=P.stateNode.containerInfo,Jn=!0;break e}P=P.return}if(Bt===null)throw Error(i(160));Xw(y,S,m),Bt=null,Jn=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)Jw(a,r),a=a.sibling}var Mi=null;function Jw(r,a){var u=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:_i(a,r),Ei(r),d&4&&(jr(3,r,r.return),ic(3,r),jr(5,r,r.return));break;case 1:_i(a,r),Ei(r),d&512&&(At||u===null||Zn(u,u.return)),d&64&&Us&&(r=r.updateQueue,r!==null&&(d=r.callbacks,d!==null&&(u=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=u===null?d:u.concat(d))));break;case 26:var m=Mi;if(_i(a,r),Ei(r),d&512&&(At||u===null||Zn(u,u.return)),d&4){var y=u!==null?u.memoizedState:null;if(d=r.memoizedState,u===null)if(d===null)if(r.stateNode===null){e:{d=r.type,u=r.memoizedProps,m=m.ownerDocument||m;t:switch(d){case"title":y=m.getElementsByTagName("title")[0],(!y||y[Tr]||y[nn]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(d),m.head.insertBefore(y,m.querySelector("head > title"))),yn(y,d,u),y[nn]=r,_t(y),d=y;break e;case"link":var S=q1("link","href",m).get(d+(u.href||""));if(S){for(var P=0;P<S.length;P++)if(y=S[P],y.getAttribute("href")===(u.href==null?null:u.href)&&y.getAttribute("rel")===(u.rel==null?null:u.rel)&&y.getAttribute("title")===(u.title==null?null:u.title)&&y.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){S.splice(P,1);break t}}y=m.createElement(d),yn(y,d,u),m.head.appendChild(y);break;case"meta":if(S=q1("meta","content",m).get(d+(u.content||""))){for(P=0;P<S.length;P++)if(y=S[P],y.getAttribute("content")===(u.content==null?null:""+u.content)&&y.getAttribute("name")===(u.name==null?null:u.name)&&y.getAttribute("property")===(u.property==null?null:u.property)&&y.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&y.getAttribute("charset")===(u.charSet==null?null:u.charSet)){S.splice(P,1);break t}}y=m.createElement(d),yn(y,d,u),m.head.appendChild(y);break;default:throw Error(i(468,d))}y[nn]=r,_t(y),d=y}r.stateNode=d}else G1(m,r.type,r.stateNode);else r.stateNode=H1(m,d,r.memoizedProps);else y!==d?(y===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):y.count--,d===null?G1(m,r.type,r.stateNode):H1(m,d,r.memoizedProps)):d===null&&r.stateNode!==null&&Gw(r,r.memoizedProps,u.memoizedProps)}break;case 27:if(d&4&&r.alternate===null){m=r.stateNode,y=r.memoizedProps;try{for(var B=m.firstChild;B;){var $=B.nextSibling,ee=B.nodeName;B[Tr]||ee==="HEAD"||ee==="BODY"||ee==="SCRIPT"||ee==="STYLE"||ee==="LINK"&&B.rel.toLowerCase()==="stylesheet"||m.removeChild(B),B=$}for(var se=r.type,Q=m.attributes;Q.length;)m.removeAttributeNode(Q[0]);yn(m,se,y),m[nn]=r,m[Gt]=y}catch(Ee){ct(r,r.return,Ee)}}case 5:if(_i(a,r),Ei(r),d&512&&(At||u===null||Zn(u,u.return)),r.flags&32){m=r.stateNode;try{ci(m,"")}catch(Ee){ct(r,r.return,Ee)}}d&4&&r.stateNode!=null&&(m=r.memoizedProps,Gw(r,m,u!==null?u.memoizedProps:m)),d&1024&&(Gg=!0);break;case 6:if(_i(a,r),Ei(r),d&4){if(r.stateNode===null)throw Error(i(162));d=r.memoizedProps,u=r.stateNode;try{u.nodeValue=d}catch(Ee){ct(r,r.return,Ee)}}break;case 3:if(af=null,m=Mi,Mi=sf(a.containerInfo),_i(a,r),Mi=m,Ei(r),d&4&&u!==null&&u.memoizedState.isDehydrated)try{Tc(a.containerInfo)}catch(Ee){ct(r,r.return,Ee)}Gg&&(Gg=!1,e1(r));break;case 4:d=Mi,Mi=sf(r.stateNode.containerInfo),_i(a,r),Ei(r),Mi=d;break;case 12:_i(a,r),Ei(r);break;case 13:_i(a,r),Ei(r),r.child.flags&8192&&r.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(ty=Sn()),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,$g(r,d)));break;case 22:if(d&512&&(At||u===null||Zn(u,u.return)),B=r.memoizedState!==null,$=u!==null&&u.memoizedState!==null,ee=Us,se=At,Us=ee||B,At=se||$,_i(a,r),At=se,Us=ee,Ei(r),a=r.stateNode,a._current=r,a._visibility&=-3,a._visibility|=a._pendingVisibility&2,d&8192&&(a._visibility=B?a._visibility&-2:a._visibility|1,B&&(a=Us||At,u===null||$||a||al(r)),r.memoizedProps===null||r.memoizedProps.mode!=="manual"))e:for(u=null,a=r;;){if(a.tag===5||a.tag===26||a.tag===27){if(u===null){$=u=a;try{if(m=$.stateNode,B)y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{S=$.stateNode,P=$.memoizedProps.style;var J=P!=null&&P.hasOwnProperty("display")?P.display:null;S.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(Ee){ct($,$.return,Ee)}}}else if(a.tag===6){if(u===null){$=a;try{$.stateNode.nodeValue=B?"":$.memoizedProps}catch(Ee){ct($,$.return,Ee)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;u===a&&(u=null),a=a.return}u===a&&(u=null),a.sibling.return=a.return,a=a.sibling}d&4&&(d=r.updateQueue,d!==null&&(u=d.retryQueue,u!==null&&(d.retryQueue=null,$g(r,u))));break;case 19:_i(a,r),Ei(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,$g(r,d)));break;case 21:break;default:_i(a,r),Ei(r)}}function Ei(r){var a=r.flags;if(a&2){try{if(r.tag!==27){e:{for(var u=r.return;u!==null;){if($w(u)){var d=u;break e}u=u.return}throw Error(i(160))}switch(d.tag){case 27:var m=d.stateNode,y=Hg(r);Fd(r,y,m);break;case 5:var S=d.stateNode;d.flags&32&&(ci(S,""),d.flags&=-33);var P=Hg(r);Fd(r,P,S);break;case 3:case 4:var B=d.stateNode.containerInfo,$=Hg(r);qg(r,$,B);break;default:throw Error(i(161))}}}catch(ee){ct(r,r.return,ee)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function e1(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;e1(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function zs(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Yw(r,a.alternate,a),a=a.sibling}function al(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:jr(4,a,a.return),al(a);break;case 1:Zn(a,a.return);var u=a.stateNode;typeof u.componentWillUnmount=="function"&&Hw(a,a.return,u),al(a);break;case 26:case 27:case 5:Zn(a,a.return),al(a);break;case 22:Zn(a,a.return),a.memoizedState===null&&al(a);break;default:al(a)}r=r.sibling}}function Ur(r,a,u){for(u=u&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var d=a.alternate,m=r,y=a,S=y.flags;switch(y.tag){case 0:case 11:case 15:Ur(m,y,u),ic(4,y);break;case 1:if(Ur(m,y,u),d=y,m=d.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch($){ct(d,d.return,$)}if(d=y,m=d.updateQueue,m!==null){var P=d.stateNode;try{var B=m.shared.hiddenCallbacks;if(B!==null)for(m.shared.hiddenCallbacks=null,m=0;m<B.length;m++)Bw(B[m],P)}catch($){ct(d,d.return,$)}}u&&S&64&&Fw(y),eo(y,y.return);break;case 26:case 27:case 5:Ur(m,y,u),u&&d===null&&S&4&&qw(y),eo(y,y.return);break;case 12:Ur(m,y,u);break;case 13:Ur(m,y,u),u&&S&4&&Zw(m,y);break;case 22:y.memoizedState===null&&Ur(m,y,u),eo(y,y.return);break;default:Ur(m,y,u)}a=a.sibling}}function Kg(r,a){var u=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==u&&(r!=null&&r.refCount++,u!=null&&Ku(u))}function Wg(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Ku(r))}function Br(r,a,u,d){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)t1(r,a,u,d),a=a.sibling}function t1(r,a,u,d){var m=a.flags;switch(a.tag){case 0:case 11:case 15:Br(r,a,u,d),m&2048&&ic(9,a);break;case 3:Br(r,a,u,d),m&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Ku(r)));break;case 12:if(m&2048){Br(r,a,u,d),r=a.stateNode;try{var y=a.memoizedProps,S=y.id,P=y.onPostCommit;typeof P=="function"&&P(S,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(B){ct(a,a.return,B)}}else Br(r,a,u,d);break;case 23:break;case 22:y=a.stateNode,a.memoizedState!==null?y._visibility&4?Br(r,a,u,d):sc(r,a):y._visibility&4?Br(r,a,u,d):(y._visibility|=4,ol(r,a,u,d,(a.subtreeFlags&10256)!==0)),m&2048&&Kg(a.alternate,a);break;case 24:Br(r,a,u,d),m&2048&&Wg(a.alternate,a);break;default:Br(r,a,u,d)}}function ol(r,a,u,d,m){for(m=m&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=r,S=a,P=u,B=d,$=S.flags;switch(S.tag){case 0:case 11:case 15:ol(y,S,P,B,m),ic(8,S);break;case 23:break;case 22:var ee=S.stateNode;S.memoizedState!==null?ee._visibility&4?ol(y,S,P,B,m):sc(y,S):(ee._visibility|=4,ol(y,S,P,B,m)),m&&$&2048&&Kg(S.alternate,S);break;case 24:ol(y,S,P,B,m),m&&$&2048&&Wg(S.alternate,S);break;default:ol(y,S,P,B,m)}a=a.sibling}}function sc(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var u=r,d=a,m=d.flags;switch(d.tag){case 22:sc(u,d),m&2048&&Kg(d.alternate,d);break;case 24:sc(u,d),m&2048&&Wg(d.alternate,d);break;default:sc(u,d)}a=a.sibling}}var rc=8192;function ll(r){if(r.subtreeFlags&rc)for(r=r.child;r!==null;)n1(r),r=r.sibling}function n1(r){switch(r.tag){case 26:ll(r),r.flags&rc&&r.memoizedState!==null&&sM(Mi,r.memoizedState,r.memoizedProps);break;case 5:ll(r);break;case 3:case 4:var a=Mi;Mi=sf(r.stateNode.containerInfo),ll(r),Mi=a;break;case 22:r.memoizedState===null&&(a=r.alternate,a!==null&&a.memoizedState!==null?(a=rc,rc=16777216,ll(r),rc=a):ll(r));break;default:ll(r)}}function i1(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function ac(r){var a=r.deletions;if(r.flags&16){if(a!==null)for(var u=0;u<a.length;u++){var d=a[u];on=d,r1(d,r)}i1(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)s1(r),r=r.sibling}function s1(r){switch(r.tag){case 0:case 11:case 15:ac(r),r.flags&2048&&jr(9,r,r.return);break;case 3:ac(r);break;case 12:ac(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&4&&(r.return===null||r.return.tag!==13)?(a._visibility&=-5,Hd(r)):ac(r);break;default:ac(r)}}function Hd(r){var a=r.deletions;if(r.flags&16){if(a!==null)for(var u=0;u<a.length;u++){var d=a[u];on=d,r1(d,r)}i1(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:jr(8,a,a.return),Hd(a);break;case 22:u=a.stateNode,u._visibility&4&&(u._visibility&=-5,Hd(a));break;default:Hd(a)}r=r.sibling}}function r1(r,a){for(;on!==null;){var u=on;switch(u.tag){case 0:case 11:case 15:jr(8,u,a);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var d=u.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Ku(u.memoizedState.cache)}if(d=u.child,d!==null)d.return=u,on=d;else e:for(u=r;on!==null;){d=on;var m=d.sibling,y=d.return;if(Qw(d),d===u){on=null;break e}if(m!==null){m.return=y,on=m;break e}on=y}}}function yD(r,a,u,d){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ti(r,a,u,d){return new yD(r,a,u,d)}function Yg(r){return r=r.prototype,!(!r||!r.isReactComponent)}function zr(r,a){var u=r.alternate;return u===null?(u=Ti(r.tag,a,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=a,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&31457280,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,a=r.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u.refCleanup=r.refCleanup,u}function a1(r,a){r.flags&=31457282;var u=r.alternate;return u===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=u.childLanes,r.lanes=u.lanes,r.child=u.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=u.memoizedProps,r.memoizedState=u.memoizedState,r.updateQueue=u.updateQueue,r.type=u.type,a=u.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function qd(r,a,u,d,m,y){var S=0;if(d=r,typeof r=="function")Yg(r)&&(S=1);else if(typeof r=="string")S=nM(r,u,en.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case h:return to(u.children,m,y,a);case f:S=8,m|=24;break;case g:return r=Ti(12,u,a,m|2),r.elementType=g,r.lanes=y,r;case O:return r=Ti(13,u,a,m),r.elementType=O,r.lanes=y,r;case V:return r=Ti(19,u,a,m),r.elementType=V,r.lanes=y,r;case N:return o1(u,m,y,a);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case v:case w:S=10;break e;case _:S=9;break e;case x:S=11;break e;case D:S=14;break e;case I:S=16,d=null;break e}S=29,u=Error(i(130,r===null?"null":typeof r,"")),d=null}return a=Ti(S,u,a,m),a.elementType=r,a.type=d,a.lanes=y,a}function to(r,a,u,d){return r=Ti(7,r,d,a),r.lanes=u,r}function o1(r,a,u,d){r=Ti(22,r,d,a),r.elementType=N,r.lanes=u;var m={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var y=m._current;if(y===null)throw Error(i(456));if(!(m._pendingVisibility&2)){var S=Ir(y,2);S!==null&&(m._pendingVisibility|=2,jn(S,y,2))}},attach:function(){var y=m._current;if(y===null)throw Error(i(456));if(m._pendingVisibility&2){var S=Ir(y,2);S!==null&&(m._pendingVisibility&=-3,jn(S,y,2))}}};return r.stateNode=m,r}function Qg(r,a,u){return r=Ti(6,r,null,a),r.lanes=u,r}function Xg(r,a,u){return a=Ti(4,r.children!==null?r.children:[],r.key,a),a.lanes=u,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}function Fs(r){r.flags|=4}function l1(r,a){if(a.type!=="stylesheet"||a.state.loading&4)r.flags&=-16777217;else if(r.flags|=16777216,!$1(a)){if(a=vi.current,a!==null&&((Xe&4194176)===Xe?es!==null:(Xe&62914560)!==Xe&&!(Xe&536870912)||a!==es))throw qu=ng,xT;r.flags|=8192}}function Gd(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?yr():536870912,r.lanes|=a,cl|=a)}function oc(r,a){if(!nt)switch(r.tailMode){case"hidden":a=r.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Et(r){var a=r.alternate!==null&&r.alternate.child===r.child,u=0,d=0;if(a)for(var m=r.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags&31457280,d|=m.flags&31457280,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=d,r.childLanes=u,a}function vD(r,a,u){var d=a.pendingProps;switch(eg(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(a),null;case 1:return Et(a),null;case 3:return u=a.stateNode,d=null,r!==null&&(d=r.memoizedState.cache),a.memoizedState.cache!==d&&(a.flags|=2048),js(Yt),Ge(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(Bu(a)?Fs(a):r===null||r.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,Di!==null&&(ry(Di),Di=null))),Et(a),null;case 26:return u=a.memoizedState,r===null?(Fs(a),u!==null?(Et(a),l1(a,u)):(Et(a),a.flags&=-16777217)):u?u!==r.memoizedState?(Fs(a),Et(a),l1(a,u)):(Et(a),a.flags&=-16777217):(r.memoizedProps!==d&&Fs(a),Et(a),a.flags&=-16777217),null;case 27:Ht(a),u=Fn.current;var m=a.type;if(r!==null&&a.stateNode!=null)r.memoizedProps!==d&&Fs(a);else{if(!d){if(a.stateNode===null)throw Error(i(166));return Et(a),null}r=en.current,Bu(a)?bT(a):(r=j1(m,d,u),a.stateNode=r,Fs(a))}return Et(a),null;case 5:if(Ht(a),u=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==d&&Fs(a);else{if(!d){if(a.stateNode===null)throw Error(i(166));return Et(a),null}if(r=en.current,Bu(a))bT(a);else{switch(m=nf(Fn.current),r){case 1:r=m.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:r=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":r=m.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":r=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":r=m.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof d.is=="string"?m.createElement("select",{is:d.is}):m.createElement("select"),d.multiple?r.multiple=!0:d.size&&(r.size=d.size);break;default:r=typeof d.is=="string"?m.createElement(u,{is:d.is}):m.createElement(u)}}r[nn]=a,r[Gt]=d;e:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)r.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break e;for(;m.sibling===null;){if(m.return===null||m.return===a)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=r;e:switch(yn(r,u,d),u){case"button":case"input":case"select":case"textarea":r=!!d.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Fs(a)}}return Et(a),a.flags&=-16777217,null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==d&&Fs(a);else{if(typeof d!="string"&&a.stateNode===null)throw Error(i(166));if(r=Fn.current,Bu(a)){if(r=a.stateNode,u=a.memoizedProps,d=null,m=Vn,m!==null)switch(m.tag){case 27:case 5:d=m.memoizedProps}r[nn]=a,r=!!(r.nodeValue===u||d!==null&&d.suppressHydrationWarning===!0||D1(r.nodeValue,u)),r||Ga(a)}else r=nf(r).createTextNode(d),r[nn]=a,a.stateNode=r}return Et(a),null;case 13:if(d=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(m=Bu(a),d!==null&&d.dehydrated!==null){if(r===null){if(!m)throw Error(i(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[nn]=a}else zu(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;Et(a),m=!1}else Di!==null&&(ry(Di),Di=null),m=!0;if(!m)return a.flags&256?(Os(a),a):(Os(a),null)}if(Os(a),a.flags&128)return a.lanes=u,a;if(u=d!==null,r=r!==null&&r.memoizedState!==null,u){d=a.child,m=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(m=d.alternate.memoizedState.cachePool.pool);var y=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(y=d.memoizedState.cachePool.pool),y!==m&&(d.flags|=2048)}return u!==r&&u&&(a.child.flags|=8192),Gd(a,a.updateQueue),Et(a),null;case 4:return Ge(),r===null&&gy(a.stateNode.containerInfo),Et(a),null;case 10:return js(a.type),Et(a),null;case 19:if(yt(Wt),m=a.memoizedState,m===null)return Et(a),null;if(d=(a.flags&128)!==0,y=m.rendering,y===null)if(d)oc(m,!1);else{if(Rt!==0||r!==null&&r.flags&128)for(r=a.child;r!==null;){if(y=Rd(r),y!==null){for(a.flags|=128,oc(m,!1),r=y.updateQueue,a.updateQueue=r,Gd(a,r),a.subtreeFlags=0,r=u,u=a.child;u!==null;)a1(u,r),u=u.sibling;return et(Wt,Wt.current&1|2),a.child}r=r.sibling}m.tail!==null&&Sn()>$d&&(a.flags|=128,d=!0,oc(m,!1),a.lanes=4194304)}else{if(!d)if(r=Rd(y),r!==null){if(a.flags|=128,d=!0,r=r.updateQueue,a.updateQueue=r,Gd(a,r),oc(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!nt)return Et(a),null}else 2*Sn()-m.renderingStartTime>$d&&u!==536870912&&(a.flags|=128,d=!0,oc(m,!1),a.lanes=4194304);m.isBackwards?(y.sibling=a.child,a.child=y):(r=m.last,r!==null?r.sibling=y:a.child=y,m.last=y)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=Sn(),a.sibling=null,r=Wt.current,et(Wt,d?r&1|2:r&1),a):(Et(a),null);case 22:case 23:return Os(a),sg(),d=a.memoizedState!==null,r!==null?r.memoizedState!==null!==d&&(a.flags|=8192):d&&(a.flags|=8192),d?u&536870912&&!(a.flags&128)&&(Et(a),a.subtreeFlags&6&&(a.flags|=8192)):Et(a),u=a.updateQueue,u!==null&&Gd(a,u.retryQueue),u=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),d=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),d!==u&&(a.flags|=2048),r!==null&&yt(Ka),null;case 24:return u=null,r!==null&&(u=r.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),js(Yt),Et(a),null;case 25:return null}throw Error(i(156,a.tag))}function _D(r,a){switch(eg(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return js(Yt),Ge(),r=a.flags,r&65536&&!(r&128)?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return Ht(a),null;case 13:if(Os(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));zu()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return yt(Wt),null;case 4:return Ge(),null;case 10:return js(a.type),null;case 22:case 23:return Os(a),sg(),r!==null&&yt(Ka),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return js(Yt),null;case 25:return null;default:return null}}function u1(r,a){switch(eg(a),a.tag){case 3:js(Yt),Ge();break;case 26:case 27:case 5:Ht(a);break;case 4:Ge();break;case 13:Os(a);break;case 19:yt(Wt);break;case 10:js(a.type);break;case 22:case 23:Os(a),sg(),r!==null&&yt(Ka);break;case 24:js(Yt)}}var ED={getCacheForType:function(r){var a=Cn(Yt),u=a.data.get(r);return u===void 0&&(u=r(),a.data.set(r,u)),u}},TD=typeof WeakMap=="function"?WeakMap:Map,Tt=0,dt=null,ze=null,Xe=0,ft=0,ei=null,Hs=!1,ul=!1,Zg=!1,qs=0,Rt=0,Fr=0,no=0,Jg=0,wi=0,cl=0,lc=null,ns=null,ey=!1,ty=0,$d=1/0,Kd=null,Hr=null,Wd=!1,io=null,uc=0,ny=0,iy=null,cc=0,sy=null;function ti(){if(Tt&2&&Xe!==0)return Xe&-Xe;if(C.T!==null){var r=tl;return r!==0?r:dy()}return ed()}function c1(){wi===0&&(wi=!(Xe&536870912)||nt?wu():536870912);var r=vi.current;return r!==null&&(r.flags|=32),wi}function jn(r,a,u){(r===dt&&ft===2||r.cancelPendingCommit!==null)&&(hl(r,0),Gs(r,Xe,wi,!1)),Mt(r,u),(!(Tt&2)||r!==dt)&&(r===dt&&(!(Tt&2)&&(no|=u),Rt===4&&Gs(r,Xe,wi,!1)),is(r))}function h1(r,a,u){if(Tt&6)throw Error(i(327));var d=!u&&(a&60)===0&&(a&r.expiredLanes)===0||gr(r,a),m=d?SD(r,a):ly(r,a,!0),y=d;do{if(m===0){ul&&!d&&Gs(r,a,0,!1);break}else if(m===6)Gs(r,a,0,!Hs);else{if(u=r.current.alternate,y&&!wD(u)){m=ly(r,a,!1),y=!1;continue}if(m===2){if(y=a,r.errorRecoveryDisabledLanes&y)var S=0;else S=r.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){a=S;e:{var P=r;m=lc;var B=P.current.memoizedState.isDehydrated;if(B&&(hl(P,S).flags|=256),S=ly(P,S,!1),S!==2){if(Zg&&!B){P.errorRecoveryDisabledLanes|=y,no|=y,m=4;break e}y=ns,ns=m,y!==null&&ry(y)}m=S}if(y=!1,m!==2)continue}}if(m===1){hl(r,0),Gs(r,a,0,!0);break}e:{switch(d=r,m){case 0:case 1:throw Error(i(345));case 4:if((a&4194176)===a){Gs(d,a,wi,!Hs);break e}break;case 2:ns=null;break;case 3:case 5:break;default:throw Error(i(329))}if(d.finishedWork=u,d.finishedLanes=a,(a&62914560)===a&&(y=ty+300-Sn(),10<y)){if(Gs(d,a,wi,!Hs),li(d,0)!==0)break e;d.timeoutHandle=k1(d1.bind(null,d,u,ns,Kd,ey,a,wi,no,cl,Hs,2,-0,0),y);break e}d1(d,u,ns,Kd,ey,a,wi,no,cl,Hs,0,-0,0)}}break}while(!0);is(r)}function ry(r){ns===null?ns=r:ns.push.apply(ns,r)}function d1(r,a,u,d,m,y,S,P,B,$,ee,se,Q){var J=a.subtreeFlags;if((J&8192||(J&16785408)===16785408)&&(gc={stylesheets:null,count:0,unsuspend:iM},n1(a),a=rM(),a!==null)){r.cancelPendingCommit=a(_1.bind(null,r,u,d,m,S,P,B,1,se,Q)),Gs(r,y,S,!$);return}_1(r,u,d,m,S,P,B,ee,se,Q)}function wD(r){for(var a=r;;){var u=a.tag;if((u===0||u===11||u===15)&&a.flags&16384&&(u=a.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var d=0;d<u.length;d++){var m=u[d],y=m.getSnapshot;m=m.value;try{if(!Xn(y(),m))return!1}catch{return!1}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Gs(r,a,u,d){a&=~Jg,a&=~no,r.suspendedLanes|=a,r.pingedLanes&=~a,d&&(r.warmLanes|=a),d=r.expirationTimes;for(var m=a;0<m;){var y=31-On(m),S=1<<y;d[y]=-1,m&=~S}u!==0&&vr(r,u,a)}function Yd(){return Tt&6?!0:(hc(0),!1)}function ay(){if(ze!==null){if(ft===0)var r=ze.return;else r=ze,Vs=Za=null,dg(r),Jo=null,Gu=0,r=ze;for(;r!==null;)u1(r.alternate,r),r=r.return;ze=null}}function hl(r,a){r.finishedWork=null,r.finishedLanes=0;var u=r.timeoutHandle;u!==-1&&(r.timeoutHandle=-1,zD(u)),u=r.cancelPendingCommit,u!==null&&(r.cancelPendingCommit=null,u()),ay(),dt=r,ze=u=zr(r.current,null),Xe=a,ft=0,ei=null,Hs=!1,ul=gr(r,a),Zg=!1,cl=wi=Jg=no=Fr=Rt=0,ns=lc=null,ey=!1,a&8&&(a|=a&32);var d=r.entangledLanes;if(d!==0)for(r=r.entanglements,d&=a;0<d;){var m=31-On(d),y=1<<m;a|=r[m],d&=~y}return qs=a,_d(),u}function f1(r,a){Le=null,C.H=ts,a===Hu?(a=RT(),ft=3):a===xT?(a=RT(),ft=4):ft=a===Cw?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,ei=a,ze===null&&(Rt=1,Ud(r,mi(a,r.current)))}function p1(){var r=C.H;return C.H=ts,r===null?ts:r}function m1(){var r=C.A;return C.A=ED,r}function oy(){Rt=4,Hs||(Xe&4194176)!==Xe&&vi.current!==null||(ul=!0),!(Fr&134217727)&&!(no&134217727)||dt===null||Gs(dt,Xe,wi,!1)}function ly(r,a,u){var d=Tt;Tt|=2;var m=p1(),y=m1();(dt!==r||Xe!==a)&&(Kd=null,hl(r,a)),a=!1;var S=Rt;e:do try{if(ft!==0&&ze!==null){var P=ze,B=ei;switch(ft){case 8:ay(),S=6;break e;case 3:case 2:case 6:vi.current===null&&(a=!0);var $=ft;if(ft=0,ei=null,dl(r,P,B,$),u&&ul){S=0;break e}break;default:$=ft,ft=0,ei=null,dl(r,P,B,$)}}bD(),S=Rt;break}catch(ee){f1(r,ee)}while(!0);return a&&r.shellSuspendCounter++,Vs=Za=null,Tt=d,C.H=m,C.A=y,ze===null&&(dt=null,Xe=0,_d()),S}function bD(){for(;ze!==null;)g1(ze)}function SD(r,a){var u=Tt;Tt|=2;var d=p1(),m=m1();dt!==r||Xe!==a?(Kd=null,$d=Sn()+500,hl(r,a)):ul=gr(r,a);e:do try{if(ft!==0&&ze!==null){a=ze;var y=ei;t:switch(ft){case 1:ft=0,ei=null,dl(r,a,y,1);break;case 2:if(CT(y)){ft=0,ei=null,y1(a);break}a=function(){ft===2&&dt===r&&(ft=7),is(r)},y.then(a,a);break e;case 3:ft=7;break e;case 4:ft=5;break e;case 7:CT(y)?(ft=0,ei=null,y1(a)):(ft=0,ei=null,dl(r,a,y,7));break;case 5:var S=null;switch(ze.tag){case 26:S=ze.memoizedState;case 5:case 27:var P=ze;if(!S||$1(S)){ft=0,ei=null;var B=P.sibling;if(B!==null)ze=B;else{var $=P.return;$!==null?(ze=$,Qd($)):ze=null}break t}}ft=0,ei=null,dl(r,a,y,5);break;case 6:ft=0,ei=null,dl(r,a,y,6);break;case 8:ay(),Rt=6;break e;default:throw Error(i(462))}}xD();break}catch(ee){f1(r,ee)}while(!0);return Vs=Za=null,C.H=d,C.A=m,Tt=u,ze!==null?0:(dt=null,Xe=0,_d(),Rt)}function xD(){for(;ze!==null&&!fr();)g1(ze)}function g1(r){var a=jw(r.alternate,r,qs);r.memoizedProps=r.pendingProps,a===null?Qd(r):ze=a}function y1(r){var a=r,u=a.alternate;switch(a.tag){case 15:case 0:a=Dw(u,a,a.pendingProps,a.type,void 0,Xe);break;case 11:a=Dw(u,a,a.pendingProps,a.type.render,a.ref,Xe);break;case 5:dg(a);default:u1(u,a),a=ze=a1(a,qs),a=jw(u,a,qs)}r.memoizedProps=r.pendingProps,a===null?Qd(r):ze=a}function dl(r,a,u,d){Vs=Za=null,dg(a),Jo=null,Gu=0;var m=a.return;try{if(fD(r,m,a,u,Xe)){Rt=1,Ud(r,mi(u,r.current)),ze=null;return}}catch(y){if(m!==null)throw ze=m,y;Rt=1,Ud(r,mi(u,r.current)),ze=null;return}a.flags&32768?(nt||d===1?r=!0:ul||Xe&536870912?r=!1:(Hs=r=!0,(d===2||d===3||d===6)&&(d=vi.current,d!==null&&d.tag===13&&(d.flags|=16384))),v1(a,r)):Qd(a)}function Qd(r){var a=r;do{if(a.flags&32768){v1(a,Hs);return}r=a.return;var u=vD(a.alternate,a,qs);if(u!==null){ze=u;return}if(a=a.sibling,a!==null){ze=a;return}ze=a=r}while(a!==null);Rt===0&&(Rt=5)}function v1(r,a){do{var u=_D(r.alternate,r);if(u!==null){u.flags&=32767,ze=u;return}if(u=r.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!a&&(r=r.sibling,r!==null)){ze=r;return}ze=r=u}while(r!==null);Rt=6,ze=null}function _1(r,a,u,d,m,y,S,P,B,$){var ee=C.T,se=pe.p;try{pe.p=2,C.T=null,CD(r,a,u,d,se,m,y,S,P,B,$)}finally{C.T=ee,pe.p=se}}function CD(r,a,u,d,m,y,S,P){do fl();while(io!==null);if(Tt&6)throw Error(i(327));var B=r.finishedWork;if(d=r.finishedLanes,B===null)return null;if(r.finishedWork=null,r.finishedLanes=0,B===r.current)throw Error(i(177));r.callbackNode=null,r.callbackPriority=0,r.cancelPendingCommit=null;var $=B.lanes|B.childLanes;if($|=Xm,Zh(r,d,$,y,S,P),r===dt&&(ze=dt=null,Xe=0),!(B.subtreeFlags&10256)&&!(B.flags&10256)||Wd||(Wd=!0,ny=$,iy=u,ND(ws,function(){return fl(),null})),u=(B.flags&15990)!==0,B.subtreeFlags&15990||u?(u=C.T,C.T=null,y=pe.p,pe.p=2,S=Tt,Tt|=4,mD(r,B),Jw(B,r),QP(Ey,r.containerInfo),uf=!!_y,Ey=_y=null,r.current=B,Yw(r,B.alternate,B),Po(),Tt=S,pe.p=y,C.T=u):r.current=B,Wd?(Wd=!1,io=r,uc=d):E1(r,$),$=r.pendingLanes,$===0&&(Hr=null),Eu(B.stateNode),is(r),a!==null)for(m=r.onRecoverableError,B=0;B<a.length;B++)$=a[B],m($.value,{componentStack:$.stack});return uc&3&&fl(),$=r.pendingLanes,d&4194218&&$&42?r===sy?cc++:(cc=0,sy=r):cc=0,hc(0),null}function E1(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,Ku(a)))}function fl(){if(io!==null){var r=io,a=ny;ny=0;var u=Jh(uc),d=C.T,m=pe.p;try{if(pe.p=32>u?32:u,C.T=null,io===null)var y=!1;else{u=iy,iy=null;var S=io,P=uc;if(io=null,uc=0,Tt&6)throw Error(i(331));var B=Tt;if(Tt|=4,s1(S.current),t1(S,S.current,P,u),Tt=B,hc(0,!1),xn&&typeof xn.onPostCommitFiberRoot=="function")try{xn.onPostCommitFiberRoot(pr,S)}catch{}y=!0}return y}finally{pe.p=m,C.T=d,E1(r,a)}}return!1}function T1(r,a,u){a=mi(u,a),a=Cg(r.stateNode,a,2),r=Vr(r,a,2),r!==null&&(Mt(r,2),is(r))}function ct(r,a,u){if(r.tag===3)T1(r,r,u);else for(;a!==null;){if(a.tag===3){T1(a,r,u);break}else if(a.tag===1){var d=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Hr===null||!Hr.has(d))){r=mi(u,r),u=Sw(2),d=Vr(a,u,2),d!==null&&(xw(u,d,a,r),Mt(d,2),is(d));break}}a=a.return}}function uy(r,a,u){var d=r.pingCache;if(d===null){d=r.pingCache=new TD;var m=new Set;d.set(a,m)}else m=d.get(a),m===void 0&&(m=new Set,d.set(a,m));m.has(u)||(Zg=!0,m.add(u),r=AD.bind(null,r,a,u),a.then(r,r))}function AD(r,a,u){var d=r.pingCache;d!==null&&d.delete(a),r.pingedLanes|=r.suspendedLanes&u,r.warmLanes&=~u,dt===r&&(Xe&u)===u&&(Rt===4||Rt===3&&(Xe&62914560)===Xe&&300>Sn()-ty?!(Tt&2)&&hl(r,0):Jg|=u,cl===Xe&&(cl=0)),is(r)}function w1(r,a){a===0&&(a=yr()),r=Ir(r,a),r!==null&&(Mt(r,a),is(r))}function RD(r){var a=r.memoizedState,u=0;a!==null&&(u=a.retryLane),w1(r,u)}function ID(r,a){var u=0;switch(r.tag){case 13:var d=r.stateNode,m=r.memoizedState;m!==null&&(u=m.retryLane);break;case 19:d=r.stateNode;break;case 22:d=r.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(a),w1(r,u)}function ND(r,a){return Hn(r,a)}var Xd=null,pl=null,cy=!1,Zd=!1,hy=!1,so=0;function is(r){r!==pl&&r.next===null&&(pl===null?Xd=pl=r:pl=pl.next=r),Zd=!0,cy||(cy=!0,DD(PD))}function hc(r,a){if(!hy&&Zd){hy=!0;do for(var u=!1,d=Xd;d!==null;){if(r!==0){var m=d.pendingLanes;if(m===0)var y=0;else{var S=d.suspendedLanes,P=d.pingedLanes;y=(1<<31-On(42|r)+1)-1,y&=m&~(S&~P),y=y&201326677?y&201326677|1:y?y|2:0}y!==0&&(u=!0,x1(d,y))}else y=Xe,y=li(d,d===dt?y:0),!(y&3)||gr(d,y)||(u=!0,x1(d,y));d=d.next}while(u);hy=!1}}function PD(){Zd=cy=!1;var r=0;so!==0&&(BD()&&(r=so),so=0);for(var a=Sn(),u=null,d=Xd;d!==null;){var m=d.next,y=b1(d,a);y===0?(d.next=null,u===null?Xd=m:u.next=m,m===null&&(pl=u)):(u=d,(r!==0||y&3)&&(Zd=!0)),d=m}hc(r)}function b1(r,a){for(var u=r.suspendedLanes,d=r.pingedLanes,m=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var S=31-On(y),P=1<<S,B=m[S];B===-1?(!(P&u)||P&d)&&(m[S]=Do(P,a)):B<=a&&(r.expiredLanes|=P),y&=~P}if(a=dt,u=Xe,u=li(r,r===a?u:0),d=r.callbackNode,u===0||r===a&&ft===2||r.cancelPendingCommit!==null)return d!==null&&d!==null&&oi(d),r.callbackNode=null,r.callbackPriority=0;if(!(u&3)||gr(r,u)){if(a=u&-u,a===r.callbackPriority)return a;switch(d!==null&&oi(d),Jh(u)){case 2:case 8:u=tn;break;case 32:u=ws;break;case 268435456:u=_u;break;default:u=ws}return d=S1.bind(null,r),u=Hn(u,d),r.callbackPriority=a,r.callbackNode=u,a}return d!==null&&d!==null&&oi(d),r.callbackPriority=2,r.callbackNode=null,2}function S1(r,a){var u=r.callbackNode;if(fl()&&r.callbackNode!==u)return null;var d=Xe;return d=li(r,r===dt?d:0),d===0?null:(h1(r,d,a),b1(r,Sn()),r.callbackNode!=null&&r.callbackNode===u?S1.bind(null,r):null)}function x1(r,a){if(fl())return null;h1(r,a,!0)}function DD(r){FD(function(){Tt&6?Hn(qt,r):r()})}function dy(){return so===0&&(so=wu()),so}function C1(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:$i(""+r)}function A1(r,a){var u=a.ownerDocument.createElement("input");return u.name=a.name,u.value=a.value,r.id&&u.setAttribute("form",r.id),a.parentNode.insertBefore(u,a),r=new FormData(r),u.parentNode.removeChild(u),r}function MD(r,a,u,d,m){if(a==="submit"&&u&&u.stateNode===m){var y=C1((m[Gt]||null).action),S=d.submitter;S&&(a=(a=S[Gt]||null)?C1(a.formAction):S.getAttribute("formAction"),a!==null&&(y=a,S=null));var P=new Uo("action","action",null,d,m);r.push({event:P,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(so!==0){var B=S?A1(m,S):new FormData(m);Tg(u,{pending:!0,data:B,method:m.method,action:y},null,B)}}else typeof y=="function"&&(P.preventDefault(),B=S?A1(m,S):new FormData(m),Tg(u,{pending:!0,data:B,method:m.method,action:y},y,B))},currentTarget:m}]})}}for(var fy=0;fy<_T.length;fy++){var py=_T[fy],OD=py.toLowerCase(),kD=py[0].toUpperCase()+py.slice(1);Pi(OD,"on"+kD)}Pi(pT,"onAnimationEnd"),Pi(mT,"onAnimationIteration"),Pi(gT,"onAnimationStart"),Pi("dblclick","onDoubleClick"),Pi("focusin","onFocus"),Pi("focusout","onBlur"),Pi(ZP,"onTransitionRun"),Pi(JP,"onTransitionStart"),Pi(eD,"onTransitionCancel"),Pi(yT,"onTransitionEnd"),qn("onMouseEnter",["mouseout","mouseover"]),qn("onMouseLeave",["mouseout","mouseover"]),qn("onPointerEnter",["pointerout","pointerover"]),qn("onPointerLeave",["pointerout","pointerover"]),Yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dc));function R1(r,a){a=(a&4)!==0;for(var u=0;u<r.length;u++){var d=r[u],m=d.event;d=d.listeners;e:{var y=void 0;if(a)for(var S=d.length-1;0<=S;S--){var P=d[S],B=P.instance,$=P.currentTarget;if(P=P.listener,B!==y&&m.isPropagationStopped())break e;y=P,m.currentTarget=$;try{y(m)}catch(ee){jd(ee)}m.currentTarget=null,y=B}else for(S=0;S<d.length;S++){if(P=d[S],B=P.instance,$=P.currentTarget,P=P.listener,B!==y&&m.isPropagationStopped())break e;y=P,m.currentTarget=$;try{y(m)}catch(ee){jd(ee)}m.currentTarget=null,y=B}}}}function $e(r,a){var u=a[Ia];u===void 0&&(u=a[Ia]=new Set);var d=r+"__bubble";u.has(d)||(I1(a,r,2,!1),u.add(d))}function my(r,a,u){var d=0;a&&(d|=4),I1(u,r,d,a)}var Jd="_reactListening"+Math.random().toString(36).slice(2);function gy(r){if(!r[Jd]){r[Jd]=!0,Su.forEach(function(u){u!=="selectionchange"&&(LD.has(u)||my(u,!1,r),my(u,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[Jd]||(a[Jd]=!0,my("selectionchange",!1,a))}}function I1(r,a,u,d){switch(Z1(a)){case 2:var m=lM;break;case 8:m=uM;break;default:m=Iy}u=m.bind(null,a,u,r),m=void 0,!di||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),d?m!==void 0?r.addEventListener(a,u,{capture:!0,passive:m}):r.addEventListener(a,u,!0):m!==void 0?r.addEventListener(a,u,{passive:m}):r.addEventListener(a,u,!1)}function yy(r,a,u,d,m){var y=d;if(!(a&1)&&!(a&2)&&d!==null)e:for(;;){if(d===null)return;var S=d.tag;if(S===3||S===4){var P=d.stateNode.containerInfo;if(P===m||P.nodeType===8&&P.parentNode===m)break;if(S===4)for(S=d.return;S!==null;){var B=S.tag;if((B===3||B===4)&&(B=S.stateNode.containerInfo,B===m||B.nodeType===8&&B.parentNode===m))return;S=S.return}for(;P!==null;){if(S=Ni(P),S===null)return;if(B=S.tag,B===5||B===6||B===26||B===27){d=y=S;continue e}P=P.parentNode}}d=d.return}sd(function(){var $=y,ee=jo(u),se=[];e:{var Q=vT.get(r);if(Q!==void 0){var J=Uo,Ee=r;switch(r){case"keypress":if(Wi(u)===0)break e;case"keydown":case"keyup":J=Go;break;case"focusin":Ee="focus",J=Fo;break;case"focusout":Ee="blur",J=Fo;break;case"beforeblur":case"afterblur":J=Fo;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=fi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Hm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=dd;break;case pT:case mT:case gT:J=Ho;break;case yT:J=pd;break;case"scroll":case"scrollend":J=rd;break;case"wheel":J=$o;break;case"copy":case"cut":case"paste":J=qo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Lu;break;case"toggle":case"beforetoggle":J=gd}var Pe=(a&4)!==0,It=!Pe&&(r==="scroll"||r==="scrollend"),K=Pe?Q!==null?Q+"Capture":null:Q;Pe=[];for(var G=$,Y;G!==null;){var te=G;if(Y=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||Y===null||K===null||(te=Oa(G,K),te!=null&&Pe.push(fc(G,te,Y))),It)break;G=G.return}0<Pe.length&&(Q=new J(Q,Ee,null,u,ee),se.push({event:Q,listeners:Pe}))}}if(!(a&7)){e:{if(Q=r==="mouseover"||r==="pointerover",J=r==="mouseout"||r==="pointerout",Q&&u!==hi&&(Ee=u.relatedTarget||u.fromElement)&&(Ni(Ee)||Ee[bs]))break e;if((J||Q)&&(Q=ee.window===ee?ee:(Q=ee.ownerDocument)?Q.defaultView||Q.parentWindow:window,J?(Ee=u.relatedTarget||u.toElement,J=$,Ee=Ee?Ni(Ee):null,Ee!==null&&(It=re(Ee),Pe=Ee.tag,Ee!==It||Pe!==5&&Pe!==27&&Pe!==6)&&(Ee=null)):(J=null,Ee=$),J!==Ee)){if(Pe=fi,te="onMouseLeave",K="onMouseEnter",G="mouse",(r==="pointerout"||r==="pointerover")&&(Pe=Lu,te="onPointerLeave",K="onPointerEnter",G="pointer"),It=J==null?Q:wr(J),Y=Ee==null?Q:wr(Ee),Q=new Pe(te,G+"leave",J,u,ee),Q.target=It,Q.relatedTarget=Y,te=null,Ni(ee)===$&&(Pe=new Pe(K,G+"enter",Ee,u,ee),Pe.target=Y,Pe.relatedTarget=It,te=Pe),It=te,J&&Ee)t:{for(Pe=J,K=Ee,G=0,Y=Pe;Y;Y=ml(Y))G++;for(Y=0,te=K;te;te=ml(te))Y++;for(;0<G-Y;)Pe=ml(Pe),G--;for(;0<Y-G;)K=ml(K),Y--;for(;G--;){if(Pe===K||K!==null&&Pe===K.alternate)break t;Pe=ml(Pe),K=ml(K)}Pe=null}else Pe=null;J!==null&&N1(se,Q,J,Pe,!1),Ee!==null&&It!==null&&N1(se,It,Ee,Pe,!0)}}e:{if(Q=$?wr($):window,J=Q.nodeName&&Q.nodeName.toLowerCase(),J==="select"||J==="input"&&Q.type==="file")var ve=iT;else if(Kt(Q))if(sT)ve=WP;else{ve=$P;var Ve=GP}else J=Q.nodeName,!J||J.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?$&&Iu($.elementType)&&(ve=iT):ve=KP;if(ve&&(ve=ve(r,$))){Ps(se,ve,u,ee);break e}Ve&&Ve(r,Q,$),r==="focusout"&&$&&Q.type==="number"&&$.memoizedProps.value!=null&&Vo(Q,"number",Q.value)}switch(Ve=$?wr($):window,r){case"focusin":(Kt(Ve)||Ve.contentEditable==="true")&&(Ko=Ve,Wm=$,Uu=null);break;case"focusout":Uu=Wm=Ko=null;break;case"mousedown":Ym=!0;break;case"contextmenu":case"mouseup":case"dragend":Ym=!1,dT(se,u,ee);break;case"selectionchange":if(XP)break;case"keydown":case"keyup":dT(se,u,ee)}var Te;if(Xi)e:{switch(r){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else Ye?X(r,u)&&(xe="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(xe="onCompositionStart");xe&&(b&&u.locale!=="ko"&&(Ye||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&Ye&&(Te=Pu()):(Ki=ee,Rr="value"in Ki?Ki.value:Ki.textContent,Ye=!0)),Ve=ef($,xe),0<Ve.length&&(xe=new Ou(xe,r,null,u,ee),se.push({event:xe,listeners:Ve}),Te?xe.data=Te:(Te=ce(u),Te!==null&&(xe.data=Te)))),(Te=E?$t(r,u):Qe(r,u))&&(xe=ef($,"onBeforeInput"),0<xe.length&&(Ve=new Ou("onBeforeInput","beforeinput",null,u,ee),se.push({event:Ve,listeners:xe}),Ve.data=Te)),MD(se,r,$,u,ee)}R1(se,a)})}function fc(r,a,u){return{instance:r,listener:a,currentTarget:u}}function ef(r,a){for(var u=a+"Capture",d=[];r!==null;){var m=r,y=m.stateNode;m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=Oa(r,u),m!=null&&d.unshift(fc(r,m,y)),m=Oa(r,a),m!=null&&d.push(fc(r,m,y))),r=r.return}return d}function ml(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function N1(r,a,u,d,m){for(var y=a._reactName,S=[];u!==null&&u!==d;){var P=u,B=P.alternate,$=P.stateNode;if(P=P.tag,B!==null&&B===d)break;P!==5&&P!==26&&P!==27||$===null||(B=$,m?($=Oa(u,y),$!=null&&S.unshift(fc(u,$,B))):m||($=Oa(u,y),$!=null&&S.push(fc(u,$,B)))),u=u.return}S.length!==0&&r.push({event:a,listeners:S})}var VD=/\r\n?/g,jD=/\u0000|\uFFFD/g;function P1(r){return(typeof r=="string"?r:""+r).replace(VD,`
`).replace(jD,"")}function D1(r,a){return a=P1(a),P1(r)===a}function tf(){}function lt(r,a,u,d,m,y){switch(u){case"children":typeof d=="string"?a==="body"||a==="textarea"&&d===""||ci(r,d):(typeof d=="number"||typeof d=="bigint")&&a!=="body"&&ci(r,""+d);break;case"className":xr(r,"class",d);break;case"tabIndex":xr(r,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":xr(r,u,d);break;case"style":id(r,d,y);break;case"data":if(a!=="object"){xr(r,"data",d);break}case"src":case"href":if(d===""&&(a!=="a"||u!=="href")){r.removeAttribute(u);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(u);break}d=$i(""+d),r.setAttribute(u,d);break;case"action":case"formAction":if(typeof d=="function"){r.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(u==="formAction"?(a!=="input"&&lt(r,a,"name",m.name,m,null),lt(r,a,"formEncType",m.formEncType,m,null),lt(r,a,"formMethod",m.formMethod,m,null),lt(r,a,"formTarget",m.formTarget,m,null)):(lt(r,a,"encType",m.encType,m,null),lt(r,a,"method",m.method,m,null),lt(r,a,"target",m.target,m,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(u);break}d=$i(""+d),r.setAttribute(u,d);break;case"onClick":d!=null&&(r.onclick=tf);break;case"onScroll":d!=null&&$e("scroll",r);break;case"onScrollEnd":d!=null&&$e("scrollend",r);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(u=d.__html,u!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"multiple":r.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":r.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){r.removeAttribute("xlink:href");break}u=$i(""+d),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(u,""+d):r.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(u,""):r.removeAttribute(u);break;case"capture":case"download":d===!0?r.setAttribute(u,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(u,d):r.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?r.setAttribute(u,d):r.removeAttribute(u);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?r.removeAttribute(u):r.setAttribute(u,d);break;case"popover":$e("beforetoggle",r),$e("toggle",r),Sr(r,"popover",d);break;case"xlinkActuate":ui(r,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":ui(r,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":ui(r,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":ui(r,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":ui(r,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":ui(r,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":ui(r,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":ui(r,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":ui(r,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Sr(r,"is",d);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=zm.get(u)||u,Sr(r,u,d))}}function vy(r,a,u,d,m,y){switch(u){case"style":id(r,d,y);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(u=d.__html,u!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"children":typeof d=="string"?ci(r,d):(typeof d=="number"||typeof d=="bigint")&&ci(r,""+d);break;case"onScroll":d!=null&&$e("scroll",r);break;case"onScrollEnd":d!=null&&$e("scrollend",r);break;case"onClick":d!=null&&(r.onclick=tf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ko.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(m=u.endsWith("Capture"),a=u.slice(2,m?u.length-7:void 0),y=r[Gt]||null,y=y!=null?y[u]:null,typeof y=="function"&&r.removeEventListener(a,y,m),typeof d=="function")){typeof y!="function"&&y!==null&&(u in r?r[u]=null:r.hasAttribute(u)&&r.removeAttribute(u)),r.addEventListener(a,d,m);break e}u in r?r[u]=d:d===!0?r.setAttribute(u,""):Sr(r,u,d)}}}function yn(r,a,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$e("error",r),$e("load",r);var d=!1,m=!1,y;for(y in u)if(u.hasOwnProperty(y)){var S=u[y];if(S!=null)switch(y){case"src":d=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:lt(r,a,y,S,u,null)}}m&&lt(r,a,"srcSet",u.srcSet,u,null),d&&lt(r,a,"src",u.src,u,null);return;case"input":$e("invalid",r);var P=y=S=m=null,B=null,$=null;for(d in u)if(u.hasOwnProperty(d)){var ee=u[d];if(ee!=null)switch(d){case"name":m=ee;break;case"type":S=ee;break;case"checked":B=ee;break;case"defaultChecked":$=ee;break;case"value":y=ee;break;case"defaultValue":P=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,a));break;default:lt(r,a,d,ee,u,null)}}Da(r,y,P,B,$,S,m,!1),Pa(r);return;case"select":$e("invalid",r),d=S=y=null;for(m in u)if(u.hasOwnProperty(m)&&(P=u[m],P!=null))switch(m){case"value":y=P;break;case"defaultValue":S=P;break;case"multiple":d=P;default:lt(r,a,m,P,u,null)}a=y,u=S,r.multiple=!!d,a!=null?tt(r,!!d,a,!1):u!=null&&tt(r,!!d,u,!0);return;case"textarea":$e("invalid",r),y=m=d=null;for(S in u)if(u.hasOwnProperty(S)&&(P=u[S],P!=null))switch(S){case"value":d=P;break;case"defaultValue":m=P;break;case"children":y=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(i(91));break;default:lt(r,a,S,P,u,null)}Ar(r,d,m,y),Pa(r);return;case"option":for(B in u)if(u.hasOwnProperty(B)&&(d=u[B],d!=null))switch(B){case"selected":r.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:lt(r,a,B,d,u,null)}return;case"dialog":$e("cancel",r),$e("close",r);break;case"iframe":case"object":$e("load",r);break;case"video":case"audio":for(d=0;d<dc.length;d++)$e(dc[d],r);break;case"image":$e("error",r),$e("load",r);break;case"details":$e("toggle",r);break;case"embed":case"source":case"link":$e("error",r),$e("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in u)if(u.hasOwnProperty($)&&(d=u[$],d!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:lt(r,a,$,d,u,null)}return;default:if(Iu(a)){for(ee in u)u.hasOwnProperty(ee)&&(d=u[ee],d!==void 0&&vy(r,a,ee,d,u,void 0));return}}for(P in u)u.hasOwnProperty(P)&&(d=u[P],d!=null&&lt(r,a,P,d,u,null))}function UD(r,a,u,d){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,S=null,P=null,B=null,$=null,ee=null;for(J in u){var se=u[J];if(u.hasOwnProperty(J)&&se!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":B=se;default:d.hasOwnProperty(J)||lt(r,a,J,null,d,se)}}for(var Q in d){var J=d[Q];if(se=u[Q],d.hasOwnProperty(Q)&&(J!=null||se!=null))switch(Q){case"type":y=J;break;case"name":m=J;break;case"checked":$=J;break;case"defaultChecked":ee=J;break;case"value":S=J;break;case"defaultValue":P=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,a));break;default:J!==se&&lt(r,a,Q,J,d,se)}}Cr(r,S,P,B,$,ee,y,m);return;case"select":J=S=P=Q=null;for(y in u)if(B=u[y],u.hasOwnProperty(y)&&B!=null)switch(y){case"value":break;case"multiple":J=B;default:d.hasOwnProperty(y)||lt(r,a,y,null,d,B)}for(m in d)if(y=d[m],B=u[m],d.hasOwnProperty(m)&&(y!=null||B!=null))switch(m){case"value":Q=y;break;case"defaultValue":P=y;break;case"multiple":S=y;default:y!==B&&lt(r,a,m,y,d,B)}a=P,u=S,d=J,Q!=null?tt(r,!!u,Q,!1):!!d!=!!u&&(a!=null?tt(r,!!u,a,!0):tt(r,!!u,u?[]:"",!1));return;case"textarea":J=Q=null;for(P in u)if(m=u[P],u.hasOwnProperty(P)&&m!=null&&!d.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:lt(r,a,P,null,d,m)}for(S in d)if(m=d[S],y=u[S],d.hasOwnProperty(S)&&(m!=null||y!=null))switch(S){case"value":Q=m;break;case"defaultValue":J=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==y&&lt(r,a,S,m,d,y)}Ma(r,Q,J);return;case"option":for(var Ee in u)if(Q=u[Ee],u.hasOwnProperty(Ee)&&Q!=null&&!d.hasOwnProperty(Ee))switch(Ee){case"selected":r.selected=!1;break;default:lt(r,a,Ee,null,d,Q)}for(B in d)if(Q=d[B],J=u[B],d.hasOwnProperty(B)&&Q!==J&&(Q!=null||J!=null))switch(B){case"selected":r.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:lt(r,a,B,Q,d,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in u)Q=u[Pe],u.hasOwnProperty(Pe)&&Q!=null&&!d.hasOwnProperty(Pe)&&lt(r,a,Pe,null,d,Q);for($ in d)if(Q=d[$],J=u[$],d.hasOwnProperty($)&&Q!==J&&(Q!=null||J!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,a));break;default:lt(r,a,$,Q,d,J)}return;default:if(Iu(a)){for(var It in u)Q=u[It],u.hasOwnProperty(It)&&Q!==void 0&&!d.hasOwnProperty(It)&&vy(r,a,It,void 0,d,Q);for(ee in d)Q=d[ee],J=u[ee],!d.hasOwnProperty(ee)||Q===J||Q===void 0&&J===void 0||vy(r,a,ee,Q,d,J);return}}for(var K in u)Q=u[K],u.hasOwnProperty(K)&&Q!=null&&!d.hasOwnProperty(K)&&lt(r,a,K,null,d,Q);for(se in d)Q=d[se],J=u[se],!d.hasOwnProperty(se)||Q===J||Q==null&&J==null||lt(r,a,se,Q,d,J)}var _y=null,Ey=null;function nf(r){return r.nodeType===9?r:r.ownerDocument}function M1(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function O1(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function Ty(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var wy=null;function BD(){var r=window.event;return r&&r.type==="popstate"?r===wy?!1:(wy=r,!0):(wy=null,!1)}var k1=typeof setTimeout=="function"?setTimeout:void 0,zD=typeof clearTimeout=="function"?clearTimeout:void 0,L1=typeof Promise=="function"?Promise:void 0,FD=typeof queueMicrotask=="function"?queueMicrotask:typeof L1<"u"?function(r){return L1.resolve(null).then(r).catch(HD)}:k1;function HD(r){setTimeout(function(){throw r})}function by(r,a){var u=a,d=0;do{var m=u.nextSibling;if(r.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(d===0){r.removeChild(m),Tc(a);return}d--}else u!=="$"&&u!=="$?"&&u!=="$!"||d++;u=m}while(u);Tc(a)}function Sy(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var u=a;switch(a=a.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Sy(u),Na(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}r.removeChild(u)}}function qD(r,a,u,d){for(;r.nodeType===1;){var m=u;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!d&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(d){if(!r[Tr])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==m.rel||r.getAttribute("href")!==(m.href==null?null:m.href)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||r.getAttribute("title")!==(m.title==null?null:m.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(m.src==null?null:m.src)||r.getAttribute("type")!==(m.type==null?null:m.type)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=Oi(r.nextSibling),r===null)break}return null}function GD(r,a,u){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!u||(r=Oi(r.nextSibling),r===null))return null;return r}function Oi(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return r}function V1(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return r;a--}else u==="/$"&&a++}r=r.previousSibling}return null}function j1(r,a,u){switch(a=nf(u),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}var bi=new Map,U1=new Set;function sf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.ownerDocument}var $s=pe.d;pe.d={f:$D,r:KD,D:WD,C:YD,L:QD,m:XD,X:JD,S:ZD,M:eM};function $D(){var r=$s.f(),a=Yd();return r||a}function KD(r){var a=Ss(r);a!==null&&a.tag===5&&a.type==="form"?dw(a):$s.r(r)}var gl=typeof document>"u"?null:document;function B1(r,a,u){var d=gl;if(d&&typeof a=="string"&&a){var m=Ct(a);m='link[rel="'+r+'"][href="'+m+'"]',typeof u=="string"&&(m+='[crossorigin="'+u+'"]'),U1.has(m)||(U1.add(m),r={rel:r,crossOrigin:u,href:a},d.querySelector(m)===null&&(a=d.createElement("link"),yn(a,"link",r),_t(a),d.head.appendChild(a)))}}function WD(r){$s.D(r),B1("dns-prefetch",r,null)}function YD(r,a){$s.C(r,a),B1("preconnect",r,a)}function QD(r,a,u){$s.L(r,a,u);var d=gl;if(d&&r&&a){var m='link[rel="preload"][as="'+Ct(a)+'"]';a==="image"&&u&&u.imageSrcSet?(m+='[imagesrcset="'+Ct(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(m+='[imagesizes="'+Ct(u.imageSizes)+'"]')):m+='[href="'+Ct(r)+'"]';var y=m;switch(a){case"style":y=yl(r);break;case"script":y=vl(r)}bi.has(y)||(r=R({rel:"preload",href:a==="image"&&u&&u.imageSrcSet?void 0:r,as:a},u),bi.set(y,r),d.querySelector(m)!==null||a==="style"&&d.querySelector(pc(y))||a==="script"&&d.querySelector(mc(y))||(a=d.createElement("link"),yn(a,"link",r),_t(a),d.head.appendChild(a)))}}function XD(r,a){$s.m(r,a);var u=gl;if(u&&r){var d=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+Ct(d)+'"][href="'+Ct(r)+'"]',y=m;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=vl(r)}if(!bi.has(y)&&(r=R({rel:"modulepreload",href:r},a),bi.set(y,r),u.querySelector(m)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(mc(y)))return}d=u.createElement("link"),yn(d,"link",r),_t(d),u.head.appendChild(d)}}}function ZD(r,a,u){$s.S(r,a,u);var d=gl;if(d&&r){var m=br(d).hoistableStyles,y=yl(r);a=a||"default";var S=m.get(y);if(!S){var P={loading:0,preload:null};if(S=d.querySelector(pc(y)))P.loading=5;else{r=R({rel:"stylesheet",href:r,"data-precedence":a},u),(u=bi.get(y))&&xy(r,u);var B=S=d.createElement("link");_t(B),yn(B,"link",r),B._p=new Promise(function($,ee){B.onload=$,B.onerror=ee}),B.addEventListener("load",function(){P.loading|=1}),B.addEventListener("error",function(){P.loading|=2}),P.loading|=4,rf(S,a,d)}S={type:"stylesheet",instance:S,count:1,state:P},m.set(y,S)}}}function JD(r,a){$s.X(r,a);var u=gl;if(u&&r){var d=br(u).hoistableScripts,m=vl(r),y=d.get(m);y||(y=u.querySelector(mc(m)),y||(r=R({src:r,async:!0},a),(a=bi.get(m))&&Cy(r,a),y=u.createElement("script"),_t(y),yn(y,"link",r),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(m,y))}}function eM(r,a){$s.M(r,a);var u=gl;if(u&&r){var d=br(u).hoistableScripts,m=vl(r),y=d.get(m);y||(y=u.querySelector(mc(m)),y||(r=R({src:r,async:!0,type:"module"},a),(a=bi.get(m))&&Cy(r,a),y=u.createElement("script"),_t(y),yn(y,"link",r),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(m,y))}}function z1(r,a,u,d){var m=(m=Fn.current)?sf(m):null;if(!m)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(a=yl(u.href),u=br(m).hoistableStyles,d=u.get(a),d||(d={type:"style",instance:null,count:0,state:null},u.set(a,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){r=yl(u.href);var y=br(m).hoistableStyles,S=y.get(r);if(S||(m=m.ownerDocument||m,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,S),(y=m.querySelector(pc(r)))&&!y._p&&(S.instance=y,S.state.loading=5),bi.has(r)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},bi.set(r,u),y||tM(m,r,u,S.state))),a&&d===null)throw Error(i(528,""));return S}if(a&&d!==null)throw Error(i(529,""));return null;case"script":return a=u.async,u=u.src,typeof u=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=vl(u),u=br(m).hoistableScripts,d=u.get(a),d||(d={type:"script",instance:null,count:0,state:null},u.set(a,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function yl(r){return'href="'+Ct(r)+'"'}function pc(r){return'link[rel="stylesheet"]['+r+"]"}function F1(r){return R({},r,{"data-precedence":r.precedence,precedence:null})}function tM(r,a,u,d){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?d.loading=1:(a=r.createElement("link"),d.preload=a,a.addEventListener("load",function(){return d.loading|=1}),a.addEventListener("error",function(){return d.loading|=2}),yn(a,"link",u),_t(a),r.head.appendChild(a))}function vl(r){return'[src="'+Ct(r)+'"]'}function mc(r){return"script[async]"+r}function H1(r,a,u){if(a.count++,a.instance===null)switch(a.type){case"style":var d=r.querySelector('style[data-href~="'+Ct(u.href)+'"]');if(d)return a.instance=d,_t(d),d;var m=R({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return d=(r.ownerDocument||r).createElement("style"),_t(d),yn(d,"style",m),rf(d,u.precedence,r),a.instance=d;case"stylesheet":m=yl(u.href);var y=r.querySelector(pc(m));if(y)return a.state.loading|=4,a.instance=y,_t(y),y;d=F1(u),(m=bi.get(m))&&xy(d,m),y=(r.ownerDocument||r).createElement("link"),_t(y);var S=y;return S._p=new Promise(function(P,B){S.onload=P,S.onerror=B}),yn(y,"link",d),a.state.loading|=4,rf(y,u.precedence,r),a.instance=y;case"script":return y=vl(u.src),(m=r.querySelector(mc(y)))?(a.instance=m,_t(m),m):(d=u,(m=bi.get(y))&&(d=R({},u),Cy(d,m)),r=r.ownerDocument||r,m=r.createElement("script"),_t(m),yn(m,"link",d),r.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&!(a.state.loading&4)&&(d=a.instance,a.state.loading|=4,rf(d,u.precedence,r));return a.instance}function rf(r,a,u){for(var d=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=d.length?d[d.length-1]:null,y=m,S=0;S<d.length;S++){var P=d[S];if(P.dataset.precedence===a)y=P;else if(y!==m)break}y?y.parentNode.insertBefore(r,y.nextSibling):(a=u.nodeType===9?u.head:u,a.insertBefore(r,a.firstChild))}function xy(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function Cy(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var af=null;function q1(r,a,u){if(af===null){var d=new Map,m=af=new Map;m.set(u,d)}else m=af,d=m.get(u),d||(d=new Map,m.set(u,d));if(d.has(r))return d;for(d.set(r,null),u=u.getElementsByTagName(r),m=0;m<u.length;m++){var y=u[m];if(!(y[Tr]||y[nn]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var S=y.getAttribute(a)||"";S=r+S;var P=d.get(S);P?P.push(y):d.set(S,[y])}}return d}function G1(r,a,u){r=r.ownerDocument||r,r.head.insertBefore(u,a==="title"?r.querySelector("head > title"):null)}function nM(r,a,u){if(u===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function $1(r){return!(r.type==="stylesheet"&&!(r.state.loading&3))}var gc=null;function iM(){}function sM(r,a,u){if(gc===null)throw Error(i(475));var d=gc;if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&!(a.state.loading&4)){if(a.instance===null){var m=yl(u.href),y=r.querySelector(pc(m));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(d.count++,d=of.bind(d),r.then(d,d)),a.state.loading|=4,a.instance=y,_t(y);return}y=r.ownerDocument||r,u=F1(u),(m=bi.get(m))&&xy(u,m),y=y.createElement("link"),_t(y);var S=y;S._p=new Promise(function(P,B){S.onload=P,S.onerror=B}),yn(y,"link",u),a.instance=y}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(a,r),(r=a.state.preload)&&!(a.state.loading&3)&&(d.count++,a=of.bind(d),r.addEventListener("load",a),r.addEventListener("error",a))}}function rM(){if(gc===null)throw Error(i(475));var r=gc;return r.stylesheets&&r.count===0&&Ay(r,r.stylesheets),0<r.count?function(a){var u=setTimeout(function(){if(r.stylesheets&&Ay(r,r.stylesheets),r.unsuspend){var d=r.unsuspend;r.unsuspend=null,d()}},6e4);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(u)}}:null}function of(){if(this.count--,this.count===0){if(this.stylesheets)Ay(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var lf=null;function Ay(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,lf=new Map,a.forEach(aM,r),lf=null,of.call(r))}function aM(r,a){if(!(a.state.loading&4)){var u=lf.get(r);if(u)var d=u.get(null);else{u=new Map,lf.set(r,u);for(var m=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var S=m[y];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(u.set(S.dataset.precedence,S),d=S)}d&&u.set(null,d)}m=a.instance,S=m.getAttribute("data-precedence"),y=u.get(S)||d,y===d&&u.set(null,m),u.set(S,m),this.count++,d=of.bind(this),m.addEventListener("load",d),m.addEventListener("error",d),y?y.parentNode.insertBefore(m,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(m,r.firstChild)),a.state.loading|=4}}var yc={$$typeof:w,Provider:null,Consumer:null,_currentValue:Oe,_currentValue2:Oe,_threadCount:0};function oM(r,a,u,d,m,y,S,P){this.tag=1,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mo(0),this.hiddenUpdates=Mo(null),this.identifierPrefix=d,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function K1(r,a,u,d,m,y,S,P,B,$,ee,se){return r=new oM(r,a,u,S,P,B,$,se),a=1,y===!0&&(a|=24),y=Ti(3,null,null,a),r.current=y,y.stateNode=r,a=rg(),a.refCount++,r.pooledCache=a,a.refCount++,y.memoizedState={element:d,isDehydrated:u,cache:a},Ug(y),r}function W1(r){return r?(r=Qo,r):Qo}function Y1(r,a,u,d,m,y){m=W1(m),d.context===null?d.context=m:d.pendingContext=m,d=Lr(a),d.payload={element:u},y=y===void 0?null:y,y!==null&&(d.callback=y),u=Vr(r,d,a),u!==null&&(jn(u,r,a),ec(u,r,a))}function Q1(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<a?u:a}}function Ry(r,a){Q1(r,a),(r=r.alternate)&&Q1(r,a)}function X1(r){if(r.tag===13){var a=Ir(r,67108864);a!==null&&jn(a,r,67108864),Ry(r,67108864)}}var uf=!0;function lM(r,a,u,d){var m=C.T;C.T=null;var y=pe.p;try{pe.p=2,Iy(r,a,u,d)}finally{pe.p=y,C.T=m}}function uM(r,a,u,d){var m=C.T;C.T=null;var y=pe.p;try{pe.p=8,Iy(r,a,u,d)}finally{pe.p=y,C.T=m}}function Iy(r,a,u,d){if(uf){var m=Ny(d);if(m===null)yy(r,a,d,cf,u),J1(r,d);else if(hM(m,r,a,u,d))d.stopPropagation();else if(J1(r,d),a&4&&-1<cM.indexOf(r)){for(;m!==null;){var y=Ss(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var S=Ii(y.pendingLanes);if(S!==0){var P=y;for(P.pendingLanes|=2,P.entangledLanes|=2;S;){var B=1<<31-On(S);P.entanglements[1]|=B,S&=~B}is(y),!(Tt&6)&&($d=Sn()+500,hc(0))}}break;case 13:P=Ir(y,2),P!==null&&jn(P,y,2),Yd(),Ry(y,2)}if(y=Ny(d),y===null&&yy(r,a,d,cf,u),y===m)break;m=y}m!==null&&d.stopPropagation()}else yy(r,a,d,null,u)}}function Ny(r){return r=jo(r),Py(r)}var cf=null;function Py(r){if(cf=null,r=Ni(r),r!==null){var a=re(r);if(a===null)r=null;else{var u=a.tag;if(u===13){if(r=ye(a),r!==null)return r;r=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return cf=r,null}function Z1(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wh()){case qt:return 2;case tn:return 8;case ws:case Yh:return 32;case _u:return 268435456;default:return 32}default:return 32}}var Dy=!1,qr=null,Gr=null,$r=null,vc=new Map,_c=new Map,Kr=[],cM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function J1(r,a){switch(r){case"focusin":case"focusout":qr=null;break;case"dragenter":case"dragleave":Gr=null;break;case"mouseover":case"mouseout":$r=null;break;case"pointerover":case"pointerout":vc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":_c.delete(a.pointerId)}}function Ec(r,a,u,d,m,y){return r===null||r.nativeEvent!==y?(r={blockedOn:a,domEventName:u,eventSystemFlags:d,nativeEvent:y,targetContainers:[m]},a!==null&&(a=Ss(a),a!==null&&X1(a)),r):(r.eventSystemFlags|=d,a=r.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),r)}function hM(r,a,u,d,m){switch(a){case"focusin":return qr=Ec(qr,r,a,u,d,m),!0;case"dragenter":return Gr=Ec(Gr,r,a,u,d,m),!0;case"mouseover":return $r=Ec($r,r,a,u,d,m),!0;case"pointerover":var y=m.pointerId;return vc.set(y,Ec(vc.get(y)||null,r,a,u,d,m)),!0;case"gotpointercapture":return y=m.pointerId,_c.set(y,Ec(_c.get(y)||null,r,a,u,d,m)),!0}return!1}function eb(r){var a=Ni(r.target);if(a!==null){var u=re(a);if(u!==null){if(a=u.tag,a===13){if(a=ye(u),a!==null){r.blockedOn=a,Er(r.priority,function(){if(u.tag===13){var d=ti(),m=Ir(u,d);m!==null&&jn(m,u,d),Ry(u,d)}});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function hf(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var u=Ny(r.nativeEvent);if(u===null){u=r.nativeEvent;var d=new u.constructor(u.type,u);hi=d,u.target.dispatchEvent(d),hi=null}else return a=Ss(u),a!==null&&X1(a),r.blockedOn=u,!1;a.shift()}return!0}function tb(r,a,u){hf(r)&&u.delete(a)}function dM(){Dy=!1,qr!==null&&hf(qr)&&(qr=null),Gr!==null&&hf(Gr)&&(Gr=null),$r!==null&&hf($r)&&($r=null),vc.forEach(tb),_c.forEach(tb)}function df(r,a){r.blockedOn===a&&(r.blockedOn=null,Dy||(Dy=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,dM)))}var ff=null;function nb(r){ff!==r&&(ff=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ff===r&&(ff=null);for(var a=0;a<r.length;a+=3){var u=r[a],d=r[a+1],m=r[a+2];if(typeof d!="function"){if(Py(d||u)===null)continue;break}var y=Ss(u);y!==null&&(r.splice(a,3),a-=3,Tg(y,{pending:!0,data:m,method:u.method,action:d},d,m))}}))}function Tc(r){function a(B){return df(B,r)}qr!==null&&df(qr,r),Gr!==null&&df(Gr,r),$r!==null&&df($r,r),vc.forEach(a),_c.forEach(a);for(var u=0;u<Kr.length;u++){var d=Kr[u];d.blockedOn===r&&(d.blockedOn=null)}for(;0<Kr.length&&(u=Kr[0],u.blockedOn===null);)eb(u),u.blockedOn===null&&Kr.shift();if(u=(r.ownerDocument||r).$$reactFormReplay,u!=null)for(d=0;d<u.length;d+=3){var m=u[d],y=u[d+1],S=m[Gt]||null;if(typeof y=="function")S||nb(u);else if(S){var P=null;if(y&&y.hasAttribute("formAction")){if(m=y,S=y[Gt]||null)P=S.formAction;else if(Py(m)!==null)continue}else P=S.action;typeof P=="function"?u[d+1]=P:(u.splice(d,3),d-=3),nb(u)}}}function My(r){this._internalRoot=r}pf.prototype.render=My.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var u=a.current,d=ti();Y1(u,d,r,a,null,null)},pf.prototype.unmount=My.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;r.tag===0&&fl(),Y1(r.current,2,null,r,null,null),Yd(),a[bs]=null}};function pf(r){this._internalRoot=r}pf.prototype.unstable_scheduleHydration=function(r){if(r){var a=ed();r={blockedOn:null,target:r,priority:a};for(var u=0;u<Kr.length&&a!==0&&a<Kr[u].priority;u++);Kr.splice(u,0,r),u===0&&eb(r)}};var ib=e.version;if(ib!=="19.0.0")throw Error(i(527,ib,"19.0.0"));pe.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=ie(a),r=r!==null?ge(r):null,r=r===null?null:r.stateNode,r};var fM={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:C,findFiberByHostInstance:Ni,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mf.isDisabled&&mf.supportsFiber)try{pr=mf.inject(fM),xn=mf}catch{}}return bc.createRoot=function(r,a){if(!s(r))throw Error(i(299));var u=!1,d="",m=Ew,y=Tw,S=ww,P=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(P=a.unstable_transitionCallbacks)),a=K1(r,1,!1,null,null,u,d,m,y,S,P,null),r[bs]=a.current,gy(r.nodeType===8?r.parentNode:r),new My(a)},bc.hydrateRoot=function(r,a,u){if(!s(r))throw Error(i(299));var d=!1,m="",y=Ew,S=Tw,P=ww,B=null,$=null;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(m=u.identifierPrefix),u.onUncaughtError!==void 0&&(y=u.onUncaughtError),u.onCaughtError!==void 0&&(S=u.onCaughtError),u.onRecoverableError!==void 0&&(P=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(B=u.unstable_transitionCallbacks),u.formState!==void 0&&($=u.formState)),a=K1(r,1,!0,a,u??null,d,m,y,S,P,B,$),a.context=W1(null),u=a.current,d=ti(),m=Lr(d),m.callback=null,Vr(u,m,d),a.current.lanes=d,Mt(a,d),is(a),r[bs]=a.current,gy(r),new pf(a)},bc.version="19.0.0",bc}var fb;function SM(){if(fb)return Ly.exports;fb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ly.exports=bM(),Ly.exports}var xM=SM(),Sc={},pb;function CM(){if(pb)return Sc;pb=1,Object.defineProperty(Sc,"__esModule",{value:!0}),Sc.parse=l,Sc.serialize=f;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function l(_,w){const x=new o,O=_.length;if(O<2)return x;const V=(w==null?void 0:w.decode)||g;let D=0;do{const I=_.indexOf("=",D);if(I===-1)break;const N=_.indexOf(";",D),H=N===-1?O:N;if(I>H){D=_.lastIndexOf(";",I-1)+1;continue}const q=c(_,D,I),Z=h(_,I,q),k=_.slice(q,Z);if(x[k]===void 0){let A=c(_,I+1,H),C=h(_,H,A);const R=V(_.slice(A,C));x[k]=R}D=H+1}while(D<O);return x}function c(_,w,x){do{const O=_.charCodeAt(w);if(O!==32&&O!==9)return w}while(++w<x);return x}function h(_,w,x){for(;w>x;){const O=_.charCodeAt(--w);if(O!==32&&O!==9)return w+1}return x}function f(_,w,x){const O=(x==null?void 0:x.encode)||encodeURIComponent;if(!n.test(_))throw new TypeError(`argument name is invalid: ${_}`);const V=O(w);if(!e.test(V))throw new TypeError(`argument val is invalid: ${w}`);let D=_+"="+V;if(!x)return D;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);D+="; Max-Age="+x.maxAge}if(x.domain){if(!t.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);D+="; Domain="+x.domain}if(x.path){if(!i.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);D+="; Path="+x.path}if(x.expires){if(!v(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);D+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(D+="; HttpOnly"),x.secure&&(D+="; Secure"),x.partitioned&&(D+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":D+="; Priority=Low";break;case"medium":D+="; Priority=Medium";break;case"high":D+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":D+="; SameSite=Strict";break;case"lax":D+="; SameSite=Lax";break;case"none":D+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return D}function g(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function v(_){return s.call(_)==="[object Date]"}return Sc}CM();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var mb="popstate";function AM(n={}){function e(i,s){let{pathname:o,search:l,hash:c}=i.location;return Cv("",{pathname:o,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){return typeof s=="string"?s:th(s)}return IM(e,t,null,n)}function bt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function gs(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function RM(){return Math.random().toString(36).substring(2,10)}function gb(n,e){return{usr:n.state,key:n.key,idx:e}}function Cv(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?su(e):e,state:t,key:e&&e.key||i||RM()}}function th({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function su(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function IM(n,e,t,i={}){let{window:s=document.defaultView,v5Compat:o=!1}=i,l=s.history,c="POP",h=null,f=g();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function g(){return(l.state||{idx:null}).idx}function v(){c="POP";let V=g(),D=V==null?null:V-f;f=V,h&&h({action:c,location:O.location,delta:D})}function _(V,D){c="PUSH";let I=Cv(O.location,V,D);f=g()+1;let N=gb(I,f),H=O.createHref(I);try{l.pushState(N,"",H)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;s.location.assign(H)}o&&h&&h({action:c,location:O.location,delta:1})}function w(V,D){c="REPLACE";let I=Cv(O.location,V,D);f=g();let N=gb(I,f),H=O.createHref(I);l.replaceState(N,"",H),o&&h&&h({action:c,location:O.location,delta:0})}function x(V){let D=s.location.origin!=="null"?s.location.origin:s.location.href,I=typeof V=="string"?V:th(V);return I=I.replace(/ $/,"%20"),bt(D,`No window.location.(origin|href) available to create URL for href: ${I}`),new URL(I,D)}let O={get action(){return c},get location(){return n(s,l)},listen(V){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(mb,v),h=V,()=>{s.removeEventListener(mb,v),h=null}},createHref(V){return e(s,V)},createURL:x,encodeLocation(V){let D=x(V);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:_,replace:w,go(V){return l.go(V)}};return O}function QC(n,e,t="/"){return NM(n,e,t,!1)}function NM(n,e,t,i){let s=typeof e=="string"?su(e):e,o=ha(s.pathname||"/",t);if(o==null)return null;let l=XC(n);PM(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let f=FM(o);c=BM(l[h],f,i)}return c}function XC(n,e=[],t=[],i=""){let s=(o,l,c)=>{let h={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};h.relativePath.startsWith("/")&&(bt(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let f=er([i,h.relativePath]),g=t.concat(h);o.children&&o.children.length>0&&(bt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),XC(o.children,e,g,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:jM(f,o.index),routesMeta:g})};return n.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))s(o,l);else for(let h of ZC(o.path))s(o,l,h)}),e}function ZC(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(i.length===0)return s?[o,""]:[o];let l=ZC(i.join("/")),c=[];return c.push(...l.map(h=>h===""?o:[o,h].join("/"))),s&&c.push(...l),c.map(h=>n.startsWith("/")&&h===""?"/":h)}function PM(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:UM(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var DM=/^:[\w-]+$/,MM=3,OM=2,kM=1,LM=10,VM=-2,yb=n=>n==="*";function jM(n,e){let t=n.split("/"),i=t.length;return t.some(yb)&&(i+=VM),e&&(i+=OM),t.filter(s=>!yb(s)).reduce((s,o)=>s+(DM.test(o)?MM:o===""?kM:LM),i)}function UM(n,e){return n.length===e.length&&n.slice(0,-1).every((i,s)=>i===e[s])?n[n.length-1]-e[e.length-1]:0}function BM(n,e,t=!1){let{routesMeta:i}=n,s={},o="/",l=[];for(let c=0;c<i.length;++c){let h=i[c],f=c===i.length-1,g=o==="/"?e:e.slice(o.length)||"/",v=Wf({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},g),_=h.route;if(!v&&f&&t&&!i[i.length-1].route.index&&(v=Wf({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!v)return null;Object.assign(s,v.params),l.push({params:s,pathname:er([o,v.pathname]),pathnameBase:$M(er([o,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(o=er([o,v.pathnameBase]))}return l}function Wf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=zM(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:i.reduce((f,{paramName:g,isOptional:v},_)=>{if(g==="*"){let x=c[_]||"";l=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const w=c[_];return v&&!w?f[g]=void 0:f[g]=(w||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:n}}function zM(n,e=!1,t=!0){gs(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(i.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function FM(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gs(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ha(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function HM(n,e="/"){let{pathname:t,search:i="",hash:s=""}=typeof n=="string"?su(n):n;return{pathname:t?t.startsWith("/")?t:qM(t,e):e,search:KM(i),hash:WM(s)}}function qM(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function By(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function GM(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function JC(n){let e=GM(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function e2(n,e,t,i=!1){let s;typeof n=="string"?s=su(n):(s={...n},bt(!s.pathname||!s.pathname.includes("?"),By("?","pathname","search",s)),bt(!s.pathname||!s.pathname.includes("#"),By("#","pathname","hash",s)),bt(!s.search||!s.search.includes("#"),By("#","search","hash",s)));let o=n===""||s.pathname==="",l=o?"/":s.pathname,c;if(l==null)c=t;else{let v=e.length-1;if(!i&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),v-=1;s.pathname=_.join("/")}c=v>=0?e[v]:"/"}let h=HM(s,c),f=l&&l!=="/"&&l.endsWith("/"),g=(o||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(f||g)&&(h.pathname+="/"),h}var er=n=>n.join("/").replace(/\/\/+/g,"/"),$M=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),KM=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,WM=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function YM(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var t2=["POST","PUT","PATCH","DELETE"];new Set(t2);var QM=["GET",...t2];new Set(QM);var ru=U.createContext(null);ru.displayName="DataRouter";var $p=U.createContext(null);$p.displayName="DataRouterState";var n2=U.createContext({isTransitioning:!1});n2.displayName="ViewTransition";var XM=U.createContext(new Map);XM.displayName="Fetchers";var ZM=U.createContext(null);ZM.displayName="Await";var _s=U.createContext(null);_s.displayName="Navigation";var Ch=U.createContext(null);Ch.displayName="Location";var cr=U.createContext({outlet:null,matches:[],isDataRoute:!1});cr.displayName="Route";var k_=U.createContext(null);k_.displayName="RouteError";function JM(n,{relative:e}={}){bt(Ah(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=U.useContext(_s),{hash:s,pathname:o,search:l}=Rh(n,{relative:e}),c=o;return t!=="/"&&(c=o==="/"?t:er([t,o])),i.createHref({pathname:c,search:l,hash:s})}function Ah(){return U.useContext(Ch)!=null}function hr(){return bt(Ah(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Ch).location}var i2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function s2(n){U.useContext(_s).static||U.useLayoutEffect(n)}function Es(){let{isDataRoute:n}=U.useContext(cr);return n?dO():eO()}function eO(){bt(Ah(),"useNavigate() may be used only in the context of a <Router> component.");let n=U.useContext(ru),{basename:e,navigator:t}=U.useContext(_s),{matches:i}=U.useContext(cr),{pathname:s}=hr(),o=JSON.stringify(JC(i)),l=U.useRef(!1);return s2(()=>{l.current=!0}),U.useCallback((h,f={})=>{if(gs(l.current,i2),!l.current)return;if(typeof h=="number"){t.go(h);return}let g=e2(h,JSON.parse(o),s,f.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:er([e,g.pathname])),(f.replace?t.replace:t.push)(g,f.state,f)},[e,t,o,s,n])}U.createContext(null);function Rh(n,{relative:e}={}){let{matches:t}=U.useContext(cr),{pathname:i}=hr(),s=JSON.stringify(JC(t));return U.useMemo(()=>e2(n,JSON.parse(s),i,e==="path"),[n,s,i,e])}function tO(n,e){return r2(n,e)}function r2(n,e,t,i){var I;bt(Ah(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:o}=U.useContext(_s),{matches:l}=U.useContext(cr),c=l[l.length-1],h=c?c.params:{},f=c?c.pathname:"/",g=c?c.pathnameBase:"/",v=c&&c.route;{let N=v&&v.path||"";a2(f,!v||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let _=hr(),w;if(e){let N=typeof e=="string"?su(e):e;bt(g==="/"||((I=N.pathname)==null?void 0:I.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${N.pathname}" was given in the \`location\` prop.`),w=N}else w=_;let x=w.pathname||"/",O=x;if(g!=="/"){let N=g.replace(/^\//,"").split("/");O="/"+x.replace(/^\//,"").split("/").slice(N.length).join("/")}let V=!o&&t&&t.matches&&t.matches.length>0?t.matches:QC(n,{pathname:O});gs(v||V!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),gs(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=aO(V&&V.map(N=>Object.assign({},N,{params:Object.assign({},h,N.params),pathname:er([g,s.encodeLocation?s.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?g:er([g,s.encodeLocation?s.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),l,t,i);return e&&D?U.createElement(Ch.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},D):D}function nO(){let n=hO(),e=YM(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=U.createElement(U.Fragment,null,U.createElement("p",null,"💿 Hey developer 👋"),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:o},"ErrorBoundary")," or"," ",U.createElement("code",{style:o},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:s},t):null,l)}var iO=U.createElement(nO,null),sO=class extends U.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?U.createElement(cr.Provider,{value:this.props.routeContext},U.createElement(k_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function rO({routeContext:n,match:e,children:t}){let i=U.useContext(ru);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(cr.Provider,{value:n},t)}function aO(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,o=t==null?void 0:t.errors;if(o!=null){let h=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);bt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let l=!1,c=-1;if(t)for(let h=0;h<s.length;h++){let f=s[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:g,errors:v}=t,_=f.route.loader&&!g.hasOwnProperty(f.route.id)&&(!v||v[f.route.id]===void 0);if(f.route.lazy||_){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((h,f,g)=>{let v,_=!1,w=null,x=null;t&&(v=o&&f.route.id?o[f.route.id]:void 0,w=f.route.errorElement||iO,l&&(c<0&&g===0?(a2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,x=null):c===g&&(_=!0,x=f.route.hydrateFallbackElement||null)));let O=e.concat(s.slice(0,g+1)),V=()=>{let D;return v?D=w:_?D=x:f.route.Component?D=U.createElement(f.route.Component,null):f.route.element?D=f.route.element:D=h,U.createElement(rO,{match:f,routeContext:{outlet:h,matches:O,isDataRoute:t!=null},children:D})};return t&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?U.createElement(sO,{location:t.location,revalidation:t.revalidation,component:w,error:v,children:V(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):V()},null)}function L_(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oO(n){let e=U.useContext(ru);return bt(e,L_(n)),e}function lO(n){let e=U.useContext($p);return bt(e,L_(n)),e}function uO(n){let e=U.useContext(cr);return bt(e,L_(n)),e}function V_(n){let e=uO(n),t=e.matches[e.matches.length-1];return bt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function cO(){return V_("useRouteId")}function hO(){var i;let n=U.useContext(k_),e=lO("useRouteError"),t=V_("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function dO(){let{router:n}=oO("useNavigate"),e=V_("useNavigate"),t=U.useRef(!1);return s2(()=>{t.current=!0}),U.useCallback(async(s,o={})=>{gs(t.current,i2),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...o}))},[n,e])}var vb={};function a2(n,e,t){!e&&!vb[n]&&(vb[n]=!0,gs(!1,t))}U.memo(fO);function fO({routes:n,future:e,state:t}){return r2(n,void 0,t,e)}function Ws(n){bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function pO({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:s,static:o=!1}){bt(!Ah(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=U.useMemo(()=>({basename:l,navigator:s,static:o,future:{}}),[l,s,o]);typeof t=="string"&&(t=su(t));let{pathname:h="/",search:f="",hash:g="",state:v=null,key:_="default"}=t,w=U.useMemo(()=>{let x=ha(h,l);return x==null?null:{location:{pathname:x,search:f,hash:g,state:v,key:_},navigationType:i}},[l,h,f,g,v,_,i]);return gs(w!=null,`<Router basename="${l}"> is not able to match the URL "${h}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:U.createElement(_s.Provider,{value:c},U.createElement(Ch.Provider,{children:e,value:w}))}function mO({children:n,location:e}){return tO(Av(n),e)}function Av(n,e=[]){let t=[];return U.Children.forEach(n,(i,s)=>{if(!U.isValidElement(i))return;let o=[...e,s];if(i.type===U.Fragment){t.push.apply(t,Av(i.props.children,o));return}bt(i.type===Ws,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),bt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=Av(i.props.children,o)),t.push(l)}),t}var Pf="get",Df="application/x-www-form-urlencoded";function Kp(n){return n!=null&&typeof n.tagName=="string"}function gO(n){return Kp(n)&&n.tagName.toLowerCase()==="button"}function yO(n){return Kp(n)&&n.tagName.toLowerCase()==="form"}function vO(n){return Kp(n)&&n.tagName.toLowerCase()==="input"}function _O(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function EO(n,e){return n.button===0&&(!e||e==="_self")&&!_O(n)}var gf=null;function TO(){if(gf===null)try{new FormData(document.createElement("form"),0),gf=!1}catch{gf=!0}return gf}var wO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zy(n){return n!=null&&!wO.has(n)?(gs(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Df}"`),null):n}function bO(n,e){let t,i,s,o,l;if(yO(n)){let c=n.getAttribute("action");i=c?ha(c,e):null,t=n.getAttribute("method")||Pf,s=zy(n.getAttribute("enctype"))||Df,o=new FormData(n)}else if(gO(n)||vO(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||c.getAttribute("action");if(i=h?ha(h,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||Pf,s=zy(n.getAttribute("formenctype"))||zy(c.getAttribute("enctype"))||Df,o=new FormData(c,n),!TO()){let{name:f,type:g,value:v}=n;if(g==="image"){let _=f?`${f}.`:"";o.append(`${_}x`,"0"),o.append(`${_}y`,"0")}else f&&o.append(f,v)}}else{if(Kp(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Pf,i=null,s=Df,l=n}return o&&s==="text/plain"&&(l=o,o=void 0),{action:i,method:t.toLowerCase(),encType:s,formData:o,body:l}}function j_(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function SO(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xO(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function CO(n,e,t){let i=await Promise.all(n.map(async s=>{let o=e.routes[s.route.id];if(o){let l=await SO(o,t);return l.links?l.links():[]}return[]}));return NO(i.flat(1).filter(xO).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function _b(n,e,t,i,s,o){let l=(h,f)=>t[f]?h.route.id!==t[f].route.id:!0,c=(h,f)=>{var g;return t[f].pathname!==h.pathname||((g=t[f].route.path)==null?void 0:g.endsWith("*"))&&t[f].params["*"]!==h.params["*"]};return o==="assets"?e.filter((h,f)=>l(h,f)||c(h,f)):o==="data"?e.filter((h,f)=>{var v;let g=i.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(l(h,f)||c(h,f))return!0;if(h.route.shouldRevalidate){let _=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function AO(n,e,{includeHydrateFallback:t}={}){return RO(n.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function RO(n){return[...new Set(n)]}function IO(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function NO(n,e){let t=new Set;return new Set(e),n.reduce((i,s)=>{let o=JSON.stringify(IO(s));return t.has(o)||(t.add(o),i.push({key:o,link:s})),i},[])}function PO(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function DO(){let n=U.useContext(ru);return j_(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function MO(){let n=U.useContext($p);return j_(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var U_=U.createContext(void 0);U_.displayName="FrameworkContext";function o2(){let n=U.useContext(U_);return j_(n,"You must render this element inside a <HydratedRouter> element"),n}function OO(n,e){let t=U.useContext(U_),[i,s]=U.useState(!1),[o,l]=U.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:f,onMouseLeave:g,onTouchStart:v}=e,_=U.useRef(null);U.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let O=D=>{D.forEach(I=>{l(I.isIntersecting)})},V=new IntersectionObserver(O,{threshold:.5});return _.current&&V.observe(_.current),()=>{V.disconnect()}}},[n]),U.useEffect(()=>{if(i){let O=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(O)}}},[i]);let w=()=>{s(!0)},x=()=>{s(!1),l(!1)};return t?n!=="intent"?[o,_,{}]:[o,_,{onFocus:xc(c,w),onBlur:xc(h,x),onMouseEnter:xc(f,w),onMouseLeave:xc(g,x),onTouchStart:xc(v,w)}]:[!1,_,{}]}function xc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function kO({page:n,...e}){let{router:t}=DO(),i=U.useMemo(()=>QC(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?U.createElement(VO,{page:n,matches:i,...e}):null}function LO(n){let{manifest:e,routeModules:t}=o2(),[i,s]=U.useState([]);return U.useEffect(()=>{let o=!1;return CO(n,e,t).then(l=>{o||s(l)}),()=>{o=!0}},[n,e,t]),i}function VO({page:n,matches:e,...t}){let i=hr(),{manifest:s,routeModules:o}=o2(),{loaderData:l,matches:c}=MO(),h=U.useMemo(()=>_b(n,e,c,s,i,"data"),[n,e,c,s,i]),f=U.useMemo(()=>_b(n,e,c,s,i,"assets"),[n,e,c,s,i]),g=U.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let w=new Set,x=!1;if(e.forEach(V=>{var I;let D=s.routes[V.route.id];!D||!D.hasLoader||(!h.some(N=>N.route.id===V.route.id)&&V.route.id in l&&((I=o[V.route.id])!=null&&I.shouldRevalidate)||D.hasClientLoader?x=!0:w.add(V.route.id))}),w.size===0)return[];let O=PO(n);return x&&w.size>0&&O.searchParams.set("_routes",e.filter(V=>w.has(V.route.id)).map(V=>V.route.id).join(",")),[O.pathname+O.search]},[l,i,s,h,e,n,o]),v=U.useMemo(()=>AO(f,s),[f,s]),_=LO(f);return U.createElement(U.Fragment,null,g.map(w=>U.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...t})),v.map(w=>U.createElement("link",{key:w,rel:"modulepreload",href:w,...t})),_.map(({key:w,link:x})=>U.createElement("link",{key:w,...x})))}function jO(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var l2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{l2&&(window.__reactRouterVersion="7.2.0")}catch{}function UO({basename:n,children:e,window:t}){let i=U.useRef();i.current==null&&(i.current=AM({window:t,v5Compat:!0}));let s=i.current,[o,l]=U.useState({action:s.action,location:s.location}),c=U.useCallback(h=>{U.startTransition(()=>l(h))},[l]);return U.useLayoutEffect(()=>s.listen(c),[s,c]),U.createElement(pO,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:s})}var u2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dl=U.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:s,reloadDocument:o,replace:l,state:c,target:h,to:f,preventScrollReset:g,viewTransition:v,..._},w){let{basename:x}=U.useContext(_s),O=typeof f=="string"&&u2.test(f),V,D=!1;if(typeof f=="string"&&O&&(V=f,l2))try{let C=new URL(window.location.href),R=f.startsWith("//")?new URL(C.protocol+f):new URL(f),j=ha(R.pathname,x);R.origin===C.origin&&j!=null?f=j+R.search+R.hash:D=!0}catch{gs(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let I=JM(f,{relative:s}),[N,H,q]=OO(i,_),Z=HO(f,{replace:l,state:c,target:h,preventScrollReset:g,relative:s,viewTransition:v});function k(C){e&&e(C),C.defaultPrevented||Z(C)}let A=U.createElement("a",{..._,...q,href:V||I,onClick:D||o?e:k,ref:jO(w,H),target:h,"data-discover":!O&&t==="render"?"true":void 0});return N&&!O?U.createElement(U.Fragment,null,A,U.createElement(kO,{page:I})):A});Dl.displayName="Link";var BO=U.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:s=!1,style:o,to:l,viewTransition:c,children:h,...f},g){let v=Rh(l,{relative:f.relative}),_=hr(),w=U.useContext($p),{navigator:x,basename:O}=U.useContext(_s),V=w!=null&&WO(v)&&c===!0,D=x.encodeLocation?x.encodeLocation(v).pathname:v.pathname,I=_.pathname,N=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;t||(I=I.toLowerCase(),N=N?N.toLowerCase():null,D=D.toLowerCase()),N&&O&&(N=ha(N,O)||N);const H=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let q=I===D||!s&&I.startsWith(D)&&I.charAt(H)==="/",Z=N!=null&&(N===D||!s&&N.startsWith(D)&&N.charAt(D.length)==="/"),k={isActive:q,isPending:Z,isTransitioning:V},A=q?e:void 0,C;typeof i=="function"?C=i(k):C=[i,q?"active":null,Z?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let R=typeof o=="function"?o(k):o;return U.createElement(Dl,{...f,"aria-current":A,className:C,ref:g,style:R,to:l,viewTransition:c},typeof h=="function"?h(k):h)});BO.displayName="NavLink";var zO=U.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:s,state:o,method:l=Pf,action:c,onSubmit:h,relative:f,preventScrollReset:g,viewTransition:v,..._},w)=>{let x=$O(),O=KO(c,{relative:f}),V=l.toLowerCase()==="get"?"get":"post",D=typeof c=="string"&&u2.test(c),I=N=>{if(h&&h(N),N.defaultPrevented)return;N.preventDefault();let H=N.nativeEvent.submitter,q=(H==null?void 0:H.getAttribute("formmethod"))||l;x(H||N.currentTarget,{fetcherKey:e,method:q,navigate:t,replace:s,state:o,relative:f,preventScrollReset:g,viewTransition:v})};return U.createElement("form",{ref:w,method:V,action:O,onSubmit:i?h:I,..._,"data-discover":!D&&n==="render"?"true":void 0})});zO.displayName="Form";function FO(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function c2(n){let e=U.useContext(ru);return bt(e,FO(n)),e}function HO(n,{target:e,replace:t,state:i,preventScrollReset:s,relative:o,viewTransition:l}={}){let c=Es(),h=hr(),f=Rh(n,{relative:o});return U.useCallback(g=>{if(EO(g,e)){g.preventDefault();let v=t!==void 0?t:th(h)===th(f);c(n,{replace:v,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[h,c,f,t,i,e,n,s,o,l])}var qO=0,GO=()=>`__${String(++qO)}__`;function $O(){let{router:n}=c2("useSubmit"),{basename:e}=U.useContext(_s),t=cO();return U.useCallback(async(i,s={})=>{let{action:o,method:l,encType:c,formData:h,body:f}=bO(i,e);if(s.navigate===!1){let g=s.fetcherKey||GO();await n.fetch(g,t,s.action||o,{preventScrollReset:s.preventScrollReset,formData:h,body:f,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await n.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:h,body:f,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function KO(n,{relative:e}={}){let{basename:t}=U.useContext(_s),i=U.useContext(cr);bt(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),o={...Rh(n||".",{relative:e})},l=hr();if(n==null){o.search=l.search;let c=new URLSearchParams(o.search),h=c.getAll("index");if(h.some(g=>g==="")){c.delete("index"),h.filter(v=>v).forEach(v=>c.append("index",v));let g=c.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:er([t,o.pathname])),th(o)}function WO(n,e={}){let t=U.useContext(n2);bt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=c2("useViewTransitionState"),s=Rh(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=ha(t.currentLocation.pathname,i)||t.currentLocation.pathname,l=ha(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Wf(s.pathname,l)!=null||Wf(s.pathname,o)!=null}new TextEncoder;const h2="/assets/VYTHITI2-U5rY2ngc.png",YO="/assets/li1-BEzY4Xiq.png";var d2={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Eb=ht.createContext&&ht.createContext(d2),QO=["attr","size","title"];function XO(n,e){if(n==null)return{};var t=ZO(n,e),i,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(s=0;s<o.length;s++)i=o[s],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function ZO(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function Yf(){return Yf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Yf.apply(this,arguments)}function Tb(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function Qf(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Tb(Object(t),!0).forEach(function(i){JO(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Tb(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function JO(n,e,t){return e=e4(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function e4(n){var e=t4(n,"string");return typeof e=="symbol"?e:e+""}function t4(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function f2(n){return n&&n.map((e,t)=>ht.createElement(e.tag,Qf({key:t},e.attr),f2(e.child)))}function Je(n){return e=>ht.createElement(n4,Yf({attr:Qf({},n.attr)},e),f2(n.child))}function n4(n){var e=t=>{var{attr:i,size:s,title:o}=n,l=XO(n,QO),c=s||t.size||"1em",h;return t.className&&(h=t.className),n.className&&(h=(h?h+" ":"")+n.className),ht.createElement("svg",Yf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,l,{className:h,style:Qf(Qf({color:n.color||t.color},t.style),n.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),o&&ht.createElement("title",null,o),n.children)};return Eb!==void 0?ht.createElement(Eb.Consumer,null,t=>e(t)):e(d2)}function i4(n){return Je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M509.5 184.6L458.9 32.8C452.4 13.2 434.1 0 413.4 0H272v192h238.7c-.4-2.5-.4-5-1.2-7.4zM240 0H98.6c-20.7 0-39 13.2-45.5 32.8L2.5 184.6c-.8 2.4-.8 4.9-1.2 7.4H240V0zM0 224v240c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V224H0z"},child:[]}]})(n)}function p2(n){return Je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 504C119 504 8 393 8 256S119 8 256 8s248 111 248 248-111 248-248 248zM142.1 273l135.5 135.5c9.4 9.4 24.6 9.4 33.9 0l17-17c9.4-9.4 9.4-24.6 0-33.9L226.9 256l101.6-101.6c9.4-9.4 9.4-24.6 0-33.9l-17-17c-9.4-9.4-24.6-9.4-33.9 0L142.1 239c-9.4 9.4-9.4 24.6 0 34z"},child:[]}]})(n)}function s4(n){return Je({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(n)}function Wp(n){return Je({attr:{viewBox:"0 0 192 512"},child:[{tag:"path",attr:{d:"M96 184c39.8 0 72 32.2 72 72s-32.2 72-72 72-72-32.2-72-72 32.2-72 72-72zM24 80c0 39.8 32.2 72 72 72s72-32.2 72-72S135.8 8 96 8 24 40.2 24 80zm0 352c0 39.8 32.2 72 72 72s72-32.2 72-72-32.2-72-72-72-72 32.2-72 72z"},child:[]}]})(n)}function r4(n){return Je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(n)}function m2(n){return Je({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(n)}function a4(n){return Je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"},child:[]}]})(n)}function o4(n){return Je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(n)}function l4(n){return Je({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(n)}function u4(n){return Je({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(n)}function c4(n){return Je({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"},child:[]}]})(n)}function h4(n){return Je({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"},child:[]}]})(n)}function g2(n){return Je({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M13.66 7c-.56-1.18-1.76-2-3.16-2H6V3h12v2h-3.26c.48.58.84 1.26 1.05 2H18v2h-2.02c-.25 2.8-2.61 5-5.48 5h-.73l6.73 7h-2.77L7 14v-2h3.5c1.76 0 3.22-1.3 3.46-3H6V7h7.66z"},child:[]}]})(n)}function d4(n){return Je({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"},child:[]}]})(n)}function y2(n){return Je({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"},child:[]}]})(n)}function Cc(n){return Je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12.1",cy:"12.1",r:"1"},child:[]}]})(n)}const v2=U.createContext({});function f4(n){const e=U.useRef(null);return e.current===null&&(e.current=n()),e.current}const B_=U.createContext(null),_2=U.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function p4(n=!0){const e=U.useContext(B_);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:s}=e,o=U.useId();U.useEffect(()=>{if(n)return s(o)},[n]);const l=U.useCallback(()=>n&&i&&i(o),[o,i,n]);return!t&&i?[!1,l]:[!0]}const z_=typeof window<"u",m4=z_?U.useLayoutEffect:U.useEffect,ri=n=>n;let E2=ri;function F_(n){let e;return()=>(e===void 0&&(e=n()),e)}const zl=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i},tr=n=>n*1e3,nr=n=>n/1e3,g4={useManualTiming:!1},yf=["read","resolveKeyframes","update","preRender","render","postRender"],wb={value:null};function y4(n,e){let t=new Set,i=new Set,s=!1,o=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1},h=0;function f(v){l.has(v)&&(g.schedule(v),n()),h++,v(c)}const g={schedule:(v,_=!1,w=!1)=>{const O=w&&s?t:i;return _&&l.add(v),O.has(v)||O.add(v),v},cancel:v=>{i.delete(v),l.delete(v)},process:v=>{if(c=v,s){o=!0;return}s=!0,[t,i]=[i,t],t.forEach(f),e&&wb.value&&wb.value.frameloop[e].push(h),h=0,t.clear(),s=!1,o&&(o=!1,g.process(v))}};return g}const v4=40;function T2(n,e){let t=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>t=!0,l=yf.reduce((D,I)=>(D[I]=y4(o,e?I:void 0),D),{}),{read:c,resolveKeyframes:h,update:f,preRender:g,render:v,postRender:_}=l,w=()=>{const D=performance.now();t=!1,s.delta=i?1e3/60:Math.max(Math.min(D-s.timestamp,v4),1),s.timestamp=D,s.isProcessing=!0,c.process(s),h.process(s),f.process(s),g.process(s),v.process(s),_.process(s),s.isProcessing=!1,t&&e&&(i=!1,n(w))},x=()=>{t=!0,i=!0,s.isProcessing||n(w)};return{schedule:yf.reduce((D,I)=>{const N=l[I];return D[I]=(H,q=!1,Z=!1)=>(t||x(),N.schedule(H,q,Z)),D},{}),cancel:D=>{for(let I=0;I<yf.length;I++)l[yf[I]].cancel(D)},state:s,steps:l}}const{schedule:gt,cancel:da,state:vn,steps:Fy}=T2(typeof requestAnimationFrame<"u"?requestAnimationFrame:ri,!0),w2=U.createContext({strict:!1}),bb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Fl={};for(const n in bb)Fl[n]={isEnabled:e=>bb[n].some(t=>!!e[t])};function _4(n){for(const e in n)Fl[e]={...Fl[e],...n[e]}}const E4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Xf(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||E4.has(n)}let b2=n=>!Xf(n);function T4(n){n&&(b2=e=>e.startsWith("on")?!Xf(e):n(e))}try{T4(require("@emotion/is-prop-valid").default)}catch{}function w4(n,e,t){const i={};for(const s in n)s==="values"&&typeof n.values=="object"||(b2(s)||t===!0&&Xf(s)||!e&&!Xf(s)||n.draggable&&s.startsWith("onDrag"))&&(i[s]=n[s]);return i}function b4(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...i)=>n(...i);return new Proxy(t,{get:(i,s)=>s==="create"?n:(e.has(s)||e.set(s,n(s)),e.get(s))})}const Yp=U.createContext({});function Qp(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function nh(n){return typeof n=="string"||Array.isArray(n)}const H_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],q_=["initial",...H_];function Xp(n){return Qp(n.animate)||q_.some(e=>nh(n[e]))}function S2(n){return!!(Xp(n)||n.variants)}function S4(n,e){if(Xp(n)){const{initial:t,animate:i}=n;return{initial:t===!1||nh(t)?t:void 0,animate:nh(i)?i:void 0}}return n.inherit!==!1?e:{}}function x4(n){const{initial:e,animate:t}=S4(n,U.useContext(Yp));return U.useMemo(()=>({initial:e,animate:t}),[Sb(e),Sb(t)])}function Sb(n){return Array.isArray(n)?n.join(" "):n}const C4=Symbol.for("motionComponentSymbol");function Sl(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function A4(n,e,t){return U.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):Sl(t)&&(t.current=i))},[e])}const G_=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),R4="framerAppearId",x2="data-"+G_(R4),{schedule:$_}=T2(queueMicrotask,!1),C2=U.createContext({});function I4(n,e,t,i,s){var o,l;const{visualElement:c}=U.useContext(Yp),h=U.useContext(w2),f=U.useContext(B_),g=U.useContext(_2).reducedMotion,v=U.useRef(null);i=i||h.renderer,!v.current&&i&&(v.current=i(n,{visualState:e,parent:c,props:t,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:g}));const _=v.current,w=U.useContext(C2);_&&!_.projection&&s&&(_.type==="html"||_.type==="svg")&&N4(v.current,t,s,w);const x=U.useRef(!1);U.useInsertionEffect(()=>{_&&x.current&&_.update(t,f)});const O=t[x2],V=U.useRef(!!O&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,O))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,O)));return m4(()=>{_&&(x.current=!0,window.MotionIsMounted=!0,_.updateFeatures(),$_.render(_.render),V.current&&_.animationState&&_.animationState.animateChanges())}),U.useEffect(()=>{_&&(!V.current&&_.animationState&&_.animationState.animateChanges(),V.current&&(queueMicrotask(()=>{var D;(D=window.MotionHandoffMarkAsComplete)===null||D===void 0||D.call(window,O)}),V.current=!1))}),_}function N4(n,e,t,i){const{layoutId:s,layout:o,drag:l,dragConstraints:c,layoutScroll:h,layoutRoot:f}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:A2(n.parent)),n.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!l||c&&Sl(c),visualElement:n,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,layoutScroll:h,layoutRoot:f})}function A2(n){if(n)return n.options.allowProjection!==!1?n.projection:A2(n.parent)}function P4({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:s}){var o,l;n&&_4(n);function c(f,g){let v;const _={...U.useContext(_2),...f,layoutId:D4(f)},{isStatic:w}=_,x=x4(f),O=i(f,w);if(!w&&z_){M4();const V=O4(_);v=V.MeasureLayout,x.visualElement=I4(s,O,_,e,V.ProjectionNode)}return T.jsxs(Yp.Provider,{value:x,children:[v&&x.visualElement?T.jsx(v,{visualElement:x.visualElement,..._}):null,t(s,f,A4(O,x.visualElement,g),O,w,x.visualElement)]})}c.displayName=`motion.${typeof s=="string"?s:`create(${(l=(o=s.displayName)!==null&&o!==void 0?o:s.name)!==null&&l!==void 0?l:""})`}`;const h=U.forwardRef(c);return h[C4]=s,h}function D4({layoutId:n}){const e=U.useContext(v2).id;return e&&n!==void 0?e+"-"+n:n}function M4(n,e){U.useContext(w2).strict}function O4(n){const{drag:e,layout:t}=Fl;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const R2=n=>e=>typeof e=="string"&&e.startsWith(n),K_=R2("--"),k4=R2("var(--"),W_=n=>k4(n)?L4.test(n.split("/*")[0].trim()):!1,L4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ih={};function V4(n){for(const e in n)ih[e]=n[e],K_(e)&&(ih[e].isCSSVariable=!0)}const au=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],So=new Set(au);function I2(n,{layout:e,layoutId:t}){return So.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!ih[n]||n==="opacity")}const Dn=n=>!!(n&&n.getVelocity),N2=(n,e)=>e&&typeof n=="number"?e.transform(n):n,sr=(n,e,t)=>t>e?e:t<n?n:t,ou={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},sh={...ou,transform:n=>sr(0,1,n)},vf={...ou,default:1},Ih=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Qr=Ih("deg"),os=Ih("%"),Ce=Ih("px"),j4=Ih("vh"),U4=Ih("vw"),xb={...os,parse:n=>os.parse(n)/100,transform:n=>os.transform(n*100)},B4={borderWidth:Ce,borderTopWidth:Ce,borderRightWidth:Ce,borderBottomWidth:Ce,borderLeftWidth:Ce,borderRadius:Ce,radius:Ce,borderTopLeftRadius:Ce,borderTopRightRadius:Ce,borderBottomRightRadius:Ce,borderBottomLeftRadius:Ce,width:Ce,maxWidth:Ce,height:Ce,maxHeight:Ce,top:Ce,right:Ce,bottom:Ce,left:Ce,padding:Ce,paddingTop:Ce,paddingRight:Ce,paddingBottom:Ce,paddingLeft:Ce,margin:Ce,marginTop:Ce,marginRight:Ce,marginBottom:Ce,marginLeft:Ce,backgroundPositionX:Ce,backgroundPositionY:Ce},z4={rotate:Qr,rotateX:Qr,rotateY:Qr,rotateZ:Qr,scale:vf,scaleX:vf,scaleY:vf,scaleZ:vf,skew:Qr,skewX:Qr,skewY:Qr,distance:Ce,translateX:Ce,translateY:Ce,translateZ:Ce,x:Ce,y:Ce,z:Ce,perspective:Ce,transformPerspective:Ce,opacity:sh,originX:xb,originY:xb,originZ:Ce},Cb={...ou,transform:Math.round},Y_={...B4,...z4,zIndex:Cb,size:Ce,fillOpacity:sh,strokeOpacity:sh,numOctaves:Cb},F4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},H4=au.length;function q4(n,e,t){let i="",s=!0;for(let o=0;o<H4;o++){const l=au[o],c=n[l];if(c===void 0)continue;let h=!0;if(typeof c=="number"?h=c===(l.startsWith("scale")?1:0):h=parseFloat(c)===0,!h||t){const f=N2(c,Y_[l]);if(!h){s=!1;const g=F4[l]||l;i+=`${g}(${f}) `}t&&(e[l]=f)}}return i=i.trim(),t?i=t(e,s?"":i):s&&(i="none"),i}function Q_(n,e,t){const{style:i,vars:s,transformOrigin:o}=n;let l=!1,c=!1;for(const h in e){const f=e[h];if(So.has(h)){l=!0;continue}else if(K_(h)){s[h]=f;continue}else{const g=N2(f,Y_[h]);h.startsWith("origin")?(c=!0,o[h]=g):i[h]=g}}if(e.transform||(l||t?i.transform=q4(e,n.transform,t):i.transform&&(i.transform="none")),c){const{originX:h="50%",originY:f="50%",originZ:g=0}=o;i.transformOrigin=`${h} ${f} ${g}`}}const X_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function P2(n,e,t){for(const i in e)!Dn(e[i])&&!I2(i,t)&&(n[i]=e[i])}function G4({transformTemplate:n},e){return U.useMemo(()=>{const t=X_();return Q_(t,e,n),Object.assign({},t.vars,t.style)},[e])}function $4(n,e){const t=n.style||{},i={};return P2(i,t,n),Object.assign(i,G4(n,e)),i}function K4(n,e){const t={},i=$4(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}const W4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Z_(n){return typeof n!="string"||n.includes("-")?!1:!!(W4.indexOf(n)>-1||/[A-Z]/u.test(n))}const Y4={offset:"stroke-dashoffset",array:"stroke-dasharray"},Q4={offset:"strokeDashoffset",array:"strokeDasharray"};function X4(n,e,t=1,i=0,s=!0){n.pathLength=1;const o=s?Y4:Q4;n[o.offset]=Ce.transform(-i);const l=Ce.transform(e),c=Ce.transform(t);n[o.array]=`${l} ${c}`}function Ab(n,e,t){return typeof n=="string"?n:Ce.transform(e+t*n)}function Z4(n,e,t){const i=Ab(e,n.x,n.width),s=Ab(t,n.y,n.height);return`${i} ${s}`}function J_(n,{attrX:e,attrY:t,attrScale:i,originX:s,originY:o,pathLength:l,pathSpacing:c=1,pathOffset:h=0,...f},g,v){if(Q_(n,f,v),g){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:_,style:w,dimensions:x}=n;_.transform&&(x&&(w.transform=_.transform),delete _.transform),x&&(s!==void 0||o!==void 0||w.transform)&&(w.transformOrigin=Z4(x,s!==void 0?s:.5,o!==void 0?o:.5)),e!==void 0&&(_.x=e),t!==void 0&&(_.y=t),i!==void 0&&(_.scale=i),l!==void 0&&X4(_,l,c,h,!1)}const D2=()=>({...X_(),attrs:{}}),e0=n=>typeof n=="string"&&n.toLowerCase()==="svg";function J4(n,e,t,i){const s=U.useMemo(()=>{const o=D2();return J_(o,e,e0(i),n.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(n.style){const o={};P2(o,n.style,n),s.style={...o,...s.style}}return s}function ek(n=!1){return(t,i,s,{latestValues:o},l)=>{const h=(Z_(t)?J4:K4)(i,o,l,t),f=w4(i,typeof t=="string",n),g=t!==U.Fragment?{...f,...h,ref:s}:{},{children:v}=i,_=U.useMemo(()=>Dn(v)?v.get():v,[v]);return U.createElement(t,{...g,children:_})}}function Rb(n){const e=[{},{}];return n==null||n.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function t0(n,e,t,i){if(typeof e=="function"){const[s,o]=Rb(i);e=e(t!==void 0?t:n.custom,s,o)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[s,o]=Rb(i);e=e(t!==void 0?t:n.custom,s,o)}return e}const Rv=n=>Array.isArray(n),tk=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),nk=n=>Rv(n)?n[n.length-1]||0:n;function Mf(n){const e=Dn(n)?n.get():n;return tk(e)?e.toValue():e}function ik({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},i,s,o){const l={latestValues:sk(i,s,o,n),renderState:e()};return t&&(l.onMount=c=>t({props:i,current:c,...l}),l.onUpdate=c=>t(c)),l}const M2=n=>(e,t)=>{const i=U.useContext(Yp),s=U.useContext(B_),o=()=>ik(n,e,i,s);return t?o():f4(o)};function sk(n,e,t,i){const s={},o=i(n,{});for(const _ in o)s[_]=Mf(o[_]);let{initial:l,animate:c}=n;const h=Xp(n),f=S2(n);e&&f&&!h&&n.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let g=t?t.initial===!1:!1;g=g||l===!1;const v=g?c:l;if(v&&typeof v!="boolean"&&!Qp(v)){const _=Array.isArray(v)?v:[v];for(let w=0;w<_.length;w++){const x=t0(n,_[w]);if(x){const{transitionEnd:O,transition:V,...D}=x;for(const I in D){let N=D[I];if(Array.isArray(N)){const H=g?N.length-1:0;N=N[H]}N!==null&&(s[I]=N)}for(const I in O)s[I]=O[I]}}}return s}function n0(n,e,t){var i;const{style:s}=n,o={};for(const l in s)(Dn(s[l])||e.style&&Dn(e.style[l])||I2(l,n)||((i=t==null?void 0:t.getValue(l))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(o[l]=s[l]);return o}const rk={useVisualState:M2({scrapeMotionValuesFromProps:n0,createRenderState:X_})};function O2(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function k2(n,{style:e,vars:t},i,s){Object.assign(n.style,e,s&&s.getProjectionStyles(i));for(const o in t)n.style.setProperty(o,t[o])}const L2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function V2(n,e,t,i){k2(n,e,void 0,i);for(const s in e.attrs)n.setAttribute(L2.has(s)?s:G_(s),e.attrs[s])}function j2(n,e,t){const i=n0(n,e,t);for(const s in n)if(Dn(n[s])||Dn(e[s])){const o=au.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[o]=n[s]}return i}const Ib=["x","y","width","height","cx","cy","r"],ak={useVisualState:M2({scrapeMotionValuesFromProps:j2,createRenderState:D2,onUpdate:({props:n,prevProps:e,current:t,renderState:i,latestValues:s})=>{if(!t)return;let o=!!n.drag;if(!o){for(const c in s)if(So.has(c)){o=!0;break}}if(!o)return;let l=!e;if(e)for(let c=0;c<Ib.length;c++){const h=Ib[c];n[h]!==e[h]&&(l=!0)}l&&gt.read(()=>{O2(t,i),gt.render(()=>{J_(i,s,e0(t.tagName),n.transformTemplate),V2(t,i)})})}})};function ok(n,e){return function(i,{forwardMotionProps:s}={forwardMotionProps:!1}){const l={...Z_(i)?ak:rk,preloadedFeatures:n,useRender:ek(s),createVisualElement:e,Component:i};return P4(l)}}function rh(n,e,t){const i=n.getProps();return t0(i,e,t!==void 0?t:i.custom,n)}const lk=F_(()=>window.ScrollTimeline!==void 0);class uk{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=t}attachTimeline(e,t){const i=this.animations.map(s=>{if(lk()&&s.attachTimeline)return s.attachTimeline(e);if(typeof t=="function")return t(s)});return()=>{i.forEach((s,o)=>{s&&s(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class ck extends uk{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function i0(n,e){return n?n[e]||n.default||n:void 0}const Iv=2e4;function U2(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<Iv;)e+=t,i=n.next(e);return e>=Iv?1/0:e}function s0(n){return typeof n=="function"}function Nb(n,e){n.timeline=e,n.onfinish=null}const r0=n=>Array.isArray(n)&&typeof n[0]=="number",hk={linearEasing:void 0};function dk(n,e){const t=F_(n);return()=>{var i;return(i=hk[e])!==null&&i!==void 0?i:t()}}const Zf=dk(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),B2=(n,e,t=10)=>{let i="";const s=Math.max(Math.round(e/t),2);for(let o=0;o<s;o++)i+=n(zl(0,s-1,o))+", ";return`linear(${i.substring(0,i.length-2)})`};function z2(n){return!!(typeof n=="function"&&Zf()||!n||typeof n=="string"&&(n in Nv||Zf())||r0(n)||Array.isArray(n)&&n.every(z2))}const Mc=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,Nv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Mc([0,.65,.55,1]),circOut:Mc([.55,0,1,.45]),backIn:Mc([.31,.01,.66,-.59]),backOut:Mc([.33,1.53,.69,.99])};function F2(n,e){if(n)return typeof n=="function"&&Zf()?B2(n,e):r0(n)?Mc(n):Array.isArray(n)?n.map(t=>F2(t,e)||Nv.easeOut):Nv[n]}const ki={x:!1,y:!1};function H2(){return ki.x||ki.y}function fk(n,e,t){var i;if(n instanceof EventTarget)return[n];if(typeof n=="string"){let s=document;const o=(i=void 0)!==null&&i!==void 0?i:s.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n)}function q2(n,e){const t=fk(n),i=new AbortController,s={passive:!0,...e,signal:i.signal};return[t,s,()=>i.abort()]}function Pb(n){return!(n.pointerType==="touch"||H2())}function pk(n,e,t={}){const[i,s,o]=q2(n,t),l=c=>{if(!Pb(c))return;const{target:h}=c,f=e(h,c);if(typeof f!="function"||!h)return;const g=v=>{Pb(v)&&(f(v),h.removeEventListener("pointerleave",g))};h.addEventListener("pointerleave",g,s)};return i.forEach(c=>{c.addEventListener("pointerenter",l,s)}),o}function Jf(n,e){const t=`${e}PointerCapture`;if(n.target instanceof Element&&t in n.target&&n.pointerId!==void 0)try{n.target[t](n.pointerId)}catch{}}const G2=(n,e)=>e?n===e?!0:G2(n,e.parentElement):!1,a0=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,mk=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function gk(n){return mk.has(n.tagName)||n.tabIndex!==-1}const Oc=new WeakSet;function Db(n){return e=>{e.key==="Enter"&&n(e)}}function Hy(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const yk=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=Db(()=>{if(Oc.has(t))return;Hy(t,"down");const s=Db(()=>{Hy(t,"up")}),o=()=>Hy(t,"cancel");t.addEventListener("keyup",s,e),t.addEventListener("blur",o,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function Mb(n){return a0(n)&&!H2()}function vk(n,e,t={}){const[i,s,o]=q2(n,t),l=c=>{const h=c.currentTarget;if(!h||!Mb(c)||Oc.has(h))return;Oc.add(h),Jf(c,"set");const f=e(h,c),g=(w,x)=>{h.removeEventListener("pointerup",v),h.removeEventListener("pointercancel",_),Jf(w,"release"),!(!Mb(w)||!Oc.has(h))&&(Oc.delete(h),typeof f=="function"&&f(w,{success:x}))},v=w=>{(w.isTrusted?_k(w,h instanceof Element?h.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?g(w,!1):g(w,!(h instanceof Element)||G2(h,w.target))},_=w=>{g(w,!1)};h.addEventListener("pointerup",v,s),h.addEventListener("pointercancel",_,s),h.addEventListener("lostpointercapture",_,s)};return i.forEach(c=>{c=t.useGlobalTarget?window:c;let h=!1;c instanceof HTMLElement&&(h=!0,!gk(c)&&c.getAttribute("tabindex")===null&&(c.tabIndex=0)),c.addEventListener("pointerdown",l,s),h&&c.addEventListener("focus",f=>yk(f,s),s)}),o}function _k(n,e){return n.clientX<e.left||n.clientX>e.right||n.clientY<e.top||n.clientY>e.bottom}function Ek(n){return n==="x"||n==="y"?ki[n]?null:(ki[n]=!0,()=>{ki[n]=!1}):ki.x||ki.y?null:(ki.x=ki.y=!0,()=>{ki.x=ki.y=!1})}const $2=new Set(["width","height","top","left","right","bottom",...au]);let Of;function Tk(){Of=void 0}const ls={now:()=>(Of===void 0&&ls.set(vn.isProcessing||g4.useManualTiming?vn.timestamp:performance.now()),Of),set:n=>{Of=n,queueMicrotask(Tk)}};function o0(n,e){n.indexOf(e)===-1&&n.push(e)}function l0(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class u0{constructor(){this.subscriptions=[]}add(e){return o0(this.subscriptions,e),()=>l0(this.subscriptions,e)}notify(e,t,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,t,i);else for(let o=0;o<s;o++){const l=this.subscriptions[o];l&&l(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function K2(n,e){return e?n*(1e3/e):0}const Ob=30,wk=n=>!isNaN(parseFloat(n));class bk{constructor(e,t={}){this.version="12.4.7",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,s=!0)=>{const o=ls.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=ls.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=wk(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new u0);const i=this.events[e].add(t);return e==="change"?()=>{i(),gt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ls.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Ob)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,Ob);return K2(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ah(n,e){return new bk(n,e)}function Sk(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,ah(t))}function xk(n,e){const t=rh(n,e);let{transitionEnd:i={},transition:s={},...o}=t||{};o={...o,...i};for(const l in o){const c=nk(o[l]);Sk(n,l,c)}}function Ck(n){return!!(Dn(n)&&n.add)}function Pv(n,e){const t=n.getValue("willChange");if(Ck(t))return t.add(e)}function W2(n){return n.props[x2]}const Y2=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,Ak=1e-7,Rk=12;function Ik(n,e,t,i,s){let o,l,c=0;do l=e+(t-e)/2,o=Y2(l,i,s)-n,o>0?t=l:e=l;while(Math.abs(o)>Ak&&++c<Rk);return l}function Nh(n,e,t,i){if(n===e&&t===i)return ri;const s=o=>Ik(o,0,1,n,t);return o=>o===0||o===1?o:Y2(s(o),e,i)}const Q2=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,X2=n=>e=>1-n(1-e),Z2=Nh(.33,1.53,.69,.99),c0=X2(Z2),J2=Q2(c0),eA=n=>(n*=2)<1?.5*c0(n):.5*(2-Math.pow(2,-10*(n-1))),h0=n=>1-Math.sin(Math.acos(n)),tA=X2(h0),nA=Q2(h0),iA=n=>/^0[^.\s]+$/u.test(n);function Nk(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||iA(n):!0}const zc=n=>Math.round(n*1e5)/1e5,d0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Pk(n){return n==null}const Dk=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,f0=(n,e)=>t=>!!(typeof t=="string"&&Dk.test(t)&&t.startsWith(n)||e&&!Pk(t)&&Object.prototype.hasOwnProperty.call(t,e)),sA=(n,e,t)=>i=>{if(typeof i!="string")return i;const[s,o,l,c]=i.match(d0);return{[n]:parseFloat(s),[e]:parseFloat(o),[t]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},Mk=n=>sr(0,255,n),qy={...ou,transform:n=>Math.round(Mk(n))},uo={test:f0("rgb","red"),parse:sA("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+qy.transform(n)+", "+qy.transform(e)+", "+qy.transform(t)+", "+zc(sh.transform(i))+")"};function Ok(n){let e="",t="",i="",s="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),s=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),s=n.substring(4,5),e+=e,t+=t,i+=i,s+=s),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const Dv={test:f0("#"),parse:Ok,transform:uo.transform},xl={test:f0("hsl","hue"),parse:sA("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+os.transform(zc(e))+", "+os.transform(zc(t))+", "+zc(sh.transform(i))+")"},In={test:n=>uo.test(n)||Dv.test(n)||xl.test(n),parse:n=>uo.test(n)?uo.parse(n):xl.test(n)?xl.parse(n):Dv.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?uo.transform(n):xl.transform(n)},kk=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Lk(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(d0))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(kk))===null||t===void 0?void 0:t.length)||0)>0}const rA="number",aA="color",Vk="var",jk="var(",kb="${}",Uk=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function oh(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},s=[];let o=0;const c=e.replace(Uk,h=>(In.test(h)?(i.color.push(o),s.push(aA),t.push(In.parse(h))):h.startsWith(jk)?(i.var.push(o),s.push(Vk),t.push(h)):(i.number.push(o),s.push(rA),t.push(parseFloat(h))),++o,kb)).split(kb);return{values:t,split:c,indexes:i,types:s}}function oA(n){return oh(n).values}function lA(n){const{split:e,types:t}=oh(n),i=e.length;return s=>{let o="";for(let l=0;l<i;l++)if(o+=e[l],s[l]!==void 0){const c=t[l];c===rA?o+=zc(s[l]):c===aA?o+=In.transform(s[l]):o+=s[l]}return o}}const Bk=n=>typeof n=="number"?0:n;function zk(n){const e=oA(n);return lA(n)(e.map(Bk))}const fa={test:Lk,parse:oA,createTransformer:lA,getAnimatableNone:zk},Fk=new Set(["brightness","contrast","saturate","opacity"]);function Hk(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(d0)||[];if(!i)return n;const s=t.replace(i,"");let o=Fk.has(e)?1:0;return i!==t&&(o*=100),e+"("+o+s+")"}const qk=/\b([a-z-]*)\(.*?\)/gu,Mv={...fa,getAnimatableNone:n=>{const e=n.match(qk);return e?e.map(Hk).join(" "):n}},Gk={...Y_,color:In,backgroundColor:In,outlineColor:In,fill:In,stroke:In,borderColor:In,borderTopColor:In,borderRightColor:In,borderBottomColor:In,borderLeftColor:In,filter:Mv,WebkitFilter:Mv},p0=n=>Gk[n];function uA(n,e){let t=p0(n);return t!==Mv&&(t=fa),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const $k=new Set(["auto","none","0"]);function Kk(n,e,t){let i=0,s;for(;i<n.length&&!s;){const o=n[i];typeof o=="string"&&!$k.has(o)&&oh(o).values.length&&(s=n[i]),i++}if(s&&t)for(const o of e)n[o]=uA(t,s)}const Lb=n=>n===ou||n===Ce,Vb=(n,e)=>parseFloat(n.split(", ")[e]),jb=(n,e)=>(t,{transform:i})=>{if(i==="none"||!i)return 0;const s=i.match(/^matrix3d\((.+)\)$/u);if(s)return Vb(s[1],e);{const o=i.match(/^matrix\((.+)\)$/u);return o?Vb(o[1],n):0}},Wk=new Set(["x","y","z"]),Yk=au.filter(n=>!Wk.has(n));function Qk(n){const e=[];return Yk.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const Hl={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:jb(4,13),y:jb(5,14)};Hl.translateX=Hl.x;Hl.translateY=Hl.y;const fo=new Set;let Ov=!1,kv=!1;function cA(){if(kv){const n=Array.from(fo).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const s=Qk(i);s.length&&(t.set(i,s),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const s=t.get(i);s&&s.forEach(([o,l])=>{var c;(c=i.getValue(o))===null||c===void 0||c.set(l)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}kv=!1,Ov=!1,fo.forEach(n=>n.complete()),fo.clear()}function hA(){fo.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(kv=!0)})}function Xk(){hA(),cA()}class m0{constructor(e,t,i,s,o,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=s,this.element=o,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(fo.add(this),Ov||(Ov=!0,gt.read(hA),gt.resolveKeyframes(cA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:s}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const l=s==null?void 0:s.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&t){const h=i.readValue(t,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),s&&l===void 0&&s.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),fo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,fo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const dA=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),Zk=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Jk(n){const e=Zk.exec(n);if(!e)return[,];const[,t,i,s]=e;return[`--${t??i}`,s]}function fA(n,e,t=1){const[i,s]=Jk(n);if(!i)return;const o=window.getComputedStyle(e).getPropertyValue(i);if(o){const l=o.trim();return dA(l)?parseFloat(l):l}return W_(s)?fA(s,e,t+1):s}const pA=n=>e=>e.test(n),eL={test:n=>n==="auto",parse:n=>n},mA=[ou,Ce,os,Qr,U4,j4,eL],Ub=n=>mA.find(pA(n));class gA extends m0{constructor(e,t,i,s,o){super(e,t,i,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let f=e[h];if(typeof f=="string"&&(f=f.trim(),W_(f))){const g=fA(f,t.current);g!==void 0&&(e[h]=g),h===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!$2.has(i)||e.length!==2)return;const[s,o]=e,l=Ub(s),c=Ub(o);if(l!==c)if(Lb(l)&&Lb(c))for(let h=0;h<e.length;h++){const f=e[h];typeof f=="string"&&(e[h]=parseFloat(f))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let s=0;s<e.length;s++)Nk(e[s])&&i.push(s);i.length&&Kk(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Hl[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const s=t[t.length-1];s!==void 0&&e.getValue(i,s).jump(s,!1)}measureEndState(){var e;const{element:t,name:i,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const o=t.getValue(i);o&&o.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=Hl[i](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([h,f])=>{t.getValue(h).set(f)}),this.resolveNoneKeyframes()}}const Bb=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(fa.test(n)||n==="0")&&!n.startsWith("url("));function tL(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function nL(n,e,t,i){const s=n[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const o=n[n.length-1],l=Bb(s,e),c=Bb(o,e);return!l||!c?!1:tL(n)||(t==="spring"||s0(t))&&i}const iL=n=>n!==null;function Zp(n,{repeat:e,repeatType:t="loop"},i){const s=n.filter(iL),o=e&&t!=="loop"&&e%2===1?0:s.length-1;return!o||i===void 0?s[o]:i}const sL=40;class yA{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:l="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ls.now(),this.options={autoplay:e,delay:t,type:i,repeat:s,repeatDelay:o,repeatType:l,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>sL?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Xk(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=ls.now(),this.hasAttemptedResolve=!0;const{name:i,type:s,velocity:o,delay:l,onComplete:c,onUpdate:h,isGenerator:f}=this.options;if(!f&&!nL(e,i,s,o))if(l)this.options.duration=0;else{h&&h(Zp(e,this.options,t)),c&&c(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,t);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...g},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const wt=(n,e,t)=>n+(e-n)*t;function Gy(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function rL({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let s=0,o=0,l=0;if(!e)s=o=l=t;else{const c=t<.5?t*(1+e):t+e-t*e,h=2*t-c;s=Gy(h,c,n+1/3),o=Gy(h,c,n),l=Gy(h,c,n-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:i}}function ep(n,e){return t=>t>0?e:n}const $y=(n,e,t)=>{const i=n*n,s=t*(e*e-i)+i;return s<0?0:Math.sqrt(s)},aL=[Dv,uo,xl],oL=n=>aL.find(e=>e.test(n));function zb(n){const e=oL(n);if(!e)return!1;let t=e.parse(n);return e===xl&&(t=rL(t)),t}const Fb=(n,e)=>{const t=zb(n),i=zb(e);if(!t||!i)return ep(n,e);const s={...t};return o=>(s.red=$y(t.red,i.red,o),s.green=$y(t.green,i.green,o),s.blue=$y(t.blue,i.blue,o),s.alpha=wt(t.alpha,i.alpha,o),uo.transform(s))},lL=(n,e)=>t=>e(n(t)),Ph=(...n)=>n.reduce(lL),Lv=new Set(["none","hidden"]);function uL(n,e){return Lv.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function cL(n,e){return t=>wt(n,e,t)}function g0(n){return typeof n=="number"?cL:typeof n=="string"?W_(n)?ep:In.test(n)?Fb:fL:Array.isArray(n)?vA:typeof n=="object"?In.test(n)?Fb:hL:ep}function vA(n,e){const t=[...n],i=t.length,s=n.map((o,l)=>g0(o)(o,e[l]));return o=>{for(let l=0;l<i;l++)t[l]=s[l](o);return t}}function hL(n,e){const t={...n,...e},i={};for(const s in t)n[s]!==void 0&&e[s]!==void 0&&(i[s]=g0(n[s])(n[s],e[s]));return s=>{for(const o in i)t[o]=i[o](s);return t}}function dL(n,e){var t;const i=[],s={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const l=e.types[o],c=n.indexes[l][s[l]],h=(t=n.values[c])!==null&&t!==void 0?t:0;i[o]=h,s[l]++}return i}const fL=(n,e)=>{const t=fa.createTransformer(e),i=oh(n),s=oh(e);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?Lv.has(n)&&!s.values.length||Lv.has(e)&&!i.values.length?uL(n,e):Ph(vA(dL(i,s),s.values),t):ep(n,e)};function _A(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?wt(n,e,t):g0(n)(n,e)}const pL=5;function EA(n,e,t){const i=Math.max(e-pL,0);return K2(t-n(i),e-i)}const Nt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Hb=.001;function mL({duration:n=Nt.duration,bounce:e=Nt.bounce,velocity:t=Nt.velocity,mass:i=Nt.mass}){let s,o,l=1-e;l=sr(Nt.minDamping,Nt.maxDamping,l),n=sr(Nt.minDuration,Nt.maxDuration,nr(n)),l<1?(s=f=>{const g=f*l,v=g*n,_=g-t,w=Vv(f,l),x=Math.exp(-v);return Hb-_/w*x},o=f=>{const v=f*l*n,_=v*t+t,w=Math.pow(l,2)*Math.pow(f,2)*n,x=Math.exp(-v),O=Vv(Math.pow(f,2),l);return(-s(f)+Hb>0?-1:1)*((_-w)*x)/O}):(s=f=>{const g=Math.exp(-f*n),v=(f-t)*n+1;return-.001+g*v},o=f=>{const g=Math.exp(-f*n),v=(t-f)*(n*n);return g*v});const c=5/n,h=yL(s,o,c);if(n=tr(n),isNaN(h))return{stiffness:Nt.stiffness,damping:Nt.damping,duration:n};{const f=Math.pow(h,2)*i;return{stiffness:f,damping:l*2*Math.sqrt(i*f),duration:n}}}const gL=12;function yL(n,e,t){let i=t;for(let s=1;s<gL;s++)i=i-n(i)/e(i);return i}function Vv(n,e){return n*Math.sqrt(1-e*e)}const vL=["duration","bounce"],_L=["stiffness","damping","mass"];function qb(n,e){return e.some(t=>n[t]!==void 0)}function EL(n){let e={velocity:Nt.velocity,stiffness:Nt.stiffness,damping:Nt.damping,mass:Nt.mass,isResolvedFromDuration:!1,...n};if(!qb(n,_L)&&qb(n,vL))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),s=i*i,o=2*sr(.05,1,1-(n.bounce||0))*Math.sqrt(s);e={...e,mass:Nt.mass,stiffness:s,damping:o}}else{const t=mL(n);e={...e,...t,mass:Nt.mass},e.isResolvedFromDuration=!0}return e}function TA(n=Nt.visualDuration,e=Nt.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:s}=t;const o=t.keyframes[0],l=t.keyframes[t.keyframes.length-1],c={done:!1,value:o},{stiffness:h,damping:f,mass:g,duration:v,velocity:_,isResolvedFromDuration:w}=EL({...t,velocity:-nr(t.velocity||0)}),x=_||0,O=f/(2*Math.sqrt(h*g)),V=l-o,D=nr(Math.sqrt(h/g)),I=Math.abs(V)<5;i||(i=I?Nt.restSpeed.granular:Nt.restSpeed.default),s||(s=I?Nt.restDelta.granular:Nt.restDelta.default);let N;if(O<1){const q=Vv(D,O);N=Z=>{const k=Math.exp(-O*D*Z);return l-k*((x+O*D*V)/q*Math.sin(q*Z)+V*Math.cos(q*Z))}}else if(O===1)N=q=>l-Math.exp(-D*q)*(V+(x+D*V)*q);else{const q=D*Math.sqrt(O*O-1);N=Z=>{const k=Math.exp(-O*D*Z),A=Math.min(q*Z,300);return l-k*((x+O*D*V)*Math.sinh(A)+q*V*Math.cosh(A))/q}}const H={calculatedDuration:w&&v||null,next:q=>{const Z=N(q);if(w)c.done=q>=v;else{let k=0;O<1&&(k=q===0?tr(x):EA(N,q,Z));const A=Math.abs(k)<=i,C=Math.abs(l-Z)<=s;c.done=A&&C}return c.value=c.done?l:Z,c},toString:()=>{const q=Math.min(U2(H),Iv),Z=B2(k=>H.next(q*k).value,q,30);return q+"ms "+Z}};return H}function Gb({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:l,min:c,max:h,restDelta:f=.5,restSpeed:g}){const v=n[0],_={done:!1,value:v},w=A=>c!==void 0&&A<c||h!==void 0&&A>h,x=A=>c===void 0?h:h===void 0||Math.abs(c-A)<Math.abs(h-A)?c:h;let O=t*e;const V=v+O,D=l===void 0?V:l(V);D!==V&&(O=D-v);const I=A=>-O*Math.exp(-A/i),N=A=>D+I(A),H=A=>{const C=I(A),R=N(A);_.done=Math.abs(C)<=f,_.value=_.done?D:R};let q,Z;const k=A=>{w(_.value)&&(q=A,Z=TA({keyframes:[_.value,x(_.value)],velocity:EA(N,A,_.value),damping:s,stiffness:o,restDelta:f,restSpeed:g}))};return k(0),{calculatedDuration:null,next:A=>{let C=!1;return!Z&&q===void 0&&(C=!0,H(A),k(A)),q!==void 0&&A>=q?Z.next(A-q):(!C&&H(A),_)}}}const TL=Nh(.42,0,1,1),wL=Nh(0,0,.58,1),wA=Nh(.42,0,.58,1),bL=n=>Array.isArray(n)&&typeof n[0]!="number",SL={linear:ri,easeIn:TL,easeInOut:wA,easeOut:wL,circIn:h0,circInOut:nA,circOut:tA,backIn:c0,backInOut:J2,backOut:Z2,anticipate:eA},$b=n=>{if(r0(n)){E2(n.length===4);const[e,t,i,s]=n;return Nh(e,t,i,s)}else if(typeof n=="string")return SL[n];return n};function xL(n,e,t){const i=[],s=t||_A,o=n.length-1;for(let l=0;l<o;l++){let c=s(n[l],n[l+1]);if(e){const h=Array.isArray(e)?e[l]||ri:e;c=Ph(h,c)}i.push(c)}return i}function CL(n,e,{clamp:t=!0,ease:i,mixer:s}={}){const o=n.length;if(E2(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const l=n[0]===n[1];n[0]>n[o-1]&&(n=[...n].reverse(),e=[...e].reverse());const c=xL(e,i,s),h=c.length,f=g=>{if(l&&g<n[0])return e[0];let v=0;if(h>1)for(;v<n.length-2&&!(g<n[v+1]);v++);const _=zl(n[v],n[v+1],g);return c[v](_)};return t?g=>f(sr(n[0],n[o-1],g)):f}function AL(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const s=zl(0,e,i);n.push(wt(t,1,s))}}function RL(n){const e=[0];return AL(e,n.length-1),e}function IL(n,e){return n.map(t=>t*e)}function NL(n,e){return n.map(()=>e||wA).splice(0,n.length-1)}function tp({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const s=bL(i)?i.map($b):$b(i),o={done:!1,value:e[0]},l=IL(t&&t.length===e.length?t:RL(e),n),c=CL(l,e,{ease:Array.isArray(s)?s:NL(e,s)});return{calculatedDuration:n,next:h=>(o.value=c(h),o.done=h>=n,o)}}const PL=n=>{const e=({timestamp:t})=>n(t);return{start:()=>gt.update(e,!0),stop:()=>da(e),now:()=>vn.isProcessing?vn.timestamp:ls.now()}},DL={decay:Gb,inertia:Gb,tween:tp,keyframes:tp,spring:TA},ML=n=>n/100;class y0 extends yA{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:t,motionValue:i,element:s,keyframes:o}=this.options,l=(s==null?void 0:s.KeyframeResolver)||m0,c=(h,f)=>this.onKeyframesResolved(h,f);this.resolver=new l(o,c,t,i,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o,velocity:l=0}=this.options,c=s0(t)?t:DL[t]||tp;let h,f;c!==tp&&typeof e[0]!="number"&&(h=Ph(ML,_A(e[0],e[1])),e=[0,100]);const g=c({...this.options,keyframes:e});o==="mirror"&&(f=c({...this.options,keyframes:[...e].reverse(),velocity:-l})),g.calculatedDuration===null&&(g.calculatedDuration=U2(g));const{calculatedDuration:v}=g,_=v+s,w=_*(i+1)-s;return{generator:g,mirroredGenerator:f,mapPercentToKeyframes:h,calculatedDuration:v,resolvedDuration:_,totalDuration:w}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:i}=this;if(!i){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:s,generator:o,mirroredGenerator:l,mapPercentToKeyframes:c,keyframes:h,calculatedDuration:f,totalDuration:g,resolvedDuration:v}=i;if(this.startTime===null)return o.next(0);const{delay:_,repeat:w,repeatType:x,repeatDelay:O,onUpdate:V}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const D=this.currentTime-_*(this.speed>=0?1:-1),I=this.speed>=0?D<0:D>g;this.currentTime=Math.max(D,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let N=this.currentTime,H=o;if(w){const A=Math.min(this.currentTime,g)/v;let C=Math.floor(A),R=A%1;!R&&A>=1&&(R=1),R===1&&C--,C=Math.min(C,w+1),!!(C%2)&&(x==="reverse"?(R=1-R,O&&(R-=O/v)):x==="mirror"&&(H=l)),N=sr(0,1,R)*v}const q=I?{done:!1,value:h[0]}:H.next(N);c&&(q.value=c(q.value));let{done:Z}=q;!I&&f!==null&&(Z=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Z);return k&&s!==void 0&&(q.value=Zp(h,this.options,s)),V&&V(q.value),k&&this.finish(),q}get duration(){const{resolved:e}=this;return e?nr(e.calculatedDuration):0}get time(){return nr(this.currentTime)}set time(e){e=tr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=nr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=PL,onPlay:t,startTime:i}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),t&&t();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const OL=new Set(["opacity","clipPath","filter","transform"]);function kL(n,e,t,{delay:i=0,duration:s=300,repeat:o=0,repeatType:l="loop",ease:c="easeInOut",times:h}={}){const f={[e]:t};h&&(f.offset=h);const g=F2(c,s);return Array.isArray(g)&&(f.easing=g),n.animate(f,{delay:i,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"})}const LL=F_(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),np=10,VL=2e4;function jL(n){return s0(n.type)||n.type==="spring"||!z2(n.ease)}function UL(n,e){const t=new y0({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:n[0]};const s=[];let o=0;for(;!i.done&&o<VL;)i=t.sample(o),s.push(i.value),o+=np;return{times:void 0,keyframes:s,duration:o-np,ease:"linear"}}const bA={anticipate:eA,backInOut:J2,circInOut:nA};function BL(n){return n in bA}class Kb extends yA{constructor(e){super(e);const{name:t,motionValue:i,element:s,keyframes:o}=this.options;this.resolver=new gA(o,(l,c)=>this.onKeyframesResolved(l,c),t,i,s),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:i=300,times:s,ease:o,type:l,motionValue:c,name:h,startTime:f}=this.options;if(!c.owner||!c.owner.current)return!1;if(typeof o=="string"&&Zf()&&BL(o)&&(o=bA[o]),jL(this.options)){const{onComplete:v,onUpdate:_,motionValue:w,element:x,...O}=this.options,V=UL(e,O);e=V.keyframes,e.length===1&&(e[1]=e[0]),i=V.duration,s=V.times,o=V.ease,l="keyframes"}const g=kL(c.owner.current,h,e,{...this.options,duration:i,times:s,ease:o});return g.startTime=f??this.calcStartTime(),this.pendingTimeline?(Nb(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:v}=this.options;c.set(Zp(e,this.options,t)),v&&v(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:i,times:s,type:l,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return nr(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return nr(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.currentTime=tr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return ri;const{animation:i}=t;Nb(i,e)}return ri}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:i,duration:s,type:o,ease:l,times:c}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:f,onUpdate:g,onComplete:v,element:_,...w}=this.options,x=new y0({...w,keyframes:i,duration:s,type:o,ease:l,times:c,isGenerator:!0}),O=tr(this.time);f.setWithVelocity(x.sample(O-np).value,x.sample(O).value,np)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:i,repeatDelay:s,repeatType:o,damping:l,type:c}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:f}=t.owner.getProps();return LL()&&i&&OL.has(i)&&!h&&!f&&!s&&o!=="mirror"&&l!==0&&c!=="inertia"}}const zL={type:"spring",stiffness:500,damping:25,restSpeed:10},FL=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),HL={type:"keyframes",duration:.8},qL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},GL=(n,{keyframes:e})=>e.length>2?HL:So.has(n)?n.startsWith("scale")?FL(e[1]):zL:qL;function $L({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:s,repeat:o,repeatType:l,repeatDelay:c,from:h,elapsed:f,...g}){return!!Object.keys(g).length}const v0=(n,e,t,i={},s,o)=>l=>{const c=i0(i,n)||{},h=c.delay||i.delay||0;let{elapsed:f=0}=i;f=f-tr(h);let g={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-f,onUpdate:_=>{e.set(_),c.onUpdate&&c.onUpdate(_)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:n,motionValue:e,element:o?void 0:s};$L(c)||(g={...g,...GL(n,g)}),g.duration&&(g.duration=tr(g.duration)),g.repeatDelay&&(g.repeatDelay=tr(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(v=!0)),v&&!o&&e.get()!==void 0){const _=Zp(g.keyframes,c);if(_!==void 0)return gt.update(()=>{g.onUpdate(_),g.onComplete()}),new ck([])}return!o&&Kb.supports(g)?new Kb(g):new y0(g)};function KL({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function SA(n,e,{delay:t=0,transitionOverride:i,type:s}={}){var o;let{transition:l=n.getDefaultTransition(),transitionEnd:c,...h}=e;i&&(l=i);const f=[],g=s&&n.animationState&&n.animationState.getState()[s];for(const v in h){const _=n.getValue(v,(o=n.latestValues[v])!==null&&o!==void 0?o:null),w=h[v];if(w===void 0||g&&KL(g,v))continue;const x={delay:t,...i0(l||{},v)};let O=!1;if(window.MotionHandoffAnimation){const D=W2(n);if(D){const I=window.MotionHandoffAnimation(D,v,gt);I!==null&&(x.startTime=I,O=!0)}}Pv(n,v),_.start(v0(v,_,w,n.shouldReduceMotion&&$2.has(v)?{type:!1}:x,n,O));const V=_.animation;V&&f.push(V)}return c&&Promise.all(f).then(()=>{gt.update(()=>{c&&xk(n,c)})}),f}function jv(n,e,t={}){var i;const s=rh(n,e,t.type==="exit"?(i=n.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=s||{};t.transitionOverride&&(o=t.transitionOverride);const l=s?()=>Promise.all(SA(n,s,t)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(f=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:_}=o;return WL(n,e,g+f,v,_,t)}:()=>Promise.resolve(),{when:h}=o;if(h){const[f,g]=h==="beforeChildren"?[l,c]:[c,l];return f().then(()=>g())}else return Promise.all([l(),c(t.delay)])}function WL(n,e,t=0,i=0,s=1,o){const l=[],c=(n.variantChildren.size-1)*i,h=s===1?(f=0)=>f*i:(f=0)=>c-f*i;return Array.from(n.variantChildren).sort(YL).forEach((f,g)=>{f.notify("AnimationStart",e),l.push(jv(f,e,{...o,delay:t+h(g)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(l)}function YL(n,e){return n.sortNodePosition(e)}function QL(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const s=e.map(o=>jv(n,o,t));i=Promise.all(s)}else if(typeof e=="string")i=jv(n,e,t);else{const s=typeof e=="function"?rh(n,e,t.custom):e;i=Promise.all(SA(n,s,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}function xA(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}const XL=q_.length;function CA(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?CA(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<XL;t++){const i=q_[t],s=n.props[i];(nh(s)||s===!1)&&(e[i]=s)}return e}const ZL=[...H_].reverse(),JL=H_.length;function e3(n){return e=>Promise.all(e.map(({animation:t,options:i})=>QL(n,t,i)))}function t3(n){let e=e3(n),t=Wb(),i=!0;const s=h=>(f,g)=>{var v;const _=rh(n,g,h==="exit"?(v=n.presenceContext)===null||v===void 0?void 0:v.custom:void 0);if(_){const{transition:w,transitionEnd:x,...O}=_;f={...f,...O,...x}}return f};function o(h){e=h(n)}function l(h){const{props:f}=n,g=CA(n.parent)||{},v=[],_=new Set;let w={},x=1/0;for(let V=0;V<JL;V++){const D=ZL[V],I=t[D],N=f[D]!==void 0?f[D]:g[D],H=nh(N),q=D===h?I.isActive:null;q===!1&&(x=V);let Z=N===g[D]&&N!==f[D]&&H;if(Z&&i&&n.manuallyAnimateOnMount&&(Z=!1),I.protectedKeys={...w},!I.isActive&&q===null||!N&&!I.prevProp||Qp(N)||typeof N=="boolean")continue;const k=n3(I.prevProp,N);let A=k||D===h&&I.isActive&&!Z&&H||V>x&&H,C=!1;const R=Array.isArray(N)?N:[N];let j=R.reduce(s(D),{});q===!1&&(j={});const{prevResolvedValues:z={}}=I,L={...z,...j},de=he=>{A=!0,_.has(he)&&(C=!0,_.delete(he)),I.needsAnimating[he]=!0;const re=n.getValue(he);re&&(re.liveStyle=!1)};for(const he in L){const re=j[he],ye=z[he];if(w.hasOwnProperty(he))continue;let F=!1;Rv(re)&&Rv(ye)?F=!xA(re,ye):F=re!==ye,F?re!=null?de(he):_.add(he):re!==void 0&&_.has(he)?de(he):I.protectedKeys[he]=!0}I.prevProp=N,I.prevResolvedValues=j,I.isActive&&(w={...w,...j}),i&&n.blockInitialAnimation&&(A=!1),A&&(!(Z&&k)||C)&&v.push(...R.map(he=>({animation:he,options:{type:D}})))}if(_.size){const V={};if(typeof f.initial!="boolean"){const D=rh(n,Array.isArray(f.initial)?f.initial[0]:f.initial);D&&D.transition&&(V.transition=D.transition)}_.forEach(D=>{const I=n.getBaseTarget(D),N=n.getValue(D);N&&(N.liveStyle=!0),V[D]=I??null}),v.push({animation:V})}let O=!!v.length;return i&&(f.initial===!1||f.initial===f.animate)&&!n.manuallyAnimateOnMount&&(O=!1),i=!1,O?e(v):Promise.resolve()}function c(h,f){var g;if(t[h].isActive===f)return Promise.resolve();(g=n.variantChildren)===null||g===void 0||g.forEach(_=>{var w;return(w=_.animationState)===null||w===void 0?void 0:w.setActive(h,f)}),t[h].isActive=f;const v=l(h);for(const _ in t)t[_].protectedKeys={};return v}return{animateChanges:l,setActive:c,setAnimateFunction:o,getState:()=>t,reset:()=>{t=Wb(),i=!0}}}function n3(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!xA(e,n):!1}function ro(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Wb(){return{animate:ro(!0),whileInView:ro(),whileHover:ro(),whileTap:ro(),whileDrag:ro(),whileFocus:ro(),exit:ro()}}class ba{constructor(e){this.isMounted=!1,this.node=e}update(){}}class i3 extends ba{constructor(e){super(e),e.animationState||(e.animationState=t3(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Qp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let s3=0;class r3 extends ba{constructor(){super(...arguments),this.id=s3++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e);t&&!e&&s.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const a3={animation:{Feature:i3},exit:{Feature:r3}};function lh(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function Dh(n){return{point:{x:n.pageX,y:n.pageY}}}const o3=n=>e=>a0(e)&&n(e,Dh(e));function Cl(n,e,t,i){return lh(n,e,o3(t),i)}function AA({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function l3({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function u3(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}const RA=1e-4,c3=1-RA,h3=1+RA,IA=.01,d3=0-IA,f3=0+IA;function Un(n){return n.max-n.min}function p3(n,e,t){return Math.abs(n-e)<=t}function Yb(n,e,t,i=.5){n.origin=i,n.originPoint=wt(e.min,e.max,n.origin),n.scale=Un(t)/Un(e),n.translate=wt(t.min,t.max,n.origin)-n.originPoint,(n.scale>=c3&&n.scale<=h3||isNaN(n.scale))&&(n.scale=1),(n.translate>=d3&&n.translate<=f3||isNaN(n.translate))&&(n.translate=0)}function Fc(n,e,t,i){Yb(n.x,e.x,t.x,i?i.originX:void 0),Yb(n.y,e.y,t.y,i?i.originY:void 0)}function Qb(n,e,t){n.min=t.min+e.min,n.max=n.min+Un(e)}function m3(n,e,t){Qb(n.x,e.x,t.x),Qb(n.y,e.y,t.y)}function Xb(n,e,t){n.min=e.min-t.min,n.max=n.min+Un(e)}function Hc(n,e,t){Xb(n.x,e.x,t.x),Xb(n.y,e.y,t.y)}const Zb=()=>({translate:0,scale:1,origin:0,originPoint:0}),Al=()=>({x:Zb(),y:Zb()}),Jb=()=>({min:0,max:0}),kt=()=>({x:Jb(),y:Jb()});function xi(n){return[n("x"),n("y")]}function Ky(n){return n===void 0||n===1}function Uv({scale:n,scaleX:e,scaleY:t}){return!Ky(n)||!Ky(e)||!Ky(t)}function ao(n){return Uv(n)||NA(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function NA(n){return eS(n.x)||eS(n.y)}function eS(n){return n&&n!=="0%"}function ip(n,e,t){const i=n-t,s=e*i;return t+s}function tS(n,e,t,i,s){return s!==void 0&&(n=ip(n,s,i)),ip(n,t,i)+e}function Bv(n,e=0,t=1,i,s){n.min=tS(n.min,e,t,i,s),n.max=tS(n.max,e,t,i,s)}function PA(n,{x:e,y:t}){Bv(n.x,e.translate,e.scale,e.originPoint),Bv(n.y,t.translate,t.scale,t.originPoint)}const nS=.999999999999,iS=1.0000000000001;function g3(n,e,t,i=!1){const s=t.length;if(!s)return;e.x=e.y=1;let o,l;for(let c=0;c<s;c++){o=t[c],l=o.projectionDelta;const{visualElement:h}=o.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Il(n,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,PA(n,l)),i&&ao(o.latestValues)&&Il(n,o.latestValues))}e.x<iS&&e.x>nS&&(e.x=1),e.y<iS&&e.y>nS&&(e.y=1)}function Rl(n,e){n.min=n.min+e,n.max=n.max+e}function sS(n,e,t,i,s=.5){const o=wt(n.min,n.max,s);Bv(n,e,t,o,i)}function Il(n,e){sS(n.x,e.x,e.scaleX,e.scale,e.originX),sS(n.y,e.y,e.scaleY,e.scale,e.originY)}function DA(n,e){return AA(u3(n.getBoundingClientRect(),e))}function y3(n,e,t){const i=DA(n,t),{scroll:s}=e;return s&&(Rl(i.x,s.offset.x),Rl(i.y,s.offset.y)),i}const rS=(n,e)=>Math.abs(n-e);function v3(n,e){const t=rS(n.x,e.x),i=rS(n.y,e.y);return Math.sqrt(t**2+i**2)}class MA{constructor(e,t,{transformPagePoint:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Yy(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,_=v3(g.offset,{x:0,y:0})>=3;if(!v&&!_)return;const{point:w}=g,{timestamp:x}=vn;this.history.push({...w,timestamp:x});const{onStart:O,onMove:V}=this.handlers;v||(O&&O(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),V&&V(this.lastMoveEvent,g)},this.handlePointerMove=(g,v)=>{if(g.target instanceof Element&&g.target.hasPointerCapture&&g.pointerId!==void 0)try{if(!g.target.hasPointerCapture(g.pointerId))return}catch{}this.lastMoveEvent=g,this.lastMoveEventInfo=Wy(v,this.transformPagePoint),gt.update(this.updatePoint,!0)},this.handlePointerUp=(g,v)=>{Jf(g,"release"),this.end();const{onEnd:_,onSessionEnd:w,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const O=Yy(g.type==="pointercancel"||g.type==="lostpointercapture"?this.lastMoveEventInfo:Wy(v,this.transformPagePoint),this.history);this.startEvent&&_&&_(g,O),w&&w(g,O)},!a0(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=i;const o=Dh(e),l=Wy(o,this.transformPagePoint),{point:c}=l,{timestamp:h}=vn;this.history=[{...c,timestamp:h}];const{onSessionStart:f}=t;f&&f(e,Yy(l,this.history)),Jf(e,"set"),this.removeListeners=Ph(Cl(e.currentTarget,"pointermove",this.handlePointerMove),Cl(e.currentTarget,"pointerup",this.handlePointerUp),Cl(e.currentTarget,"pointercancel",this.handlePointerUp),Cl(e.currentTarget,"lostpointercapture",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),da(this.updatePoint)}}function Wy(n,e){return e?{point:e(n.point)}:n}function aS(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Yy({point:n},e){return{point:n,delta:aS(n,OA(e)),offset:aS(n,_3(e)),velocity:E3(e,.1)}}function _3(n){return n[0]}function OA(n){return n[n.length-1]}function E3(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const s=OA(n);for(;t>=0&&(i=n[t],!(s.timestamp-i.timestamp>tr(e)));)t--;if(!i)return{x:0,y:0};const o=nr(s.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const l={x:(s.x-i.x)/o,y:(s.y-i.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function T3(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?wt(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?wt(t,n,i.max):Math.min(n,t)),n}function oS(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function w3(n,{top:e,left:t,bottom:i,right:s}){return{x:oS(n.x,t,s),y:oS(n.y,e,i)}}function lS(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function b3(n,e){return{x:lS(n.x,e.x),y:lS(n.y,e.y)}}function S3(n,e){let t=.5;const i=Un(n),s=Un(e);return s>i?t=zl(e.min,e.max-i,n.min):i>s&&(t=zl(n.min,n.max-s,e.min)),sr(0,1,t)}function x3(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const zv=.35;function C3(n=zv){return n===!1?n=0:n===!0&&(n=zv),{x:uS(n,"left","right"),y:uS(n,"top","bottom")}}function uS(n,e,t){return{min:cS(n,e),max:cS(n,t)}}function cS(n,e){return typeof n=="number"?n:n[e]||0}const A3=new WeakMap;class R3{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=kt(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=g=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Dh(g).point)},o=(g,v)=>{const{drag:_,dragPropagation:w,onDragStart:x}=this.getProps();if(_&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Ek(_),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),xi(V=>{let D=this.getAxisMotionValue(V).get()||0;if(os.test(D)){const{projection:I}=this.visualElement;if(I&&I.layout){const N=I.layout.layoutBox[V];N&&(D=Un(N)*(parseFloat(D)/100))}}this.originPoint[V]=D}),x&&gt.postRender(()=>x(g,v)),Pv(this.visualElement,"transform");const{animationState:O}=this.visualElement;O&&O.setActive("whileDrag",!0)},l=(g,v)=>{const{dragPropagation:_,dragDirectionLock:w,onDirectionLock:x,onDrag:O}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:V}=v;if(w&&this.currentDirection===null){this.currentDirection=I3(V),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",v.point,V),this.updateAxis("y",v.point,V),this.visualElement.render(),O&&O(g,v)},c=(g,v)=>this.stop(g,v),h=()=>xi(g=>{var v;return this.getAnimationState(g)==="paused"&&((v=this.getAxisMotionValue(g).animation)===null||v===void 0?void 0:v.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new MA(e,{onSessionStart:s,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=t;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&gt.postRender(()=>o(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:s}=this.getProps();if(!i||!_f(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(l=T3(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:i}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;t&&Sl(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=w3(s.layoutBox,t):this.constraints=!1,this.elastic=C3(i),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&xi(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=x3(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Sl(e))return!1;const i=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=y3(i,s.root,this.visualElement.getTransformPagePoint());let l=b3(s.layout.layoutBox,o);if(t){const c=t(l3(l));this.hasMutatedConstraints=!!c,c&&(l=AA(c))}return l}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:s,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),h=this.constraints||{},f=xi(g=>{if(!_f(g,t,this.currentDirection))return;let v=h&&h[g]||{};l&&(v={min:0,max:0});const _=s?200:1e6,w=s?40:1e7,x={type:"inertia",velocity:i?e[g]:0,bounceStiffness:_,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...o,...v};return this.startAxisValueAnimation(g,x)});return Promise.all(f).then(c)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return Pv(this.visualElement,e),i.start(v0(e,i,0,t,this.visualElement,!1))}stopAnimation(){xi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){xi(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),s=i[t];return s||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){xi(t=>{const{drag:i}=this.getProps();if(!_f(t,i,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(t);if(s&&s.layout){const{min:l,max:c}=s.layout.layoutBox[t];o.set(e[t]-wt(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!Sl(t)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};xi(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const h=c.get();s[l]=S3({min:h,max:h},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),xi(l=>{if(!_f(l,e,null))return;const c=this.getAxisMotionValue(l),{min:h,max:f}=this.constraints[l];c.set(wt(h,f,s[l]))})}addListeners(){if(!this.visualElement.current)return;A3.set(this.visualElement,this);const e=this.visualElement.current,t=Cl(e,"pointerdown",h=>{const{drag:f,dragListener:g=!0}=this.getProps();f&&g&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();Sl(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),gt.read(i);const l=lh(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f})=>{this.isDragging&&f&&(xi(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=h[g].translate,v.set(v.get()+h[g].translate))}),this.visualElement.render())});return()=>{l(),t(),o(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:l=zv,dragMomentum:c=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:s,dragConstraints:o,dragElastic:l,dragMomentum:c}}}function _f(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function I3(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class N3 extends ba{constructor(e){super(e),this.removeGroupControls=ri,this.removeListeners=ri,this.controls=new R3(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ri}unmount(){this.removeGroupControls(),this.removeListeners()}}const hS=n=>(e,t)=>{n&&gt.postRender(()=>n(e,t))};class P3 extends ba{constructor(){super(...arguments),this.removePointerDownListener=ri}onPointerDown(e){this.session=new MA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:hS(e),onStart:hS(t),onMove:i,onEnd:(o,l)=>{delete this.session,s&&gt.postRender(()=>s(o,l))}}}mount(){this.removePointerDownListener=Cl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const kf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function dS(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Ac={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Ce.test(n))n=parseFloat(n);else return n;const t=dS(n,e.target.x),i=dS(n,e.target.y);return`${t}% ${i}%`}},D3={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,s=fa.parse(n);if(s.length>5)return i;const o=fa.createTransformer(n),l=typeof s[0]!="number"?1:0,c=t.x.scale*e.x,h=t.y.scale*e.y;s[0+l]/=c,s[1+l]/=h;const f=wt(c,h,.5);return typeof s[2+l]=="number"&&(s[2+l]/=f),typeof s[3+l]=="number"&&(s[3+l]/=f),o(s)}};class M3 extends U.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:s}=this.props,{projection:o}=e;V4(O3),o&&(t.group&&t.group.add(o),i&&i.register&&s&&i.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),kf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:s,isPresent:o}=this.props,l=i.projection;return l&&(l.isPresent=o,s||e.layoutDependency!==t||t===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||gt.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),$_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function kA(n){const[e,t]=p4(),i=U.useContext(v2);return T.jsx(M3,{...n,layoutGroup:i,switchLayoutGroup:U.useContext(C2),isPresent:e,safeToRemove:t})}const O3={borderRadius:{...Ac,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ac,borderTopRightRadius:Ac,borderBottomLeftRadius:Ac,borderBottomRightRadius:Ac,boxShadow:D3};function k3(n,e,t){const i=Dn(n)?n:ah(n);return i.start(v0("",i,e,t)),i.animation}function L3(n){return n instanceof SVGElement&&n.tagName!=="svg"}const V3=(n,e)=>n.depth-e.depth;class j3{constructor(){this.children=[],this.isDirty=!1}add(e){o0(this.children,e),this.isDirty=!0}remove(e){l0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(V3),this.isDirty=!1,this.children.forEach(e)}}function U3(n,e){const t=ls.now(),i=({timestamp:s})=>{const o=s-t;o>=e&&(da(i),n(o-e))};return gt.read(i,!0),()=>da(i)}const LA=["TopLeft","TopRight","BottomLeft","BottomRight"],B3=LA.length,fS=n=>typeof n=="string"?parseFloat(n):n,pS=n=>typeof n=="number"||Ce.test(n);function z3(n,e,t,i,s,o){s?(n.opacity=wt(0,t.opacity!==void 0?t.opacity:1,F3(i)),n.opacityExit=wt(e.opacity!==void 0?e.opacity:1,0,H3(i))):o&&(n.opacity=wt(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,i));for(let l=0;l<B3;l++){const c=`border${LA[l]}Radius`;let h=mS(e,c),f=mS(t,c);if(h===void 0&&f===void 0)continue;h||(h=0),f||(f=0),h===0||f===0||pS(h)===pS(f)?(n[c]=Math.max(wt(fS(h),fS(f),i),0),(os.test(f)||os.test(h))&&(n[c]+="%")):n[c]=f}(e.rotate||t.rotate)&&(n.rotate=wt(e.rotate||0,t.rotate||0,i))}function mS(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const F3=VA(0,.5,tA),H3=VA(.5,.95,ri);function VA(n,e,t){return i=>i<n?0:i>e?1:t(zl(n,e,i))}function gS(n,e){n.min=e.min,n.max=e.max}function Si(n,e){gS(n.x,e.x),gS(n.y,e.y)}function yS(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function vS(n,e,t,i,s){return n-=e,n=ip(n,1/t,i),s!==void 0&&(n=ip(n,1/s,i)),n}function q3(n,e=0,t=1,i=.5,s,o=n,l=n){if(os.test(e)&&(e=parseFloat(e),e=wt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=wt(o.min,o.max,i);n===o&&(c-=e),n.min=vS(n.min,e,t,c,s),n.max=vS(n.max,e,t,c,s)}function _S(n,e,[t,i,s],o,l){q3(n,e[t],e[i],e[s],e.scale,o,l)}const G3=["x","scaleX","originX"],$3=["y","scaleY","originY"];function ES(n,e,t,i){_S(n.x,e,G3,t?t.x:void 0,i?i.x:void 0),_S(n.y,e,$3,t?t.y:void 0,i?i.y:void 0)}function TS(n){return n.translate===0&&n.scale===1}function jA(n){return TS(n.x)&&TS(n.y)}function wS(n,e){return n.min===e.min&&n.max===e.max}function K3(n,e){return wS(n.x,e.x)&&wS(n.y,e.y)}function bS(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function UA(n,e){return bS(n.x,e.x)&&bS(n.y,e.y)}function SS(n){return Un(n.x)/Un(n.y)}function xS(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class W3{constructor(){this.members=[]}add(e){o0(this.members,e),e.scheduleRender()}remove(e){if(l0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(s=>e===s);if(t===0)return!1;let i;for(let s=t;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Y3(n,e,t){let i="";const s=n.x.translate/e.x,o=n.y.translate/e.y,l=(t==null?void 0:t.z)||0;if((s||o||l)&&(i=`translate3d(${s}px, ${o}px, ${l}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:f,rotate:g,rotateX:v,rotateY:_,skewX:w,skewY:x}=t;f&&(i=`perspective(${f}px) ${i}`),g&&(i+=`rotate(${g}deg) `),v&&(i+=`rotateX(${v}deg) `),_&&(i+=`rotateY(${_}deg) `),w&&(i+=`skewX(${w}deg) `),x&&(i+=`skewY(${x}deg) `)}const c=n.x.scale*e.x,h=n.y.scale*e.y;return(c!==1||h!==1)&&(i+=`scale(${c}, ${h})`),i||"none"}const Qy=["","X","Y","Z"],Q3={visibility:"hidden"},CS=1e3;let X3=0;function Xy(n,e,t,i){const{latestValues:s}=e;s[n]&&(t[n]=s[n],e.setStaticValue(n,0),i&&(i[n]=0))}function BA(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=W2(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:s,layoutId:o}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",gt,!(s||o))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&BA(i)}function zA({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(l={},c=e==null?void 0:e()){this.id=X3++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(eV),this.nodes.forEach(rV),this.nodes.forEach(aV),this.nodes.forEach(tV)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new j3)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new u0),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const h=this.eventHandlers.get(l);h&&h.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=L3(l),this.instance=l;const{layoutId:h,layout:f,visualElement:g}=this.options;if(g&&!g.current&&g.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(f||h)&&(this.isLayoutDirty=!0),n){let v;const _=()=>this.root.updateBlockedByResize=!1;n(l,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=U3(_,250),kf.hasAnimatedSinceResize&&(kf.hasAnimatedSinceResize=!1,this.nodes.forEach(RS))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&g&&(h||f)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:_,hasRelativeLayoutChanged:w,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const O=this.options.transition||g.getDefaultTransition()||hV,{onLayoutAnimationStart:V,onLayoutAnimationComplete:D}=g.getProps(),I=!this.targetLayout||!UA(this.targetLayout,x),N=!_&&w;if(this.options.layoutRoot||this.resumeFrom||N||_&&(I||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,N);const H={...i0(O,"layout"),onPlay:V,onComplete:D};(g.shouldReduceMotion||this.options.layoutRoot)&&(H.delay=0,H.type=!1),this.startAnimation(H)}else _||RS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,da(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(oV),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&BA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:c,layout:h}=this.options;if(c===void 0&&!h)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(AS);return}this.isUpdating||this.nodes.forEach(iV),this.isUpdating=!1,this.nodes.forEach(sV),this.nodes.forEach(Z3),this.nodes.forEach(J3),this.clearAllSnapshots();const c=ls.now();vn.delta=sr(0,1e3/60,c-vn.timestamp),vn.timestamp=c,vn.isProcessing=!0,Fy.update.process(vn),Fy.preRender.process(vn),Fy.render.process(vn),vn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,$_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(nV),this.sharedNodes.forEach(lV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,gt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){gt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Un(this.snapshot.measuredBox.x)&&!Un(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=kt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!jA(this.projectionDelta),h=this.getTransformTemplate(),f=h?h(this.latestValues,""):void 0,g=f!==this.prevTransformTemplateValue;l&&(c||ao(this.latestValues)||g)&&(s(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let h=this.removeElementScroll(c);return l&&(h=this.removeTransform(h)),dV(h),{animationId:this.root.animationId,measuredBox:c,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:c}=this.options;if(!c)return kt();const h=c.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(fV))){const{scroll:g}=this.root;g&&(Rl(h.x,g.offset.x),Rl(h.y,g.offset.y))}return h}removeElementScroll(l){var c;const h=kt();if(Si(h,l),!((c=this.scroll)===null||c===void 0)&&c.wasRoot)return h;for(let f=0;f<this.path.length;f++){const g=this.path[f],{scroll:v,options:_}=g;g!==this.root&&v&&_.layoutScroll&&(v.wasRoot&&Si(h,l),Rl(h.x,v.offset.x),Rl(h.y,v.offset.y))}return h}applyTransform(l,c=!1){const h=kt();Si(h,l);for(let f=0;f<this.path.length;f++){const g=this.path[f];!c&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Il(h,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),ao(g.latestValues)&&Il(h,g.latestValues)}return ao(this.latestValues)&&Il(h,this.latestValues),h}removeTransform(l){const c=kt();Si(c,l);for(let h=0;h<this.path.length;h++){const f=this.path[h];if(!f.instance||!ao(f.latestValues))continue;Uv(f.latestValues)&&f.updateSnapshot();const g=kt(),v=f.measurePageBox();Si(g,v),ES(c,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,g)}return ao(this.latestValues)&&ES(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==vn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var c;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(l||f&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:_}=this.options;if(!(!this.layout||!(v||_))){if(this.resolvedRelativeTargetAt=vn.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kt(),this.relativeTargetOrigin=kt(),Hc(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),Si(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=kt(),this.targetWithTransforms=kt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),m3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Si(this.target,this.layout.layoutBox),PA(this.target,this.targetDelta)):Si(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kt(),this.relativeTargetOrigin=kt(),Hc(this.relativeTargetOrigin,this.target,w.target),Si(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Uv(this.parent.latestValues)||NA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const c=this.getLead(),h=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===vn.timestamp&&(f=!1),f)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;Si(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,w=this.treeScale.y;g3(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=kt());const{target:x}=c;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(yS(this.prevProjectionDelta.x,this.projectionDelta.x),yS(this.prevProjectionDelta.y,this.projectionDelta.y)),Fc(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==w||!xS(this.projectionDelta.x,this.prevProjectionDelta.x)||!xS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)===null||c===void 0||c.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Al(),this.projectionDelta=Al(),this.projectionDeltaWithTransform=Al()}setAnimationOrigin(l,c=!1){const h=this.snapshot,f=h?h.latestValues:{},g={...this.latestValues},v=Al();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const _=kt(),w=h?h.source:void 0,x=this.layout?this.layout.source:void 0,O=w!==x,V=this.getStack(),D=!V||V.members.length<=1,I=!!(O&&!D&&this.options.crossfade===!0&&!this.path.some(cV));this.animationProgress=0;let N;this.mixTargetDelta=H=>{const q=H/1e3;IS(v.x,l.x,q),IS(v.y,l.y,q),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Hc(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),uV(this.relativeTarget,this.relativeTargetOrigin,_,q),N&&K3(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=kt()),Si(N,this.relativeTarget)),O&&(this.animationValues=g,z3(g,f,this.latestValues,q,I,D)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(da(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=gt.update(()=>{kf.hasAnimatedSinceResize=!0,this.currentAnimation=k3(0,CS,{...l,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(CS),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:h,layout:f,latestValues:g}=l;if(!(!c||!h||!f)){if(this!==l&&this.layout&&f&&FA(this.options.animationType,this.layout.layoutBox,f.layoutBox)){h=this.target||kt();const v=Un(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+v;const _=Un(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+_}Si(c,h),Il(c,g),Fc(this.projectionDeltaWithTransform,this.layoutCorrected,c,g)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new W3),this.sharedNodes.get(l).add(c);const f=c.options.initialPromotionConfig;c.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:c}=this.options;return c?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:c}=this.options;return c?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:h}={}){const f=this.getStack();f&&f.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(c=!0),!c)return;const f={};h.z&&Xy("z",l,f,this.animationValues);for(let g=0;g<Qy.length;g++)Xy(`rotate${Qy[g]}`,l,f,this.animationValues),Xy(`skew${Qy[g]}`,l,f,this.animationValues);l.render();for(const g in f)l.setStaticValue(g,f[g]),this.animationValues&&(this.animationValues[g]=f[g]);l.scheduleRender()}getProjectionStyles(l){var c,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Q3;const f={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=Mf(l==null?void 0:l.pointerEvents)||"",f.transform=g?g(this.latestValues,""):"none",f;const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){const O={};return this.options.layoutId&&(O.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,O.pointerEvents=Mf(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!ao(this.latestValues)&&(O.transform=g?g({},""):"none",this.hasProjected=!1),O}const _=v.animationValues||v.latestValues;this.applyTransformsToTarget(),f.transform=Y3(this.projectionDeltaWithTransform,this.treeScale,_),g&&(f.transform=g(_,f.transform));const{x:w,y:x}=this.projectionDelta;f.transformOrigin=`${w.origin*100}% ${x.origin*100}% 0`,v.animationValues?f.opacity=v===this?(h=(c=_.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:_.opacityExit:f.opacity=v===this?_.opacity!==void 0?_.opacity:"":_.opacityExit!==void 0?_.opacityExit:0;for(const O in ih){if(_[O]===void 0)continue;const{correct:V,applyTo:D,isCSSVariable:I}=ih[O],N=f.transform==="none"?_[O]:V(_[O],v);if(D){const H=D.length;for(let q=0;q<H;q++)f[D[q]]=N}else I?this.options.visualElement.renderState.vars[O]=N:f[O]=N}return this.options.layoutId&&(f.pointerEvents=v===this?Mf(l==null?void 0:l.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(AS),this.root.sharedNodes.clear()}}}function Z3(n){n.updateLayout()}function J3(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=n.layout,{animationType:o}=n.options,l=t.source!==n.layout.source;o==="size"?xi(v=>{const _=l?t.measuredBox[v]:t.layoutBox[v],w=Un(_);_.min=i[v].min,_.max=_.min+w}):FA(o,t.layoutBox,i)&&xi(v=>{const _=l?t.measuredBox[v]:t.layoutBox[v],w=Un(i[v]);_.max=_.min+w,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[v].max=n.relativeTarget[v].min+w)});const c=Al();Fc(c,i,t.layoutBox);const h=Al();l?Fc(h,n.applyTransform(s,!0),t.measuredBox):Fc(h,i,t.layoutBox);const f=!jA(c);let g=!1;if(!n.resumeFrom){const v=n.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:_,layout:w}=v;if(_&&w){const x=kt();Hc(x,t.layoutBox,_.layoutBox);const O=kt();Hc(O,i,w.layoutBox),UA(x,O)||(g=!0),v.options.layoutRoot&&(n.relativeTarget=O,n.relativeTargetOrigin=x,n.relativeParent=v)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:h,layoutDelta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:g})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function eV(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function tV(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function nV(n){n.clearSnapshot()}function AS(n){n.clearMeasurements()}function iV(n){n.isLayoutDirty=!1}function sV(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function RS(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function rV(n){n.resolveTargetDelta()}function aV(n){n.calcProjection()}function oV(n){n.resetSkewAndRotation()}function lV(n){n.removeLeadSnapshot()}function IS(n,e,t){n.translate=wt(e.translate,0,t),n.scale=wt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function NS(n,e,t,i){n.min=wt(e.min,t.min,i),n.max=wt(e.max,t.max,i)}function uV(n,e,t,i){NS(n.x,e.x,t.x,i),NS(n.y,e.y,t.y,i)}function cV(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const hV={duration:.45,ease:[.4,0,.1,1]},PS=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),DS=PS("applewebkit/")&&!PS("chrome/")?Math.round:ri;function MS(n){n.min=DS(n.min),n.max=DS(n.max)}function dV(n){MS(n.x),MS(n.y)}function FA(n,e,t){return n==="position"||n==="preserve-aspect"&&!p3(SS(e),SS(t),.2)}function fV(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const pV=zA({attachResizeListener:(n,e)=>lh(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Zy={current:void 0},HA=zA({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Zy.current){const n=new pV({});n.mount(window),n.setOptions({layoutScroll:!0}),Zy.current=n}return Zy.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),mV={pan:{Feature:P3},drag:{Feature:N3,ProjectionNode:HA,MeasureLayout:kA}};function OS(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const s="onHover"+t,o=i[s];o&&gt.postRender(()=>o(e,Dh(e)))}class gV extends ba{mount(){const{current:e}=this.node;e&&(this.unmount=pk(e,(t,i)=>(OS(this.node,i,"Start"),s=>OS(this.node,s,"End"))))}unmount(){}}class yV extends ba{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ph(lh(this.node.current,"focus",()=>this.onFocus()),lh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function kS(n,e,t){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const s="onTap"+(t==="End"?"":t),o=i[s];o&&gt.postRender(()=>o(e,Dh(e)))}class vV extends ba{mount(){const{current:e}=this.node;e&&(this.unmount=vk(e,(t,i)=>(kS(this.node,i,"Start"),(s,{success:o})=>kS(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Fv=new WeakMap,Jy=new WeakMap,_V=n=>{const e=Fv.get(n.target);e&&e(n)},EV=n=>{n.forEach(_V)};function TV({root:n,...e}){const t=n||document;Jy.has(t)||Jy.set(t,{});const i=Jy.get(t),s=JSON.stringify(e);return i[s]||(i[s]=new IntersectionObserver(EV,{root:n,...e})),i[s]}function wV(n,e,t){const i=TV(e);return Fv.set(n,t),i.observe(n),()=>{Fv.delete(n),i.unobserve(n)}}const bV={some:0,all:1};class SV extends ba{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:s="some",once:o}=e,l={root:t?t.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:bV[s]},c=h=>{const{isIntersecting:f}=h;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),_=f?g:v;_&&_(h)};return wV(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(xV(e,t))&&this.startObserver()}unmount(){}}function xV({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const CV={inView:{Feature:SV},tap:{Feature:vV},focus:{Feature:yV},hover:{Feature:gV}},AV={layout:{ProjectionNode:HA,MeasureLayout:kA}},Hv={current:null},qA={current:!1};function RV(){if(qA.current=!0,!!z_)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Hv.current=n.matches;n.addListener(e),e()}else Hv.current=!1}const IV=[...mA,In,fa],NV=n=>IV.find(pA(n)),PV=new WeakMap;function DV(n,e,t){for(const i in e){const s=e[i],o=t[i];if(Dn(s))n.addValue(i,s);else if(Dn(o))n.addValue(i,ah(s,{owner:n}));else if(o!==s)if(n.hasValue(i)){const l=n.getValue(i);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=n.getStaticValue(i);n.addValue(i,ah(l!==void 0?l:s,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const LS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class MV{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:o,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=m0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=ls.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,gt.render(this.render,!1,!0))};const{latestValues:h,renderState:f,onUpdate:g}=l;this.onUpdate=g,this.latestValues=h,this.baseTarget={...h},this.initialValues=t.initial?{...h}:{},this.renderState=f,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!o,this.isControllingVariants=Xp(t),this.isVariantNode=S2(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,..._}=this.scrapeMotionValuesFromProps(t,{},this);for(const w in _){const x=_[w];h[w]!==void 0&&Dn(x)&&x.set(h[w],!1)}}mount(e){this.current=e,PV.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),qA.current||RV(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Hv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),da(this.notifyUpdate),da(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=So.has(e);i&&this.onBindTransform&&this.onBindTransform();const s=t.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&gt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),o=t.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{s(),o(),l&&l(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Fl){const t=Fl[e];if(!t)continue;const{isEnabled:i,Feature:s}=t;if(!this.features[e]&&s&&i(this.props)&&(this.features[e]=new s(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):kt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<LS.length;i++){const s=LS[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,l=e[o];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=DV(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=ah(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){var i;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(dA(s)||iA(s))?s=parseFloat(s):!NV(s)&&fa.test(t)&&(s=uA(e,t)),this.setBaseTarget(e,Dn(s)?s.get():s)),Dn(s)?s.get():s}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:i}=this.props;let s;if(typeof i=="string"||typeof i=="object"){const l=t0(this.props,i,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);l&&(s=l[e])}if(i&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Dn(o)?o:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new u0),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class GA extends MV{constructor(){super(...arguments),this.KeyframeResolver=gA}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Dn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function OV(n){return window.getComputedStyle(n)}class kV extends GA{constructor(){super(...arguments),this.type="html",this.renderInstance=k2}readValueFromInstance(e,t){if(So.has(t)){const i=p0(t);return i&&i.default||0}else{const i=OV(e),s=(K_(t)?i.getPropertyValue(t):i[t])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:t}){return DA(e,t)}build(e,t,i){Q_(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return n0(e,t,i)}}class LV extends GA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=kt,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&O2(this.current,this.renderState)}}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(So.has(t)){const i=p0(t);return i&&i.default||0}return t=L2.has(t)?t:G_(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return j2(e,t,i)}onBindTransform(){this.current&&!this.renderState.dimensions&&gt.postRender(this.updateDimensions)}build(e,t,i){J_(e,t,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,i,s){V2(e,t,i,s)}mount(e){this.isSVGTag=e0(e.tagName),super.mount(e)}}const VV=(n,e)=>Z_(n)?new LV(e):new kV(e,{allowProjection:n!==U.Fragment}),jV=ok({...a3,...CV,...mV,...AV},VV),VS=b4(jV);function UV(n){return Je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(n)}function BV(n){return Je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(n)}var jS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue=function(n,e){if(!n)throw lu(e)},lu=function(n){return new Error("Firebase Database ("+$A.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},zV=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const s=n[t++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[t++];e[i++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[t++],l=n[t++],c=n[t++],h=((s&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const o=n[t++],l=n[t++];e[i++]=String.fromCharCode((s&15)<<12|(o&63)<<6|l&63)}}return e.join("")},_0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const o=n[s],l=s+1<n.length,c=l?n[s+1]:0,h=s+2<n.length,f=h?n[s+2]:0,g=o>>2,v=(o&3)<<4|c>>4;let _=(c&15)<<2|f>>6,w=f&63;h||(w=64,l||(_=64)),i.push(t[g],t[v],t[_],t[w])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(KA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):zV(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const o=t[n.charAt(s++)],c=s<n.length?t[n.charAt(s)]:0;++s;const f=s<n.length?t[n.charAt(s)]:64;++s;const v=s<n.length?t[n.charAt(s)]:64;if(++s,o==null||c==null||f==null||v==null)throw new FV;const _=o<<2|c>>4;if(i.push(_),f!==64){const w=c<<4&240|f>>2;if(i.push(w),v!==64){const x=f<<6&192|v;i.push(x)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class FV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WA=function(n){const e=KA(n);return _0.encodeByteArray(e,!0)},sp=function(n){return WA(n).replace(/\./g,"")},rp=function(n){try{return _0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HV(n){return YA(void 0,n)}function YA(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!qV(t)||(n[t]=YA(n[t],e[t]));return n}function qV(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V=()=>GV().__FIREBASE_DEFAULTS__,KV=()=>{if(typeof process>"u"||typeof jS>"u")return;const n=jS.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},WV=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&rp(n[1]);return e&&JSON.parse(e)},Jp=()=>{try{return $V()||KV()||WV()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},QA=n=>{var e,t;return(t=(e=Jp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},XA=n=>{const e=QA(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},ZA=()=>{var n;return(n=Jp())===null||n===void 0?void 0:n.config},JA=n=>{var e;return(e=Jp())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[sp(JSON.stringify(t)),sp(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function E0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mn())}function YV(){var n;const e=(n=Jp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XV(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function tR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZV(){const n=Mn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function JV(){return $A.NODE_ADMIN===!0}function e6(){return!YV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function t6(){try{return typeof indexedDB=="object"}catch{return!1}}function n6(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6="FirebaseError";class dr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=i6,Object.setPrototypeOf(this,dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Oh.prototype.create)}}class Oh{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],l=o?s6(o,i):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new dr(s,c,i)}}function s6(n,e){return n.replace(r6,(t,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const r6=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(n){return JSON.parse(n)}function dn(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR=function(n){let e={},t={},i={},s="";try{const o=n.split(".");e=uh(rp(o[0])||""),t=uh(rp(o[1])||""),s=o[2],i=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:i,signature:s}},a6=function(n){const e=nR(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},o6=function(n){const e=nR(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ts(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function ql(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function qv(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ap(n,e,t){const i={};for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=e.call(t,n[s],s,n));return i}function op(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const s of t){if(!i.includes(s))return!1;const o=n[s],l=e[s];if(US(o)&&US(l)){if(!op(o,l))return!1}else if(o!==l)return!1}for(const s of i)if(!t.includes(s))return!1;return!0}function US(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function kc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,o]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function Lc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const i=this.W_;if(typeof e=="string")for(let v=0;v<16;v++)i[v]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let v=0;v<16;v++)i[v]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let v=16;v<80;v++){const _=i[v-3]^i[v-8]^i[v-14]^i[v-16];i[v]=(_<<1|_>>>31)&4294967295}let s=this.chain_[0],o=this.chain_[1],l=this.chain_[2],c=this.chain_[3],h=this.chain_[4],f,g;for(let v=0;v<80;v++){v<40?v<20?(f=c^o&(l^c),g=1518500249):(f=o^l^c,g=1859775393):v<60?(f=o&l|c&(o|l),g=2400959708):(f=o^l^c,g=3395469782);const _=(s<<5|s>>>27)+f+h+g+i[v]&4294967295;h=c,c=l,l=(o<<30|o>>>2)&4294967295,o=s,s=_}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const i=t-this.blockSize;let s=0;const o=this.buf_;let l=this.inbuf_;for(;s<t;){if(l===0)for(;s<=i;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(o[l]=e.charCodeAt(s),++l,++s,l===this.blockSize){this.compress_(o),l=0;break}}else for(;s<t;)if(o[l]=e[s],++l,++s,l===this.blockSize){this.compress_(o),l=0;break}}this.inbuf_=l,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=t&255,t/=256;this.compress_(this.buf_);let i=0;for(let s=0;s<5;s++)for(let o=24;o>=0;o-=8)e[i]=this.chain_[s]>>o&255,++i;return e}}function u6(n,e){const t=new c6(n,e);return t.subscribe.bind(t)}class c6{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let s;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");h6(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:i},s.next===void 0&&(s.next=ev),s.error===void 0&&(s.error=ev),s.complete===void 0&&(s.complete=ev);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function h6(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function ev(){}function em(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);if(s>=55296&&s<=56319){const o=s-55296;i++,ue(i<n.length,"Surrogate pair missing trail surrogate.");const l=n.charCodeAt(i)-56320;s=65536+(o<<10)+l}s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):s<65536?(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},tm=function(n){let e=0;for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,t++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(n){return n&&n._delegate?n._delegate:n}class pa{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new Mh;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(m6(e))try{this.getOrInitializeService({instanceIdentifier:oo})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});i.resolve(o)}catch{}}}}clearInstance(e=oo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=oo){return this.instances.has(e)}getOptions(e=oo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);i===c&&l.resolve(s)}return s}onInit(e,t){var i;const s=this.normalizeInstanceIdentifier(t),o=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const s of i)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:p6(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=oo){return this.component?this.component.multipleInstances?e:oo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function p6(n){return n===oo?void 0:n}function m6(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new f6(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Fe||(Fe={}));const y6={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},v6=Fe.INFO,_6={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},E6=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),s=_6[e];if(s)console[s](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class nm{constructor(e){this.name=e,this._logLevel=v6,this._logHandler=E6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?y6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const T6=(n,e)=>e.some(t=>n instanceof t);let BS,zS;function w6(){return BS||(BS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function b6(){return zS||(zS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iR=new WeakMap,Gv=new WeakMap,sR=new WeakMap,tv=new WeakMap,T0=new WeakMap;function S6(n){const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{t(sa(n.result)),s()},l=()=>{i(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&iR.set(t,n)}).catch(()=>{}),T0.set(e,n),e}function x6(n){if(Gv.has(n))return;const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{t(),s()},l=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});Gv.set(n,e)}let $v={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Gv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||sR.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return sa(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function C6(n){$v=n($v)}function A6(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(nv(this),e,...t);return sR.set(i,e.sort?e.sort():[e]),sa(i)}:b6().includes(n)?function(...e){return n.apply(nv(this),e),sa(iR.get(this))}:function(...e){return sa(n.apply(nv(this),e))}}function R6(n){return typeof n=="function"?A6(n):(n instanceof IDBTransaction&&x6(n),T6(n,w6())?new Proxy(n,$v):n)}function sa(n){if(n instanceof IDBRequest)return S6(n);if(tv.has(n))return tv.get(n);const e=R6(n);return e!==n&&(tv.set(n,e),T0.set(e,n)),e}const nv=n=>T0.get(n);function I6(n,e,{blocked:t,upgrade:i,blocking:s,terminated:o}={}){const l=indexedDB.open(n,e),c=sa(l);return i&&l.addEventListener("upgradeneeded",h=>{i(sa(l.result),h.oldVersion,h.newVersion,sa(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),c.then(h=>{o&&h.addEventListener("close",()=>o()),s&&h.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const N6=["get","getKey","getAll","getAllKeys","count"],P6=["put","add","delete","clear"],iv=new Map;function FS(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(iv.get(e))return iv.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,s=P6.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(s||N6.includes(t)))return;const o=async function(l,...c){const h=this.transaction(l,s?"readwrite":"readonly");let f=h.store;return i&&(f=f.index(c.shift())),(await Promise.all([f[t](...c),s&&h.done]))[0]};return iv.set(e,o),o}C6(n=>({...n,get:(e,t,i)=>FS(e,t)||n.get(e,t,i),has:(e,t)=>!!FS(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(M6(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function M6(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Kv="@firebase/app",HS="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr=new nm("@firebase/app"),O6="@firebase/app-compat",k6="@firebase/analytics-compat",L6="@firebase/analytics",V6="@firebase/app-check-compat",j6="@firebase/app-check",U6="@firebase/auth",B6="@firebase/auth-compat",z6="@firebase/database",F6="@firebase/data-connect",H6="@firebase/database-compat",q6="@firebase/functions",G6="@firebase/functions-compat",$6="@firebase/installations",K6="@firebase/installations-compat",W6="@firebase/messaging",Y6="@firebase/messaging-compat",Q6="@firebase/performance",X6="@firebase/performance-compat",Z6="@firebase/remote-config",J6="@firebase/remote-config-compat",e5="@firebase/storage",t5="@firebase/storage-compat",n5="@firebase/firestore",i5="@firebase/vertexai",s5="@firebase/firestore-compat",r5="firebase",a5="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="[DEFAULT]",o5={[Kv]:"fire-core",[O6]:"fire-core-compat",[L6]:"fire-analytics",[k6]:"fire-analytics-compat",[j6]:"fire-app-check",[V6]:"fire-app-check-compat",[U6]:"fire-auth",[B6]:"fire-auth-compat",[z6]:"fire-rtdb",[F6]:"fire-data-connect",[H6]:"fire-rtdb-compat",[q6]:"fire-fn",[G6]:"fire-fn-compat",[$6]:"fire-iid",[K6]:"fire-iid-compat",[W6]:"fire-fcm",[Y6]:"fire-fcm-compat",[Q6]:"fire-perf",[X6]:"fire-perf-compat",[Z6]:"fire-rc",[J6]:"fire-rc-compat",[e5]:"fire-gcs",[t5]:"fire-gcs-compat",[n5]:"fire-fst",[s5]:"fire-fst-compat",[i5]:"fire-vertex","fire-js":"fire-js",[r5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp=new Map,l5=new Map,Yv=new Map;function qS(n,e){try{n.container.addComponent(e)}catch(t){rr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function po(n){const e=n.name;if(Yv.has(e))return rr.debug(`There were multiple attempts to register component ${e}.`),!1;Yv.set(e,n);for(const t of lp.values())qS(t,n);for(const t of l5.values())qS(t,n);return!0}function im(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ci(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ra=new Oh("app","Firebase",u5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new pa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ra.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=a5;function rR(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Wv,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw ra.create("bad-app-name",{appName:String(s)});if(t||(t=ZA()),!t)throw ra.create("no-options");const o=lp.get(s);if(o){if(op(t,o.options)&&op(i,o.config))return o;throw ra.create("duplicate-app",{appName:s})}const l=new g6(s);for(const h of Yv.values())l.addComponent(h);const c=new c5(t,i,l);return lp.set(s,c),c}function w0(n=Wv){const e=lp.get(n);if(!e&&n===Wv&&ZA())return rR();if(!e)throw ra.create("no-app",{appName:n});return e}function us(n,e,t){var i;let s=(i=o5[n])!==null&&i!==void 0?i:n;t&&(s+=`-${t}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rr.warn(c.join(" "));return}po(new pa(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h5="firebase-heartbeat-database",d5=1,ch="firebase-heartbeat-store";let sv=null;function aR(){return sv||(sv=I6(h5,d5,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ch)}catch(t){console.warn(t)}}}}).catch(n=>{throw ra.create("idb-open",{originalErrorMessage:n.message})})),sv}async function f5(n){try{const t=(await aR()).transaction(ch),i=await t.objectStore(ch).get(oR(n));return await t.done,i}catch(e){if(e instanceof dr)rr.warn(e.message);else{const t=ra.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});rr.warn(t.message)}}}async function GS(n,e){try{const i=(await aR()).transaction(ch,"readwrite");await i.objectStore(ch).put(e,oR(n)),await i.done}catch(t){if(t instanceof dr)rr.warn(t.message);else{const i=ra.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});rr.warn(i.message)}}}function oR(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5=1024,m5=30;class g5{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new v5(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=$S();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>m5){const l=_5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){rr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=$S(),{heartbeatsToSend:i,unsentEntries:s}=y5(this._heartbeatsCache.heartbeats),o=sp(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return rr.warn(t),""}}}function $S(){return new Date().toISOString().substring(0,10)}function y5(n,e=p5){const t=[];let i=n.slice();for(const s of n){const o=t.find(l=>l.agent===s.agent);if(o){if(o.dates.push(s.date),KS(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),KS(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class v5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return t6()?n6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await f5(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return GS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return GS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function KS(n){return sp(JSON.stringify({version:2,heartbeats:n})).length}function _5(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E5(n){po(new pa("platform-logger",e=>new D6(e),"PRIVATE")),po(new pa("heartbeat",e=>new g5(e),"PRIVATE")),us(Kv,HS,n),us(Kv,HS,"esm2017"),us("fire-js","")}E5("");var WS={};const YS="@firebase/database",QS="1.0.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lR="";function T5(n){lR=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),dn(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:uh(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return Ts(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new w5(e)}}catch{}return new b5},co=uR("localStorage"),S5=uR("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml=new nm("@firebase/database"),x5=function(){let n=1;return function(){return n++}}(),cR=function(n){const e=d6(n),t=new l6;t.update(e);const i=t.digest();return _0.encodeByteArray(i)},kh=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=kh.apply(null,i):typeof i=="object"?e+=dn(i):e+=i,e+=" "}return e};let qc=null,XS=!0;const C5=function(n,e){ue(!0,"Can't turn on custom loggers persistently."),Ml.logLevel=Fe.VERBOSE,qc=Ml.log.bind(Ml)},En=function(...n){if(XS===!0&&(XS=!1,qc===null&&S5.get("logging_enabled")===!0&&C5()),qc){const e=kh.apply(null,n);qc(e)}},Lh=function(n){return function(...e){En(n,...e)}},Qv=function(...n){const e="FIREBASE INTERNAL ERROR: "+kh(...n);Ml.error(e)},ar=function(...n){const e=`FIREBASE FATAL ERROR: ${kh(...n)}`;throw Ml.error(e),new Error(e)},Bn=function(...n){const e="FIREBASE WARNING: "+kh(...n);Ml.warn(e)},A5=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Bn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},b0=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},R5=function(n){if(document.readyState==="complete")n();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},Gl="[MIN_NAME]",mo="[MAX_NAME]",Co=function(n,e){if(n===e)return 0;if(n===Gl||e===mo)return-1;if(e===Gl||n===mo)return 1;{const t=ZS(n),i=ZS(e);return t!==null?i!==null?t-i===0?n.length-e.length:t-i:-1:i!==null?1:n<e?-1:1}},I5=function(n,e){return n===e?0:n<e?-1:1},Rc=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+dn(e))},S0=function(n){if(typeof n!="object"||n===null)return dn(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)i!==0&&(t+=","),t+=dn(e[i]),t+=":",t+=S0(n[e[i]]);return t+="}",t},hR=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let s=0;s<t;s+=e)s+e>t?i.push(n.substring(s,t)):i.push(n.substring(s,s+e));return i};function wn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const dR=function(n){ue(!b0(n),"Invalid JSON number");const e=11,t=52,i=(1<<e-1)-1;let s,o,l,c,h;n===0?(o=0,l=0,s=1/n===-1/0?1:0):(s=n<0,n=Math.abs(n),n>=Math.pow(2,1-i)?(c=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=c+i,l=Math.round(n*Math.pow(2,t-c)-Math.pow(2,t))):(o=0,l=Math.round(n/Math.pow(2,1-i-t))));const f=[];for(h=t;h;h-=1)f.push(l%2?1:0),l=Math.floor(l/2);for(h=e;h;h-=1)f.push(o%2?1:0),o=Math.floor(o/2);f.push(s?1:0),f.reverse();const g=f.join("");let v="";for(h=0;h<64;h+=8){let _=parseInt(g.substr(h,8),2).toString(16);_.length===1&&(_="0"+_),v=v+_}return v.toLowerCase()},N5=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},P5=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function D5(n,e){let t="Unknown Error";n==="too_big"?t="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?t="Client doesn't have permission to access the desired data.":n==="unavailable"&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}const M5=new RegExp("^-?(0*)\\d{1,10}$"),O5=-2147483648,k5=2147483647,ZS=function(n){if(M5.test(n)){const e=Number(n);if(e>=O5&&e<=k5)return e}return null},cu=function(n){try{n()}catch(e){setTimeout(()=>{const t=e.stack||"";throw Bn("Exception was thrown by user callback.",t),e},Math.floor(0))}},L5=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Gc=function(n,e){const t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,Ci(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t==null?void 0:t.getImmediate({optional:!0}),this.appCheck||t==null||t.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Bn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(En("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Bn(e)}}class Lf{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Lf.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="5",fR="v",pR="s",mR="r",gR="f",yR=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,vR="ls",_R="p",Xv="ac",ER="websocket",TR="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e,t,i,s,o=!1,l="",c=!1,h=!1){this.secure=t,this.namespace=i,this.webSocketOnly=s,this.nodeAdmin=o,this.persistenceKey=l,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=co.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&co.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function U5(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function bR(n,e,t){ue(typeof e=="string","typeof type must == string"),ue(typeof t=="object","typeof params must == object");let i;if(e===ER)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===TR)i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);U5(n)&&(t.ns=n.namespace);const s=[];return wn(t,(o,l)=>{s.push(o+"="+l)}),i+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(){this.counters_={}}incrementCounter(e,t=1){Ts(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return HV(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv={},av={};function C0(n){const e=n.toString();return rv[e]||(rv[e]=new B5),rv[e]}function z5(n,e){const t=n.toString();return av[t]||(av[t]=e()),av[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<i.length;++s)i[s]&&cu(()=>{this.onMessage_(i[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS="start",H5="close",q5="pLPCommand",G5="pRTLPCB",SR="id",xR="pw",CR="ser",$5="cb",K5="seg",W5="ts",Y5="d",Q5="dframe",AR=1870,RR=30,X5=AR-RR,Z5=25e3,J5=3e4;class Nl{constructor(e,t,i,s,o,l,c){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.transportSessionId=l,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Lh(e),this.stats_=C0(t),this.urlFn=h=>(this.appCheckToken&&(h[Xv]=this.appCheckToken),bR(t,TR,h))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new F5(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(J5)),R5(()=>{if(this.isClosed_)return;this.scriptTagHolder=new A0((...o)=>{const[l,c,h,f,g]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,l===JS)this.id=c,this.password=h;else if(l===H5)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+l)},(...o)=>{const[l,c]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(l,c)},()=>{this.onClosed_()},this.urlFn);const i={};i[JS]="t",i[CR]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[$5]=this.scriptTagHolder.uniqueCallbackIdentifier),i[fR]=x0,this.transportSessionId&&(i[pR]=this.transportSessionId),this.lastSessionId&&(i[vR]=this.lastSessionId),this.applicationId&&(i[_R]=this.applicationId),this.appCheckToken&&(i[Xv]=this.appCheckToken),typeof location<"u"&&location.hostname&&yR.test(location.hostname)&&(i[mR]=gR);const s=this.urlFn(i);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Nl.forceAllow_=!0}static forceDisallow(){Nl.forceDisallow_=!0}static isAvailable(){return Nl.forceAllow_?!0:!Nl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!N5()&&!P5()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=dn(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=WA(t),s=hR(i,X5);for(let o=0;o<s.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[o]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const i={};i[Q5]="t",i[SR]=e,i[xR]=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=dn(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class A0{constructor(e,t,i,s){this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=x5(),window[q5+this.uniqueCallbackIdentifier]=e,window[G5+this.uniqueCallbackIdentifier]=t,this.myIFrame=A0.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(c){En("frame writing exception"),c.stack&&En(c.stack),En(c)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||En("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[SR]=this.myID,e[xR]=this.myPW,e[CR]=this.currentSerial;let t=this.urlFn(e),i="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+RR+i.length<=AR;){const l=this.pendingSegs.shift();i=i+"&"+K5+s+"="+l.seg+"&"+W5+s+"="+l.ts+"&"+Y5+s+"="+l.d,s++}return t=t+i,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},s=setTimeout(i,Math.floor(Z5)),o=()=>{clearTimeout(s),i()};this.addTag(e,o)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{En("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e9=16384,t9=45e3;let up=null;typeof MozWebSocket<"u"?up=MozWebSocket:typeof WebSocket<"u"&&(up=WebSocket);class Li{constructor(e,t,i,s,o,l,c){this.connId=e,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Lh(this.connId),this.stats_=C0(t),this.connURL=Li.connectionURL_(t,l,c,s,i),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,i,s,o){const l={};return l[fR]=x0,typeof location<"u"&&location.hostname&&yR.test(location.hostname)&&(l[mR]=gR),t&&(l[pR]=t),i&&(l[vR]=i),s&&(l[Xv]=s),o&&(l[_R]=o),bR(e,ER,l)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,co.set("previous_websocket_failure",!0);try{let i;JV(),this.mySock=new up(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Li.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(t);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&up!==null&&!Li.forceDisallow_}static previouslyFailed(){return co.isInMemoryStorage||co.get("previous_websocket_failure")===!0}markConnectionHealthy(){co.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const i=uh(t);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ue(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const i=this.extractFrameCount_(t);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const t=dn(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=hR(t,e9);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(t9))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Li.responsesRequiredToBeHealthy=2;Li.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{static get ALL_TRANSPORTS(){return[Nl,Li]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=Li&&Li.isAvailable();let i=t&&!Li.previouslyFailed();if(e.webSocketOnly&&(t||Bn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Li];else{const s=this.transports_=[];for(const o of hh.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);hh.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}hh.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n9=6e4,i9=5e3,s9=10*1024,r9=100*1024,ov="t",ex="d",a9="s",tx="r",o9="e",nx="o",ix="a",sx="n",rx="p",l9="h";class u9{constructor(e,t,i,s,o,l,c,h,f,g){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=s,this.authToken_=o,this.onMessage_=l,this.onReady_=c,this.onDisconnect_=h,this.onKill_=f,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Lh("c:"+this.id+":"),this.transportManager_=new hh(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=Gc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>r9?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>s9?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(ov in e){const t=e[ov];t===ix?this.upgradeIfSecondaryHealthy_():t===tx?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===nx&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Rc("t",e),i=Rc("d",e);if(t==="c")this.onSecondaryControl_(i);else if(t==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:rx,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:ix,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:sx,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Rc("t",e),i=Rc("d",e);t==="c"?this.onControl_(i):t==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Rc(ov,e);if(ex in e){const i=e[ex];if(t===l9){const s=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(t===sx){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===a9?this.onConnectionShutdown_(i):t===tx?this.onReset_(i):t===o9?Qv("Server Error: "+i):t===nx?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Qv("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),x0!==i&&Bn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),Gc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(n9))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Gc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(i9))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:rx,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(co.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{put(e,t,i,s){}merge(e,t,i,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e){this.allowedEvents_=e,this.listeners_={},ue(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let s=0;s<i.length;s++)i[s].callback.apply(i[s].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const s=this.getInitialEvent(e);s&&t.apply(i,s)}off(e,t,i){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let o=0;o<s.length;o++)if(s[o].callback===t&&(!i||i===s[o].context)){s.splice(o,1);return}}validateEventType_(e){ue(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp extends NR{static getInstance(){return new cp}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!E0()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return ue(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax=32,ox=768;class ut{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let i=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[i]=this.pieces_[s],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function st(){return new ut("")}function je(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function ma(n){return n.pieces_.length-n.pieceNum_}function mt(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new ut(n.pieces_,e)}function R0(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function c9(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function dh(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function PR(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new ut(e,0)}function Pt(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof ut)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let s=0;s<i.length;s++)i[s].length>0&&t.push(i[s])}return new ut(t,0)}function He(n){return n.pieceNum_>=n.pieces_.length}function Wn(n,e){const t=je(n),i=je(e);if(t===null)return e;if(t===i)return Wn(mt(n),mt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function h9(n,e){const t=dh(n,0),i=dh(e,0);for(let s=0;s<t.length&&s<i.length;s++){const o=Co(t[s],i[s]);if(o!==0)return o}return t.length===i.length?0:t.length<i.length?-1:1}function I0(n,e){if(ma(n)!==ma(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function Ai(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(ma(n)>ma(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class d9{constructor(e,t){this.errorPrefix_=t,this.parts_=dh(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=tm(this.parts_[i]);DR(this)}}function f9(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=tm(e),DR(n)}function p9(n){const e=n.parts_.pop();n.byteLength_-=tm(e),n.parts_.length>0&&(n.byteLength_-=1)}function DR(n){if(n.byteLength_>ox)throw new Error(n.errorPrefix_+"has a key path longer than "+ox+" bytes ("+n.byteLength_+").");if(n.parts_.length>ax)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ax+") or object contains a cycle "+lo(n))}function lo(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0 extends NR{static getInstance(){return new N0}constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return ue(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic=1e3,m9=60*5*1e3,lx=30*1e3,g9=1.3,y9=3e4,v9="server_kill",ux=3;class ir extends IR{constructor(e,t,i,s,o,l,c,h){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=l,this.appCheckTokenProvider_=c,this.authOverride_=h,this.id=ir.nextPersistentConnectionId_++,this.log_=Lh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ic,this.maxReconnectDelay_=m9,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,h)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");N0.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&cp.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,i){const s=++this.requestNumber_,o={r:s,a:e,b:t};this.log_(dn(o)),ue(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(e){this.initConnection_();const t=new Mh,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:l=>{const c=l.d;l.s==="ok"?t.resolve(c):t.reject(c)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),t.promise}listen(e,t,i,s){this.initConnection_();const o=e._queryIdentifier,l=e._path.toString();this.log_("Listen called for "+l+" "+o),this.listens.has(l)||this.listens.set(l,new Map),ue(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ue(!this.listens.get(l).has(o),"listen() called twice for same path/queryId.");const c={onComplete:s,hashFn:t,query:e,tag:i};this.listens.get(l).set(o,c),this.connected_&&this.sendListen_(c)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(i)})}sendListen_(e){const t=e.query,i=t._path.toString(),s=t._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i},l="q";e.tag&&(o.q=t._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(l,o,c=>{const h=c.d,f=c.s;ir.warnOnListenWarnings_(h,t),(this.listens.get(i)&&this.listens.get(i).get(s))===e&&(this.log_("listen response",c),f!=="ok"&&this.removeListen_(i,s),e.onComplete&&e.onComplete(f,h))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&Ts(e,"w")){const i=ql(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+t._queryParams.getIndex().toString()+'"',o=t._path.toString();Bn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||o6(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=lx)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=a6(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(t,i,s=>{const o=s.s,l=s.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,l))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,i=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,i)})}unlisten(e,t){const i=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),ue(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,e._queryObject,t)}sendUnlisten_(e,t,i,s){this.log_("Unlisten on "+e+" for "+t);const o={p:e},l="n";s&&(o.q=i,o.t=s),this.sendRequest(l,o)}onDisconnectPut(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:i})}onDisconnectMerge(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:i})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,i,s){const o={p:t,d:i};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,l=>{s&&setTimeout(()=>{s(l.s,l.d)},Math.floor(0))})}put(e,t,i,s){this.putInternal("p",e,t,i,s)}merge(e,t,i,s){this.putInternal("m",e,t,i,s)}putInternal(e,t,i,s,o){this.initConnection_();const l={p:t,d:i};o!==void 0&&(l.h=o),this.outstandingPuts_.push({action:e,request:l,onComplete:s}),this.outstandingPutCount_++;const c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,i,o=>{this.log_(t+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,i=>{if(i.s!=="ok"){const o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+dn(e));const t=e.r,i=this.requestCBHash_[t];i&&(delete this.requestCBHash_[t],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):Qv("Unrecognized action received from server: "+dn(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ue(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ic,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ic,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>y9&&(this.reconnectDelay_=Ic),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*g9)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+ir.nextConnectionId_++,o=this.lastSessionId;let l=!1,c=null;const h=function(){c?c.close():(l=!0,i())},f=function(v){ue(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(v)};this.realtime_={close:h,sendRequest:f};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,_]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);l?En("getToken() completed but was canceled"):(En("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=_&&_.token,c=new u9(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,i,w=>{Bn(w+" ("+this.repoInfo_.toString()+")"),this.interrupt(v9)},o))}catch(v){this.log_("Failed to get token: "+v),l||(this.repoInfo_.nodeAdmin&&Bn(v),h())}}}interrupt(e){En("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){En("Resuming connection for reason: "+e),delete this.interruptReasons_[e],qv(this.interruptReasons_)&&(this.reconnectDelay_=Ic,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let i;t?i=t.map(o=>S0(o)).join("$"):i="default";const s=this.removeListen_(e,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,t){const i=new ut(e).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(t),o.delete(t),o.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(e,t){En("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=ux&&(this.reconnectDelay_=lx,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){En("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=ux&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+lR.replace(/\./g,"-")]=1,E0()?e["framework.cordova"]=1:tR()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=cp.getInstance().currentlyOnline();return qv(this.interruptReasons_)&&e}}ir.nextPersistentConnectionId_=0;ir.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Ue(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new Ue(Gl,e),s=new Ue(Gl,t);return this.compare(i,s)!==0}minPost(){return Ue.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ef;class MR extends sm{static get __EMPTY_NODE(){return Ef}static set __EMPTY_NODE(e){Ef=e}compare(e,t){return Co(e.name,t.name)}isDefinedOn(e){throw lu("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Ue.MIN}maxPost(){return new Ue(mo,Ef)}makePost(e,t){return ue(typeof e=="string","KeyIndex indexValue must always be a string."),new Ue(e,Ef)}toString(){return".key"}}const Ol=new MR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tf=class{constructor(e,t,i,s,o=null){this.isReverse_=s,this.resultGenerator_=o,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(e=e,l=t?i(e.key,t):1,s&&(l*=-1),l<0)this.isReverse_?e=e.left:e=e.right;else if(l===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},ni=class Vc{constructor(e,t,i,s,o){this.key=e,this.value=t,this.color=i??Vc.RED,this.left=s??rs.EMPTY_NODE,this.right=o??rs.EMPTY_NODE}copy(e,t,i,s,o){return new Vc(e??this.key,t??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const o=i(e,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(e,t,i),null):o===0?s=s.copy(null,t,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return rs.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let i,s;if(i=this,t(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),t(e,i.key)===0){if(i.right.isEmpty())return rs.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Vc.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Vc.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}};ni.RED=!0;ni.BLACK=!1;class _9{copy(e,t,i,s,o){return this}insert(e,t,i){return new ni(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}let rs=class Vf{constructor(e,t=Vf.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Vf(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,ni.BLACK,null,null))}remove(e){return new Vf(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ni.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),t===0)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,s=null;for(;!i.isEmpty();)if(t=this.comparator_(e,i.key),t===0){if(i.left.isEmpty())return s?s.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else t<0?i=i.left:t>0&&(s=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Tf(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Tf(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Tf(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Tf(this.root_,null,this.comparator_,!0,e)}};rs.EMPTY_NODE=new _9;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E9(n,e){return Co(n.name,e.name)}function P0(n,e){return Co(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zv;function T9(n){Zv=n}const OR=function(n){return typeof n=="number"?"number:"+dR(n):"string:"+n},kR=function(n){if(n.isLeafNode()){const e=n.val();ue(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ts(e,".sv"),"Priority must be a string or number.")}else ue(n===Zv||n.isEmpty(),"priority of unexpected type.");ue(n===Zv||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cx;class un{static set __childrenNodeConstructor(e){cx=e}static get __childrenNodeConstructor(){return cx}constructor(e,t=un.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,ue(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),kR(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new un(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:un.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return He(e)?this:je(e)===".priority"?this.priorityNode_:un.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:un.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const i=je(e);return i===null?t:t.isEmpty()&&i!==".priority"?this:(ue(i!==".priority"||ma(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,un.__childrenNodeConstructor.EMPTY_NODE.updateChild(mt(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+OR(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=dR(this.value_):e+=this.value_,this.lazyHash_=cR(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===un.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof un.__childrenNodeConstructor?-1:(ue(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,i=typeof this.value_,s=un.VALUE_TYPE_ORDER.indexOf(t),o=un.VALUE_TYPE_ORDER.indexOf(i);return ue(s>=0,"Unknown leaf type: "+t),ue(o>=0,"Unknown leaf type: "+i),s===o?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}un.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let LR,VR;function w9(n){LR=n}function b9(n){VR=n}class S9 extends sm{compare(e,t){const i=e.node.getPriority(),s=t.node.getPriority(),o=i.compareTo(s);return o===0?Co(e.name,t.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Ue.MIN}maxPost(){return new Ue(mo,new un("[PRIORITY-POST]",VR))}makePost(e,t){const i=LR(e);return new Ue(t,new un("[PRIORITY-POST]",i))}toString(){return".priority"}}const Dt=new S9;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x9=Math.log(2);class C9{constructor(e){const t=o=>parseInt(Math.log(o)/x9,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const s=i(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const hp=function(n,e,t,i){n.sort(e);const s=function(h,f){const g=f-h;let v,_;if(g===0)return null;if(g===1)return v=n[h],_=t?t(v):v,new ni(_,v.node,ni.BLACK,null,null);{const w=parseInt(g/2,10)+h,x=s(h,w),O=s(w+1,f);return v=n[w],_=t?t(v):v,new ni(_,v.node,ni.BLACK,x,O)}},o=function(h){let f=null,g=null,v=n.length;const _=function(x,O){const V=v-x,D=v;v-=x;const I=s(V+1,D),N=n[V],H=t?t(N):N;w(new ni(H,N.node,O,null,I))},w=function(x){f?(f.left=x,f=x):(g=x,f=x)};for(let x=0;x<h.count;++x){const O=h.nextBitIsOne(),V=Math.pow(2,h.count-(x+1));O?_(V,ni.BLACK):(_(V,ni.BLACK),_(V,ni.RED))}return g},l=new C9(n.length),c=o(l);return new rs(i||e,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lv;const _l={};class Qs{static get Default(){return ue(_l&&Dt,"ChildrenNode.ts has not been loaded"),lv=lv||new Qs({".priority":_l},{".priority":Dt}),lv}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=ql(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof rs?t:null}hasIndex(e){return Ts(this.indexSet_,e.toString())}addIndex(e,t){ue(e!==Ol,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let s=!1;const o=t.getIterator(Ue.Wrap);let l=o.getNext();for(;l;)s=s||e.isDefinedOn(l.node),i.push(l),l=o.getNext();let c;s?c=hp(i,e.getCompare()):c=_l;const h=e.toString(),f=Object.assign({},this.indexSet_);f[h]=e;const g=Object.assign({},this.indexes_);return g[h]=c,new Qs(g,f)}addToIndexes(e,t){const i=ap(this.indexes_,(s,o)=>{const l=ql(this.indexSet_,o);if(ue(l,"Missing index implementation for "+o),s===_l)if(l.isDefinedOn(e.node)){const c=[],h=t.getIterator(Ue.Wrap);let f=h.getNext();for(;f;)f.name!==e.name&&c.push(f),f=h.getNext();return c.push(e),hp(c,l.getCompare())}else return _l;else{const c=t.get(e.name);let h=s;return c&&(h=h.remove(new Ue(e.name,c))),h.insert(e,e.node)}});return new Qs(i,this.indexSet_)}removeFromIndexes(e,t){const i=ap(this.indexes_,s=>{if(s===_l)return s;{const o=t.get(e.name);return o?s.remove(new Ue(e.name,o)):s}});return new Qs(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nc;class Re{static get EMPTY_NODE(){return Nc||(Nc=new Re(new rs(P0),null,Qs.Default))}constructor(e,t,i){this.children_=e,this.priorityNode_=t,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&kR(this.priorityNode_),this.children_.isEmpty()&&ue(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Nc}updatePriority(e){return this.children_.isEmpty()?this:new Re(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?Nc:t}}getChild(e){const t=je(e);return t===null?this:this.getImmediateChild(t).getChild(mt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(ue(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const i=new Ue(e,t);let s,o;t.isEmpty()?(s=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(e,t),o=this.indexMap_.addToIndexes(i,this.children_));const l=s.isEmpty()?Nc:this.priorityNode_;return new Re(s,l,o)}}updateChild(e,t){const i=je(e);if(i===null)return t;{ue(je(e)!==".priority"||ma(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(mt(e),t);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let i=0,s=0,o=!0;if(this.forEachChild(Dt,(l,c)=>{t[l]=c.val(e),i++,o&&Re.INTEGER_REGEXP_.test(l)?s=Math.max(s,Number(l)):o=!1}),!e&&o&&s<2*i){const l=[];for(const c in t)l[c]=t[c];return l}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+OR(this.getPriority().val())+":"),this.forEachChild(Dt,(t,i)=>{const s=i.hash();s!==""&&(e+=":"+t+":"+s)}),this.lazyHash_=e===""?"":cR(e)}return this.lazyHash_}getPredecessorChildName(e,t,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new Ue(e,t));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new Ue(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new Ue(t,this.children_.get(t)):null}forEachChild(e,t){const i=this.resolveIndex_(e);return i?i.inorderTraversal(s=>t(s.name,s.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,Ue.Wrap);let o=s.peek();for(;o!=null&&t.compare(o,e)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,Ue.Wrap);let o=s.peek();for(;o!=null&&t.compare(o,e)>0;)s.getNext(),o=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Vh?-1:0}withIndex(e){if(e===Ol||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Re(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Ol||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const i=this.getIterator(Dt),s=t.getIterator(Dt);let o=i.getNext(),l=s.getNext();for(;o&&l;){if(o.name!==l.name||!o.node.equals(l.node))return!1;o=i.getNext(),l=s.getNext()}return o===null&&l===null}else return!1;else return!1}}resolveIndex_(e){return e===Ol?null:this.indexMap_.get(e.toString())}}Re.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class A9 extends Re{constructor(){super(new rs(P0),Re.EMPTY_NODE,Qs.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Re.EMPTY_NODE}isEmpty(){return!1}}const Vh=new A9;Object.defineProperties(Ue,{MIN:{value:new Ue(Gl,Re.EMPTY_NODE)},MAX:{value:new Ue(mo,Vh)}});MR.__EMPTY_NODE=Re.EMPTY_NODE;un.__childrenNodeConstructor=Re;T9(Vh);b9(Vh);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R9=!0;function hn(n,e=null){if(n===null)return Re.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),ue(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const t=n;return new un(t,hn(e))}if(!(n instanceof Array)&&R9){const t=[];let i=!1;if(wn(n,(l,c)=>{if(l.substring(0,1)!=="."){const h=hn(c);h.isEmpty()||(i=i||!h.getPriority().isEmpty(),t.push(new Ue(l,h)))}}),t.length===0)return Re.EMPTY_NODE;const o=hp(t,E9,l=>l.name,P0);if(i){const l=hp(t,Dt.getCompare());return new Re(o,hn(e),new Qs({".priority":l},{".priority":Dt}))}else return new Re(o,hn(e),Qs.Default)}else{let t=Re.EMPTY_NODE;return wn(n,(i,s)=>{if(Ts(n,i)&&i.substring(0,1)!=="."){const o=hn(s);(o.isLeafNode()||!o.isEmpty())&&(t=t.updateImmediateChild(i,o))}}),t.updatePriority(hn(e))}}w9(hn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9 extends sm{constructor(e){super(),this.indexPath_=e,ue(!He(e)&&je(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),s=this.extractChild(t.node),o=i.compareTo(s);return o===0?Co(e.name,t.name):o}makePost(e,t){const i=hn(e),s=Re.EMPTY_NODE.updateChild(this.indexPath_,i);return new Ue(t,s)}maxPost(){const e=Re.EMPTY_NODE.updateChild(this.indexPath_,Vh);return new Ue(mo,e)}toString(){return dh(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9 extends sm{compare(e,t){const i=e.node.compareTo(t.node);return i===0?Co(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Ue.MIN}maxPost(){return Ue.MAX}makePost(e,t){const i=hn(e);return new Ue(t,i)}toString(){return".value"}}const P9=new N9;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(n){return{type:"value",snapshotNode:n}}function $l(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function fh(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function ph(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function D9(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e){this.index_=e}updateChild(e,t,i,s,o,l){ue(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const c=e.getImmediateChild(t);return c.getChild(s).equals(i.getChild(s))&&c.isEmpty()===i.isEmpty()||(l!=null&&(i.isEmpty()?e.hasChild(t)?l.trackChildChange(fh(t,c)):ue(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?l.trackChildChange($l(t,i)):l.trackChildChange(ph(t,i,c))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return i!=null&&(e.isLeafNode()||e.forEachChild(Dt,(s,o)=>{t.hasChild(s)||i.trackChildChange(fh(s,o))}),t.isLeafNode()||t.forEachChild(Dt,(s,o)=>{if(e.hasChild(s)){const l=e.getImmediateChild(s);l.equals(o)||i.trackChildChange(ph(s,o,l))}else i.trackChildChange($l(s,o))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Re.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e){this.indexedFilter_=new D0(e.getIndex()),this.index_=e.getIndex(),this.startPost_=mh.getStartPost_(e),this.endPost_=mh.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&i}updateChild(e,t,i,s,o,l){return this.matches(new Ue(t,i))||(i=Re.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,s,o,l)}updateFullNode(e,t,i){t.isLeafNode()&&(t=Re.EMPTY_NODE);let s=t.withIndex(this.index_);s=s.updatePriority(Re.EMPTY_NODE);const o=this;return t.forEachChild(Dt,(l,c)=>{o.matches(new Ue(l,c))||(s=s.updateImmediateChild(l,Re.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{const i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new mh(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,i,s,o,l){return this.rangedFilter_.matches(new Ue(t,i))||(i=Re.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,s,o,l):this.fullLimitUpdateChild_(e,t,i,o,l)}updateFullNode(e,t,i){let s;if(t.isLeafNode()||t.isEmpty())s=Re.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<t.numChildren()&&t.isIndexed(this.index_)){s=Re.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;o.hasNext()&&l<this.limit_;){const c=o.getNext();if(this.withinDirectionalStart(c))if(this.withinDirectionalEnd(c))s=s.updateImmediateChild(c.name,c.node),l++;else break;else continue}}else{s=t.withIndex(this.index_),s=s.updatePriority(Re.EMPTY_NODE);let o;this.reverse_?o=s.getReverseIterator(this.index_):o=s.getIterator(this.index_);let l=0;for(;o.hasNext();){const c=o.getNext();l<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?l++:s=s.updateImmediateChild(c.name,Re.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,s,o){let l;if(this.reverse_){const v=this.index_.getCompare();l=(_,w)=>v(w,_)}else l=this.index_.getCompare();const c=e;ue(c.numChildren()===this.limit_,"");const h=new Ue(t,i),f=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),g=this.rangedFilter_.matches(h);if(c.hasChild(t)){const v=c.getImmediateChild(t);let _=s.getChildAfterChild(this.index_,f,this.reverse_);for(;_!=null&&(_.name===t||c.hasChild(_.name));)_=s.getChildAfterChild(this.index_,_,this.reverse_);const w=_==null?1:l(_,h);if(g&&!i.isEmpty()&&w>=0)return o!=null&&o.trackChildChange(ph(t,i,v)),c.updateImmediateChild(t,i);{o!=null&&o.trackChildChange(fh(t,v));const O=c.updateImmediateChild(t,Re.EMPTY_NODE);return _!=null&&this.rangedFilter_.matches(_)?(o!=null&&o.trackChildChange($l(_.name,_.node)),O.updateImmediateChild(_.name,_.node)):O}}else return i.isEmpty()?e:g&&l(f,h)>=0?(o!=null&&(o.trackChildChange(fh(f.name,f.node)),o.trackChildChange($l(t,i))),c.updateImmediateChild(t,i).updateImmediateChild(f.name,Re.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Dt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ue(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ue(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Gl}hasEnd(){return this.endSet_}getIndexEndValue(){return ue(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ue(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:mo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ue(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Dt}copy(){const e=new M0;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function O9(n){return n.loadsAllData()?new D0(n.getIndex()):n.hasLimit()?new M9(n):new mh(n)}function hx(n){const e={};if(n.isDefault())return e;let t;if(n.index_===Dt?t="$priority":n.index_===P9?t="$value":n.index_===Ol?t="$key":(ue(n.index_ instanceof I9,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=dn(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=dn(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+dn(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=dn(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+dn(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function dx(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==Dt&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp extends IR{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(ue(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,i,s){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.log_=Lh("p:rest:"),this.listens_={}}listen(e,t,i,s){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const l=dp.getListenId_(e,i),c={};this.listens_[l]=c;const h=hx(e._queryParams);this.restRequest_(o+".json",h,(f,g)=>{let v=g;if(f===404&&(v=null,f=null),f===null&&this.onDataUpdate_(o,v,!1,i),ql(this.listens_,l)===c){let _;f?f===401?_="permission_denied":_="rest_error:"+f:_="ok",s(_,null)}})}unlisten(e,t){const i=dp.getListenId_(e,t);delete this.listens_[i]}get(e){const t=hx(e._queryParams),i=e._path.toString(),s=new Mh;return this.restRequest_(i+".json",t,(o,l)=>{let c=l;o===404&&(c=null,o=null),o===null?(this.onDataUpdate_(i,c,!1,null),s.resolve(c)):s.reject(new Error(c))}),s.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,o])=>{s&&s.accessToken&&(t.auth=s.accessToken),o&&o.token&&(t.ac=o.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+uu(t);this.log_("Sending REST request for "+l);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(i&&c.readyState===4){this.log_("REST Response for "+l+" received. status:",c.status,"response:",c.responseText);let h=null;if(c.status>=200&&c.status<300){try{h=uh(c.responseText)}catch{Bn("Failed to parse JSON response for "+l+": "+c.responseText)}i(null,h)}else c.status!==401&&c.status!==404&&Bn("Got unsuccessful REST response for "+l+" Status: "+c.status),i(c.status);i=null}},c.open("GET",l,!0),c.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(){this.rootNode_=Re.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(){return{value:null,children:new Map}}function UR(n,e,t){if(He(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{const i=je(e);n.children.has(i)||n.children.set(i,fp());const s=n.children.get(i);e=mt(e),UR(s,e,t)}}function Jv(n,e,t){n.value!==null?t(e,n.value):L9(n,(i,s)=>{const o=new ut(e.toString()+"/"+i);Jv(s,o,t)})}function L9(n,e){n.children.forEach((t,i)=>{e(i,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V9{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&wn(this.last_,(i,s)=>{t[i]=t[i]-s}),this.last_=e,t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx=10*1e3,j9=30*1e3,U9=5*60*1e3;class B9{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new V9(e);const i=fx+(j9-fx)*Math.random();Gc(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;wn(e,(s,o)=>{o>0&&Ts(this.statsToReport_,s)&&(t[s]=o,i=!0)}),i&&this.server_.reportStats(t),Gc(this.reportStats_.bind(this),Math.floor(Math.random()*2*U9))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vi;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Vi||(Vi={}));function O0(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function k0(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function L0(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=Vi.ACK_USER_WRITE,this.source=O0()}operationForChild(e){if(He(this.path)){if(this.affectedTree.value!=null)return ue(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new ut(e));return new pp(st(),t,this.revert)}}else return ue(je(this.path)===e,"operationForChild called for unrelated child."),new pp(mt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,t){this.source=e,this.path=t,this.type=Vi.LISTEN_COMPLETE}operationForChild(e){return He(this.path)?new gh(this.source,st()):new gh(this.source,mt(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=Vi.OVERWRITE}operationForChild(e){return He(this.path)?new go(this.source,st(),this.snap.getImmediateChild(e)):new go(this.source,mt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=Vi.MERGE}operationForChild(e){if(He(this.path)){const t=this.children.subtree(new ut(e));return t.isEmpty()?null:t.value?new go(this.source,st(),t.value):new Kl(this.source,st(),t)}else return ue(je(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Kl(this.source,mt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(He(e))return this.isFullyInitialized()&&!this.filtered_;const t=je(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function F9(n,e,t,i){const s=[],o=[];return e.forEach(l=>{l.type==="child_changed"&&n.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&o.push(D9(l.childName,l.snapshotNode))}),Pc(n,s,"child_removed",e,i,t),Pc(n,s,"child_added",e,i,t),Pc(n,s,"child_moved",o,i,t),Pc(n,s,"child_changed",e,i,t),Pc(n,s,"value",e,i,t),s}function Pc(n,e,t,i,s,o){const l=i.filter(c=>c.type===t);l.sort((c,h)=>q9(n,c,h)),l.forEach(c=>{const h=H9(n,c,o);s.forEach(f=>{f.respondsTo(c.type)&&e.push(f.createEvent(h,n.query_))})})}function H9(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function q9(n,e,t){if(e.childName==null||t.childName==null)throw lu("Should only compare child_ events.");const i=new Ue(e.childName,e.snapshotNode),s=new Ue(t.childName,t.snapshotNode);return n.index_.compare(i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(n,e){return{eventCache:n,serverCache:e}}function $c(n,e,t,i){return rm(new yo(e,t,i),n.serverCache)}function BR(n,e,t,i){return rm(n.eventCache,new yo(e,t,i))}function e_(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function vo(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uv;const G9=()=>(uv||(uv=new rs(I5)),uv);class pt{static fromObject(e){let t=new pt(null);return wn(e,(i,s)=>{t=t.set(new ut(i),s)}),t}constructor(e,t=G9()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:st(),value:this.value};if(He(e))return null;{const i=je(e),s=this.children.get(i);if(s!==null){const o=s.findRootMostMatchingPathAndValue(mt(e),t);return o!=null?{path:Pt(new ut(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(He(e))return this;{const t=je(e),i=this.children.get(t);return i!==null?i.subtree(mt(e)):new pt(null)}}set(e,t){if(He(e))return new pt(t,this.children);{const i=je(e),o=(this.children.get(i)||new pt(null)).set(mt(e),t),l=this.children.insert(i,o);return new pt(this.value,l)}}remove(e){if(He(e))return this.children.isEmpty()?new pt(null):new pt(null,this.children);{const t=je(e),i=this.children.get(t);if(i){const s=i.remove(mt(e));let o;return s.isEmpty()?o=this.children.remove(t):o=this.children.insert(t,s),this.value===null&&o.isEmpty()?new pt(null):new pt(this.value,o)}else return this}}get(e){if(He(e))return this.value;{const t=je(e),i=this.children.get(t);return i?i.get(mt(e)):null}}setTree(e,t){if(He(e))return t;{const i=je(e),o=(this.children.get(i)||new pt(null)).setTree(mt(e),t);let l;return o.isEmpty()?l=this.children.remove(i):l=this.children.insert(i,o),new pt(this.value,l)}}fold(e){return this.fold_(st(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((s,o)=>{i[s]=o.fold_(Pt(e,s),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,st(),t)}findOnPath_(e,t,i){const s=this.value?i(t,this.value):!1;if(s)return s;if(He(e))return null;{const o=je(e),l=this.children.get(o);return l?l.findOnPath_(mt(e),Pt(t,o),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,st(),t)}foreachOnPath_(e,t,i){if(He(e))return this;{this.value&&i(t,this.value);const s=je(e),o=this.children.get(s);return o?o.foreachOnPath_(mt(e),Pt(t,s),i):new pt(null)}}foreach(e){this.foreach_(st(),e)}foreach_(e,t){this.children.inorderTraversal((i,s)=>{s.foreach_(Pt(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e){this.writeTree_=e}static empty(){return new ji(new pt(null))}}function Kc(n,e,t){if(He(e))return new ji(new pt(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(i!=null){const s=i.path;let o=i.value;const l=Wn(s,e);return o=o.updateChild(l,t),new ji(n.writeTree_.set(s,o))}else{const s=new pt(t),o=n.writeTree_.setTree(e,s);return new ji(o)}}}function t_(n,e,t){let i=n;return wn(t,(s,o)=>{i=Kc(i,Pt(e,s),o)}),i}function px(n,e){if(He(e))return ji.empty();{const t=n.writeTree_.setTree(e,new pt(null));return new ji(t)}}function n_(n,e){return Ao(n,e)!=null}function Ao(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(Wn(t.path,e)):null}function mx(n){const e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(Dt,(i,s)=>{e.push(new Ue(i,s))}):n.writeTree_.children.inorderTraversal((i,s)=>{s.value!=null&&e.push(new Ue(i,s.value))}),e}function aa(n,e){if(He(e))return n;{const t=Ao(n,e);return t!=null?new ji(new pt(t)):new ji(n.writeTree_.subtree(e))}}function i_(n){return n.writeTree_.isEmpty()}function Wl(n,e){return zR(st(),n.writeTree_,e)}function zR(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((s,o)=>{s===".priority"?(ue(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):t=zR(Pt(n,s),o,t)}),!t.getChild(n).isEmpty()&&i!==null&&(t=t.updateChild(Pt(n,".priority"),i)),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(n,e){return GR(e,n)}function $9(n,e,t,i,s){ue(i>n.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:s}),s&&(n.visibleWrites=Kc(n.visibleWrites,e,t)),n.lastWriteId=i}function K9(n,e,t,i){ue(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:i,visible:!0}),n.visibleWrites=t_(n.visibleWrites,e,t),n.lastWriteId=i}function W9(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}function Y9(n,e){const t=n.allWrites.findIndex(c=>c.writeId===e);ue(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let s=i.visible,o=!1,l=n.allWrites.length-1;for(;s&&l>=0;){const c=n.allWrites[l];c.visible&&(l>=t&&Q9(c,i.path)?s=!1:Ai(i.path,c.path)&&(o=!0)),l--}if(s){if(o)return X9(n),!0;if(i.snap)n.visibleWrites=px(n.visibleWrites,i.path);else{const c=i.children;wn(c,h=>{n.visibleWrites=px(n.visibleWrites,Pt(i.path,h))})}return!0}else return!1}function Q9(n,e){if(n.snap)return Ai(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Ai(Pt(n.path,t),e))return!0;return!1}function X9(n){n.visibleWrites=FR(n.allWrites,Z9,st()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function Z9(n){return n.visible}function FR(n,e,t){let i=ji.empty();for(let s=0;s<n.length;++s){const o=n[s];if(e(o)){const l=o.path;let c;if(o.snap)Ai(t,l)?(c=Wn(t,l),i=Kc(i,c,o.snap)):Ai(l,t)&&(c=Wn(l,t),i=Kc(i,st(),o.snap.getChild(c)));else if(o.children){if(Ai(t,l))c=Wn(t,l),i=t_(i,c,o.children);else if(Ai(l,t))if(c=Wn(l,t),He(c))i=t_(i,st(),o.children);else{const h=ql(o.children,je(c));if(h){const f=h.getChild(mt(c));i=Kc(i,st(),f)}}}else throw lu("WriteRecord should have .snap or .children")}}return i}function HR(n,e,t,i,s){if(!i&&!s){const o=Ao(n.visibleWrites,e);if(o!=null)return o;{const l=aa(n.visibleWrites,e);if(i_(l))return t;if(t==null&&!n_(l,st()))return null;{const c=t||Re.EMPTY_NODE;return Wl(l,c)}}}else{const o=aa(n.visibleWrites,e);if(!s&&i_(o))return t;if(!s&&t==null&&!n_(o,st()))return null;{const l=function(f){return(f.visible||s)&&(!i||!~i.indexOf(f.writeId))&&(Ai(f.path,e)||Ai(e,f.path))},c=FR(n.allWrites,l,e),h=t||Re.EMPTY_NODE;return Wl(c,h)}}}function J9(n,e,t){let i=Re.EMPTY_NODE;const s=Ao(n.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(Dt,(o,l)=>{i=i.updateImmediateChild(o,l)}),i;if(t){const o=aa(n.visibleWrites,e);return t.forEachChild(Dt,(l,c)=>{const h=Wl(aa(o,new ut(l)),c);i=i.updateImmediateChild(l,h)}),mx(o).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}else{const o=aa(n.visibleWrites,e);return mx(o).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}}function ej(n,e,t,i,s){ue(i||s,"Either existingEventSnap or existingServerSnap must exist");const o=Pt(e,t);if(n_(n.visibleWrites,o))return null;{const l=aa(n.visibleWrites,o);return i_(l)?s.getChild(t):Wl(l,s.getChild(t))}}function tj(n,e,t,i){const s=Pt(e,t),o=Ao(n.visibleWrites,s);if(o!=null)return o;if(i.isCompleteForChild(t)){const l=aa(n.visibleWrites,s);return Wl(l,i.getNode().getImmediateChild(t))}else return null}function nj(n,e){return Ao(n.visibleWrites,e)}function ij(n,e,t,i,s,o,l){let c;const h=aa(n.visibleWrites,e),f=Ao(h,st());if(f!=null)c=f;else if(t!=null)c=Wl(h,t);else return[];if(c=c.withIndex(l),!c.isEmpty()&&!c.isLeafNode()){const g=[],v=l.getCompare(),_=o?c.getReverseIteratorFrom(i,l):c.getIteratorFrom(i,l);let w=_.getNext();for(;w&&g.length<s;)v(w,i)!==0&&g.push(w),w=_.getNext();return g}else return[]}function sj(){return{visibleWrites:ji.empty(),allWrites:[],lastWriteId:-1}}function mp(n,e,t,i){return HR(n.writeTree,n.treePath,e,t,i)}function j0(n,e){return J9(n.writeTree,n.treePath,e)}function gx(n,e,t,i){return ej(n.writeTree,n.treePath,e,t,i)}function gp(n,e){return nj(n.writeTree,Pt(n.treePath,e))}function rj(n,e,t,i,s,o){return ij(n.writeTree,n.treePath,e,t,i,s,o)}function U0(n,e,t){return tj(n.writeTree,n.treePath,e,t)}function qR(n,e){return GR(Pt(n.treePath,e),n.writeTree)}function GR(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;ue(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),ue(i!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(i);if(s){const o=s.type;if(t==="child_added"&&o==="child_removed")this.changeMap.set(i,ph(i,e.snapshotNode,s.snapshotNode));else if(t==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(t==="child_removed"&&o==="child_changed")this.changeMap.set(i,fh(i,s.oldSnap));else if(t==="child_changed"&&o==="child_added")this.changeMap.set(i,$l(i,e.snapshotNode));else if(t==="child_changed"&&o==="child_changed")this.changeMap.set(i,ph(i,e.snapshotNode,s.oldSnap));else throw lu("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}}const $R=new oj;class B0{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new yo(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return U0(this.writes_,e,i)}}getChildAfterChild(e,t,i){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:vo(this.viewCache_),o=rj(this.writes_,s,t,1,i,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lj(n){return{filter:n}}function uj(n,e){ue(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),ue(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function cj(n,e,t,i,s){const o=new aj;let l,c;if(t.type===Vi.OVERWRITE){const f=t;f.source.fromUser?l=s_(n,e,f.path,f.snap,i,s,o):(ue(f.source.fromServer,"Unknown source."),c=f.source.tagged||e.serverCache.isFiltered()&&!He(f.path),l=yp(n,e,f.path,f.snap,i,s,c,o))}else if(t.type===Vi.MERGE){const f=t;f.source.fromUser?l=dj(n,e,f.path,f.children,i,s,o):(ue(f.source.fromServer,"Unknown source."),c=f.source.tagged||e.serverCache.isFiltered(),l=r_(n,e,f.path,f.children,i,s,c,o))}else if(t.type===Vi.ACK_USER_WRITE){const f=t;f.revert?l=mj(n,e,f.path,i,s,o):l=fj(n,e,f.path,f.affectedTree,i,s,o)}else if(t.type===Vi.LISTEN_COMPLETE)l=pj(n,e,t.path,i,o);else throw lu("Unknown operation type: "+t.type);const h=o.getChanges();return hj(e,l,h),{viewCache:l,changes:h}}function hj(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=e_(n);(t.length>0||!n.eventCache.isFullyInitialized()||s&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&t.push(jR(e_(e)))}}function KR(n,e,t,i,s,o){const l=e.eventCache;if(gp(i,t)!=null)return e;{let c,h;if(He(t))if(ue(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const f=vo(e),g=f instanceof Re?f:Re.EMPTY_NODE,v=j0(i,g);c=n.filter.updateFullNode(e.eventCache.getNode(),v,o)}else{const f=mp(i,vo(e));c=n.filter.updateFullNode(e.eventCache.getNode(),f,o)}else{const f=je(t);if(f===".priority"){ue(ma(t)===1,"Can't have a priority with additional path components");const g=l.getNode();h=e.serverCache.getNode();const v=gx(i,t,g,h);v!=null?c=n.filter.updatePriority(g,v):c=l.getNode()}else{const g=mt(t);let v;if(l.isCompleteForChild(f)){h=e.serverCache.getNode();const _=gx(i,t,l.getNode(),h);_!=null?v=l.getNode().getImmediateChild(f).updateChild(g,_):v=l.getNode().getImmediateChild(f)}else v=U0(i,f,e.serverCache);v!=null?c=n.filter.updateChild(l.getNode(),f,v,g,s,o):c=l.getNode()}}return $c(e,c,l.isFullyInitialized()||He(t),n.filter.filtersNodes())}}function yp(n,e,t,i,s,o,l,c){const h=e.serverCache;let f;const g=l?n.filter:n.filter.getIndexedFilter();if(He(t))f=g.updateFullNode(h.getNode(),i,null);else if(g.filtersNodes()&&!h.isFiltered()){const w=h.getNode().updateChild(t,i);f=g.updateFullNode(h.getNode(),w,null)}else{const w=je(t);if(!h.isCompleteForPath(t)&&ma(t)>1)return e;const x=mt(t),V=h.getNode().getImmediateChild(w).updateChild(x,i);w===".priority"?f=g.updatePriority(h.getNode(),V):f=g.updateChild(h.getNode(),w,V,x,$R,null)}const v=BR(e,f,h.isFullyInitialized()||He(t),g.filtersNodes()),_=new B0(s,v,o);return KR(n,v,t,s,_,c)}function s_(n,e,t,i,s,o,l){const c=e.eventCache;let h,f;const g=new B0(s,e,o);if(He(t))f=n.filter.updateFullNode(e.eventCache.getNode(),i,l),h=$c(e,f,!0,n.filter.filtersNodes());else{const v=je(t);if(v===".priority")f=n.filter.updatePriority(e.eventCache.getNode(),i),h=$c(e,f,c.isFullyInitialized(),c.isFiltered());else{const _=mt(t),w=c.getNode().getImmediateChild(v);let x;if(He(_))x=i;else{const O=g.getCompleteChild(v);O!=null?R0(_)===".priority"&&O.getChild(PR(_)).isEmpty()?x=O:x=O.updateChild(_,i):x=Re.EMPTY_NODE}if(w.equals(x))h=e;else{const O=n.filter.updateChild(c.getNode(),v,x,_,g,l);h=$c(e,O,c.isFullyInitialized(),n.filter.filtersNodes())}}}return h}function yx(n,e){return n.eventCache.isCompleteForChild(e)}function dj(n,e,t,i,s,o,l){let c=e;return i.foreach((h,f)=>{const g=Pt(t,h);yx(e,je(g))&&(c=s_(n,c,g,f,s,o,l))}),i.foreach((h,f)=>{const g=Pt(t,h);yx(e,je(g))||(c=s_(n,c,g,f,s,o,l))}),c}function vx(n,e,t){return t.foreach((i,s)=>{e=e.updateChild(i,s)}),e}function r_(n,e,t,i,s,o,l,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let h=e,f;He(t)?f=i:f=new pt(null).setTree(t,i);const g=e.serverCache.getNode();return f.children.inorderTraversal((v,_)=>{if(g.hasChild(v)){const w=e.serverCache.getNode().getImmediateChild(v),x=vx(n,w,_);h=yp(n,h,new ut(v),x,s,o,l,c)}}),f.children.inorderTraversal((v,_)=>{const w=!e.serverCache.isCompleteForChild(v)&&_.value===null;if(!g.hasChild(v)&&!w){const x=e.serverCache.getNode().getImmediateChild(v),O=vx(n,x,_);h=yp(n,h,new ut(v),O,s,o,l,c)}}),h}function fj(n,e,t,i,s,o,l){if(gp(s,t)!=null)return e;const c=e.serverCache.isFiltered(),h=e.serverCache;if(i.value!=null){if(He(t)&&h.isFullyInitialized()||h.isCompleteForPath(t))return yp(n,e,t,h.getNode().getChild(t),s,o,c,l);if(He(t)){let f=new pt(null);return h.getNode().forEachChild(Ol,(g,v)=>{f=f.set(new ut(g),v)}),r_(n,e,t,f,s,o,c,l)}else return e}else{let f=new pt(null);return i.foreach((g,v)=>{const _=Pt(t,g);h.isCompleteForPath(_)&&(f=f.set(g,h.getNode().getChild(_)))}),r_(n,e,t,f,s,o,c,l)}}function pj(n,e,t,i,s){const o=e.serverCache,l=BR(e,o.getNode(),o.isFullyInitialized()||He(t),o.isFiltered());return KR(n,l,t,i,$R,s)}function mj(n,e,t,i,s,o){let l;if(gp(i,t)!=null)return e;{const c=new B0(i,e,s),h=e.eventCache.getNode();let f;if(He(t)||je(t)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=mp(i,vo(e));else{const v=e.serverCache.getNode();ue(v instanceof Re,"serverChildren would be complete if leaf node"),g=j0(i,v)}g=g,f=n.filter.updateFullNode(h,g,o)}else{const g=je(t);let v=U0(i,g,e.serverCache);v==null&&e.serverCache.isCompleteForChild(g)&&(v=h.getImmediateChild(g)),v!=null?f=n.filter.updateChild(h,g,v,mt(t),c,o):e.eventCache.getNode().hasChild(g)?f=n.filter.updateChild(h,g,Re.EMPTY_NODE,mt(t),c,o):f=h,f.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=mp(i,vo(e)),l.isLeafNode()&&(f=n.filter.updateFullNode(f,l,o)))}return l=e.serverCache.isFullyInitialized()||gp(i,st())!=null,$c(e,f,l,n.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,s=new D0(i.getIndex()),o=O9(i);this.processor_=lj(o);const l=t.serverCache,c=t.eventCache,h=s.updateFullNode(Re.EMPTY_NODE,l.getNode(),null),f=o.updateFullNode(Re.EMPTY_NODE,c.getNode(),null),g=new yo(h,l.isFullyInitialized(),s.filtersNodes()),v=new yo(f,c.isFullyInitialized(),o.filtersNodes());this.viewCache_=rm(v,g),this.eventGenerator_=new z9(this.query_)}get query(){return this.query_}}function yj(n){return n.viewCache_.serverCache.getNode()}function vj(n,e){const t=vo(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!He(e)&&!t.getImmediateChild(je(e)).isEmpty())?t.getChild(e):null}function _x(n){return n.eventRegistrations_.length===0}function _j(n,e){n.eventRegistrations_.push(e)}function Ex(n,e,t){const i=[];if(t){ue(e==null,"A cancel should cancel all event registrations.");const s=n.query._path;n.eventRegistrations_.forEach(o=>{const l=o.createCancelEvent(t,s);l&&i.push(l)})}if(e){let s=[];for(let o=0;o<n.eventRegistrations_.length;++o){const l=n.eventRegistrations_[o];if(!l.matches(e))s.push(l);else if(e.hasAnyCallback()){s=s.concat(n.eventRegistrations_.slice(o+1));break}}n.eventRegistrations_=s}else n.eventRegistrations_=[];return i}function Tx(n,e,t,i){e.type===Vi.MERGE&&e.source.queryId!==null&&(ue(vo(n.viewCache_),"We should always have a full cache before handling merges"),ue(e_(n.viewCache_),"Missing event cache, even though we have a server cache"));const s=n.viewCache_,o=cj(n.processor_,s,e,t,i);return uj(n.processor_,o.viewCache),ue(o.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,WR(n,o.changes,o.viewCache.eventCache.getNode(),null)}function Ej(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Dt,(o,l)=>{i.push($l(o,l))}),t.isFullyInitialized()&&i.push(jR(t.getNode())),WR(n,i,t.getNode(),e)}function WR(n,e,t,i){const s=i?[i]:n.eventRegistrations_;return F9(n.eventGenerator_,e,t,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vp;class Tj{constructor(){this.views=new Map}}function wj(n){ue(!vp,"__referenceConstructor has already been defined"),vp=n}function bj(){return ue(vp,"Reference.ts has not been loaded"),vp}function Sj(n){return n.views.size===0}function z0(n,e,t,i){const s=e.source.queryId;if(s!==null){const o=n.views.get(s);return ue(o!=null,"SyncTree gave us an op for an invalid query."),Tx(o,e,t,i)}else{let o=[];for(const l of n.views.values())o=o.concat(Tx(l,e,t,i));return o}}function xj(n,e,t,i,s){const o=e._queryIdentifier,l=n.views.get(o);if(!l){let c=mp(t,s?i:null),h=!1;c?h=!0:i instanceof Re?(c=j0(t,i),h=!1):(c=Re.EMPTY_NODE,h=!1);const f=rm(new yo(c,h,!1),new yo(i,s,!1));return new gj(e,f)}return l}function Cj(n,e,t,i,s,o){const l=xj(n,e,i,s,o);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,l),_j(l,t),Ej(l,t)}function Aj(n,e,t,i){const s=e._queryIdentifier,o=[];let l=[];const c=ga(n);if(s==="default")for(const[h,f]of n.views.entries())l=l.concat(Ex(f,t,i)),_x(f)&&(n.views.delete(h),f.query._queryParams.loadsAllData()||o.push(f.query));else{const h=n.views.get(s);h&&(l=l.concat(Ex(h,t,i)),_x(h)&&(n.views.delete(s),h.query._queryParams.loadsAllData()||o.push(h.query)))}return c&&!ga(n)&&o.push(new(bj())(e._repo,e._path)),{removed:o,events:l}}function YR(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function kl(n,e){let t=null;for(const i of n.views.values())t=t||vj(i,e);return t}function QR(n,e){if(e._queryParams.loadsAllData())return am(n);{const i=e._queryIdentifier;return n.views.get(i)}}function XR(n,e){return QR(n,e)!=null}function ga(n){return am(n)!=null}function am(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _p;function Rj(n){ue(!_p,"__referenceConstructor has already been defined"),_p=n}function Ij(){return ue(_p,"Reference.ts has not been loaded"),_p}let Nj=1;class wx{constructor(e){this.listenProvider_=e,this.syncPointTree_=new pt(null),this.pendingWriteTree_=sj(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function ZR(n,e,t,i,s){return $9(n.pendingWriteTree_,e,t,i,s),s?hu(n,new go(O0(),e,t)):[]}function Pj(n,e,t,i){K9(n.pendingWriteTree_,e,t,i);const s=pt.fromObject(t);return hu(n,new Kl(O0(),e,s))}function ta(n,e,t=!1){const i=W9(n.pendingWriteTree_,e);if(Y9(n.pendingWriteTree_,e)){let o=new pt(null);return i.snap!=null?o=o.set(st(),!0):wn(i.children,l=>{o=o.set(new ut(l),!0)}),hu(n,new pp(i.path,o,t))}else return[]}function om(n,e,t){return hu(n,new go(k0(),e,t))}function Dj(n,e,t){const i=pt.fromObject(t);return hu(n,new Kl(k0(),e,i))}function Mj(n,e){return hu(n,new gh(k0(),e))}function Oj(n,e,t){const i=H0(n,t);if(i){const s=q0(i),o=s.path,l=s.queryId,c=Wn(o,e),h=new gh(L0(l),c);return G0(n,o,h)}else return[]}function a_(n,e,t,i,s=!1){const o=e._path,l=n.syncPointTree_.get(o);let c=[];if(l&&(e._queryIdentifier==="default"||XR(l,e))){const h=Aj(l,e,t,i);Sj(l)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const f=h.removed;if(c=h.events,!s){const g=f.findIndex(_=>_._queryParams.loadsAllData())!==-1,v=n.syncPointTree_.findOnPath(o,(_,w)=>ga(w));if(g&&!v){const _=n.syncPointTree_.subtree(o);if(!_.isEmpty()){const w=Vj(_);for(let x=0;x<w.length;++x){const O=w[x],V=O.query,D=tI(n,O);n.listenProvider_.startListening(Wc(V),Ep(n,V),D.hashFn,D.onComplete)}}}!v&&f.length>0&&!i&&(g?n.listenProvider_.stopListening(Wc(e),null):f.forEach(_=>{const w=n.queryToTagMap.get(lm(_));n.listenProvider_.stopListening(Wc(_),w)}))}jj(n,f)}return c}function kj(n,e,t,i){const s=H0(n,i);if(s!=null){const o=q0(s),l=o.path,c=o.queryId,h=Wn(l,e),f=new go(L0(c),h,t);return G0(n,l,f)}else return[]}function Lj(n,e,t,i){const s=H0(n,i);if(s){const o=q0(s),l=o.path,c=o.queryId,h=Wn(l,e),f=pt.fromObject(t),g=new Kl(L0(c),h,f);return G0(n,l,g)}else return[]}function bx(n,e,t,i=!1){const s=e._path;let o=null,l=!1;n.syncPointTree_.foreachOnPath(s,(_,w)=>{const x=Wn(_,s);o=o||kl(w,x),l=l||ga(w)});let c=n.syncPointTree_.get(s);c?(l=l||ga(c),o=o||kl(c,st())):(c=new Tj,n.syncPointTree_=n.syncPointTree_.set(s,c));let h;o!=null?h=!0:(h=!1,o=Re.EMPTY_NODE,n.syncPointTree_.subtree(s).foreachChild((w,x)=>{const O=kl(x,st());O&&(o=o.updateImmediateChild(w,O))}));const f=XR(c,e);if(!f&&!e._queryParams.loadsAllData()){const _=lm(e);ue(!n.queryToTagMap.has(_),"View does not exist, but we have a tag");const w=Uj();n.queryToTagMap.set(_,w),n.tagToQueryMap.set(w,_)}const g=V0(n.pendingWriteTree_,s);let v=Cj(c,e,t,g,o,h);if(!f&&!l&&!i){const _=QR(c,e);v=v.concat(Bj(n,e,_))}return v}function F0(n,e,t){const s=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(e,(l,c)=>{const h=Wn(l,e),f=kl(c,h);if(f)return f});return HR(s,e,o,t,!0)}function hu(n,e){return JR(e,n.syncPointTree_,null,V0(n.pendingWriteTree_,st()))}function JR(n,e,t,i){if(He(n.path))return eI(n,e,t,i);{const s=e.get(st());t==null&&s!=null&&(t=kl(s,st()));let o=[];const l=je(n.path),c=n.operationForChild(l),h=e.children.get(l);if(h&&c){const f=t?t.getImmediateChild(l):null,g=qR(i,l);o=o.concat(JR(c,h,f,g))}return s&&(o=o.concat(z0(s,n,i,t))),o}}function eI(n,e,t,i){const s=e.get(st());t==null&&s!=null&&(t=kl(s,st()));let o=[];return e.children.inorderTraversal((l,c)=>{const h=t?t.getImmediateChild(l):null,f=qR(i,l),g=n.operationForChild(l);g&&(o=o.concat(eI(g,c,h,f)))}),s&&(o=o.concat(z0(s,n,i,t))),o}function tI(n,e){const t=e.query,i=Ep(n,t);return{hashFn:()=>(yj(e)||Re.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return i?Oj(n,t._path,i):Mj(n,t._path);{const o=D5(s,t);return a_(n,t,null,o)}}}}function Ep(n,e){const t=lm(e);return n.queryToTagMap.get(t)}function lm(n){return n._path.toString()+"$"+n._queryIdentifier}function H0(n,e){return n.tagToQueryMap.get(e)}function q0(n){const e=n.indexOf("$");return ue(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new ut(n.substr(0,e))}}function G0(n,e,t){const i=n.syncPointTree_.get(e);ue(i,"Missing sync point for query tag that we're tracking");const s=V0(n.pendingWriteTree_,e);return z0(i,t,s,null)}function Vj(n){return n.fold((e,t,i)=>{if(t&&ga(t))return[am(t)];{let s=[];return t&&(s=YR(t)),wn(i,(o,l)=>{s=s.concat(l)}),s}})}function Wc(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(Ij())(n._repo,n._path):n}function jj(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const s=lm(i),o=n.queryToTagMap.get(s);n.queryToTagMap.delete(s),n.tagToQueryMap.delete(o)}}}function Uj(){return Nj++}function Bj(n,e,t){const i=e._path,s=Ep(n,e),o=tI(n,t),l=n.listenProvider_.startListening(Wc(e),s,o.hashFn,o.onComplete),c=n.syncPointTree_.subtree(i);if(s)ue(!ga(c.value),"If we're adding a query, it shouldn't be shadowed");else{const h=c.fold((f,g,v)=>{if(!He(f)&&g&&ga(g))return[am(g).query];{let _=[];return g&&(_=_.concat(YR(g).map(w=>w.query))),wn(v,(w,x)=>{_=_.concat(x)}),_}});for(let f=0;f<h.length;++f){const g=h[f];n.listenProvider_.stopListening(Wc(g),Ep(n,g))}}return l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new $0(t)}node(){return this.node_}}class K0{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Pt(this.path_,e);return new K0(this.syncTree_,t)}node(){return F0(this.syncTree_,this.path_)}}const zj=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},Sx=function(n,e,t){if(!n||typeof n!="object")return n;if(ue(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return Fj(n[".sv"],e,t);if(typeof n[".sv"]=="object")return Hj(n[".sv"],e);ue(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},Fj=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:ue(!1,"Unexpected server value: "+n)}},Hj=function(n,e,t){n.hasOwnProperty("increment")||ue(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;typeof i!="number"&&ue(!1,"Unexpected increment value: "+i);const s=e.node();if(ue(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const l=s.getValue();return typeof l!="number"?i:l+i},nI=function(n,e,t,i){return W0(e,new K0(t,n),i)},iI=function(n,e,t){return W0(n,new $0(e),t)};function W0(n,e,t){const i=n.getPriority().val(),s=Sx(i,e.getImmediateChild(".priority"),t);let o;if(n.isLeafNode()){const l=n,c=Sx(l.getValue(),e,t);return c!==l.getValue()||s!==l.getPriority().val()?new un(c,hn(s)):n}else{const l=n;return o=l,s!==l.getPriority().val()&&(o=o.updatePriority(new un(s))),l.forEachChild(Dt,(c,h)=>{const f=W0(h,e.getImmediateChild(c),t);f!==h&&(o=o.updateImmediateChild(c,f))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function Q0(n,e){let t=e instanceof ut?e:new ut(e),i=n,s=je(t);for(;s!==null;){const o=ql(i.node.children,s)||{children:{},childCount:0};i=new Y0(s,i,o),t=mt(t),s=je(t)}return i}function du(n){return n.node.value}function sI(n,e){n.node.value=e,o_(n)}function rI(n){return n.node.childCount>0}function qj(n){return du(n)===void 0&&!rI(n)}function um(n,e){wn(n.node.children,(t,i)=>{e(new Y0(t,n,i))})}function aI(n,e,t,i){t&&e(n),um(n,s=>{aI(s,e,!0)})}function Gj(n,e,t){let i=n.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function jh(n){return new ut(n.parent===null?n.name:jh(n.parent)+"/"+n.name)}function o_(n){n.parent!==null&&$j(n.parent,n.name,n)}function $j(n,e,t){const i=qj(t),s=Ts(n.node.children,e);i&&s?(delete n.node.children[e],n.node.childCount--,o_(n)):!i&&!s&&(n.node.children[e]=t.node,n.node.childCount++,o_(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj=/[\[\].#$\/\u0000-\u001F\u007F]/,Wj=/[\[\].#$\u0000-\u001F\u007F]/,cv=10*1024*1024,X0=function(n){return typeof n=="string"&&n.length!==0&&!Kj.test(n)},oI=function(n){return typeof n=="string"&&n.length!==0&&!Wj.test(n)},Yj=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),oI(n)},Qj=function(n){return n===null||typeof n=="string"||typeof n=="number"&&!b0(n)||n&&typeof n=="object"&&Ts(n,".sv")},lI=function(n,e,t,i){i&&e===void 0||cm(em(n,"value"),e,t)},cm=function(n,e,t){const i=t instanceof ut?new d9(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+lo(i));if(typeof e=="function")throw new Error(n+"contains a function "+lo(i)+" with contents = "+e.toString());if(b0(e))throw new Error(n+"contains "+e.toString()+" "+lo(i));if(typeof e=="string"&&e.length>cv/3&&tm(e)>cv)throw new Error(n+"contains a string greater than "+cv+" utf8 bytes "+lo(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,o=!1;if(wn(e,(l,c)=>{if(l===".value")s=!0;else if(l!==".priority"&&l!==".sv"&&(o=!0,!X0(l)))throw new Error(n+" contains an invalid key ("+l+") "+lo(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);f9(i,l),cm(n,c,i),p9(i)}),s&&o)throw new Error(n+' contains ".value" child '+lo(i)+" in addition to actual children.")}},Xj=function(n,e){let t,i;for(t=0;t<e.length;t++){i=e[t];const o=dh(i);for(let l=0;l<o.length;l++)if(!(o[l]===".priority"&&l===o.length-1)){if(!X0(o[l]))throw new Error(n+"contains an invalid key ("+o[l]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(h9);let s=null;for(t=0;t<e.length;t++){if(i=e[t],s!==null&&Ai(s,i))throw new Error(n+"contains a path "+s.toString()+" that is ancestor of another path "+i.toString());s=i}},Zj=function(n,e,t,i){const s=em(n,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(s+" must be an object containing the children to replace.");const o=[];wn(e,(l,c)=>{const h=new ut(l);if(cm(s,c,Pt(t,h)),R0(h)===".priority"&&!Qj(c))throw new Error(s+"contains an invalid value for '"+h.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(h)}),Xj(s,o)},uI=function(n,e,t,i){if(!oI(t))throw new Error(em(n,e)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Jj=function(n,e,t,i){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),uI(n,e,t)},Z0=function(n,e){if(je(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},e8=function(n,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!X0(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!Yj(t))throw new Error(em(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function hm(n,e){let t=null;for(let i=0;i<e.length;i++){const s=e[i],o=s.getPath();t!==null&&!I0(o,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:o}),t.events.push(s)}t&&n.eventLists_.push(t)}function cI(n,e,t){hm(n,t),hI(n,i=>I0(i,e))}function Bi(n,e,t){hm(n,t),hI(n,i=>Ai(i,e)||Ai(e,i))}function hI(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const s=n.eventLists_[i];if(s){const o=s.path;e(o)?(n8(n.eventLists_[i]),n.eventLists_[i]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function n8(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(t!==null){n.events[e]=null;const i=t.getEventRunner();qc&&En("event: "+t.toString()),cu(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i8="repo_interrupt",s8=25;class r8{constructor(e,t,i,s){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new t8,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=fp(),this.transactionQueueTree_=new Y0,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function a8(n,e,t){if(n.stats_=C0(n.repoInfo_),n.forceRestClient_||L5())n.server_=new dp(n.repoInfo_,(i,s,o,l)=>{xx(n,i,s,o,l)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Cx(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{dn(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new ir(n.repoInfo_,e,(i,s,o,l)=>{xx(n,i,s,o,l)},i=>{Cx(n,i)},i=>{o8(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=z5(n.repoInfo_,()=>new B9(n.stats_,n.server_)),n.infoData_=new k9,n.infoSyncTree_=new wx({startListening:(i,s,o,l)=>{let c=[];const h=n.infoData_.getNode(i._path);return h.isEmpty()||(c=om(n.infoSyncTree_,i._path,h),setTimeout(()=>{l("ok")},0)),c},stopListening:()=>{}}),J0(n,"connected",!1),n.serverSyncTree_=new wx({startListening:(i,s,o,l)=>(n.server_.listen(i,o,s,(c,h)=>{const f=l(c,h);Bi(n.eventQueue_,i._path,f)}),[]),stopListening:(i,s)=>{n.server_.unlisten(i,s)}})}function dI(n){const t=n.infoData_.getNode(new ut(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function dm(n){return zj({timestamp:dI(n)})}function xx(n,e,t,i,s){n.dataUpdateCount++;const o=new ut(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let l=[];if(s)if(i){const h=ap(t,f=>hn(f));l=Lj(n.serverSyncTree_,o,h,s)}else{const h=hn(t);l=kj(n.serverSyncTree_,o,h,s)}else if(i){const h=ap(t,f=>hn(f));l=Dj(n.serverSyncTree_,o,h)}else{const h=hn(t);l=om(n.serverSyncTree_,o,h)}let c=o;l.length>0&&(c=Yl(n,o)),Bi(n.eventQueue_,c,l)}function Cx(n,e){J0(n,"connected",e),e===!1&&c8(n)}function o8(n,e){wn(e,(t,i)=>{J0(n,t,i)})}function J0(n,e,t){const i=new ut("/.info/"+e),s=hn(t);n.infoData_.updateSnapshot(i,s);const o=om(n.infoSyncTree_,i,s);Bi(n.eventQueue_,i,o)}function eE(n){return n.nextWriteId_++}function l8(n,e,t,i,s){fm(n,"set",{path:e.toString(),value:t,priority:i});const o=dm(n),l=hn(t,i),c=F0(n.serverSyncTree_,e),h=iI(l,c,o),f=eE(n),g=ZR(n.serverSyncTree_,e,h,f,!0);hm(n.eventQueue_,g),n.server_.put(e.toString(),l.val(!0),(_,w)=>{const x=_==="ok";x||Bn("set at "+e+" failed: "+_);const O=ta(n.serverSyncTree_,f,!x);Bi(n.eventQueue_,e,O),l_(n,s,_,w)});const v=nE(n,e);Yl(n,v),Bi(n.eventQueue_,v,[])}function u8(n,e,t,i){fm(n,"update",{path:e.toString(),value:t});let s=!0;const o=dm(n),l={};if(wn(t,(c,h)=>{s=!1,l[c]=nI(Pt(e,c),hn(h),n.serverSyncTree_,o)}),s)En("update() called with empty data.  Don't do anything."),l_(n,i,"ok",void 0);else{const c=eE(n),h=Pj(n.serverSyncTree_,e,l,c);hm(n.eventQueue_,h),n.server_.merge(e.toString(),t,(f,g)=>{const v=f==="ok";v||Bn("update at "+e+" failed: "+f);const _=ta(n.serverSyncTree_,c,!v),w=_.length>0?Yl(n,e):e;Bi(n.eventQueue_,w,_),l_(n,i,f,g)}),wn(t,f=>{const g=nE(n,Pt(e,f));Yl(n,g)}),Bi(n.eventQueue_,e,[])}}function c8(n){fm(n,"onDisconnectEvents");const e=dm(n),t=fp();Jv(n.onDisconnect_,st(),(s,o)=>{const l=nI(s,o,n.serverSyncTree_,e);UR(t,s,l)});let i=[];Jv(t,st(),(s,o)=>{i=i.concat(om(n.serverSyncTree_,s,o));const l=nE(n,s);Yl(n,l)}),n.onDisconnect_=fp(),Bi(n.eventQueue_,st(),i)}function h8(n,e,t){let i;je(e._path)===".info"?i=bx(n.infoSyncTree_,e,t):i=bx(n.serverSyncTree_,e,t),cI(n.eventQueue_,e._path,i)}function d8(n,e,t){let i;je(e._path)===".info"?i=a_(n.infoSyncTree_,e,t):i=a_(n.serverSyncTree_,e,t),cI(n.eventQueue_,e._path,i)}function f8(n){n.persistentConnection_&&n.persistentConnection_.interrupt(i8)}function fm(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),En(t,...e)}function l_(n,e,t,i){e&&cu(()=>{if(t==="ok")e(null);else{const s=(t||"error").toUpperCase();let o=s;i&&(o+=": "+i);const l=new Error(o);l.code=s,e(l)}})}function fI(n,e,t){return F0(n.serverSyncTree_,e,t)||Re.EMPTY_NODE}function tE(n,e=n.transactionQueueTree_){if(e||pm(n,e),du(e)){const t=mI(n,e);ue(t.length>0,"Sending zero length transaction queue"),t.every(s=>s.status===0)&&p8(n,jh(e),t)}else rI(e)&&um(e,t=>{tE(n,t)})}function p8(n,e,t){const i=t.map(f=>f.currentWriteId),s=fI(n,e,i);let o=s;const l=s.hash();for(let f=0;f<t.length;f++){const g=t[f];ue(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const v=Wn(e,g.path);o=o.updateChild(v,g.currentOutputSnapshotRaw)}const c=o.val(!0),h=e;n.server_.put(h.toString(),c,f=>{fm(n,"transaction put response",{path:h.toString(),status:f});let g=[];if(f==="ok"){const v=[];for(let _=0;_<t.length;_++)t[_].status=2,g=g.concat(ta(n.serverSyncTree_,t[_].currentWriteId)),t[_].onComplete&&v.push(()=>t[_].onComplete(null,!0,t[_].currentOutputSnapshotResolved)),t[_].unwatcher();pm(n,Q0(n.transactionQueueTree_,e)),tE(n,n.transactionQueueTree_),Bi(n.eventQueue_,e,g);for(let _=0;_<v.length;_++)cu(v[_])}else{if(f==="datastale")for(let v=0;v<t.length;v++)t[v].status===3?t[v].status=4:t[v].status=0;else{Bn("transaction at "+h.toString()+" failed: "+f);for(let v=0;v<t.length;v++)t[v].status=4,t[v].abortReason=f}Yl(n,e)}},l)}function Yl(n,e){const t=pI(n,e),i=jh(t),s=mI(n,t);return m8(n,s,i),i}function m8(n,e,t){if(e.length===0)return;const i=[];let s=[];const l=e.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){const h=e[c],f=Wn(t,h.path);let g=!1,v;if(ue(f!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),h.status===4)g=!0,v=h.abortReason,s=s.concat(ta(n.serverSyncTree_,h.currentWriteId,!0));else if(h.status===0)if(h.retryCount>=s8)g=!0,v="maxretry",s=s.concat(ta(n.serverSyncTree_,h.currentWriteId,!0));else{const _=fI(n,h.path,l);h.currentInputSnapshot=_;const w=e[c].update(_.val());if(w!==void 0){cm("transaction failed: Data returned ",w,h.path);let x=hn(w);typeof w=="object"&&w!=null&&Ts(w,".priority")||(x=x.updatePriority(_.getPriority()));const V=h.currentWriteId,D=dm(n),I=iI(x,_,D);h.currentOutputSnapshotRaw=x,h.currentOutputSnapshotResolved=I,h.currentWriteId=eE(n),l.splice(l.indexOf(V),1),s=s.concat(ZR(n.serverSyncTree_,h.path,I,h.currentWriteId,h.applyLocally)),s=s.concat(ta(n.serverSyncTree_,V,!0))}else g=!0,v="nodata",s=s.concat(ta(n.serverSyncTree_,h.currentWriteId,!0))}Bi(n.eventQueue_,t,s),s=[],g&&(e[c].status=2,function(_){setTimeout(_,Math.floor(0))}(e[c].unwatcher),e[c].onComplete&&(v==="nodata"?i.push(()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot)):i.push(()=>e[c].onComplete(new Error(v),!1,null))))}pm(n,n.transactionQueueTree_);for(let c=0;c<i.length;c++)cu(i[c]);tE(n,n.transactionQueueTree_)}function pI(n,e){let t,i=n.transactionQueueTree_;for(t=je(e);t!==null&&du(i)===void 0;)i=Q0(i,t),e=mt(e),t=je(e);return i}function mI(n,e){const t=[];return gI(n,e,t),t.sort((i,s)=>i.order-s.order),t}function gI(n,e,t){const i=du(e);if(i)for(let s=0;s<i.length;s++)t.push(i[s]);um(e,s=>{gI(n,s,t)})}function pm(n,e){const t=du(e);if(t){let i=0;for(let s=0;s<t.length;s++)t[s].status!==2&&(t[i]=t[s],i++);t.length=i,sI(e,t.length>0?t:void 0)}um(e,i=>{pm(n,i)})}function nE(n,e){const t=jh(pI(n,e)),i=Q0(n.transactionQueueTree_,e);return Gj(i,s=>{hv(n,s)}),hv(n,i),aI(i,s=>{hv(n,s)}),t}function hv(n,e){const t=du(e);if(t){const i=[];let s=[],o=-1;for(let l=0;l<t.length;l++)t[l].status===3||(t[l].status===1?(ue(o===l-1,"All SENT items should be at beginning of queue."),o=l,t[l].status=3,t[l].abortReason="set"):(ue(t[l].status===0,"Unexpected transaction status in abort"),t[l].unwatcher(),s=s.concat(ta(n.serverSyncTree_,t[l].currentWriteId,!0)),t[l].onComplete&&i.push(t[l].onComplete.bind(null,new Error("set"),!1,null))));o===-1?sI(e,void 0):t.length=o+1,Bi(n.eventQueue_,jh(e),s);for(let l=0;l<i.length;l++)cu(i[l])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g8(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let s=t[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function y8(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const t of n.split("&")){if(t.length===0)continue;const i=t.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Bn(`Invalid query segment '${t}' in query '${n}'`)}return e}const Ax=function(n,e){const t=v8(n),i=t.namespace;t.domain==="firebase.com"&&ar(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&t.domain!=="localhost"&&ar("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||A5();const s=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new wR(t.host,t.secure,i,s,e,"",i!==t.subdomain),path:new ut(t.pathString)}},v8=function(n){let e="",t="",i="",s="",o="",l=!0,c="https",h=443;if(typeof n=="string"){let f=n.indexOf("//");f>=0&&(c=n.substring(0,f-1),n=n.substring(f+2));let g=n.indexOf("/");g===-1&&(g=n.length);let v=n.indexOf("?");v===-1&&(v=n.length),e=n.substring(0,Math.min(g,v)),g<v&&(s=g8(n.substring(g,v)));const _=y8(n.substring(Math.min(n.length,v)));f=e.indexOf(":"),f>=0?(l=c==="https"||c==="wss",h=parseInt(e.substring(f+1),10)):f=e.length;const w=e.slice(0,f);if(w.toLowerCase()==="localhost")t="localhost";else if(w.split(".").length<=2)t=w;else{const x=e.indexOf(".");i=e.substring(0,x).toLowerCase(),t=e.substring(x+1),o=i}"ns"in _&&(o=_.ns)}return{host:e,port:h,domain:t,subdomain:i,secure:l,scheme:c,pathString:s,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",_8=function(){let n=0;const e=[];return function(t){const i=t===n;n=t;let s;const o=new Array(8);for(s=7;s>=0;s--)o[s]=Rx.charAt(t%64),t=Math.floor(t/64);ue(t===0,"Cannot push at time == 0");let l=o.join("");if(i){for(s=11;s>=0&&e[s]===63;s--)e[s]=0;e[s]++}else for(s=0;s<12;s++)e[s]=Math.floor(Math.random()*64);for(s=0;s<12;s++)l+=Rx.charAt(e[s]);return ue(l.length===20,"nextPushId: Length should be 20."),l}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E8{constructor(e,t,i,s){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+dn(this.snapshot.exportVal())}}class T8{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w8{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return ue(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e,t,i,s){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=s}get key(){return He(this._path)?null:R0(this._path)}get ref(){return new Sa(this._repo,this._path)}get _queryIdentifier(){const e=dx(this._queryParams),t=S0(e);return t==="{}"?"default":t}get _queryObject(){return dx(this._queryParams)}isEqual(e){if(e=Vt(e),!(e instanceof iE))return!1;const t=this._repo===e._repo,i=I0(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return t&&i&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+c9(this._path)}}class Sa extends iE{constructor(e,t){super(e,t,new M0,!1)}get parent(){const e=PR(this._path);return e===null?null:new Sa(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Tp{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new ut(e),i=yh(this.ref,e);return new Tp(this._node.getChild(t),i,Dt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,s)=>e(new Tp(s,yh(this.ref,i),Dt)))}hasChild(e){const t=new ut(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ft(n,e){return n=Vt(n),n._checkNotDeleted("ref"),e!==void 0?yh(n._root,e):n._root}function yh(n,e){return n=Vt(n),je(n._path)===null?Jj("child","path",e):uI("child","path",e),new Sa(n._repo,Pt(n._path,e))}function sE(n,e){n=Vt(n),Z0("push",n._path),lI("push",e,n._path,!0);const t=dI(n._repo),i=_8(t),s=yh(n,i),o=yh(n,i);let l;return e!=null?l=yI(o,e).then(()=>o):l=Promise.resolve(o),s.then=l.then.bind(l),s.catch=l.then.bind(l,void 0),s}function rE(n){return Z0("remove",n._path),yI(n,null)}function yI(n,e){n=Vt(n),Z0("set",n._path),lI("set",e,n._path,!1);const t=new Mh;return l8(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function wp(n,e){Zj("update",e,n._path);const t=new Mh;return u8(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}class aE{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,t){const i=t._queryParams.getIndex();return new E8("value",this,new Tp(e.snapshotNode,new Sa(t._repo,t._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new T8(this,e,t):null}matches(e){return e instanceof aE?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function b8(n,e,t,i,s){const o=new w8(t,void 0),l=new aE(o);return h8(n._repo,n,l),()=>d8(n._repo,n,l)}function cs(n,e,t,i){return b8(n,"value",e)}wj(Sa);Rj(Sa);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S8="FIREBASE_DATABASE_EMULATOR_HOST",u_={};let x8=!1;function C8(n,e,t,i){n.repoInfo_=new wR(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}function A8(n,e,t,i,s){let o=i||n.options.databaseURL;o===void 0&&(n.options.projectId||ar("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),En("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let l=Ax(o,s),c=l.repoInfo,h;typeof process<"u"&&WS&&(h=WS[S8]),h?(o=`http://${h}?ns=${c.namespace}`,l=Ax(o,s),c=l.repoInfo):l.repoInfo.secure;const f=new j5(n.name,n.options,e);e8("Invalid Firebase Database URL",l),He(l.path)||ar("Database URL must point to the root of a Firebase Database (not including a child path).");const g=I8(c,n,f,new V5(n,t));return new N8(g,n)}function R8(n,e){const t=u_[e];(!t||t[n.key]!==n)&&ar(`Database ${e}(${n.repoInfo_}) has already been deleted.`),f8(n),delete t[n.key]}function I8(n,e,t,i){let s=u_[e.name];s||(s={},u_[e.name]=s);let o=s[n.toURLString()];return o&&ar("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new r8(n,x8,t,i),s[n.toURLString()]=o,o}class N8{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(a8(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Sa(this._repo,st())),this._rootInternal}_delete(){return this._rootInternal!==null&&(R8(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ar("Cannot call "+e+" on a deleted database.")}}function vI(n=w0(),e){const t=im(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const i=XA("database");i&&P8(t,...i)}return t}function P8(n,e,t,i={}){n=Vt(n),n._checkNotDeleted("useEmulator"),n._instanceStarted&&ar("Cannot call useEmulator() after instance has already been initialized.");const s=n._repoInternal;let o;if(s.repoInfo_.nodeAdmin)i.mockUserToken&&ar('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Lf(Lf.OWNER);else if(i.mockUserToken){const l=typeof i.mockUserToken=="string"?i.mockUserToken:eR(i.mockUserToken,n.app.options.projectId);o=new Lf(l)}C8(s,e,t,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D8(n){T5(xo),po(new pa("database",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return A8(i,s,o,t)},"PUBLIC").setMultipleInstances(!0)),us(YS,QS,n),us(YS,QS,"esm2017")}ir.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};ir.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};D8();var M8="firebase",O8="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */us(M8,O8,"app");function oE(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t}function _I(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const k8=_I,EI=new Oh("auth","Firebase",_I());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bp=new nm("@firebase/auth");function L8(n,...e){bp.logLevel<=Fe.WARN&&bp.warn(`Auth (${xo}): ${n}`,...e)}function jf(n,...e){bp.logLevel<=Fe.ERROR&&bp.error(`Auth (${xo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(n,...e){throw lE(n,...e)}function hs(n,...e){return lE(n,...e)}function TI(n,e,t){const i=Object.assign(Object.assign({},k8()),{[e]:t});return new Oh("auth","Firebase",i).create(e,{appName:n.name})}function oa(n){return TI(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lE(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return EI.create(n,...e)}function Ae(n,e,...t){if(!n)throw lE(e,...t)}function Xs(n){const e="INTERNAL ASSERTION FAILED: "+n;throw jf(e),new Error(e)}function or(n,e){n||Xs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function V8(){return Ix()==="http:"||Ix()==="https:"}function Ix(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(V8()||XV()||"connection"in navigator)?navigator.onLine:!0}function U8(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,t){this.shortDelay=e,this.longDelay=t,or(t>e,"Short delay should be less than long delay!"),this.isMobile=E0()||tR()}get(){return j8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(n,e){or(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z8=new Uh(3e4,6e4);function Ro(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function xa(n,e,t,i,s={}){return bI(n,s,async()=>{let o={},l={};i&&(e==="GET"?l=i:o={body:JSON.stringify(i)});const c=uu(Object.assign({key:n.config.apiKey},l)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const f=Object.assign({method:e,headers:h},o);return QV()||(f.referrerPolicy="no-referrer"),wI.fetch()(SI(n,n.config.apiHost,t,c),f)})}async function bI(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},B8),e);try{const s=new H8(n),o=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw wf(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[h,f]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw wf(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw wf(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw wf(n,"user-disabled",l);const g=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw TI(n,g,f);zi(n,g)}}catch(s){if(s instanceof dr)throw s;zi(n,"network-request-failed",{message:String(s)})}}async function mm(n,e,t,i,s={}){const o=await xa(n,e,t,i,s);return"mfaPendingCredential"in o&&zi(n,"multi-factor-auth-required",{_serverResponse:o}),o}function SI(n,e,t,i){const s=`${e}${t}?${i}`;return n.config.emulator?uE(n.config,s):`${n.config.apiScheme}://${s}`}function F8(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class H8{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(hs(this.auth,"network-request-failed")),z8.get())})}}function wf(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const s=hs(n,e,i);return s.customData._tokenResponse=t,s}function Nx(n){return n!==void 0&&n.enterprise!==void 0}class q8{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return F8(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function G8(n,e){return xa(n,"GET","/v2/recaptchaConfig",Ro(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $8(n,e){return xa(n,"POST","/v1/accounts:delete",e)}async function xI(n,e){return xa(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function K8(n,e=!1){const t=Vt(n),i=await t.getIdToken(e),s=cE(i);Ae(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:s,token:i,authTime:Yc(dv(s.auth_time)),issuedAtTime:Yc(dv(s.iat)),expirationTime:Yc(dv(s.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function dv(n){return Number(n)*1e3}function cE(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return jf("JWT malformed, contained fewer than 3 sections"),null;try{const s=rp(t);return s?JSON.parse(s):(jf("Failed to decode base64 JWT payload"),null)}catch(s){return jf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Px(n){const e=cE(n);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vh(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof dr&&W8(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function W8({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yc(this.lastLoginAt),this.creationTime=Yc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sp(n){var e;const t=n.auth,i=await n.getIdToken(),s=await vh(n,xI(t,{idToken:i}));Ae(s==null?void 0:s.users.length,t,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?CI(o.providerUserInfo):[],c=X8(n.providerData,l),h=n.isAnonymous,f=!(n.email&&o.passwordHash)&&!(c!=null&&c.length),g=h?f:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new h_(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,v)}async function Q8(n){const e=Vt(n);await Sp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function X8(n,e){return[...n.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function CI(n){return n.map(e=>{var{providerId:t}=e,i=oE(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z8(n,e){const t=await bI(n,{},async()=>{const i=uu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,l=SI(n,s,"/v1/token",`key=${o}`),c=await n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",wI.fetch()(l,{method:"POST",headers:c,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function J8(n,e){return xa(n,"POST","/v2/accounts:revokeToken",Ro(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Px(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const t=Px(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:s,expiresIn:o}=await Z8(e,t);this.updateTokensAndExpiration(i,s,Number(o))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:s,expirationTime:o}=t,l=new Ll;return i&&(Ae(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),s&&(Ae(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),o&&(Ae(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ll,this.toJSON())}_performRefresh(){return Xs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(n,e){Ae(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Zs{constructor(e){var{uid:t,auth:i,stsTokenManager:s}=e,o=oE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Y8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new h_(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await vh(this,this.stsTokenManager.getToken(this.auth,e));return Ae(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return K8(this,e)}reload(){return Q8(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Zs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Sp(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ci(this.auth.app))return Promise.reject(oa(this.auth));const e=await this.getIdToken();return await vh(this,$8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,s,o,l,c,h,f,g;const v=(i=t.displayName)!==null&&i!==void 0?i:void 0,_=(s=t.email)!==null&&s!==void 0?s:void 0,w=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,x=(l=t.photoURL)!==null&&l!==void 0?l:void 0,O=(c=t.tenantId)!==null&&c!==void 0?c:void 0,V=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,D=(f=t.createdAt)!==null&&f!==void 0?f:void 0,I=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:N,emailVerified:H,isAnonymous:q,providerData:Z,stsTokenManager:k}=t;Ae(N&&k,e,"internal-error");const A=Ll.fromJSON(this.name,k);Ae(typeof N=="string",e,"internal-error"),Yr(v,e.name),Yr(_,e.name),Ae(typeof H=="boolean",e,"internal-error"),Ae(typeof q=="boolean",e,"internal-error"),Yr(w,e.name),Yr(x,e.name),Yr(O,e.name),Yr(V,e.name),Yr(D,e.name),Yr(I,e.name);const C=new Zs({uid:N,auth:e,email:_,emailVerified:H,displayName:v,isAnonymous:q,photoURL:x,phoneNumber:w,tenantId:O,stsTokenManager:A,createdAt:D,lastLoginAt:I});return Z&&Array.isArray(Z)&&(C.providerData=Z.map(R=>Object.assign({},R))),V&&(C._redirectEventId=V),C}static async _fromIdTokenResponse(e,t,i=!1){const s=new Ll;s.updateFromServerResponse(t);const o=new Zs({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Sp(o),o}static async _fromGetAccountInfoResponse(e,t,i){const s=t.users[0];Ae(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?CI(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),c=new Ll;c.updateFromIdToken(i);const h=new Zs({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:l}),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new h_(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx=new Map;function Js(n){or(n instanceof Function,"Expected a class definition");let e=Dx.get(n);return e?(or(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Dx.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}AI.type="NONE";const Mx=AI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(n,e,t){return`firebase:${n}:${e}:${t}`}class Vl{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:s,name:o}=this.auth;this.fullUserKey=Uf(this.userKey,s.apiKey,o),this.fullPersistenceKey=Uf("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Zs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Vl(Js(Mx),e,i);const s=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=s[0]||Js(Mx);const l=Uf(i,e.config.apiKey,e.name);let c=null;for(const f of t)try{const g=await f._get(l);if(g){const v=Zs._fromJSON(e,g);f!==o&&(c=v),o=f;break}}catch{}const h=s.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Vl(o,e,i):(o=h[0],c&&await o._set(l,c.toJSON()),await Promise.all(t.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new Vl(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(RI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(MI(e))return"Blackberry";if(OI(e))return"Webos";if(II(e))return"Safari";if((e.includes("chrome/")||NI(e))&&!e.includes("edge/"))return"Chrome";if(DI(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function RI(n=Mn()){return/firefox\//i.test(n)}function II(n=Mn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function NI(n=Mn()){return/crios\//i.test(n)}function PI(n=Mn()){return/iemobile/i.test(n)}function DI(n=Mn()){return/android/i.test(n)}function MI(n=Mn()){return/blackberry/i.test(n)}function OI(n=Mn()){return/webos/i.test(n)}function hE(n=Mn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function e7(n=Mn()){var e;return hE(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function t7(){return ZV()&&document.documentMode===10}function kI(n=Mn()){return hE(n)||DI(n)||OI(n)||MI(n)||/windows phone/i.test(n)||PI(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(n,e=[]){let t;switch(n){case"Browser":t=Ox(Mn());break;case"Worker":t=`${Ox(Mn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${xo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=o=>new Promise((l,c)=>{try{const h=e(o);l(h)}catch(h){c(h)}});i.onAbort=t,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i7(n,e={}){return xa(n,"GET","/v2/passwordPolicy",Ro(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s7=6;class r7{constructor(e){var t,i,s,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:s7,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,s,o,l,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a7{constructor(e,t,i,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kx(this),this.idTokenSubscription=new kx(this),this.beforeStateQueue=new n7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=EI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Js(t)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await Vl.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await xI(this,{idToken:e}),i=await Zs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ci(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=s==null?void 0:s._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&(h!=null&&h.user)&&(s=h.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Sp(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=U8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ci(this.app))return Promise.reject(oa(this));const t=e?Vt(e):null;return t&&Ae(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ci(this.app)?Promise.reject(oa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ci(this.app)?Promise.reject(oa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Js(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await i7(this),t=new r7(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Oh("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await J8(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Js(e)||this._popupRedirectResolver;Ae(t,this,"argument-error"),this.redirectPersistenceManager=await Vl.create(this,[Js(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,s){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,i,s);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=LI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(Ci(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&L8(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function fu(n){return Vt(n)}class kx{constructor(e){this.auth=e,this.observer=null,this.addObserver=u6(t=>this.observer=t)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function o7(n){gm=n}function VI(n){return gm.loadJS(n)}function l7(){return gm.recaptchaEnterpriseScript}function u7(){return gm.gapiScript}function c7(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class h7{constructor(){this.enterprise=new d7}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class d7{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const f7="recaptcha-enterprise",jI="NO_RECAPTCHA";class p7{constructor(e){this.type=f7,this.auth=fu(e)}async verify(e="verify",t=!1){async function i(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{G8(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new q8(h);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,l(f.siteKey)}}).catch(h=>{c(h)})})}function s(o,l,c){const h=window.grecaptcha;Nx(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(f=>{l(f)}).catch(()=>{l(jI)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new h7().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{i(this.auth).then(c=>{if(!t&&Nx(window.grecaptcha))s(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=l7();h.length!==0&&(h+=c),VI(h).then(()=>{s(c,o,l)}).catch(f=>{l(f)})}}).catch(c=>{l(c)})})}}async function Lx(n,e,t,i=!1,s=!1){const o=new p7(n);let l;if(s)l=jI;else try{l=await o.verify(t)}catch{l=await o.verify(t,!0)}const c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const h=c.phoneEnrollmentInfo.phoneNumber,f=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const h=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return i?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Vx(n,e,t,i,s){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Lx(n,e,t,t==="getOobCode");return i(n,l)}else return i(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Lx(n,e,t,t==="getOobCode");return i(n,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m7(n,e){const t=im(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),o=t.getOptions();if(op(o,e??{}))return s;zi(s,"already-initialized")}return t.initialize({options:e})}function g7(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Js);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function y7(n,e,t){const i=fu(n);Ae(i._canInitEmulator,i,"emulator-config-failed"),Ae(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,o=UI(e),{host:l,port:c}=v7(e),h=c===null?"":`:${c}`;i.config.emulator={url:`${o}//${l}${h}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})}),_7()}function UI(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function v7(n){const e=UI(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const o=s[1];return{host:o,port:jx(i.substr(o.length+1))}}else{const[o,l]=i.split(":");return{host:o,port:jx(l)}}}function jx(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function _7(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Xs("not implemented")}_getIdTokenResponse(e){return Xs("not implemented")}_linkToIdToken(e,t){return Xs("not implemented")}_getReauthenticationResolver(e){return Xs("not implemented")}}async function E7(n,e){return xa(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T7(n,e){return mm(n,"POST","/v1/accounts:signInWithPassword",Ro(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w7(n,e){return mm(n,"POST","/v1/accounts:signInWithEmailLink",Ro(n,e))}async function b7(n,e){return mm(n,"POST","/v1/accounts:signInWithEmailLink",Ro(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h extends dE{constructor(e,t,i,s=null){super("password",i),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new _h(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new _h(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vx(e,t,"signInWithPassword",T7);case"emailLink":return w7(e,{email:this._email,oobCode:this._password});default:zi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vx(e,i,"signUpPassword",E7);case"emailLink":return b7(e,{idToken:t,email:this._email,oobCode:this._password});default:zi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jl(n,e){return mm(n,"POST","/v1/accounts:signInWithIdp",Ro(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S7="http://localhost";class _o extends dE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new _o(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):zi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=t,o=oE(t,["providerId","signInMethod"]);if(!i||!s)return null;const l=new _o(i,s);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return jl(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,jl(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,jl(e,t)}buildRequest(){const e={requestUri:S7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=uu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x7(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function C7(n){const e=kc(Lc(n)).link,t=e?kc(Lc(e)).deep_link_id:null,i=kc(Lc(n)).deep_link_id;return(i?kc(Lc(i)).link:null)||i||t||e||n}class fE{constructor(e){var t,i,s,o,l,c;const h=kc(Lc(e)),f=(t=h.apiKey)!==null&&t!==void 0?t:null,g=(i=h.oobCode)!==null&&i!==void 0?i:null,v=x7((s=h.mode)!==null&&s!==void 0?s:null);Ae(f&&g&&v,"argument-error"),this.apiKey=f,this.operation=v,this.code=g,this.continueUrl=(o=h.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=h.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=h.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=C7(e);try{return new fE(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(){this.providerId=pu.PROVIDER_ID}static credential(e,t){return _h._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=fE.parseLink(t);return Ae(i,"argument-error"),_h._fromEmailAndCode(e,i.code,i.tenantId)}}pu.PROVIDER_ID="password";pu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";pu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh extends BI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends Bh{constructor(){super("facebook.com")}static credential(e){return _o._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xr.credential(e.oauthAccessToken)}catch{return null}}}Xr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends Bh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return _o._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Zr.credential(t,i)}catch{return null}}}Zr.GOOGLE_SIGN_IN_METHOD="google.com";Zr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends Bh{constructor(){super("github.com")}static credential(e){return _o._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.GITHUB_SIGN_IN_METHOD="github.com";Jr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea extends Bh{constructor(){super("twitter.com")}static credential(e,t){return _o._fromParams({providerId:ea.PROVIDER_ID,signInMethod:ea.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ea.credentialFromTaggedObject(e)}static credentialFromError(e){return ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return ea.credential(t,i)}catch{return null}}}ea.TWITTER_SIGN_IN_METHOD="twitter.com";ea.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,s=!1){const o=await Zs._fromIdTokenResponse(e,i,s),l=Ux(i);return new Ql({user:o,providerId:l,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const s=Ux(i);return new Ql({user:e,providerId:s,_tokenResponse:i,operationType:t})}}function Ux(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp extends dr{constructor(e,t,i,s){var o;super(t.code,t.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,xp.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,s){return new xp(e,t,i,s)}}function zI(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?xp._fromErrorAndOperation(n,o,e,i):o})}async function A7(n,e,t=!1){const i=await vh(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ql._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R7(n,e,t=!1){const{auth:i}=n;if(Ci(i.app))return Promise.reject(oa(i));const s="reauthenticate";try{const o=await vh(n,zI(i,s,e,n),t);Ae(o.idToken,i,"internal-error");const l=cE(o.idToken);Ae(l,i,"internal-error");const{sub:c}=l;return Ae(n.uid===c,i,"user-mismatch"),Ql._forOperation(n,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&zi(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FI(n,e,t=!1){if(Ci(n.app))return Promise.reject(oa(n));const i="signIn",s=await zI(n,i,e),o=await Ql._fromIdTokenResponse(n,i,s);return t||await n._updateCurrentUser(o.user),o}async function I7(n,e){return FI(fu(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N7(n){const e=fu(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function P7(n,e,t){return Ci(n.app)?Promise.reject(oa(n)):I7(Vt(n),pu.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&N7(n),i})}function D7(n,e,t,i){return Vt(n).onIdTokenChanged(e,t,i)}function M7(n,e,t){return Vt(n).beforeAuthStateChanged(e,t)}const Cp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Cp,"1"),this.storage.removeItem(Cp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O7=1e3,k7=10;class qI extends HI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),s=this.localCache[t];i!==s&&e(t,s,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const i=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(i);!t&&this.localCache[i]===l||this.notifyListeners(i,l)},o=this.storage.getItem(i);t7()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,k7):s()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},O7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}qI.type="LOCAL";const L7=qI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI extends HI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}GI.type="SESSION";const $I=GI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V7(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const i=new ym(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:s,data:o}=t.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const c=Array.from(l).map(async f=>f(t.origin,o)),h=await V7(c);t.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ym.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,l;return new Promise((c,h)=>{const f=pE("",20);s.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},i);l={messageChannel:s,onMessage(v){const _=v;if(_.data.eventId===f)switch(_.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(_.data.response);break;default:clearTimeout(g),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(){return window}function U7(n){ds().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(){return typeof ds().WorkerGlobalScope<"u"&&typeof ds().importScripts=="function"}async function B7(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function z7(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function F7(){return KI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI="firebaseLocalStorageDb",H7=1,Ap="firebaseLocalStorage",YI="fbase_key";class zh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function vm(n,e){return n.transaction([Ap],e?"readwrite":"readonly").objectStore(Ap)}function q7(){const n=indexedDB.deleteDatabase(WI);return new zh(n).toPromise()}function d_(){const n=indexedDB.open(WI,H7);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Ap,{keyPath:YI})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Ap)?e(i):(i.close(),await q7(),e(await d_()))})})}async function Bx(n,e,t){const i=vm(n,!0).put({[YI]:e,value:t});return new zh(i).toPromise()}async function G7(n,e){const t=vm(n,!1).get(e),i=await new zh(t).toPromise();return i===void 0?null:i.value}function zx(n,e){const t=vm(n,!0).delete(e);return new zh(t).toPromise()}const $7=800,K7=3;class QI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await d_(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>K7)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return KI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ym._getInstance(F7()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await B7(),!this.activeServiceWorker)return;this.sender=new j7(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||z7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await d_();return await Bx(e,Cp,"1"),await zx(e,Cp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Bx(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>G7(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>zx(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=vm(s,!1).getAll();return new zh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}QI.type="LOCAL";const W7=QI;new Uh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y7(n,e){return e?Js(e):(Ae(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE extends dE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return jl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return jl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Q7(n){return FI(n.auth,new mE(n),n.bypassAuthState)}function X7(n){const{auth:e,user:t}=n;return Ae(t,e,"internal-error"),R7(t,new mE(n),n.bypassAuthState)}async function Z7(n){const{auth:e,user:t}=n;return Ae(t,e,"internal-error"),A7(t,new mE(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e,t,i,s,o=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:s,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Q7;case"linkViaPopup":case"linkViaRedirect":return Z7;case"reauthViaPopup":case"reauthViaRedirect":return X7;default:zi(this.auth,"internal-error")}}resolve(e){or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J7=new Uh(2e3,1e4);class Pl extends XI{constructor(e,t,i,s,o){super(e,t,s,o),this.provider=i,this.authWindow=null,this.pollId=null,Pl.currentPopupAction&&Pl.currentPopupAction.cancel(),Pl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){or(this.filter.length===1,"Popup operations only handle one event");const e=pE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(hs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(hs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Pl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,J7.get())};e()}}Pl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eU="pendingRedirect",Bf=new Map;class tU extends XI{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Bf.get(this.auth._key());if(!e){try{const i=await nU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Bf.set(this.auth._key(),e)}return this.bypassAuthState||Bf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nU(n,e){const t=rU(e),i=sU(n);if(!await i._isAvailable())return!1;const s=await i._get(t)==="true";return await i._remove(t),s}function iU(n,e){Bf.set(n._key(),e)}function sU(n){return Js(n._redirectPersistence)}function rU(n){return Uf(eU,n.config.apiKey,n.name)}async function aU(n,e,t=!1){if(Ci(n.app))return Promise.reject(oa(n));const i=fu(n),s=Y7(i,e),l=await new tU(i,s,t).execute();return l&&!t&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oU=10*60*1e3;class lU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uU(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!ZI(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(hs(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=oU&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fx(e))}saveEventToCache(e){this.cachedEventUids.add(Fx(e)),this.lastProcessedEventTime=Date.now()}}function Fx(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function ZI({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function uU(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ZI(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cU(n,e={}){return xa(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dU=/^https?/;async function fU(n){if(n.config.emulator)return;const{authorizedDomains:e}=await cU(n);for(const t of e)try{if(pU(t))return}catch{}zi(n,"unauthorized-domain")}function pU(n){const e=c_(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===i}if(!dU.test(t))return!1;if(hU.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mU=new Uh(3e4,6e4);function Hx(){const n=ds().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function gU(n){return new Promise((e,t)=>{var i,s,o;function l(){Hx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Hx(),t(hs(n,"network-request-failed"))},timeout:mU.get()})}if(!((s=(i=ds().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=ds().gapi)===null||o===void 0)&&o.load)l();else{const c=c7("iframefcb");return ds()[c]=()=>{gapi.load?l():t(hs(n,"network-request-failed"))},VI(`${u7()}?onload=${c}`).catch(h=>t(h))}}).catch(e=>{throw zf=null,e})}let zf=null;function yU(n){return zf=zf||gU(n),zf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vU=new Uh(5e3,15e3),_U="__/auth/iframe",EU="emulator/auth/iframe",TU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bU(n){const e=n.config;Ae(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?uE(e,EU):`https://${n.config.authDomain}/${_U}`,i={apiKey:e.apiKey,appName:n.name,v:xo},s=wU.get(n.config.apiHost);s&&(i.eid=s);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${uu(i).slice(1)}`}async function SU(n){const e=await yU(n),t=ds().gapi;return Ae(t,n,"internal-error"),e.open({where:document.body,url:bU(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TU,dontclear:!0},i=>new Promise(async(s,o)=>{await i.restyle({setHideOnLeave:!1});const l=hs(n,"network-request-failed"),c=ds().setTimeout(()=>{o(l)},vU.get());function h(){ds().clearTimeout(c),s(i)}i.ping(h).then(h,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},CU=500,AU=600,RU="_blank",IU="http://localhost";class qx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NU(n,e,t,i=CU,s=AU){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const h=Object.assign(Object.assign({},xU),{width:i.toString(),height:s.toString(),top:o,left:l}),f=Mn().toLowerCase();t&&(c=NI(f)?RU:t),RI(f)&&(e=e||IU,h.scrollbars="yes");const g=Object.entries(h).reduce((_,[w,x])=>`${_}${w}=${x},`,"");if(e7(f)&&c!=="_self")return PU(e||"",c),new qx(null);const v=window.open(e||"",c,g);Ae(v,n,"popup-blocked");try{v.focus()}catch{}return new qx(v)}function PU(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DU="__/auth/handler",MU="emulator/auth/handler",OU=encodeURIComponent("fac");async function Gx(n,e,t,i,s,o){Ae(n.config.authDomain,n,"auth-domain-config-required"),Ae(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:xo,eventId:s};if(e instanceof BI){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",qv(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))l[g]=v}if(e instanceof Bh){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(l.scopes=g.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const h=await n._getAppCheckToken(),f=h?`#${OU}=${encodeURIComponent(h)}`:"";return`${kU(n)}?${uu(c).slice(1)}${f}`}function kU({config:n}){return n.emulator?uE(n,MU):`https://${n.authDomain}/${DU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv="webStorageSupport";class LU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$I,this._completeRedirectFn=aU,this._overrideRedirectResult=iU}async _openPopup(e,t,i,s){var o;or((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await Gx(e,t,i,c_(),s);return NU(e,l,pE())}async _openRedirect(e,t,i,s){await this._originValidation(e);const o=await Gx(e,t,i,c_(),s);return U7(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(or(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await SU(e),i=new lU(e);return t.register("authEvent",s=>(Ae(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(fv,{type:fv},s=>{var o;const l=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[fv];l!==void 0&&t(!!l),zi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=fU(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return kI()||II()||hE()}}const VU=LU;var $x="@firebase/auth",Kx="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UU(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function BU(n){po(new pa("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=i.options;Ae(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:LI(n)},f=new a7(i,s,o,h);return g7(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),po(new pa("auth-internal",e=>{const t=fu(e.getProvider("auth").getImmediate());return(i=>new jU(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),us($x,Kx,UU(n)),us($x,Kx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU=5*60,FU=JA("authIdTokenMaxAge")||zU;let Wx=null;const HU=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>FU)return;const s=t==null?void 0:t.token;Wx!==s&&(Wx=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function qU(n=w0()){const e=im(n,"auth");if(e.isInitialized())return e.getImmediate();const t=m7(n,{popupRedirectResolver:VU,persistence:[W7,L7,$I]}),i=JA("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const l=HU(o.toString());M7(t,l,()=>l(t.currentUser)),D7(t,c=>l(c))}}const s=QA("auth");return s&&y7(t,`http://${s}`),t}function GU(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}o7({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=s=>{const o=hs("internal-error");o.customData=s,t(o)},i.type="text/javascript",i.charset="UTF-8",GU().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});BU("Browser");var Yx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var la,JI;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,A){function C(){}C.prototype=A.prototype,k.D=A.prototype,k.prototype=new C,k.prototype.constructor=k,k.C=function(R,j,z){for(var L=Array(arguments.length-2),de=2;de<arguments.length;de++)L[de-2]=arguments[de];return A.prototype[j].apply(R,L)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(k,A,C){C||(C=0);var R=Array(16);if(typeof A=="string")for(var j=0;16>j;++j)R[j]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(j=0;16>j;++j)R[j]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=k.g[0],C=k.g[1],j=k.g[2];var z=k.g[3],L=A+(z^C&(j^z))+R[0]+3614090360&4294967295;A=C+(L<<7&4294967295|L>>>25),L=z+(j^A&(C^j))+R[1]+3905402710&4294967295,z=A+(L<<12&4294967295|L>>>20),L=j+(C^z&(A^C))+R[2]+606105819&4294967295,j=z+(L<<17&4294967295|L>>>15),L=C+(A^j&(z^A))+R[3]+3250441966&4294967295,C=j+(L<<22&4294967295|L>>>10),L=A+(z^C&(j^z))+R[4]+4118548399&4294967295,A=C+(L<<7&4294967295|L>>>25),L=z+(j^A&(C^j))+R[5]+1200080426&4294967295,z=A+(L<<12&4294967295|L>>>20),L=j+(C^z&(A^C))+R[6]+2821735955&4294967295,j=z+(L<<17&4294967295|L>>>15),L=C+(A^j&(z^A))+R[7]+4249261313&4294967295,C=j+(L<<22&4294967295|L>>>10),L=A+(z^C&(j^z))+R[8]+1770035416&4294967295,A=C+(L<<7&4294967295|L>>>25),L=z+(j^A&(C^j))+R[9]+2336552879&4294967295,z=A+(L<<12&4294967295|L>>>20),L=j+(C^z&(A^C))+R[10]+4294925233&4294967295,j=z+(L<<17&4294967295|L>>>15),L=C+(A^j&(z^A))+R[11]+2304563134&4294967295,C=j+(L<<22&4294967295|L>>>10),L=A+(z^C&(j^z))+R[12]+1804603682&4294967295,A=C+(L<<7&4294967295|L>>>25),L=z+(j^A&(C^j))+R[13]+4254626195&4294967295,z=A+(L<<12&4294967295|L>>>20),L=j+(C^z&(A^C))+R[14]+2792965006&4294967295,j=z+(L<<17&4294967295|L>>>15),L=C+(A^j&(z^A))+R[15]+1236535329&4294967295,C=j+(L<<22&4294967295|L>>>10),L=A+(j^z&(C^j))+R[1]+4129170786&4294967295,A=C+(L<<5&4294967295|L>>>27),L=z+(C^j&(A^C))+R[6]+3225465664&4294967295,z=A+(L<<9&4294967295|L>>>23),L=j+(A^C&(z^A))+R[11]+643717713&4294967295,j=z+(L<<14&4294967295|L>>>18),L=C+(z^A&(j^z))+R[0]+3921069994&4294967295,C=j+(L<<20&4294967295|L>>>12),L=A+(j^z&(C^j))+R[5]+3593408605&4294967295,A=C+(L<<5&4294967295|L>>>27),L=z+(C^j&(A^C))+R[10]+38016083&4294967295,z=A+(L<<9&4294967295|L>>>23),L=j+(A^C&(z^A))+R[15]+3634488961&4294967295,j=z+(L<<14&4294967295|L>>>18),L=C+(z^A&(j^z))+R[4]+3889429448&4294967295,C=j+(L<<20&4294967295|L>>>12),L=A+(j^z&(C^j))+R[9]+568446438&4294967295,A=C+(L<<5&4294967295|L>>>27),L=z+(C^j&(A^C))+R[14]+3275163606&4294967295,z=A+(L<<9&4294967295|L>>>23),L=j+(A^C&(z^A))+R[3]+4107603335&4294967295,j=z+(L<<14&4294967295|L>>>18),L=C+(z^A&(j^z))+R[8]+1163531501&4294967295,C=j+(L<<20&4294967295|L>>>12),L=A+(j^z&(C^j))+R[13]+2850285829&4294967295,A=C+(L<<5&4294967295|L>>>27),L=z+(C^j&(A^C))+R[2]+4243563512&4294967295,z=A+(L<<9&4294967295|L>>>23),L=j+(A^C&(z^A))+R[7]+1735328473&4294967295,j=z+(L<<14&4294967295|L>>>18),L=C+(z^A&(j^z))+R[12]+2368359562&4294967295,C=j+(L<<20&4294967295|L>>>12),L=A+(C^j^z)+R[5]+4294588738&4294967295,A=C+(L<<4&4294967295|L>>>28),L=z+(A^C^j)+R[8]+2272392833&4294967295,z=A+(L<<11&4294967295|L>>>21),L=j+(z^A^C)+R[11]+1839030562&4294967295,j=z+(L<<16&4294967295|L>>>16),L=C+(j^z^A)+R[14]+4259657740&4294967295,C=j+(L<<23&4294967295|L>>>9),L=A+(C^j^z)+R[1]+2763975236&4294967295,A=C+(L<<4&4294967295|L>>>28),L=z+(A^C^j)+R[4]+1272893353&4294967295,z=A+(L<<11&4294967295|L>>>21),L=j+(z^A^C)+R[7]+4139469664&4294967295,j=z+(L<<16&4294967295|L>>>16),L=C+(j^z^A)+R[10]+3200236656&4294967295,C=j+(L<<23&4294967295|L>>>9),L=A+(C^j^z)+R[13]+681279174&4294967295,A=C+(L<<4&4294967295|L>>>28),L=z+(A^C^j)+R[0]+3936430074&4294967295,z=A+(L<<11&4294967295|L>>>21),L=j+(z^A^C)+R[3]+3572445317&4294967295,j=z+(L<<16&4294967295|L>>>16),L=C+(j^z^A)+R[6]+76029189&4294967295,C=j+(L<<23&4294967295|L>>>9),L=A+(C^j^z)+R[9]+3654602809&4294967295,A=C+(L<<4&4294967295|L>>>28),L=z+(A^C^j)+R[12]+3873151461&4294967295,z=A+(L<<11&4294967295|L>>>21),L=j+(z^A^C)+R[15]+530742520&4294967295,j=z+(L<<16&4294967295|L>>>16),L=C+(j^z^A)+R[2]+3299628645&4294967295,C=j+(L<<23&4294967295|L>>>9),L=A+(j^(C|~z))+R[0]+4096336452&4294967295,A=C+(L<<6&4294967295|L>>>26),L=z+(C^(A|~j))+R[7]+1126891415&4294967295,z=A+(L<<10&4294967295|L>>>22),L=j+(A^(z|~C))+R[14]+2878612391&4294967295,j=z+(L<<15&4294967295|L>>>17),L=C+(z^(j|~A))+R[5]+4237533241&4294967295,C=j+(L<<21&4294967295|L>>>11),L=A+(j^(C|~z))+R[12]+1700485571&4294967295,A=C+(L<<6&4294967295|L>>>26),L=z+(C^(A|~j))+R[3]+2399980690&4294967295,z=A+(L<<10&4294967295|L>>>22),L=j+(A^(z|~C))+R[10]+4293915773&4294967295,j=z+(L<<15&4294967295|L>>>17),L=C+(z^(j|~A))+R[1]+2240044497&4294967295,C=j+(L<<21&4294967295|L>>>11),L=A+(j^(C|~z))+R[8]+1873313359&4294967295,A=C+(L<<6&4294967295|L>>>26),L=z+(C^(A|~j))+R[15]+4264355552&4294967295,z=A+(L<<10&4294967295|L>>>22),L=j+(A^(z|~C))+R[6]+2734768916&4294967295,j=z+(L<<15&4294967295|L>>>17),L=C+(z^(j|~A))+R[13]+1309151649&4294967295,C=j+(L<<21&4294967295|L>>>11),L=A+(j^(C|~z))+R[4]+4149444226&4294967295,A=C+(L<<6&4294967295|L>>>26),L=z+(C^(A|~j))+R[11]+3174756917&4294967295,z=A+(L<<10&4294967295|L>>>22),L=j+(A^(z|~C))+R[2]+718787259&4294967295,j=z+(L<<15&4294967295|L>>>17),L=C+(z^(j|~A))+R[9]+3951481745&4294967295,k.g[0]=k.g[0]+A&4294967295,k.g[1]=k.g[1]+(j+(L<<21&4294967295|L>>>11))&4294967295,k.g[2]=k.g[2]+j&4294967295,k.g[3]=k.g[3]+z&4294967295}i.prototype.u=function(k,A){A===void 0&&(A=k.length);for(var C=A-this.blockSize,R=this.B,j=this.h,z=0;z<A;){if(j==0)for(;z<=C;)s(this,k,z),z+=this.blockSize;if(typeof k=="string"){for(;z<A;)if(R[j++]=k.charCodeAt(z++),j==this.blockSize){s(this,R),j=0;break}}else for(;z<A;)if(R[j++]=k[z++],j==this.blockSize){s(this,R),j=0;break}}this.h=j,this.o+=A},i.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var A=1;A<k.length-8;++A)k[A]=0;var C=8*this.o;for(A=k.length-8;A<k.length;++A)k[A]=C&255,C/=256;for(this.u(k),k=Array(16),A=C=0;4>A;++A)for(var R=0;32>R;R+=8)k[C++]=this.g[A]>>>R&255;return k};function o(k,A){var C=c;return Object.prototype.hasOwnProperty.call(C,k)?C[k]:C[k]=A(k)}function l(k,A){this.h=A;for(var C=[],R=!0,j=k.length-1;0<=j;j--){var z=k[j]|0;R&&z==A||(C[j]=z,R=!1)}this.g=C}var c={};function h(k){return-128<=k&&128>k?o(k,function(A){return new l([A|0],0>A?-1:0)}):new l([k|0],0>k?-1:0)}function f(k){if(isNaN(k)||!isFinite(k))return v;if(0>k)return V(f(-k));for(var A=[],C=1,R=0;k>=C;R++)A[R]=k/C|0,C*=4294967296;return new l(A,0)}function g(k,A){if(k.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(k.charAt(0)=="-")return V(g(k.substring(1),A));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=f(Math.pow(A,8)),R=v,j=0;j<k.length;j+=8){var z=Math.min(8,k.length-j),L=parseInt(k.substring(j,j+z),A);8>z?(z=f(Math.pow(A,z)),R=R.j(z).add(f(L))):(R=R.j(C),R=R.add(f(L)))}return R}var v=h(0),_=h(1),w=h(16777216);n=l.prototype,n.m=function(){if(O(this))return-V(this).m();for(var k=0,A=1,C=0;C<this.g.length;C++){var R=this.i(C);k+=(0<=R?R:4294967296+R)*A,A*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(x(this))return"0";if(O(this))return"-"+V(this).toString(k);for(var A=f(Math.pow(k,6)),C=this,R="";;){var j=H(C,A).g;C=D(C,j.j(A));var z=((0<C.g.length?C.g[0]:C.h)>>>0).toString(k);if(C=j,x(C))return z+R;for(;6>z.length;)z="0"+z;R=z+R}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function x(k){if(k.h!=0)return!1;for(var A=0;A<k.g.length;A++)if(k.g[A]!=0)return!1;return!0}function O(k){return k.h==-1}n.l=function(k){return k=D(this,k),O(k)?-1:x(k)?0:1};function V(k){for(var A=k.g.length,C=[],R=0;R<A;R++)C[R]=~k.g[R];return new l(C,~k.h).add(_)}n.abs=function(){return O(this)?V(this):this},n.add=function(k){for(var A=Math.max(this.g.length,k.g.length),C=[],R=0,j=0;j<=A;j++){var z=R+(this.i(j)&65535)+(k.i(j)&65535),L=(z>>>16)+(this.i(j)>>>16)+(k.i(j)>>>16);R=L>>>16,z&=65535,L&=65535,C[j]=L<<16|z}return new l(C,C[C.length-1]&-2147483648?-1:0)};function D(k,A){return k.add(V(A))}n.j=function(k){if(x(this)||x(k))return v;if(O(this))return O(k)?V(this).j(V(k)):V(V(this).j(k));if(O(k))return V(this.j(V(k)));if(0>this.l(w)&&0>k.l(w))return f(this.m()*k.m());for(var A=this.g.length+k.g.length,C=[],R=0;R<2*A;R++)C[R]=0;for(R=0;R<this.g.length;R++)for(var j=0;j<k.g.length;j++){var z=this.i(R)>>>16,L=this.i(R)&65535,de=k.i(j)>>>16,_e=k.i(j)&65535;C[2*R+2*j]+=L*_e,I(C,2*R+2*j),C[2*R+2*j+1]+=z*_e,I(C,2*R+2*j+1),C[2*R+2*j+1]+=L*de,I(C,2*R+2*j+1),C[2*R+2*j+2]+=z*de,I(C,2*R+2*j+2)}for(R=0;R<A;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=A;R<2*A;R++)C[R]=0;return new l(C,0)};function I(k,A){for(;(k[A]&65535)!=k[A];)k[A+1]+=k[A]>>>16,k[A]&=65535,A++}function N(k,A){this.g=k,this.h=A}function H(k,A){if(x(A))throw Error("division by zero");if(x(k))return new N(v,v);if(O(k))return A=H(V(k),A),new N(V(A.g),V(A.h));if(O(A))return A=H(k,V(A)),new N(V(A.g),A.h);if(30<k.g.length){if(O(k)||O(A))throw Error("slowDivide_ only works with positive integers.");for(var C=_,R=A;0>=R.l(k);)C=q(C),R=q(R);var j=Z(C,1),z=Z(R,1);for(R=Z(R,2),C=Z(C,2);!x(R);){var L=z.add(R);0>=L.l(k)&&(j=j.add(C),z=L),R=Z(R,1),C=Z(C,1)}return A=D(k,j.j(A)),new N(j,A)}for(j=v;0<=k.l(A);){for(C=Math.max(1,Math.floor(k.m()/A.m())),R=Math.ceil(Math.log(C)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),z=f(C),L=z.j(A);O(L)||0<L.l(k);)C-=R,z=f(C),L=z.j(A);x(z)&&(z=_),j=j.add(z),k=D(k,L)}return new N(j,k)}n.A=function(k){return H(this,k).h},n.and=function(k){for(var A=Math.max(this.g.length,k.g.length),C=[],R=0;R<A;R++)C[R]=this.i(R)&k.i(R);return new l(C,this.h&k.h)},n.or=function(k){for(var A=Math.max(this.g.length,k.g.length),C=[],R=0;R<A;R++)C[R]=this.i(R)|k.i(R);return new l(C,this.h|k.h)},n.xor=function(k){for(var A=Math.max(this.g.length,k.g.length),C=[],R=0;R<A;R++)C[R]=this.i(R)^k.i(R);return new l(C,this.h^k.h)};function q(k){for(var A=k.g.length+1,C=[],R=0;R<A;R++)C[R]=k.i(R)<<1|k.i(R-1)>>>31;return new l(C,k.h)}function Z(k,A){var C=A>>5;A%=32;for(var R=k.g.length-C,j=[],z=0;z<R;z++)j[z]=0<A?k.i(z+C)>>>A|k.i(z+C+1)<<32-A:k.i(z+C);return new l(j,k.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,JI=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=g,la=l}).apply(typeof Yx<"u"?Yx:typeof self<"u"?self:typeof window<"u"?window:{});var bf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eN,jc,tN,Ff,f_,nN,iN,sN;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,E,b){return p==Array.prototype||p==Object.prototype||(p[E]=b.value),p};function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof bf=="object"&&bf];for(var E=0;E<p.length;++E){var b=p[E];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var i=t(this);function s(p,E){if(E)e:{var b=i;p=p.split(".");for(var M=0;M<p.length-1;M++){var W=p[M];if(!(W in b))break e;b=b[W]}p=p[p.length-1],M=b[p],E=E(M),E!=M&&E!=null&&e(b,p,{configurable:!0,writable:!0,value:E})}}function o(p,E){p instanceof String&&(p+="");var b=0,M=!1,W={next:function(){if(!M&&b<p.length){var X=b++;return{value:E(X,p[X]),done:!1}}return M=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}s("Array.prototype.values",function(p){return p||function(){return o(this,function(E,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function h(p){var E=typeof p;return E=E!="object"?E:p?Array.isArray(p)?"array":E:"null",E=="array"||E=="object"&&typeof p.length=="number"}function f(p){var E=typeof p;return E=="object"&&p!=null||E=="function"}function g(p,E,b){return p.call.apply(p.bind,arguments)}function v(p,E,b){if(!p)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,M),p.apply(E,W)}}return function(){return p.apply(E,arguments)}}function _(p,E,b){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:v,_.apply(null,arguments)}function w(p,E){var b=Array.prototype.slice.call(arguments,1);return function(){var M=b.slice();return M.push.apply(M,arguments),p.apply(this,M)}}function x(p,E){function b(){}b.prototype=E.prototype,p.aa=E.prototype,p.prototype=new b,p.prototype.constructor=p,p.Qb=function(M,W,X){for(var ce=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)ce[Ye-2]=arguments[Ye];return E.prototype[W].apply(M,ce)}}function O(p){const E=p.length;if(0<E){const b=Array(E);for(let M=0;M<E;M++)b[M]=p[M];return b}return[]}function V(p,E){for(let b=1;b<arguments.length;b++){const M=arguments[b];if(h(M)){const W=p.length||0,X=M.length||0;p.length=W+X;for(let ce=0;ce<X;ce++)p[W+ce]=M[ce]}else p.push(M)}}class D{constructor(E,b){this.i=E,this.j=b,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function I(p){return/^[\s\xa0]*$/.test(p)}function N(){var p=c.navigator;return p&&(p=p.userAgent)?p:""}function H(p){return H[" "](p),p}H[" "]=function(){};var q=N().indexOf("Gecko")!=-1&&!(N().toLowerCase().indexOf("webkit")!=-1&&N().indexOf("Edge")==-1)&&!(N().indexOf("Trident")!=-1||N().indexOf("MSIE")!=-1)&&N().indexOf("Edge")==-1;function Z(p,E,b){for(const M in p)E.call(b,p[M],M,p)}function k(p,E){for(const b in p)E.call(void 0,p[b],b,p)}function A(p){const E={};for(const b in p)E[b]=p[b];return E}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(p,E){let b,M;for(let W=1;W<arguments.length;W++){M=arguments[W];for(b in M)p[b]=M[b];for(let X=0;X<C.length;X++)b=C[X],Object.prototype.hasOwnProperty.call(M,b)&&(p[b]=M[b])}}function j(p){var E=1;p=p.split(":");const b=[];for(;0<E&&p.length;)b.push(p.shift()),E--;return p.length&&b.push(p.join(":")),b}function z(p){c.setTimeout(()=>{throw p},0)}function L(){var p=ye;let E=null;return p.g&&(E=p.g,p.g=p.g.next,p.g||(p.h=null),E.next=null),E}class de{constructor(){this.h=this.g=null}add(E,b){const M=_e.get();M.set(E,b),this.h?this.h.next=M:this.g=M,this.h=M}}var _e=new D(()=>new ae,p=>p.reset());class ae{constructor(){this.next=this.g=this.h=null}set(E,b){this.h=E,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let he,re=!1,ye=new de,F=()=>{const p=c.Promise.resolve(void 0);he=()=>{p.then(ie)}};var ie=()=>{for(var p;p=L();){try{p.h.call(p.g)}catch(b){z(b)}var E=_e;E.j(p),100>E.h&&(E.h++,p.next=E.g,E.g=p)}re=!1};function ge(){this.s=this.s,this.C=this.C}ge.prototype.s=!1,ge.prototype.ma=function(){this.s||(this.s=!0,this.N())},ge.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(p,E){this.type=p,this.g=this.target=E,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var pe=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var p=!1,E=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const b=()=>{};c.addEventListener("test",b,E),c.removeEventListener("test",b,E)}catch{}return p}();function Oe(p,E){if(fe.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var b=this.type=p.type,M=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=E,E=p.relatedTarget){if(q){e:{try{H(E.nodeName);var W=!0;break e}catch{}W=!1}W||(E=null)}}else b=="mouseover"?E=p.fromElement:b=="mouseout"&&(E=p.toElement);this.relatedTarget=E,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:Me[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&Oe.aa.h.call(this)}}x(Oe,fe);var Me={2:"touch",3:"pen",4:"mouse"};Oe.prototype.h=function(){Oe.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var xt="closure_listenable_"+(1e6*Math.random()|0),Be=0;function yt(p,E,b,M,W){this.listener=p,this.proxy=null,this.src=E,this.type=b,this.capture=!!M,this.ha=W,this.key=++Be,this.da=this.fa=!1}function et(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function en(p){this.src=p,this.g={},this.h=0}en.prototype.add=function(p,E,b,M,W){var X=p.toString();p=this.g[X],p||(p=this.g[X]=[],this.h++);var ce=Fn(p,E,M,W);return-1<ce?(E=p[ce],b||(E.fa=!1)):(E=new yt(E,this.src,X,!!M,W),E.fa=b,p.push(E)),E};function Ri(p,E){var b=E.type;if(b in p.g){var M=p.g[b],W=Array.prototype.indexOf.call(M,E,void 0),X;(X=0<=W)&&Array.prototype.splice.call(M,W,1),X&&(et(E),p.g[b].length==0&&(delete p.g[b],p.h--))}}function Fn(p,E,b,M){for(var W=0;W<p.length;++W){var X=p[W];if(!X.da&&X.listener==E&&X.capture==!!b&&X.ha==M)return W}return-1}var le="closure_lm_"+(1e6*Math.random()|0),we={};function Ge(p,E,b,M,W){if(Array.isArray(E)){for(var X=0;X<E.length;X++)Ge(p,E[X],b,M,W);return null}return b=Wh(b),p&&p[xt]?p.K(E,b,f(M)?!!M.capture:!1,W):We(p,E,b,!1,M,W)}function We(p,E,b,M,W,X){if(!E)throw Error("Invalid event type");var ce=f(W)?!!W.capture:!!W,Ye=Po(p);if(Ye||(p[le]=Ye=new en(p)),b=Ye.add(E,b,M,ce,X),b.proxy)return b;if(M=Ht(),b.proxy=M,M.src=p,M.listener=b,p.addEventListener)pe||(W=ce),W===void 0&&(W=!1),p.addEventListener(E.toString(),M,W);else if(p.attachEvent)p.attachEvent(oi(E.toString()),M);else if(p.addListener&&p.removeListener)p.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Ht(){function p(b){return E.call(p.src,p.listener,b)}const E=fr;return p}function fn(p,E,b,M,W){if(Array.isArray(E))for(var X=0;X<E.length;X++)fn(p,E[X],b,M,W);else M=f(M)?!!M.capture:!!M,b=Wh(b),p&&p[xt]?(p=p.i,E=String(E).toString(),E in p.g&&(X=p.g[E],b=Fn(X,b,M,W),-1<b&&(et(X[b]),Array.prototype.splice.call(X,b,1),X.length==0&&(delete p.g[E],p.h--)))):p&&(p=Po(p))&&(E=p.g[E.toString()],p=-1,E&&(p=Fn(E,b,M,W)),(b=-1<p?E[p]:null)&&Hn(b))}function Hn(p){if(typeof p!="number"&&p&&!p.da){var E=p.src;if(E&&E[xt])Ri(E.i,p);else{var b=p.type,M=p.proxy;E.removeEventListener?E.removeEventListener(b,M,p.capture):E.detachEvent?E.detachEvent(oi(b),M):E.addListener&&E.removeListener&&E.removeListener(M),(b=Po(E))?(Ri(b,p),b.h==0&&(b.src=null,E[le]=null)):et(p)}}}function oi(p){return p in we?we[p]:we[p]="on"+p}function fr(p,E){if(p.da)p=!0;else{E=new Oe(E,this);var b=p.listener,M=p.ha||p.src;p.fa&&Hn(p),p=b.call(M,E)}return p}function Po(p){return p=p[le],p instanceof en?p:null}var Sn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wh(p){return typeof p=="function"?p:(p[Sn]||(p[Sn]=function(E){return p.handleEvent(E)}),p[Sn])}function qt(){ge.call(this),this.i=new en(this),this.M=this,this.F=null}x(qt,ge),qt.prototype[xt]=!0,qt.prototype.removeEventListener=function(p,E,b,M){fn(this,p,E,b,M)};function tn(p,E){var b,M=p.F;if(M)for(b=[];M;M=M.F)b.push(M);if(p=p.M,M=E.type||E,typeof E=="string")E=new fe(E,p);else if(E instanceof fe)E.target=E.target||p;else{var W=E;E=new fe(M,p),R(E,W)}if(W=!0,b)for(var X=b.length-1;0<=X;X--){var ce=E.g=b[X];W=ws(ce,M,!0,E)&&W}if(ce=E.g=p,W=ws(ce,M,!0,E)&&W,W=ws(ce,M,!1,E)&&W,b)for(X=0;X<b.length;X++)ce=E.g=b[X],W=ws(ce,M,!1,E)&&W}qt.prototype.N=function(){if(qt.aa.N.call(this),this.i){var p=this.i,E;for(E in p.g){for(var b=p.g[E],M=0;M<b.length;M++)et(b[M]);delete p.g[E],p.h--}}this.F=null},qt.prototype.K=function(p,E,b,M){return this.i.add(String(p),E,!1,b,M)},qt.prototype.L=function(p,E,b,M){return this.i.add(String(p),E,!0,b,M)};function ws(p,E,b,M){if(E=p.i.g[String(E)],!E)return!0;E=E.concat();for(var W=!0,X=0;X<E.length;++X){var ce=E[X];if(ce&&!ce.da&&ce.capture==b){var Ye=ce.listener,$t=ce.ha||ce.src;ce.fa&&Ri(p.i,ce),W=Ye.call($t,M)!==!1&&W}}return W&&!M.defaultPrevented}function Yh(p,E,b){if(typeof p=="function")b&&(p=_(p,b));else if(p&&typeof p.handleEvent=="function")p=_(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:c.setTimeout(p,E||0)}function _u(p){p.g=Yh(()=>{p.g=null,p.i&&(p.i=!1,_u(p))},p.l);const E=p.h;p.h=null,p.m.apply(null,E)}class Vm extends ge{constructor(E,b){super(),this.m=E,this.l=b,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:_u(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ra(p){ge.call(this),this.h=p,this.g={}}x(Ra,ge);var pr=[];function xn(p){Z(p.g,function(E,b){this.g.hasOwnProperty(b)&&Hn(E)},p),p.g={}}Ra.prototype.N=function(){Ra.aa.N.call(this),xn(this)},Ra.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Eu=c.JSON.stringify,Fi=c.JSON.parse,On=class{stringify(p){return c.JSON.stringify(p,void 0)}parse(p){return c.JSON.parse(p,void 0)}};function Tu(){}Tu.prototype.h=null;function Qh(p){return p.h||(p.h=p.i())}function Xh(){}var Hi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mr(){fe.call(this,"d")}x(mr,fe);function Ii(){fe.call(this,"c")}x(Ii,fe);var li={},gr=null;function Do(){return gr=gr||new qt}li.La="serverreachability";function wu(p){fe.call(this,li.La,p)}x(wu,fe);function yr(p){const E=Do();tn(E,new wu(E))}li.STAT_EVENT="statevent";function Mo(p,E){fe.call(this,li.STAT_EVENT,p),this.stat=E}x(Mo,fe);function Mt(p){const E=Do();tn(E,new Mo(E,p))}li.Ma="timingevent";function Zh(p,E){fe.call(this,li.Ma,p),this.size=E}x(Zh,fe);function vr(p,E){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){p()},E)}function _r(){this.g=!0}_r.prototype.xa=function(){this.g=!1};function Jh(p,E,b,M,W,X){p.info(function(){if(p.g)if(X)for(var ce="",Ye=X.split("&"),$t=0;$t<Ye.length;$t++){var Qe=Ye[$t].split("=");if(1<Qe.length){var rn=Qe[0];Qe=Qe[1];var Kt=rn.split("_");ce=2<=Kt.length&&Kt[1]=="type"?ce+(rn+"="+Qe+"&"):ce+(rn+"=redacted&")}}else ce=null;else ce=X;return"XMLHTTP REQ ("+M+") [attempt "+W+"]: "+E+`
`+b+`
`+ce})}function ed(p,E,b,M,W,X,ce){p.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+W+"]: "+E+`
`+b+`
`+X+" "+ce})}function Er(p,E,b,M){p.info(function(){return"XMLHTTP TEXT ("+E+"): "+nn(p,b)+(M?" "+M:"")})}function qi(p,E){p.info(function(){return"TIMEOUT: "+E})}_r.prototype.info=function(){};function nn(p,E){if(!p.g)return E;if(!E)return null;try{var b=JSON.parse(E);if(b){for(p=0;p<b.length;p++)if(Array.isArray(b[p])){var M=b[p];if(!(2>M.length)){var W=M[1];if(Array.isArray(W)&&!(1>W.length)){var X=W[0];if(X!="noop"&&X!="stop"&&X!="close")for(var ce=1;ce<W.length;ce++)W[ce]=""}}}}return Eu(b)}catch{return E}}var Gt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},bs={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ia;function Oo(){}x(Oo,Tu),Oo.prototype.g=function(){return new XMLHttpRequest},Oo.prototype.i=function(){return{}},Ia=new Oo;function Gi(p,E,b,M){this.j=p,this.i=E,this.l=b,this.R=M||1,this.U=new Ra(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bu}function bu(){this.i=null,this.g="",this.h=!1}var Tr={},Na={};function Ni(p,E,b){p.L=1,p.v=Ma(Ct(E)),p.m=b,p.P=!0,Ss(p,null)}function Ss(p,E){p.F=Date.now(),_t(p),p.A=Ct(p.v);var b=p.A,M=p.R;Array.isArray(M)||(M=[String(M)]),As(b.i,"t",M),p.C=0,b=p.j.J,p.h=new bu,p.g=pd(p.j,b?E:null,!p.m),0<p.O&&(p.M=new Vm(_(p.Y,p,p.g),p.O)),E=p.U,b=p.g,M=p.ca;var W="readystatechange";Array.isArray(W)||(W&&(pr[0]=W.toString()),W=pr);for(var X=0;X<W.length;X++){var ce=Ge(b,W[X],M||E.handleEvent,!1,E.h||E);if(!ce)break;E.g[ce.key]=ce}E=p.H?A(p.H):{},p.m?(p.u||(p.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,E)):(p.u="GET",p.g.ea(p.A,p.u,null,E)),yr(),Jh(p.i,p.u,p.A,p.l,p.R,p.m)}Gi.prototype.ca=function(p){p=p.target;const E=this.M;E&&fi(p)==3?E.j():this.Y(p)},Gi.prototype.Y=function(p){try{if(p==this.g)e:{const Kt=fi(this.g);var E=this.g.Ba();const Ps=this.g.Z();if(!(3>Kt)&&(Kt!=3||this.g&&(this.h.h||this.g.oa()||ad(this.g)))){this.J||Kt!=4||E==7||(E==8||0>=Ps?yr(3):yr(2)),ko(this);var b=this.g.Z();this.X=b;t:if(wr(this)){var M=ad(this.g);p="";var W=M.length,X=fi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qn(this),Yn(this);var ce="";break t}this.h.i=new c.TextDecoder}for(E=0;E<W;E++)this.h.h=!0,p+=this.h.i.decode(M[E],{stream:!(X&&E==W-1)});M.length=0,this.h.g+=p,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=b==200,ed(this.i,this.u,this.A,this.l,this.R,Kt,b),this.o){if(this.T&&!this.K){t:{if(this.g){var Ye,$t=this.g;if((Ye=$t.g?$t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(Ye)){var Qe=Ye;break t}}Qe=null}if(b=Qe)Er(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qn(this,b);else{this.o=!1,this.s=3,Mt(12),qn(this),Yn(this);break e}}if(this.P){b=!0;let pn;for(;!this.J&&this.C<ce.length;)if(pn=br(this,ce),pn==Na){Kt==4&&(this.s=4,Mt(14),b=!1),Er(this.i,this.l,null,"[Incomplete Response]");break}else if(pn==Tr){this.s=4,Mt(15),Er(this.i,this.l,ce,"[Invalid Chunk]"),b=!1;break}else Er(this.i,this.l,pn,null),Qn(this,pn);if(wr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kt!=4||ce.length!=0||this.h.h||(this.s=1,Mt(16),b=!1),this.o=this.o&&b,!b)Er(this.i,this.l,ce,"[Invalid Chunked Response]"),qn(this),Yn(this);else if(0<ce.length&&!this.W){this.W=!0;var rn=this.j;rn.g==this&&rn.ba&&!rn.M&&(rn.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),Ba(rn),rn.M=!0,Mt(11))}}else Er(this.i,this.l,ce,null),Qn(this,ce);Kt==4&&qn(this),this.o&&!this.J&&(Kt==4?hd(this.j,this):(this.o=!1,_t(this)))}else Hm(this.g),b==400&&0<ce.indexOf("Unknown SID")?(this.s=3,Mt(12)):(this.s=0,Mt(13)),qn(this),Yn(this)}}}catch{}finally{}};function wr(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function br(p,E){var b=p.C,M=E.indexOf(`
`,b);return M==-1?Na:(b=Number(E.substring(b,M)),isNaN(b)?Tr:(M+=1,M+b>E.length?Na:(E=E.slice(M,M+b),p.C=M+b,E)))}Gi.prototype.cancel=function(){this.J=!0,qn(this)};function _t(p){p.S=Date.now()+p.I,Su(p,p.I)}function Su(p,E){if(p.B!=null)throw Error("WatchDog timer not null");p.B=vr(_(p.ba,p),E)}function ko(p){p.B&&(c.clearTimeout(p.B),p.B=null)}Gi.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(qi(this.i,this.A),this.L!=2&&(yr(),Mt(17)),qn(this),this.s=2,Yn(this)):Su(this,this.S-p)};function Yn(p){p.j.G==0||p.J||hd(p.j,p)}function qn(p){ko(p);var E=p.M;E&&typeof E.ma=="function"&&E.ma(),p.M=null,xn(p.U),p.g&&(E=p.g,p.g=null,E.abort(),E.ma())}function Qn(p,E){try{var b=p.j;if(b.G!=0&&(b.g==p||Sr(b.h,p))){if(!p.K&&Sr(b.h,p)&&b.G==3){try{var M=b.Da.g.parse(E)}catch{M=null}if(Array.isArray(M)&&M.length==3){var W=M;if(W[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<p.F)Go(b),Ho(b);else break e;ku(b),Mt(18)}}else b.za=W[1],0<b.za-b.T&&37500>W[2]&&b.F&&b.v==0&&!b.C&&(b.C=vr(_(b.Za,b),6e3));if(1>=td(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else Ns(b,11)}else if((p.K||b.g==p)&&Go(b),!I(E))for(W=b.Da.g.parse(E),E=0;E<W.length;E++){let Qe=W[E];if(b.T=Qe[0],Qe=Qe[1],b.G==2)if(Qe[0]=="c"){b.K=Qe[1],b.ia=Qe[2];const rn=Qe[3];rn!=null&&(b.la=rn,b.j.info("VER="+b.la));const Kt=Qe[4];Kt!=null&&(b.Aa=Kt,b.j.info("SVER="+b.Aa));const Ps=Qe[5];Ps!=null&&typeof Ps=="number"&&0<Ps&&(M=1.5*Ps,b.L=M,b.j.info("backChannelRequestTimeoutMs_="+M)),M=b;const pn=p.g;if(pn){const Zi=pn.g?pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zi){var X=M.h;X.g||Zi.indexOf("spdy")==-1&&Zi.indexOf("quic")==-1&&Zi.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(xr(X,X.h),X.h=null))}if(M.D){const Vu=pn.g?pn.g.getResponseHeader("X-HTTP-Session-Id"):null;Vu&&(M.ya=Vu,tt(M.I,M.D,Vu))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-p.F,b.j.info("Handshake RTT: "+b.R+"ms")),M=b;var ce=p;if(M.qa=fd(M,M.J?M.ia:null,M.W),ce.K){ui(M.h,ce);var Ye=ce,$t=M.L;$t&&(Ye.I=$t),Ye.B&&(ko(Ye),_t(Ye)),M.g=ce}else ud(M);0<b.i.length&&qo(b)}else Qe[0]!="stop"&&Qe[0]!="close"||Ns(b,7);else b.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?Ns(b,7):Mu(b):Qe[0]!="noop"&&b.l&&b.l.ta(Qe),b.v=0)}}yr(4)}catch{}}var jm=class{constructor(p,E){this.g=p,this.map=E}};function xu(p){this.l=p||10,c.PerformanceNavigationTiming?(p=c.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Cu(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function td(p){return p.h?1:p.g?p.g.size:0}function Sr(p,E){return p.h?p.h==E:p.g?p.g.has(E):!1}function xr(p,E){p.g?p.g.add(E):p.h=E}function ui(p,E){p.h&&p.h==E?p.h=null:p.g&&p.g.has(E)&&p.g.delete(E)}xu.prototype.cancel=function(){if(this.i=kn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function kn(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let E=p.i;for(const b of p.g.values())E=E.concat(b.D);return E}return O(p.i)}function nd(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(h(p)){for(var E=[],b=p.length,M=0;M<b;M++)E.push(p[M]);return E}E=[],b=0;for(M in p)E[b++]=p[M];return E}function Um(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(h(p)||typeof p=="string"){var E=[];p=p.length;for(var b=0;b<p;b++)E.push(b);return E}E=[],b=0;for(const M in p)E[b++]=M;return E}}}function Pa(p,E){if(p.forEach&&typeof p.forEach=="function")p.forEach(E,void 0);else if(h(p)||typeof p=="string")Array.prototype.forEach.call(p,E,void 0);else for(var b=Um(p),M=nd(p),W=M.length,X=0;X<W;X++)E.call(void 0,M[X],b&&b[X],p)}var Au=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lo(p,E){if(p){p=p.split("&");for(var b=0;b<p.length;b++){var M=p[b].indexOf("="),W=null;if(0<=M){var X=p[b].substring(0,M);W=p[b].substring(M+1)}else X=p[b];E(X,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function xs(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof xs){this.h=p.h,Cr(this,p.j),this.o=p.o,this.g=p.g,Da(this,p.s),this.l=p.l;var E=p.i,b=new $i;b.i=E.i,E.g&&(b.g=new Map(E.g),b.h=E.h),Vo(this,b),this.m=p.m}else p&&(E=String(p).match(Au))?(this.h=!1,Cr(this,E[1]||"",!0),this.o=Ar(E[2]||""),this.g=Ar(E[3]||"",!0),Da(this,E[4]),this.l=Ar(E[5]||"",!0),Vo(this,E[6]||"",!0),this.m=Ar(E[7]||"")):(this.h=!1,this.i=new $i(null,this.h))}xs.prototype.toString=function(){var p=[],E=this.j;E&&p.push(ci(E,Ru,!0),":");var b=this.g;return(b||E=="file")&&(p.push("//"),(E=this.o)&&p.push(ci(E,Ru,!0),"@"),p.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&p.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&p.push("/"),p.push(ci(b,b.charAt(0)=="/"?Iu:id,!0))),(b=this.i.toString())&&p.push("?",b),(b=this.m)&&p.push("#",ci(b,Fm)),p.join("")};function Ct(p){return new xs(p)}function Cr(p,E,b){p.j=b?Ar(E,!0):E,p.j&&(p.j=p.j.replace(/:$/,""))}function Da(p,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);p.s=E}else p.s=null}function Vo(p,E,b){E instanceof $i?(p.i=E,Nu(p.i,p.h)):(b||(E=ci(E,zm)),p.i=new $i(E,p.h))}function tt(p,E,b){p.i.set(E,b)}function Ma(p){return tt(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function Ar(p,E){return p?E?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function ci(p,E,b){return typeof p=="string"?(p=encodeURI(p).replace(E,Bm),b&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Bm(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Ru=/[#\/\?@]/g,id=/[#\?:]/g,Iu=/[#\?]/g,zm=/[#\?@]/g,Fm=/#/g;function $i(p,E){this.h=this.g=null,this.i=p||null,this.j=!!E}function hi(p){p.g||(p.g=new Map,p.h=0,p.i&&Lo(p.i,function(E,b){p.add(decodeURIComponent(E.replace(/\+/g," ")),b)}))}n=$i.prototype,n.add=function(p,E){hi(this),this.i=null,p=Rs(this,p);var b=this.g.get(p);return b||this.g.set(p,b=[]),b.push(E),this.h+=1,this};function jo(p,E){hi(p),E=Rs(p,E),p.g.has(E)&&(p.i=null,p.h-=p.g.get(E).length,p.g.delete(E))}function Cs(p,E){return hi(p),E=Rs(p,E),p.g.has(E)}n.forEach=function(p,E){hi(this),this.g.forEach(function(b,M){b.forEach(function(W){p.call(E,W,M,this)},this)},this)},n.na=function(){hi(this);const p=Array.from(this.g.values()),E=Array.from(this.g.keys()),b=[];for(let M=0;M<E.length;M++){const W=p[M];for(let X=0;X<W.length;X++)b.push(E[M])}return b},n.V=function(p){hi(this);let E=[];if(typeof p=="string")Cs(this,p)&&(E=E.concat(this.g.get(Rs(this,p))));else{p=Array.from(this.g.values());for(let b=0;b<p.length;b++)E=E.concat(p[b])}return E},n.set=function(p,E){return hi(this),this.i=null,p=Rs(this,p),Cs(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[E]),this.h+=1,this},n.get=function(p,E){return p?(p=this.V(p),0<p.length?String(p[0]):E):E};function As(p,E,b){jo(p,E),0<b.length&&(p.i=null,p.g.set(Rs(p,E),O(b)),p.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],E=Array.from(this.g.keys());for(var b=0;b<E.length;b++){var M=E[b];const X=encodeURIComponent(String(M)),ce=this.V(M);for(M=0;M<ce.length;M++){var W=X;ce[M]!==""&&(W+="="+encodeURIComponent(String(ce[M]))),p.push(W)}}return this.i=p.join("&")};function Rs(p,E){return E=String(E),p.j&&(E=E.toLowerCase()),E}function Nu(p,E){E&&!p.j&&(hi(p),p.i=null,p.g.forEach(function(b,M){var W=M.toLowerCase();M!=W&&(jo(this,M),As(this,W,b))},p)),p.j=E}function sd(p,E){const b=new _r;if(c.Image){const M=new Image;M.onload=w(di,b,"TestLoadImage: loaded",!0,E,M),M.onerror=w(di,b,"TestLoadImage: error",!1,E,M),M.onabort=w(di,b,"TestLoadImage: abort",!1,E,M),M.ontimeout=w(di,b,"TestLoadImage: timeout",!1,E,M),c.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=p}else E(!1)}function Oa(p,E){const b=new _r,M=new AbortController,W=setTimeout(()=>{M.abort(),di(b,"TestPingServer: timeout",!1,E)},1e4);fetch(p,{signal:M.signal}).then(X=>{clearTimeout(W),X.ok?di(b,"TestPingServer: ok",!0,E):di(b,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(W),di(b,"TestPingServer: error",!1,E)})}function di(p,E,b,M,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),M(b)}catch{}}function ka(){this.g=new On}function Ki(p,E,b){const M=b||"";try{Pa(p,function(W,X){let ce=W;f(W)&&(ce=Eu(W)),E.push(M+X+"="+encodeURIComponent(ce))})}catch(W){throw E.push(M+"type="+encodeURIComponent("_badmap")),W}}function Rr(p){this.l=p.Ub||null,this.j=p.eb||!1}x(Rr,Tu),Rr.prototype.g=function(){return new Is(this.l,this.j)},Rr.prototype.i=function(p){return function(){return p}}({});function Is(p,E){qt.call(this),this.D=p,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Is,qt),n=Is.prototype,n.open=function(p,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=E,this.readyState=1,Yi(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(E.body=p),(this.D||c).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wi(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Yi(this)),this.g&&(this.readyState=3,Yi(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pu(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function Pu(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var E=p.value?p.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!p.done}))&&(this.response=this.responseText+=E)}p.done?Wi(this):Yi(this),this.readyState==3&&Pu(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,Wi(this))},n.Qa=function(p){this.g&&(this.response=p,Wi(this))},n.ga=function(){this.g&&Wi(this)};function Wi(p){p.readyState=4,p.l=null,p.j=null,p.v=null,Yi(p)}n.setRequestHeader=function(p,E){this.u.append(p,E)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],E=this.h.entries();for(var b=E.next();!b.done;)b=b.value,p.push(b[0]+": "+b[1]),b=E.next();return p.join(`\r
`)};function Yi(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Is.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Du(p){let E="";return Z(p,function(b,M){E+=M,E+=":",E+=b,E+=`\r
`}),E}function sn(p,E,b){e:{for(M in b){var M=!1;break e}M=!0}M||(b=Du(b),typeof p=="string"?b!=null&&encodeURIComponent(String(b)):tt(p,E,b))}function rt(p){qt.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(rt,qt);var Uo=/^https?$/i,La=["POST","PUT"];n=rt.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,E,b,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);E=E?E.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ia.g(),this.v=this.o?Qh(this.o):Qh(Ia),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(E,String(p),!0),this.B=!1}catch(X){rd(this,X);return}if(p=b||"",b=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var W in M)b.set(W,M[W]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const X of M.keys())b.set(X,M.get(X));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(b.keys()).find(X=>X.toLowerCase()=="content-type"),W=c.FormData&&p instanceof c.FormData,!(0<=Array.prototype.indexOf.call(La,E,void 0))||M||W||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ce]of b)this.g.setRequestHeader(X,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Va(this),this.u=!0,this.g.send(p),this.u=!1}catch(X){rd(this,X)}};function rd(p,E){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=E,p.m=5,Bo(p),Qi(p)}function Bo(p){p.A||(p.A=!0,tn(p,"complete"),tn(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,tn(this,"complete"),tn(this,"abort"),Qi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qi(this,!0)),rt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?zo(this):this.bb())},n.bb=function(){zo(this)};function zo(p){if(p.h&&typeof l<"u"&&(!p.v[1]||fi(p)!=4||p.Z()!=2)){if(p.u&&fi(p)==4)Yh(p.Ea,0,p);else if(tn(p,"readystatechange"),fi(p)==4){p.h=!1;try{const ce=p.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var b;if(!(b=E)){var M;if(M=ce===0){var W=String(p.D).match(Au)[1]||null;!W&&c.self&&c.self.location&&(W=c.self.location.protocol.slice(0,-1)),M=!Uo.test(W?W.toLowerCase():"")}b=M}if(b)tn(p,"complete"),tn(p,"success");else{p.m=6;try{var X=2<fi(p)?p.g.statusText:""}catch{X=""}p.l=X+" ["+p.Z()+"]",Bo(p)}}finally{Qi(p)}}}}function Qi(p,E){if(p.g){Va(p);const b=p.g,M=p.v[0]?()=>{}:null;p.g=null,p.v=null,E||tn(p,"ready");try{b.onreadystatechange=M}catch{}}}function Va(p){p.I&&(c.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function fi(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<fi(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var E=this.g.responseText;return p&&E.indexOf(p)==0&&(E=E.substring(p.length)),Fi(E)}};function ad(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Hm(p){const E={};p=(p.g&&2<=fi(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<p.length;M++){if(I(p[M]))continue;var b=j(p[M]);const W=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const X=E[W]||[];E[W]=X,X.push(b)}k(E,function(M){return M.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ja(p,E,b){return b&&b.internalChannelParams&&b.internalChannelParams[p]||E}function Fo(p){this.Aa=0,this.i=[],this.j=new _r,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ja("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ja("baseRetryDelayMs",5e3,p),this.cb=ja("retryDelaySeedMs",1e4,p),this.Wa=ja("forwardChannelMaxRetries",2,p),this.wa=ja("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new xu(p&&p.concurrentRequestLimit),this.Da=new ka,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Fo.prototype,n.la=8,n.G=1,n.connect=function(p,E,b,M){Mt(0),this.W=p,this.H=E||{},b&&M!==void 0&&(this.H.OSID=b,this.H.OAID=M),this.F=this.X,this.I=fd(this,null,this.W),qo(this)};function Mu(p){if(od(p),p.G==3){var E=p.U++,b=Ct(p.I);if(tt(b,"SID",p.K),tt(b,"RID",E),tt(b,"TYPE","terminate"),Ua(p,b),E=new Gi(p,p.j,E),E.L=2,E.v=Ma(Ct(b)),b=!1,c.navigator&&c.navigator.sendBeacon)try{b=c.navigator.sendBeacon(E.v.toString(),"")}catch{}!b&&c.Image&&(new Image().src=E.v,b=!0),b||(E.g=pd(E.j,null),E.g.ea(E.v)),E.F=Date.now(),_t(E)}dd(p)}function Ho(p){p.g&&(Ba(p),p.g.cancel(),p.g=null)}function od(p){Ho(p),p.u&&(c.clearTimeout(p.u),p.u=null),Go(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&c.clearTimeout(p.s),p.s=null)}function qo(p){if(!Cu(p.h)&&!p.s){p.s=!0;var E=p.Ga;he||F(),re||(he(),re=!0),ye.add(E,p),p.B=0}}function qm(p,E){return td(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=E.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=vr(_(p.Ga,p,E),Lu(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const W=new Gi(this,this.j,p);let X=this.o;if(this.S&&(X?(X=A(X),R(X,this.S)):X=this.S),this.m!==null||this.O||(W.H=X,X=null),this.P)e:{for(var E=0,b=0;b<this.i.length;b++){t:{var M=this.i[b];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(E+=M,4096<E){E=b;break e}if(E===4096||b===this.i.length-1){E=b+1;break e}}E=1e3}else E=1e3;E=ld(this,W,E),b=Ct(this.I),tt(b,"RID",p),tt(b,"CVER",22),this.D&&tt(b,"X-HTTP-Session-Id",this.D),Ua(this,b),X&&(this.O?E="headers="+encodeURIComponent(String(Du(X)))+"&"+E:this.m&&sn(b,this.m,X)),xr(this.h,W),this.Ua&&tt(b,"TYPE","init"),this.P?(tt(b,"$req",E),tt(b,"SID","null"),W.T=!0,Ni(W,b,null)):Ni(W,b,E),this.G=2}}else this.G==3&&(p?Ou(this,p):this.i.length==0||Cu(this.h)||Ou(this))};function Ou(p,E){var b;E?b=E.l:b=p.U++;const M=Ct(p.I);tt(M,"SID",p.K),tt(M,"RID",b),tt(M,"AID",p.T),Ua(p,M),p.m&&p.o&&sn(M,p.m,p.o),b=new Gi(p,p.j,b,p.B+1),p.m===null&&(b.H=p.o),E&&(p.i=E.D.concat(p.i)),E=ld(p,b,1e3),b.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),xr(p.h,b),Ni(b,M,E)}function Ua(p,E){p.H&&Z(p.H,function(b,M){tt(E,M,b)}),p.l&&Pa({},function(b,M){tt(E,M,b)})}function ld(p,E,b){b=Math.min(p.i.length,b);var M=p.l?_(p.l.Na,p.l,p):null;e:{var W=p.i;let X=-1;for(;;){const ce=["count="+b];X==-1?0<b?(X=W[0].g,ce.push("ofs="+X)):X=0:ce.push("ofs="+X);let Ye=!0;for(let $t=0;$t<b;$t++){let Qe=W[$t].g;const rn=W[$t].map;if(Qe-=X,0>Qe)X=Math.max(0,W[$t].g-100),Ye=!1;else try{Ki(rn,ce,"req"+Qe+"_")}catch{M&&M(rn)}}if(Ye){M=ce.join("&");break e}}}return p=p.i.splice(0,b),E.D=p,M}function ud(p){if(!p.g&&!p.u){p.Y=1;var E=p.Fa;he||F(),re||(he(),re=!0),ye.add(E,p),p.v=0}}function ku(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=vr(_(p.Fa,p),Lu(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,cd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=vr(_(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Mt(10),Ho(this),cd(this))};function Ba(p){p.A!=null&&(c.clearTimeout(p.A),p.A=null)}function cd(p){p.g=new Gi(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var E=Ct(p.qa);tt(E,"RID","rpc"),tt(E,"SID",p.K),tt(E,"AID",p.T),tt(E,"CI",p.F?"0":"1"),!p.F&&p.ja&&tt(E,"TO",p.ja),tt(E,"TYPE","xmlhttp"),Ua(p,E),p.m&&p.o&&sn(E,p.m,p.o),p.L&&(p.g.I=p.L);var b=p.g;p=p.ia,b.L=1,b.v=Ma(Ct(E)),b.m=null,b.P=!0,Ss(b,p)}n.Za=function(){this.C!=null&&(this.C=null,Ho(this),ku(this),Mt(19))};function Go(p){p.C!=null&&(c.clearTimeout(p.C),p.C=null)}function hd(p,E){var b=null;if(p.g==E){Go(p),Ba(p),p.g=null;var M=2}else if(Sr(p.h,E))b=E.D,ui(p.h,E),M=1;else return;if(p.G!=0){if(E.o)if(M==1){b=E.m?E.m.length:0,E=Date.now()-E.F;var W=p.B;M=Do(),tn(M,new Zh(M,b)),qo(p)}else ud(p);else if(W=E.s,W==3||W==0&&0<E.X||!(M==1&&qm(p,E)||M==2&&ku(p)))switch(b&&0<b.length&&(E=p.h,E.i=E.i.concat(b)),W){case 1:Ns(p,5);break;case 4:Ns(p,10);break;case 3:Ns(p,6);break;default:Ns(p,2)}}}function Lu(p,E){let b=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(b*=2),b*E}function Ns(p,E){if(p.j.info("Error code "+E),E==2){var b=_(p.fb,p),M=p.Xa;const W=!M;M=new xs(M||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Cr(M,"https"),Ma(M),W?sd(M.toString(),b):Oa(M.toString(),b)}else Mt(2);p.G=0,p.l&&p.l.sa(E),dd(p),od(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),Mt(2)):(this.j.info("Failed to ping google.com"),Mt(1))};function dd(p){if(p.G=0,p.ka=[],p.l){const E=kn(p.h);(E.length!=0||p.i.length!=0)&&(V(p.ka,E),V(p.ka,p.i),p.h.i.length=0,O(p.i),p.i.length=0),p.l.ra()}}function fd(p,E,b){var M=b instanceof xs?Ct(b):new xs(b);if(M.g!="")E&&(M.g=E+"."+M.g),Da(M,M.s);else{var W=c.location;M=W.protocol,E=E?E+"."+W.hostname:W.hostname,W=+W.port;var X=new xs(null);M&&Cr(X,M),E&&(X.g=E),W&&Da(X,W),b&&(X.l=b),M=X}return b=p.D,E=p.ya,b&&E&&tt(M,b,E),tt(M,"VER",p.la),Ua(p,M),M}function pd(p,E,b){if(E&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=p.Ca&&!p.pa?new rt(new Rr({eb:b})):new rt(p.pa),E.Ha(p.J),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function md(){}n=md.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function $o(){}$o.prototype.g=function(p,E){return new Ln(p,E)};function Ln(p,E){qt.call(this),this.g=new Fo(E),this.l=p,this.h=E&&E.messageUrlParams||null,p=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(p?p["X-WebChannel-Content-Type"]=E.messageContentType:p={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(p?p["X-WebChannel-Client-Profile"]=E.va:p={"X-WebChannel-Client-Profile":E.va}),this.g.S=p,(p=E&&E.Sb)&&!I(p)&&(this.g.m=p),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!I(E)&&(this.g.D=E,p=this.h,p!==null&&E in p&&(p=this.h,E in p&&delete p[E])),this.j=new Xi(this)}x(Ln,qt),Ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ln.prototype.close=function(){Mu(this.g)},Ln.prototype.o=function(p){var E=this.g;if(typeof p=="string"){var b={};b.__data__=p,p=b}else this.u&&(b={},b.__data__=Eu(p),p=b);E.i.push(new jm(E.Ya++,p)),E.G==3&&qo(E)},Ln.prototype.N=function(){this.g.l=null,delete this.j,Mu(this.g),delete this.g,Ln.aa.N.call(this)};function gd(p){mr.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var E=p.__sm__;if(E){e:{for(const b in E){p=b;break e}p=void 0}(this.i=p)&&(p=this.i,E=E!==null&&p in E?E[p]:void 0),this.data=E}else this.data=p}x(gd,mr);function yd(){Ii.call(this),this.status=1}x(yd,Ii);function Xi(p){this.g=p}x(Xi,md),Xi.prototype.ua=function(){tn(this.g,"a")},Xi.prototype.ta=function(p){tn(this.g,new gd(p))},Xi.prototype.sa=function(p){tn(this.g,new yd)},Xi.prototype.ra=function(){tn(this.g,"b")},$o.prototype.createWebChannel=$o.prototype.g,Ln.prototype.send=Ln.prototype.o,Ln.prototype.open=Ln.prototype.m,Ln.prototype.close=Ln.prototype.close,sN=function(){return new $o},iN=function(){return Do()},nN=li,f_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Gt.NO_ERROR=0,Gt.TIMEOUT=8,Gt.HTTP_ERROR=6,Ff=Gt,bs.COMPLETE="complete",tN=bs,Xh.EventType=Hi,Hi.OPEN="a",Hi.CLOSE="b",Hi.ERROR="c",Hi.MESSAGE="d",qt.prototype.listen=qt.prototype.K,jc=Xh,rt.prototype.listenOnce=rt.prototype.L,rt.prototype.getLastError=rt.prototype.Ka,rt.prototype.getLastErrorCode=rt.prototype.Ba,rt.prototype.getStatus=rt.prototype.Z,rt.prototype.getResponseJson=rt.prototype.Oa,rt.prototype.getResponseText=rt.prototype.oa,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Ha,eN=rt}).apply(typeof bf<"u"?bf:typeof self<"u"?self:typeof window<"u"?window:{});const Qx="@firebase/firestore",Xx="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nn.UNAUTHENTICATED=new Nn(null),Nn.GOOGLE_CREDENTIALS=new Nn("google-credentials-uid"),Nn.FIRST_PARTY=new Nn("first-party-uid"),Nn.MOCK_USER=new Nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mu="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=new nm("@firebase/firestore");function El(){return Eo.logLevel}function me(n,...e){if(Eo.logLevel<=Fe.DEBUG){const t=e.map(gE);Eo.debug(`Firestore (${mu}): ${n}`,...t)}}function lr(n,...e){if(Eo.logLevel<=Fe.ERROR){const t=e.map(gE);Eo.error(`Firestore (${mu}): ${n}`,...t)}}function Xl(n,...e){if(Eo.logLevel<=Fe.WARN){const t=e.map(gE);Eo.warn(`Firestore (${mu}): ${n}`,...t)}}function gE(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(n="Unexpected state"){const e=`FIRESTORE (${mu}) INTERNAL ASSERTION FAILED: `+n;throw lr(e),new Error(e)}function at(n,e){n||Ie()}function De(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends dr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $U{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Nn.UNAUTHENTICATED))}shutdown(){}}class KU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class WU{constructor(e){this.t=e,this.currentUser=Nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){at(this.o===void 0);let i=this.i;const s=h=>this.i!==i?(i=this.i,t(h)):Promise.resolve();let o=new ua;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ua,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const h=o;e.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},c=h=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ua)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(at(typeof i.accessToken=="string"),new rN(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string"),new Nn(e)}}class YU{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Nn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class QU{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new YU(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Zx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XU{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Ci(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){at(this.o===void 0);const i=o=>{o.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,me("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const s=o=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?s(o):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Zx(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(at(typeof t.token=="string"),this.R=t.token,new Zx(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZU(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=ZU(40);for(let o=0;o<s.length;++o)i.length<20&&s[o]<t&&(i+=e.charAt(s[o]%62))}return i}}function Ke(n,e){return n<e?-1:n>e?1:0}function Zl(n,e,t){return n.length===e.length&&n.every((i,s)=>t(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx=-62135596800,eC=1e6;class Zt{static now(){return Zt.fromMillis(Date.now())}static fromDate(e){return Zt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*eC);return new Zt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new be(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new be(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Jx)throw new be(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/eC}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Jx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new Zt(0,0))}static max(){return new Ne(new Zt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC="__name__";class ss{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ie(),i===void 0?i=e.length-t:i>e.length-t&&Ie(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return ss.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ss?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let s=0;s<i;s++){const o=ss.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return Math.sign(e.length-t.length)}static compareSegments(e,t){const i=ss.isNumericId(e),s=ss.isNumericId(t);return i&&!s?-1:!i&&s?1:i&&s?ss.extractNumericId(e).compare(ss.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return la.fromString(e.substring(4,e.length-2))}}class vt extends ss{construct(e,t,i){return new vt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new be(oe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(s=>s.length>0))}return new vt(t)}static emptyPath(){return new vt([])}}const JU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tn extends ss{construct(e,t,i){return new Tn(e,t,i)}static isValidIdentifier(e){return JU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tC}static keyField(){return new Tn([tC])}static fromServerFormat(e){const t=[];let i="",s=0;const o=()=>{if(i.length===0)throw new be(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let l=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new be(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new be(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(i+=c,s++):(o(),s++)}if(o(),l)throw new be(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tn(t)}static emptyPath(){return new Tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(vt.fromString(e))}static fromName(e){return new Se(vt.fromString(e).popFirst(5))}static empty(){return new Se(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return vt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new vt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh=-1;function eB(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=Ne.fromTimestamp(i===1e9?new Zt(t+1,0):new Zt(t,i));return new ya(s,Se.empty(),e)}function tB(n){return new ya(n.readTime,n.key,Eh)}class ya{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ya(Ne.min(),Se.empty(),Eh)}static max(){return new ya(Ne.max(),Se.empty(),Eh)}}function nB(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Se.comparator(n.documentKey,e.documentKey),t!==0?t:Ke(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gu(n){if(n.code!==oe.FAILED_PRECONDITION||n.message!==iB)throw n;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne((i,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.reject(t)}static resolve(e){return new ne((t,i)=>{t(e)})}static reject(e){return new ne((t,i)=>{i(e)})}static waitFor(e){return new ne((t,i)=>{let s=0,o=0,l=!1;e.forEach(c=>{++s,c.next(()=>{++o,l&&o===s&&t()},h=>i(h))}),l=!0,o===s&&t()})}static or(e){let t=ne.resolve(!1);for(const i of e)t=t.next(s=>s?ne.resolve(s):i());return t}static forEach(e,t){const i=[];return e.forEach((s,o)=>{i.push(t.call(this,s,o))}),this.waitFor(i)}static mapArray(e,t){return new ne((i,s)=>{const o=e.length,l=new Array(o);let c=0;for(let h=0;h<o;h++){const f=h;t(e[f]).next(g=>{l[f]=g,++c,c===o&&i(l)},g=>s(g))}})}static doWhile(e,t){return new ne((i,s)=>{const o=()=>{e()===!0?t().next(()=>{o()},s):i()};o()})}}function rB(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function yu(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.oe(i),this._e=i=>t.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}_m.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE=-1;function Em(n){return n==null}function Rp(n){return n===0&&1/n==-1/0}function aB(n){return typeof n=="number"&&Number.isInteger(n)&&!Rp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN="";function oB(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=nC(e)),e=lB(n.get(t),e);return nC(e)}function lB(n,e){let t=e;const i=n.length;for(let s=0;s<i;s++){const o=n.charAt(s);switch(o){case"\0":t+="";break;case oN:t+="";break;default:t+=o}}return t}function nC(n){return n+oN+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ca(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function lN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,t){this.comparator=e,this.root=t||_n.EMPTY}insert(e,t){return new St(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return t+i.left.size;s<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sf(this.root,e,this.comparator,!0)}}class Sf{constructor(e,t,i,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _n{constructor(e,t,i,s,o){this.key=e,this.value=t,this.color=i??_n.RED,this.left=s??_n.EMPTY,this.right=o??_n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,s,o){return new _n(e??this.key,t??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const o=i(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,i),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return _n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return _n.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ie();const e=this.left.check();if(e!==this.right.check())throw Ie();return e+(this.isRed()?0:1)}}_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie()}get value(){throw Ie()}get color(){throw Ie()}get left(){throw Ie()}get right(){throw Ie()}copy(e,t,i,s,o){return this}insert(e,t,i){return new _n(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new sC(this.data.getIterator())}getIteratorFrom(e){return new sC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=i.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Jt(this.comparator);return t.data=e,t}}class sC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this.fields=e,e.sort(Tn.comparator)}static empty(){return new si([])}unionWith(e){let t=new Jt(Tn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new si(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Zl(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new uN("Invalid base64 string: "+o):o}}(e);return new bn(t)}static fromUint8Array(e){const t=function(s){let o="";for(let l=0;l<s.length;++l)o+=String.fromCharCode(s[l]);return o}(e);return new bn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bn.EMPTY_BYTE_STRING=new bn("");const uB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function va(n){if(at(!!n),typeof n=="string"){let e=0;const t=uB.exec(n);if(at(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Lt(n.seconds),nanos:Lt(n.nanos)}}function Lt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function _a(n){return typeof n=="string"?bn.fromBase64String(n):bn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN="server_timestamp",hN="__type__",dN="__previous_value__",fN="__local_write_time__";function vE(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[hN])===null||t===void 0?void 0:t.stringValue)===cN}function Tm(n){const e=n.mapValue.fields[dN];return vE(e)?Tm(e):e}function Th(n){const e=va(n.mapValue.fields[fN].timestampValue);return new Zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(e,t,i,s,o,l,c,h,f){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=s,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=f}}const Ip="(default)";class wh{constructor(e,t){this.projectId=e,this.database=t||Ip}static empty(){return new wh("","")}get isDefaultDatabase(){return this.database===Ip}isEqual(e){return e instanceof wh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN="__type__",hB="__max__",xf={mapValue:{}},mN="__vector__",Np="value";function Ea(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?vE(n)?4:fB(n)?9007199254740991:dB(n)?10:11:Ie()}function ys(n,e){if(n===e)return!0;const t=Ea(n);if(t!==Ea(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Th(n).isEqual(Th(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const l=va(s.timestampValue),c=va(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,o){return _a(s.bytesValue).isEqual(_a(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,o){return Lt(s.geoPointValue.latitude)===Lt(o.geoPointValue.latitude)&&Lt(s.geoPointValue.longitude)===Lt(o.geoPointValue.longitude)}(n,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return Lt(s.integerValue)===Lt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const l=Lt(s.doubleValue),c=Lt(o.doubleValue);return l===c?Rp(l)===Rp(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return Zl(n.arrayValue.values||[],e.arrayValue.values||[],ys);case 10:case 11:return function(s,o){const l=s.mapValue.fields||{},c=o.mapValue.fields||{};if(iC(l)!==iC(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!ys(l[h],c[h])))return!1;return!0}(n,e);default:return Ie()}}function bh(n,e){return(n.values||[]).find(t=>ys(t,e))!==void 0}function Jl(n,e){if(n===e)return 0;const t=Ea(n),i=Ea(e);if(t!==i)return Ke(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ke(n.booleanValue,e.booleanValue);case 2:return function(o,l){const c=Lt(o.integerValue||o.doubleValue),h=Lt(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,e);case 3:return rC(n.timestampValue,e.timestampValue);case 4:return rC(Th(n),Th(e));case 5:return Ke(n.stringValue,e.stringValue);case 6:return function(o,l){const c=_a(o),h=_a(l);return c.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const c=o.split("/"),h=l.split("/");for(let f=0;f<c.length&&f<h.length;f++){const g=Ke(c[f],h[f]);if(g!==0)return g}return Ke(c.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const c=Ke(Lt(o.latitude),Lt(l.latitude));return c!==0?c:Ke(Lt(o.longitude),Lt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return aC(n.arrayValue,e.arrayValue);case 10:return function(o,l){var c,h,f,g;const v=o.fields||{},_=l.fields||{},w=(c=v[Np])===null||c===void 0?void 0:c.arrayValue,x=(h=_[Np])===null||h===void 0?void 0:h.arrayValue,O=Ke(((f=w==null?void 0:w.values)===null||f===void 0?void 0:f.length)||0,((g=x==null?void 0:x.values)===null||g===void 0?void 0:g.length)||0);return O!==0?O:aC(w,x)}(n.mapValue,e.mapValue);case 11:return function(o,l){if(o===xf.mapValue&&l===xf.mapValue)return 0;if(o===xf.mapValue)return 1;if(l===xf.mapValue)return-1;const c=o.fields||{},h=Object.keys(c),f=l.fields||{},g=Object.keys(f);h.sort(),g.sort();for(let v=0;v<h.length&&v<g.length;++v){const _=Ke(h[v],g[v]);if(_!==0)return _;const w=Jl(c[h[v]],f[g[v]]);if(w!==0)return w}return Ke(h.length,g.length)}(n.mapValue,e.mapValue);default:throw Ie()}}function rC(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ke(n,e);const t=va(n),i=va(e),s=Ke(t.seconds,i.seconds);return s!==0?s:Ke(t.nanos,i.nanos)}function aC(n,e){const t=n.values||[],i=e.values||[];for(let s=0;s<t.length&&s<i.length;++s){const o=Jl(t[s],i[s]);if(o)return o}return Ke(t.length,i.length)}function eu(n){return p_(n)}function p_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=va(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return _a(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Se.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",s=!0;for(const o of t.values||[])s?s=!1:i+=",",i+=p_(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const l of i)o?o=!1:s+=",",s+=`${l}:${p_(t.fields[l])}`;return s+"}"}(n.mapValue):Ie()}function Hf(n){switch(Ea(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Tm(n);return e?16+Hf(e):16;case 5:return 2*n.stringValue.length;case 6:return _a(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,o)=>s+Hf(o),0)}(n.arrayValue);case 10:case 11:return function(i){let s=0;return Ca(i.fields,(o,l)=>{s+=o.length+Hf(l)}),s}(n.mapValue);default:throw Ie()}}function m_(n){return!!n&&"integerValue"in n}function _E(n){return!!n&&"arrayValue"in n}function oC(n){return!!n&&"nullValue"in n}function lC(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function qf(n){return!!n&&"mapValue"in n}function dB(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[pN])===null||t===void 0?void 0:t.stringValue)===mN}function Qc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ca(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Qc(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Qc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function fB(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===hB}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.value=e}static empty(){return new Kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!qf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qc(t)}setAll(e){let t=Tn.emptyPath(),i={},s=[];e.forEach((l,c)=>{if(!t.isImmediateParentOf(c)){const h=this.getFieldsMap(t);this.applyChanges(h,i,s),i={},s=[],t=c.popLast()}l?i[c.lastSegment()]=Qc(l):s.push(c.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,i,s)}delete(e){const t=this.field(e.popLast());qf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ys(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=t.mapValue.fields[e.get(i)];qf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,i){Ca(t,(s,o)=>e[s]=o);for(const s of i)delete e[s]}clone(){return new Kn(Qc(this.value))}}function gN(n){const e=[];return Ca(n.fields,(t,i)=>{const s=new Tn([t]);if(qf(i)){const o=gN(i.mapValue).fields;if(o.length===0)e.push(s);else for(const l of o)e.push(s.child(l))}else e.push(s)}),new si(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e,t,i,s,o,l,c){this.key=e,this.documentType=t,this.version=i,this.readTime=s,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Pn(e,0,Ne.min(),Ne.min(),Ne.min(),Kn.empty(),0)}static newFoundDocument(e,t,i,s){return new Pn(e,1,t,Ne.min(),i,s,0)}static newNoDocument(e,t){return new Pn(e,2,t,Ne.min(),Ne.min(),Kn.empty(),0)}static newUnknownDocument(e,t){return new Pn(e,3,t,Ne.min(),Ne.min(),Kn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,t){this.position=e,this.inclusive=t}}function uC(n,e,t){let i=0;for(let s=0;s<n.position.length;s++){const o=e[s],l=n.position[s];if(o.field.isKeyField()?i=Se.comparator(Se.fromName(l.referenceValue),t.key):i=Jl(l,t.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function cC(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ys(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,t="asc"){this.field=e,this.dir=t}}function pB(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{}class Xt extends yN{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new gB(e,t,i):t==="array-contains"?new _B(e,i):t==="in"?new EB(e,i):t==="not-in"?new TB(e,i):t==="array-contains-any"?new wB(e,i):new Xt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new yB(e,i):new vB(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Jl(t,this.value)):t!==null&&Ea(this.value)===Ea(t)&&this.matchesComparison(Jl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vs extends yN{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new vs(e,t)}matches(e){return vN(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function vN(n){return n.op==="and"}function _N(n){return mB(n)&&vN(n)}function mB(n){for(const e of n.filters)if(e instanceof vs)return!1;return!0}function g_(n){if(n instanceof Xt)return n.field.canonicalString()+n.op.toString()+eu(n.value);if(_N(n))return n.filters.map(e=>g_(e)).join(",");{const e=n.filters.map(t=>g_(t)).join(",");return`${n.op}(${e})`}}function EN(n,e){return n instanceof Xt?function(i,s){return s instanceof Xt&&i.op===s.op&&i.field.isEqual(s.field)&&ys(i.value,s.value)}(n,e):n instanceof vs?function(i,s){return s instanceof vs&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((o,l,c)=>o&&EN(l,s.filters[c]),!0):!1}(n,e):void Ie()}function TN(n){return n instanceof Xt?function(t){return`${t.field.canonicalString()} ${t.op} ${eu(t.value)}`}(n):n instanceof vs?function(t){return t.op.toString()+" {"+t.getFilters().map(TN).join(" ,")+"}"}(n):"Filter"}class gB extends Xt{constructor(e,t,i){super(e,t,i),this.key=Se.fromName(i.referenceValue)}matches(e){const t=Se.comparator(e.key,this.key);return this.matchesComparison(t)}}class yB extends Xt{constructor(e,t){super(e,"in",t),this.keys=wN("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class vB extends Xt{constructor(e,t){super(e,"not-in",t),this.keys=wN("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function wN(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Se.fromName(i.referenceValue))}class _B extends Xt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return _E(t)&&bh(t.arrayValue,this.value)}}class EB extends Xt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&bh(this.value.arrayValue,t)}}class TB extends Xt{constructor(e,t){super(e,"not-in",t)}matches(e){if(bh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!bh(this.value.arrayValue,t)}}class wB extends Xt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!_E(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>bh(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bB{constructor(e,t=null,i=[],s=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=s,this.limit=o,this.startAt=l,this.endAt=c,this.le=null}}function hC(n,e=null,t=[],i=[],s=null,o=null,l=null){return new bB(n,e,t,i,s,o,l)}function EE(n){const e=De(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>g_(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),Em(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>eu(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>eu(i)).join(",")),e.le=t}return e.le}function TE(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!pB(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!EN(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!cC(n.startAt,e.startAt)&&cC(n.endAt,e.endAt)}function y_(n){return Se.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,t=null,i=[],s=[],o=null,l="F",c=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=s,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=h,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function SB(n,e,t,i,s,o,l,c){return new wm(n,e,t,i,s,o,l,c)}function wE(n){return new wm(n)}function dC(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function xB(n){return n.collectionGroup!==null}function Xc(n){const e=De(n);if(e.he===null){e.he=[];const t=new Set;for(const o of e.explicitOrderBy)e.he.push(o),t.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Jt(Tn.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.he.push(new Dp(o,i))}),t.has(Tn.keyField().canonicalString())||e.he.push(new Dp(Tn.keyField(),i))}return e.he}function fs(n){const e=De(n);return e.Pe||(e.Pe=CB(e,Xc(n))),e.Pe}function CB(n,e){if(n.limitType==="F")return hC(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new Dp(s.field,o)});const t=n.endAt?new Pp(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Pp(n.startAt.position,n.startAt.inclusive):null;return hC(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function v_(n,e,t){return new wm(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function bm(n,e){return TE(fs(n),fs(e))&&n.limitType===e.limitType}function bN(n){return`${EE(fs(n))}|lt:${n.limitType}`}function Tl(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(s=>TN(s)).join(", ")}]`),Em(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>eu(s)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>eu(s)).join(",")),`Target(${i})`}(fs(n))}; limitType=${n.limitType})`}function Sm(n,e){return e.isFoundDocument()&&function(i,s){const o=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Se.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,e)&&function(i,s){for(const o of Xc(i))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(n,e)&&function(i,s){for(const o of i.filters)if(!o.matches(s))return!1;return!0}(n,e)&&function(i,s){return!(i.startAt&&!function(l,c,h){const f=uC(l,c,h);return l.inclusive?f<=0:f<0}(i.startAt,Xc(i),s)||i.endAt&&!function(l,c,h){const f=uC(l,c,h);return l.inclusive?f>=0:f>0}(i.endAt,Xc(i),s))}(n,e)}function AB(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function SN(n){return(e,t)=>{let i=!1;for(const s of Xc(n)){const o=RB(s,e,t);if(o!==0)return o;i=i||s.field.isKeyField()}return 0}}function RB(n,e,t){const i=n.field.isKeyField()?Se.comparator(e.key,t.key):function(o,l,c){const h=l.data.field(o),f=c.data.field(o);return h!==null&&f!==null?Jl(h,f):Ie()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[s,o]of i)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[t]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ca(this.inner,(t,i)=>{for(const[s,o]of i)e(s,o)})}isEmpty(){return lN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IB=new St(Se.comparator);function ur(){return IB}const xN=new St(Se.comparator);function Uc(...n){let e=xN;for(const t of n)e=e.insert(t.key,t);return e}function CN(n){let e=xN;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function ho(){return Zc()}function AN(){return Zc()}function Zc(){return new Io(n=>n.toString(),(n,e)=>n.isEqual(e))}const NB=new St(Se.comparator),PB=new Jt(Se.comparator);function qe(...n){let e=PB;for(const t of n)e=e.add(t);return e}const DB=new Jt(Ke);function MB(){return DB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rp(e)?"-0":e}}function RN(n){return{integerValue:""+n}}function OB(n,e){return aB(e)?RN(e):bE(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(){this._=void 0}}function kB(n,e,t){return n instanceof Mp?function(s,o){const l={fields:{[hN]:{stringValue:cN},[fN]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&vE(o)&&(o=Tm(o)),o&&(l.fields[dN]=o),{mapValue:l}}(t,e):n instanceof Sh?NN(n,e):n instanceof xh?PN(n,e):function(s,o){const l=IN(s,o),c=fC(l)+fC(s.Ie);return m_(l)&&m_(s.Ie)?RN(c):bE(s.serializer,c)}(n,e)}function LB(n,e,t){return n instanceof Sh?NN(n,e):n instanceof xh?PN(n,e):t}function IN(n,e){return n instanceof Op?function(i){return m_(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}class Mp extends xm{}class Sh extends xm{constructor(e){super(),this.elements=e}}function NN(n,e){const t=DN(e);for(const i of n.elements)t.some(s=>ys(s,i))||t.push(i);return{arrayValue:{values:t}}}class xh extends xm{constructor(e){super(),this.elements=e}}function PN(n,e){let t=DN(e);for(const i of n.elements)t=t.filter(s=>!ys(s,i));return{arrayValue:{values:t}}}class Op extends xm{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function fC(n){return Lt(n.integerValue||n.doubleValue)}function DN(n){return _E(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function VB(n,e){return n.field.isEqual(e.field)&&function(i,s){return i instanceof Sh&&s instanceof Sh||i instanceof xh&&s instanceof xh?Zl(i.elements,s.elements,ys):i instanceof Op&&s instanceof Op?ys(i.Ie,s.Ie):i instanceof Mp&&s instanceof Mp}(n.transform,e.transform)}class jB{constructor(e,t){this.version=e,this.transformResults=t}}class Ui{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ui}static exists(e){return new Ui(void 0,e)}static updateTime(e){return new Ui(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Cm{}function MN(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new SE(n.key,Ui.none()):new Fh(n.key,n.data,Ui.none());{const t=n.data,i=Kn.empty();let s=new Jt(Tn.comparator);for(let o of e.fields)if(!s.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?i.delete(o):i.set(o,l),s=s.add(o)}return new Aa(n.key,i,new si(s.toArray()),Ui.none())}}function UB(n,e,t){n instanceof Fh?function(s,o,l){const c=s.value.clone(),h=mC(s.fieldTransforms,o,l.transformResults);c.setAll(h),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Aa?function(s,o,l){if(!Gf(s.precondition,o))return void o.convertToUnknownDocument(l.version);const c=mC(s.fieldTransforms,o,l.transformResults),h=o.data;h.setAll(ON(s)),h.setAll(c),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):function(s,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function Jc(n,e,t,i){return n instanceof Fh?function(o,l,c,h){if(!Gf(o.precondition,l))return c;const f=o.value.clone(),g=gC(o.fieldTransforms,h,l);return f.setAll(g),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(n,e,t,i):n instanceof Aa?function(o,l,c,h){if(!Gf(o.precondition,l))return c;const f=gC(o.fieldTransforms,h,l),g=l.data;return g.setAll(ON(o)),g.setAll(f),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(n,e,t,i):function(o,l,c){return Gf(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(n,e,t)}function BB(n,e){let t=null;for(const i of n.fieldTransforms){const s=e.data.field(i.field),o=IN(i.transform,s||null);o!=null&&(t===null&&(t=Kn.empty()),t.set(i.field,o))}return t||null}function pC(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Zl(i,s,(o,l)=>VB(o,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Fh extends Cm{constructor(e,t,i,s=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Aa extends Cm{constructor(e,t,i,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function ON(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function mC(n,e,t){const i=new Map;at(n.length===t.length);for(let s=0;s<t.length;s++){const o=n[s],l=o.transform,c=e.data.field(o.field);i.set(o.field,LB(l,c,t[s]))}return i}function gC(n,e,t){const i=new Map;for(const s of n){const o=s.transform,l=t.data.field(s.field);i.set(s.field,kB(o,l,e))}return i}class SE extends Cm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zB extends Cm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FB{constructor(e,t,i,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&UB(o,e,i[s])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Jc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Jc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=AN();return this.mutations.forEach(s=>{const o=e.get(s.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=t.has(s.key)?null:c;const h=MN(l,c);h!==null&&i.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(Ne.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),qe())}isEqual(e){return this.batchId===e.batchId&&Zl(this.mutations,e.mutations,(t,i)=>pC(t,i))&&Zl(this.baseMutations,e.baseMutations,(t,i)=>pC(t,i))}}class xE{constructor(e,t,i,s){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=s}static from(e,t,i){at(e.mutations.length===i.length);let s=function(){return NB}();const o=e.mutations;for(let l=0;l<o.length;l++)s=s.insert(o[l].key,i[l].version);return new xE(e,t,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HB{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qB{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt,Ze;function GB(n){switch(n){case oe.OK:return Ie();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Ie()}}function kN(n){if(n===void 0)return lr("GRPC error has no .code"),oe.UNKNOWN;switch(n){case zt.OK:return oe.OK;case zt.CANCELLED:return oe.CANCELLED;case zt.UNKNOWN:return oe.UNKNOWN;case zt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case zt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case zt.INTERNAL:return oe.INTERNAL;case zt.UNAVAILABLE:return oe.UNAVAILABLE;case zt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case zt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case zt.NOT_FOUND:return oe.NOT_FOUND;case zt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case zt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case zt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case zt.ABORTED:return oe.ABORTED;case zt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case zt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case zt.DATA_LOSS:return oe.DATA_LOSS;default:return Ie()}}(Ze=zt||(zt={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $B(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KB=new la([4294967295,4294967295],0);function yC(n){const e=$B().encode(n),t=new JI;return t.update(e),new Uint8Array(t.digest())}function vC(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new la([t,i],0),new la([s,o],0)]}class CE{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Bc(`Invalid padding: ${t}`);if(i<0)throw new Bc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Bc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Bc(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=la.fromNumber(this.Ee)}Ae(e,t,i){let s=e.add(t.multiply(la.fromNumber(i)));return s.compare(KB)===1&&(s=new la([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=yC(e),[i,s]=vC(t);for(let o=0;o<this.hashCount;o++){const l=this.Ae(i,s,o);if(!this.Re(l))return!1}return!0}static create(e,t,i){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new CE(o,s,t);return i.forEach(c=>l.insert(c)),l}insert(e){if(this.Ee===0)return;const t=yC(e),[i,s]=vC(t);for(let o=0;o<this.hashCount;o++){const l=this.Ae(i,s,o);this.Ve(l)}}Ve(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Bc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,t,i,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const s=new Map;return s.set(e,Hh.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Am(Ne.min(),s,new St(Ke),ur(),qe())}}class Hh{constructor(e,t,i,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Hh(i,t,qe(),qe(),qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e,t,i,s){this.me=e,this.removedTargetIds=t,this.key=i,this.fe=s}}class LN{constructor(e,t){this.targetId=e,this.ge=t}}class VN{constructor(e,t,i=bn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=s}}class _C{constructor(){this.pe=0,this.ye=EC(),this.we=bn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=qe(),t=qe(),i=qe();return this.ye.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:i=i.add(s);break;default:Ie()}}),new Hh(this.we,this.Se,e,t,i)}Me(){this.be=!1,this.ye=EC()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,at(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class WB{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ur(),this.$e=Cf(),this.Ke=Cf(),this.Ue=new St(Ke)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(t);break;case 3:this.Je(t)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Ce(e.resumeToken));break;default:Ie()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((i,s)=>{this.Je(s)&&t(s)})}Ze(e){const t=e.targetId,i=e.ge.count,s=this.Xe(t);if(s){const o=s.target;if(y_(o))if(i===0){const l=new Se(o.path);this.ze(t,l,Pn.newNoDocument(l,Ne.min()))}else at(i===1);else{const l=this.et(t);if(l!==i){const c=this.tt(e),h=c?this.nt(c,e,l):1;if(h!==0){this.Ye(t);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,f)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=t;let l,c;try{l=_a(i).toUint8Array()}catch(h){if(h instanceof uN)return Xl("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new CE(l,s,o)}catch(h){return Xl(h instanceof Bc?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.Ee===0?null:c}nt(e,t,i){return t.ge.count===i-this.st(e,t.targetId)?0:2}st(e,t){const i=this.ke.getRemoteKeysForTarget(t);let s=0;return i.forEach(o=>{const l=this.ke.it(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.ze(t,o,null),s++)}),s}ot(e){const t=new Map;this.qe.forEach((o,l)=>{const c=this.Xe(l);if(c){if(o.current&&y_(c.target)){const h=new Se(c.target.path);this._t(h).has(l)||this.ut(l,h)||this.ze(l,h,Pn.newNoDocument(h,e))}o.ve&&(t.set(l,o.Fe()),o.Me())}});let i=qe();this.Ke.forEach((o,l)=>{let c=!0;l.forEachWhile(h=>{const f=this.Xe(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(o))}),this.Qe.forEach((o,l)=>l.setReadTime(e));const s=new Am(e,t,this.Ue,this.Qe,i);return this.Qe=ur(),this.$e=Cf(),this.Ke=Cf(),this.Ue=new St(Ke),s}Ge(e,t){if(!this.Je(e))return;const i=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,i),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const s=this.He(e);this.ut(e,t)?s.xe(t,1):s.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),i&&(this.Qe=this.Qe.insert(t,i))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new _C,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Jt(Ke),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Jt(Ke),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||me("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new _C),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Cf(){return new St(Se.comparator)}function EC(){return new St(Se.comparator)}const YB={asc:"ASCENDING",desc:"DESCENDING"},QB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XB={and:"AND",or:"OR"};class ZB{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function __(n,e){return n.useProto3Json||Em(e)?e:{value:e}}function kp(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jN(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function JB(n,e){return kp(n,e.toTimestamp())}function ps(n){return at(!!n),Ne.fromTimestamp(function(t){const i=va(t);return new Zt(i.seconds,i.nanos)}(n))}function AE(n,e){return E_(n,e).canonicalString()}function E_(n,e){const t=function(s){return new vt(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function UN(n){const e=vt.fromString(n);return at(qN(e)),e}function T_(n,e){return AE(n.databaseId,e.path)}function pv(n,e){const t=UN(e);if(t.get(1)!==n.databaseId.projectId)throw new be(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new be(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Se(zN(t))}function BN(n,e){return AE(n.databaseId,e)}function ez(n){const e=UN(n);return e.length===4?vt.emptyPath():zN(e)}function w_(n){return new vt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function zN(n){return at(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function TC(n,e,t){return{name:T_(n,e),fields:t.value.mapValue.fields}}function tz(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(f,g){return f.useProto3Json?(at(g===void 0||typeof g=="string"),bn.fromBase64String(g||"")):(at(g===void 0||g instanceof Buffer||g instanceof Uint8Array),bn.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(f){const g=f.code===void 0?oe.UNKNOWN:kN(f.code);return new be(g,f.message||"")}(l);t=new VN(i,s,o,c||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=pv(n,i.document.name),o=ps(i.document.updateTime),l=i.document.createTime?ps(i.document.createTime):Ne.min(),c=new Kn({mapValue:{fields:i.document.fields}}),h=Pn.newFoundDocument(s,o,l,c),f=i.targetIds||[],g=i.removedTargetIds||[];t=new $f(f,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=pv(n,i.document),o=i.readTime?ps(i.readTime):Ne.min(),l=Pn.newNoDocument(s,o),c=i.removedTargetIds||[];t=new $f([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=pv(n,i.document),o=i.removedTargetIds||[];t=new $f([],o,s,null)}else{if(!("filter"in e))return Ie();{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:o}=i,l=new qB(s,o),c=i.targetId;t=new LN(c,l)}}return t}function nz(n,e){let t;if(e instanceof Fh)t={update:TC(n,e.key,e.value)};else if(e instanceof SE)t={delete:T_(n,e.key)};else if(e instanceof Aa)t={update:TC(n,e.key,e.data),updateMask:hz(e.fieldMask)};else{if(!(e instanceof zB))return Ie();t={verify:T_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(o,l){const c=l.transform;if(c instanceof Mp)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Sh)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof xh)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Op)return{fieldPath:l.field.canonicalString(),increment:c.Ie};throw Ie()}(0,i))),e.precondition.isNone||(t.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:JB(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ie()}(n,e.precondition)),t}function iz(n,e){return n&&n.length>0?(at(e!==void 0),n.map(t=>function(s,o){let l=s.updateTime?ps(s.updateTime):ps(o);return l.isEqual(Ne.min())&&(l=ps(o)),new jB(l,s.transformResults||[])}(t,e))):[]}function sz(n,e){return{documents:[BN(n,e.path)]}}function rz(n,e){const t={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=BN(n,s);const o=function(f){if(f.length!==0)return HN(vs.create(f,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const l=function(f){if(f.length!==0)return f.map(g=>function(_){return{field:wl(_.field),direction:lz(_.dir)}}(g))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=__(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{ht:t,parent:s}}function az(n){let e=ez(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let s=null;if(i>0){at(i===1);const g=t.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=function(v){const _=FN(v);return _ instanceof vs&&_N(_)?_.getFilters():[_]}(t.where));let l=[];t.orderBy&&(l=function(v){return v.map(_=>function(x){return new Dp(bl(x.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(_))}(t.orderBy));let c=null;t.limit&&(c=function(v){let _;return _=typeof v=="object"?v.value:v,Em(_)?null:_}(t.limit));let h=null;t.startAt&&(h=function(v){const _=!!v.before,w=v.values||[];return new Pp(w,_)}(t.startAt));let f=null;return t.endAt&&(f=function(v){const _=!v.before,w=v.values||[];return new Pp(w,_)}(t.endAt)),SB(e,s,l,o,c,"F",h,f)}function oz(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function FN(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=bl(t.unaryFilter.field);return Xt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=bl(t.unaryFilter.field);return Xt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=bl(t.unaryFilter.field);return Xt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=bl(t.unaryFilter.field);return Xt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Ie()}}(n):n.fieldFilter!==void 0?function(t){return Xt.create(bl(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ie()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return vs.create(t.compositeFilter.filters.map(i=>FN(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ie()}}(t.compositeFilter.op))}(n):Ie()}function lz(n){return YB[n]}function uz(n){return QB[n]}function cz(n){return XB[n]}function wl(n){return{fieldPath:n.canonicalString()}}function bl(n){return Tn.fromServerFormat(n.fieldPath)}function HN(n){return n instanceof Xt?function(t){if(t.op==="=="){if(lC(t.value))return{unaryFilter:{field:wl(t.field),op:"IS_NAN"}};if(oC(t.value))return{unaryFilter:{field:wl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(lC(t.value))return{unaryFilter:{field:wl(t.field),op:"IS_NOT_NAN"}};if(oC(t.value))return{unaryFilter:{field:wl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wl(t.field),op:uz(t.op),value:t.value}}}(n):n instanceof vs?function(t){const i=t.getFilters().map(s=>HN(s));return i.length===1?i[0]:{compositeFilter:{op:cz(t.op),filters:i}}}(n):Ie()}function hz(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function qN(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,t,i,s,o=Ne.min(),l=Ne.min(),c=bn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new na(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{constructor(e){this.Tt=e}}function fz(n){const e=az({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?v_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pz{constructor(){this.Tn=new mz}addToCollectionParentIndex(e,t){return this.Tn.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(ya.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(ya.min())}updateCollectionGroup(e,t,i){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class mz{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t]||new Jt(vt.comparator),o=!s.has(i);return this.index[t]=s.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t];return s&&s.has(i)}getEntries(e){return(this.index[e]||new Jt(vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GN=41943040;class $n{static withCacheSize(e){return new $n(e,$n.DEFAULT_COLLECTION_PERCENTILE,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$n.DEFAULT_COLLECTION_PERCENTILE=10,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$n.DEFAULT=new $n(GN,$n.DEFAULT_COLLECTION_PERCENTILE,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$n.DISABLED=new $n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new tu(0)}static Un(){return new tu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC="LruGarbageCollector",gz=1048576;function SC([n,e],[t,i]){const s=Ke(n,t);return s===0?Ke(e,i):s}class yz{constructor(e){this.Hn=e,this.buffer=new Jt(SC),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();SC(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class vz{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){me(bC,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){yu(t)?me(bC,"Ignoring IndexedDB error during garbage collection: ",t):await gu(t)}await this.er(3e5)})}}class _z{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return ne.resolve(_m.ae);const i=new yz(t);return this.tr.forEachTarget(e,s=>i.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>i.Zn(s))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.tr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(wC)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wC):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let i,s,o,l,c,h,f;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),s=this.params.maximumSequenceNumbersToCollect):s=v,l=Date.now(),this.nthSequenceNumber(e,s))).next(v=>(i=v,c=Date.now(),this.removeTargets(e,i,t))).next(v=>(o=v,h=Date.now(),this.removeOrphanedDocuments(e,i))).next(v=>(f=Date.now(),El()<=Fe.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${o} targets in `+(h-c)+`ms
	Removed ${v} documents in `+(f-h)+`ms
Total Duration: ${f-g}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:v})))}}function Ez(n,e){return new _z(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tz{constructor(){this.changes=new Io(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Pn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ne.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wz{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bz{constructor(e,t,i,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(i!==null&&Jc(i.mutation,s,si.empty(),Zt.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,qe()).next(()=>i))}getLocalViewOfDocuments(e,t,i=qe()){const s=ho();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,i).next(o=>{let l=Uc();return o.forEach((c,h)=>{l=l.insert(c,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const i=ho();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,qe()))}populateOverlays(e,t,i){const s=[];return i.forEach(o=>{t.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((l,c)=>{t.set(l,c)})})}computeViews(e,t,i,s){let o=ur();const l=Zc(),c=function(){return Zc()}();return t.forEach((h,f)=>{const g=i.get(f.key);s.has(f.key)&&(g===void 0||g.mutation instanceof Aa)?o=o.insert(f.key,f):g!==void 0?(l.set(f.key,g.mutation.getFieldMask()),Jc(g.mutation,f,g.mutation.getFieldMask(),Zt.now())):l.set(f.key,si.empty())}),this.recalculateAndSaveOverlays(e,o).next(h=>(h.forEach((f,g)=>l.set(f,g)),t.forEach((f,g)=>{var v;return c.set(f,new wz(g,(v=l.get(f))!==null&&v!==void 0?v:null))}),c))}recalculateAndSaveOverlays(e,t){const i=Zc();let s=new St((l,c)=>l-c),o=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const c of l)c.keys().forEach(h=>{const f=t.get(h);if(f===null)return;let g=i.get(h)||si.empty();g=c.applyToLocalView(f,g),i.set(h,g);const v=(s.get(c.batchId)||qe()).add(h);s=s.insert(c.batchId,v)})}).next(()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),f=h.key,g=h.value,v=AN();g.forEach(_=>{if(!o.has(_)){const w=MN(t.get(_),i.get(_));w!==null&&v.set(_,w),o=o.add(_)}}),l.push(this.documentOverlayCache.saveOverlays(e,f,v))}return ne.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,s){return function(l){return Se.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):xB(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,s):this.getDocumentsMatchingCollectionQuery(e,t,i,s)}getNextDocuments(e,t,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,s).next(o=>{const l=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,s-o.size):ne.resolve(ho());let c=Eh,h=o;return l.next(f=>ne.forEach(f,(g,v)=>(c<v.largestBatchId&&(c=v.largestBatchId),o.get(g)?ne.resolve():this.remoteDocumentCache.getEntry(e,g).next(_=>{h=h.insert(g,_)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,h,f,qe())).next(g=>({batchId:c,changes:CN(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Se(t)).next(i=>{let s=Uc();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,i,s){const o=t.collectionGroup;let l=Uc();return this.indexManager.getCollectionParents(e,o).next(c=>ne.forEach(c,h=>{const f=function(v,_){return new wm(_,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,i,s).next(g=>{g.forEach((v,_)=>{l=l.insert(v,_)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,i,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,s))).next(l=>{o.forEach((h,f)=>{const g=f.getKey();l.get(g)===null&&(l=l.insert(g,Pn.newInvalidDocument(g)))});let c=Uc();return l.forEach((h,f)=>{const g=o.get(h);g!==void 0&&Jc(g.mutation,f,si.empty(),Zt.now()),Sm(t,f)&&(c=c.insert(h,f))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sz{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ne.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:ps(s.createTime)}}(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(s){return{name:s.name,query:fz(s.bundledQuery),readTime:ps(s.readTime)}}(t)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xz{constructor(){this.overlays=new St(Se.comparator),this.Rr=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ho();return ne.forEach(t,s=>this.getOverlay(e,s).next(o=>{o!==null&&i.set(s,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((s,o)=>{this.Et(e,t,o)}),ne.resolve()}removeOverlaysForBatchId(e,t,i){const s=this.Rr.get(i);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(i)),ne.resolve()}getOverlaysForCollection(e,t,i){const s=ho(),o=t.length+1,l=new Se(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,f=h.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===o&&h.largestBatchId>i&&s.set(h.getKey(),h)}return ne.resolve(s)}getOverlaysForCollectionGroup(e,t,i,s){let o=new St((f,g)=>f-g);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>i){let g=o.get(f.largestBatchId);g===null&&(g=ho(),o=o.insert(f.largestBatchId,g)),g.set(f.getKey(),f)}}const c=ho(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,g)=>c.set(f,g)),!(c.size()>=s)););return ne.resolve(c)}Et(e,t,i){const s=this.overlays.get(i.key);if(s!==null){const l=this.Rr.get(s.largestBatchId).delete(i.key);this.Rr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new HB(t,i));let o=this.Rr.get(t);o===void 0&&(o=qe(),this.Rr.set(t,o)),this.Rr.set(t,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cz{constructor(){this.sessionToken=bn.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(){this.Vr=new Jt(cn.mr),this.gr=new Jt(cn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const i=new cn(e,t);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.wr(new cn(e,t))}Sr(e,t){e.forEach(i=>this.removeReference(i,t))}br(e){const t=new Se(new vt([])),i=new cn(t,e),s=new cn(t,e+1),o=[];return this.gr.forEachInRange([i,s],l=>{this.wr(l),o.push(l.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Se(new vt([])),i=new cn(t,e),s=new cn(t,e+1);let o=qe();return this.gr.forEachInRange([i,s],l=>{o=o.add(l.key)}),o}containsKey(e){const t=new cn(e,0),i=this.Vr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class cn{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Se.comparator(e.key,t.key)||Ke(e.Cr,t.Cr)}static pr(e,t){return Ke(e.Cr,t.Cr)||Se.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Az{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Jt(cn.mr)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,s){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new FB(o,t,i,s);this.mutationQueue.push(l);for(const c of s)this.Mr=this.Mr.add(new cn(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ne.resolve(l)}lookupMutationBatch(e,t){return ne.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,s=this.Nr(i),o=s<0?0:s;return ne.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?yE:this.Fr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new cn(t,0),s=new cn(t,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([i,s],l=>{const c=this.Or(l.Cr);o.push(c)}),ne.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Jt(Ke);return t.forEach(s=>{const o=new cn(s,0),l=new cn(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,l],c=>{i=i.add(c.Cr)})}),ne.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,s=i.length+1;let o=i;Se.isDocumentKey(o)||(o=o.child(""));const l=new cn(new Se(o),0);let c=new Jt(Ke);return this.Mr.forEachWhile(h=>{const f=h.key.path;return!!i.isPrefixOf(f)&&(f.length===s&&(c=c.add(h.Cr)),!0)},l),ne.resolve(this.Br(c))}Br(e){const t=[];return e.forEach(i=>{const s=this.Or(i);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){at(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return ne.forEach(t.mutations,s=>{const o=new cn(s.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,t){const i=new cn(t,0),s=this.Mr.firstAfterOrEqual(i);return ne.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rz{constructor(e){this.kr=e,this.docs=function(){return new St(Se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,s=this.docs.get(i),o=s?s.size:0,l=this.kr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ne.resolve(i?i.document.mutableCopy():Pn.newInvalidDocument(t))}getEntries(e,t){let i=ur();return t.forEach(s=>{const o=this.docs.get(s);i=i.insert(s,o?o.document.mutableCopy():Pn.newInvalidDocument(s))}),ne.resolve(i)}getDocumentsMatchingQuery(e,t,i,s){let o=ur();const l=t.path,c=new Se(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:f,value:{document:g}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||nB(tB(g),i)<=0||(s.has(g.key)||Sm(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return ne.resolve(o)}getAllFromCollectionGroup(e,t,i,s){Ie()}qr(e,t){return ne.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new Iz(this)}getSize(e){return ne.resolve(this.size)}}class Iz extends Tz{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?t.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(i)}),ne.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nz{constructor(e){this.persistence=e,this.Qr=new Io(t=>EE(t),TE),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.$r=0,this.Kr=new RE,this.targetCount=0,this.Ur=tu.Kn()}forEachTarget(e,t){return this.Qr.forEach((i,s)=>t(s)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$r&&(this.$r=t),ne.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new tu(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.zn(t),ne.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,i){let s=0;const o=[];return this.Qr.forEach((l,c)=>{c.sequenceNumber<=t&&i.get(c.targetId)===null&&(this.Qr.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),ne.waitFor(o).next(()=>s)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const i=this.Qr.get(t)||null;return ne.resolve(i)}addMatchingKeys(e,t,i){return this.Kr.yr(t,i),ne.resolve()}removeMatchingKeys(e,t,i){this.Kr.Sr(t,i);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach(l=>{o.push(s.markPotentiallyOrphaned(e,l))}),ne.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Kr.vr(t);return ne.resolve(i)}containsKey(e,t){return ne.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new _m(0),this.zr=!1,this.zr=!0,this.jr=new Cz,this.referenceDelegate=e(this),this.Hr=new Nz(this),this.indexManager=new pz,this.remoteDocumentCache=function(s){return new Rz(s)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new dz(t),this.Yr=new Sz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new xz,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Wr[e.toKey()];return i||(i=new Az(t,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,i){me("MemoryPersistence","Starting transaction:",e);const s=new Pz(this.Gr.next());return this.referenceDelegate.Zr(),i(s).next(o=>this.referenceDelegate.Xr(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}ei(e,t){return ne.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,t)))}}class Pz extends sB{constructor(e){super(),this.currentSequenceNumber=e}}class IE{constructor(e){this.persistence=e,this.ti=new RE,this.ni=null}static ri(e){return new IE(e)}get ii(){if(this.ni)return this.ni;throw Ie()}addReference(e,t,i){return this.ti.addReference(i,t),this.ii.delete(i.toString()),ne.resolve()}removeReference(e,t,i){return this.ti.removeReference(i,t),this.ii.add(i.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ne.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(s=>this.ii.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(o=>this.ii.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.ii,i=>{const s=Se.fromPath(i);return this.si(e,s).next(o=>{o||t.removeEntry(s,Ne.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(i=>{i?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ne.or([()=>ne.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Lp{constructor(e,t){this.persistence=e,this.oi=new Io(i=>oB(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=Ez(this,t)}static ri(e,t){return new Lp(e,t)}Zr(){}Xr(e){return ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(s=>i+s))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}rr(e,t){return ne.forEach(this.oi,(i,s)=>this.ar(e,i,s).next(o=>o?ne.resolve():t(s)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.qr(e,l=>this.ar(e,l,t).next(c=>{c||(i++,o.removeEntry(l,Ne.min()))})).next(()=>o.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ne.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),ne.resolve()}removeReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ne.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Hf(e.data.value)),t}ar(e,t,i){return ne.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.oi.get(t);return ne.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e,t,i,s){this.targetId=e,this.fromCache=t,this.Hi=i,this.Ji=s}static Yi(e,t){let i=qe(),s=qe();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new NE(e,t.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mz{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return e6()?8:rB(Mn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,i,s){const o={result:null};return this.rs(e,t).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.ss(e,t,s,i).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new Dz;return this._s(e,t,l).next(c=>{if(o.result=c,this.Xi)return this.us(e,t,l,c.size)})}).next(()=>o.result)}us(e,t,i,s){return i.documentReadCount<this.es?(El()<=Fe.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Tl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ne.resolve()):(El()<=Fe.DEBUG&&me("QueryEngine","Query:",Tl(t),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ts*s?(El()<=Fe.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Tl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fs(t))):ne.resolve())}rs(e,t){if(dC(t))return ne.resolve(null);let i=fs(t);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=v_(t,null,"F"),i=fs(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const l=qe(...o);return this.ns.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,i).next(h=>{const f=this.cs(t,c);return this.ls(t,f,l,h.readTime)?this.rs(e,v_(t,null,"F")):this.hs(e,f,t,h)}))})))}ss(e,t,i,s){return dC(t)||s.isEqual(Ne.min())?ne.resolve(null):this.ns.getDocuments(e,i).next(o=>{const l=this.cs(t,o);return this.ls(t,l,i,s)?ne.resolve(null):(El()<=Fe.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Tl(t)),this.hs(e,l,t,eB(s,Eh)).next(c=>c))})}cs(e,t){let i=new Jt(SN(e));return t.forEach((s,o)=>{Sm(e,o)&&(i=i.add(o))}),i}ls(e,t,i,s){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}_s(e,t,i){return El()<=Fe.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Tl(t)),this.ns.getDocumentsMatchingQuery(e,t,ya.min(),i)}hs(e,t,i,s){return this.ns.getDocumentsMatchingQuery(e,i,s).next(o=>(t.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE="LocalStore",Oz=3e8;class kz{constructor(e,t,i,s){this.persistence=e,this.Ps=t,this.serializer=s,this.Ts=new St(Ke),this.Is=new Io(o=>EE(o),TE),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bz(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function Lz(n,e,t,i){return new kz(n,e,t,i)}async function KN(n,e){const t=De(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let s;return t.mutationQueue.getAllMutationBatches(i).next(o=>(s=o,t.As(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{const l=[],c=[];let h=qe();for(const f of s){l.push(f.batchId);for(const g of f.mutations)h=h.add(g.key)}for(const f of o){c.push(f.batchId);for(const g of f.mutations)h=h.add(g.key)}return t.localDocuments.getDocuments(i,h).next(f=>({Rs:f,removedBatchIds:l,addedBatchIds:c}))})})}function Vz(n,e){const t=De(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),o=t.ds.newChangeBuffer({trackRemovals:!0});return function(c,h,f,g){const v=f.batch,_=v.keys();let w=ne.resolve();return _.forEach(x=>{w=w.next(()=>g.getEntry(h,x)).next(O=>{const V=f.docVersions.get(x);at(V!==null),O.version.compareTo(V)<0&&(v.applyToRemoteDocument(O,f),O.isValidDocument()&&(O.setReadTime(f.commitVersion),g.addEntry(O)))})}),w.next(()=>c.mutationQueue.removeMutationBatch(h,v))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let h=qe();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(h=h.add(c.batch.mutations[f].key));return h}(e))).next(()=>t.localDocuments.getDocuments(i,s))})}function WN(n){const e=De(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function jz(n,e){const t=De(n),i=e.snapshotVersion;let s=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=t.ds.newChangeBuffer({trackRemovals:!0});s=t.Ts;const c=[];e.targetChanges.forEach((g,v)=>{const _=s.get(v);if(!_)return;c.push(t.Hr.removeMatchingKeys(o,g.removedDocuments,v).next(()=>t.Hr.addMatchingKeys(o,g.addedDocuments,v)));let w=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?w=w.withResumeToken(bn.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):g.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(g.resumeToken,i)),s=s.insert(v,w),function(O,V,D){return O.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=Oz?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(_,w,g)&&c.push(t.Hr.updateTargetData(o,w))});let h=ur(),f=qe();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))}),c.push(Uz(o,l,e.documentUpdates).next(g=>{h=g.Vs,f=g.fs})),!i.isEqual(Ne.min())){const g=t.Hr.getLastRemoteSnapshotVersion(o).next(v=>t.Hr.setTargetsMetadata(o,o.currentSequenceNumber,i));c.push(g)}return ne.waitFor(c).next(()=>l.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,h,f)).next(()=>h)}).then(o=>(t.Ts=s,o))}function Uz(n,e,t){let i=qe(),s=qe();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let l=ur();return t.forEach((c,h)=>{const f=o.get(c);h.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(c)),h.isNoDocument()&&h.version.isEqual(Ne.min())?(e.removeEntry(c,h.readTime),l=l.insert(c,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),l=l.insert(c,h)):me(PE,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",h.version)}),{Vs:l,fs:s}})}function Bz(n,e){const t=De(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=yE),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function zz(n,e){const t=De(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return t.Hr.getTargetData(i,e).next(o=>o?(s=o,ne.resolve(s)):t.Hr.allocateTargetId(i).next(l=>(s=new na(e,l,"TargetPurposeListen",i.currentSequenceNumber),t.Hr.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=t.Ts.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(i.targetId,i),t.Is.set(e,i.targetId)),i})}async function b_(n,e,t){const i=De(n),s=i.Ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",o,l=>i.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!yu(l))throw l;me(PE,`Failed to update sequence numbers for target ${e}: ${l}`)}i.Ts=i.Ts.remove(e),i.Is.delete(s.target)}function xC(n,e,t){const i=De(n);let s=Ne.min(),o=qe();return i.persistence.runTransaction("Execute query","readwrite",l=>function(h,f,g){const v=De(h),_=v.Is.get(g);return _!==void 0?ne.resolve(v.Ts.get(_)):v.Hr.getTargetData(f,g)}(i,l,fs(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(l,c.targetId).next(h=>{o=h})}).next(()=>i.Ps.getDocumentsMatchingQuery(l,e,t?s:Ne.min(),t?o:qe())).next(c=>(Fz(i,AB(e),c),{documents:c,gs:o})))}function Fz(n,e,t){let i=n.Es.get(e)||Ne.min();t.forEach((s,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Es.set(e,i)}class CC{constructor(){this.activeTargetIds=MB()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Hz{constructor(){this.ho=new CC,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,i){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new CC,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qz{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC="ConnectivityMonitor";class RC{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){me(AC,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){me(AC,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Af=null;function S_(){return Af===null?Af=function(){return 268435456+Math.round(2147483648*Math.random())}():Af++,"0x"+Af.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv="RestConnection",Gz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $z{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${i}/databases/${s}`,this.wo=this.databaseId.database===Ip?`project_id=${i}`:`project_id=${i}&database_id=${s}`}So(e,t,i,s,o){const l=S_(),c=this.bo(e,t.toUriEncodedString());me(mv,`Sending RPC '${e}' ${l}:`,c,i);const h={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(h,s,o),this.vo(e,c,h,i).then(f=>(me(mv,`Received RPC '${e}' ${l}: `,f),f),f=>{throw Xl(mv,`RPC '${e}' ${l} failed with error: `,f,"url: ",c,"request:",i),f})}Co(e,t,i,s,o,l){return this.So(e,t,i,s,o)}Do(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+mu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,o)=>e[o]=s),i&&i.headers.forEach((s,o)=>e[o]=s)}bo(e,t){const i=Gz[e];return`${this.po}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kz{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rn="WebChannelConnection";class Wz extends $z{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,i,s){const o=S_();return new Promise((l,c)=>{const h=new eN;h.setWithCredentials(!0),h.listenOnce(tN.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Ff.NO_ERROR:const g=h.getResponseJson();me(Rn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),l(g);break;case Ff.TIMEOUT:me(Rn,`RPC '${e}' ${o} timed out`),c(new be(oe.DEADLINE_EXCEEDED,"Request time out"));break;case Ff.HTTP_ERROR:const v=h.getStatus();if(me(Rn,`RPC '${e}' ${o} failed with status:`,v,"response text:",h.getResponseText()),v>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const w=_==null?void 0:_.error;if(w&&w.status&&w.message){const x=function(V){const D=V.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(D)>=0?D:oe.UNKNOWN}(w.status);c(new be(x,w.message))}else c(new be(oe.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new be(oe.UNAVAILABLE,"Connection failed."));break;default:Ie()}}finally{me(Rn,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(s);me(Rn,`RPC '${e}' ${o} sending request:`,s),h.send(t,"POST",f,i,15)})}Wo(e,t,i){const s=S_(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=sN(),c=iN(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Do(h.initMessageHeaders,t,i),h.encodeInitMessageHeaders=!0;const g=o.join("");me(Rn,`Creating RPC '${e}' stream ${s}: ${g}`,h);const v=l.createWebChannel(g,h);let _=!1,w=!1;const x=new Kz({Fo:V=>{w?me(Rn,`Not sending because RPC '${e}' stream ${s} is closed:`,V):(_||(me(Rn,`Opening RPC '${e}' stream ${s} transport.`),v.open(),_=!0),me(Rn,`RPC '${e}' stream ${s} sending:`,V),v.send(V))},Mo:()=>v.close()}),O=(V,D,I)=>{V.listen(D,N=>{try{I(N)}catch(H){setTimeout(()=>{throw H},0)}})};return O(v,jc.EventType.OPEN,()=>{w||(me(Rn,`RPC '${e}' stream ${s} transport opened.`),x.Qo())}),O(v,jc.EventType.CLOSE,()=>{w||(w=!0,me(Rn,`RPC '${e}' stream ${s} transport closed`),x.Ko())}),O(v,jc.EventType.ERROR,V=>{w||(w=!0,Xl(Rn,`RPC '${e}' stream ${s} transport errored:`,V),x.Ko(new be(oe.UNAVAILABLE,"The operation could not be completed")))}),O(v,jc.EventType.MESSAGE,V=>{var D;if(!w){const I=V.data[0];at(!!I);const N=I,H=(N==null?void 0:N.error)||((D=N[0])===null||D===void 0?void 0:D.error);if(H){me(Rn,`RPC '${e}' stream ${s} received error:`,H);const q=H.status;let Z=function(C){const R=zt[C];if(R!==void 0)return kN(R)}(q),k=H.message;Z===void 0&&(Z=oe.INTERNAL,k="Unknown error status: "+q+" with message "+H.message),w=!0,x.Ko(new be(Z,k)),v.close()}else me(Rn,`RPC '${e}' stream ${s} received:`,I),x.Uo(I)}}),O(c,nN.STAT_EVENT,V=>{V.stat===f_.PROXY?me(Rn,`RPC '${e}' stream ${s} detected buffering proxy`):V.stat===f_.NOPROXY&&me(Rn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{x.$o()},0),x}}function gv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(n){return new ZB(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,t,i=1e3,s=1.5,o=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=s,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),s=Math.max(0,t-i);s>0&&me("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC="PersistentStream";class QN{constructor(e,t,i,s,o,l,c,h){this.Ti=e,this.n_=i,this.r_=s,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new YN(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(lr(t.toString()),lr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.i_===t&&this.V_(i,s)},i=>{e(()=>{const s=new be(oe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(s)})})}V_(e,t){const i=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{i(()=>this.m_(s))}),this.stream.onMessage(s=>{i(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return me(IC,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(me(IC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Yz extends QN{constructor(e,t,i,s,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,s,l),this.serializer=o}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=tz(this.serializer,e),i=function(o){if(!("targetChange"in o))return Ne.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Ne.min():l.readTime?ps(l.readTime):Ne.min()}(e);return this.listener.p_(t,i)}y_(e){const t={};t.database=w_(this.serializer),t.addTarget=function(o,l){let c;const h=l.target;if(c=y_(h)?{documents:sz(o,h)}:{query:rz(o,h).ht},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=jN(o,l.resumeToken);const f=__(o,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(Ne.min())>0){c.readTime=kp(o,l.snapshotVersion.toTimestamp());const f=__(o,l.expectedCount);f!==null&&(c.expectedCount=f)}return c}(this.serializer,e);const i=oz(this.serializer,e);i&&(t.labels=i),this.I_(t)}w_(e){const t={};t.database=w_(this.serializer),t.removeTarget=e,this.I_(t)}}class Qz extends QN{constructor(e,t,i,s,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,s,l),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return at(!!e.streamToken),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){at(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=iz(e.writeResults,e.commitTime),i=ps(e.commitTime);return this.listener.v_(i,t)}C_(){const e={};e.database=w_(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>nz(this.serializer,i))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xz{}class Zz extends Xz{constructor(e,t,i,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new be(oe.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.So(e,E_(t,i),s,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new be(oe.UNKNOWN,o.toString())})}Co(e,t,i,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Co(e,E_(t,i),s,l,c,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new be(oe.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class Jz{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(lr(t),this.N_=!1):me("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To="RemoteStore";class eF{constructor(e,t,i,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(l=>{i.enqueueAndForget(async()=>{No(this)&&(me(To,"Restarting streams for network reachability change."),await async function(h){const f=De(h);f.W_.add(4),await qh(f),f.j_.set("Unknown"),f.W_.delete(4),await Im(f)}(this))})}),this.j_=new Jz(i,s)}}async function Im(n){if(No(n))for(const e of n.G_)await e(!0)}async function qh(n){for(const e of n.G_)await e(!1)}function XN(n,e){const t=De(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),kE(t)?OE(t):vu(t).c_()&&ME(t,e))}function DE(n,e){const t=De(n),i=vu(t);t.U_.delete(e),i.c_()&&ZN(t,e),t.U_.size===0&&(i.c_()?i.P_():No(t)&&t.j_.set("Unknown"))}function ME(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}vu(n).y_(e)}function ZN(n,e){n.H_.Ne(e),vu(n).w_(e)}function OE(n){n.H_=new WB({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),vu(n).start(),n.j_.B_()}function kE(n){return No(n)&&!vu(n).u_()&&n.U_.size>0}function No(n){return De(n).W_.size===0}function JN(n){n.H_=void 0}async function tF(n){n.j_.set("Online")}async function nF(n){n.U_.forEach((e,t)=>{ME(n,e)})}async function iF(n,e){JN(n),kE(n)?(n.j_.q_(e),OE(n)):n.j_.set("Unknown")}async function sF(n,e,t){if(n.j_.set("Online"),e instanceof VN&&e.state===2&&e.cause)try{await async function(s,o){const l=o.cause;for(const c of o.targetIds)s.U_.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.U_.delete(c),s.H_.removeTarget(c))}(n,e)}catch(i){me(To,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Vp(n,i)}else if(e instanceof $f?n.H_.We(e):e instanceof LN?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Ne.min()))try{const i=await WN(n.localStore);t.compareTo(i)>=0&&await function(o,l){const c=o.H_.ot(l);return c.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const g=o.U_.get(f);g&&o.U_.set(f,g.withResumeToken(h.resumeToken,l))}}),c.targetMismatches.forEach((h,f)=>{const g=o.U_.get(h);if(!g)return;o.U_.set(h,g.withResumeToken(bn.EMPTY_BYTE_STRING,g.snapshotVersion)),ZN(o,h);const v=new na(g.target,h,f,g.sequenceNumber);ME(o,v)}),o.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(i){me(To,"Failed to raise snapshot:",i),await Vp(n,i)}}async function Vp(n,e,t){if(!yu(e))throw e;n.W_.add(1),await qh(n),n.j_.set("Offline"),t||(t=()=>WN(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{me(To,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await Im(n)})}function eP(n,e){return e().catch(t=>Vp(n,t,e))}async function Nm(n){const e=De(n),t=Ta(e);let i=e.K_.length>0?e.K_[e.K_.length-1].batchId:yE;for(;rF(e);)try{const s=await Bz(e.localStore,i);if(s===null){e.K_.length===0&&t.P_();break}i=s.batchId,aF(e,s)}catch(s){await Vp(e,s)}tP(e)&&nP(e)}function rF(n){return No(n)&&n.K_.length<10}function aF(n,e){n.K_.push(e);const t=Ta(n);t.c_()&&t.S_&&t.b_(e.mutations)}function tP(n){return No(n)&&!Ta(n).u_()&&n.K_.length>0}function nP(n){Ta(n).start()}async function oF(n){Ta(n).C_()}async function lF(n){const e=Ta(n);for(const t of n.K_)e.b_(t.mutations)}async function uF(n,e,t){const i=n.K_.shift(),s=xE.from(i,e,t);await eP(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await Nm(n)}async function cF(n,e){e&&Ta(n).S_&&await async function(i,s){if(function(l){return GB(l)&&l!==oe.ABORTED}(s.code)){const o=i.K_.shift();Ta(i).h_(),await eP(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),await Nm(i)}}(n,e),tP(n)&&nP(n)}async function NC(n,e){const t=De(n);t.asyncQueue.verifyOperationInProgress(),me(To,"RemoteStore received new credentials");const i=No(t);t.W_.add(3),await qh(t),i&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Im(t)}async function hF(n,e){const t=De(n);e?(t.W_.delete(2),await Im(t)):e||(t.W_.add(2),await qh(t),t.j_.set("Unknown"))}function vu(n){return n.J_||(n.J_=function(t,i,s){const o=De(t);return o.M_(),new Yz(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{xo:tF.bind(null,n),No:nF.bind(null,n),Lo:iF.bind(null,n),p_:sF.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),kE(n)?OE(n):n.j_.set("Unknown")):(await n.J_.stop(),JN(n))})),n.J_}function Ta(n){return n.Y_||(n.Y_=function(t,i,s){const o=De(t);return o.M_(),new Qz(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:oF.bind(null,n),Lo:cF.bind(null,n),D_:lF.bind(null,n),v_:uF.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Nm(n)):(await n.Y_.stop(),n.K_.length>0&&(me(To,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e,t,i,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=s,this.removalCallback=o,this.deferred=new ua,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,s,o){const l=Date.now()+i,c=new LE(e,t,l,s,o);return c.start(i),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function VE(n,e){if(lr("AsyncQueue",`${e}: ${n}`),yu(n))return new be(oe.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{static emptySet(e){return new Ul(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Se.comparator(t.key,i.key):(t,i)=>Se.comparator(t.key,i.key),this.keyedMap=Uc(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ul)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=i.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Ul;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(){this.Z_=new St(Se.comparator)}track(e){const t=e.doc.key,i=this.Z_.get(t);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(t):e.type===1&&i.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ie():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class nu{constructor(e,t,i,s,o,l,c,h,f){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,t,i,s,o){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new nu(e,t,Ul.emptySet(t),l,i,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==i[s].type||!t[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class fF{constructor(){this.queries=DC(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,i){const s=De(t),o=s.queries;s.queries=DC(),o.forEach((l,c)=>{for(const h of c.ta)h.onError(i)})})(this,new be(oe.ABORTED,"Firestore shutting down"))}}function DC(){return new Io(n=>bN(n),bm)}async function pF(n,e){const t=De(n);let i=3;const s=e.query;let o=t.queries.get(s);o?!o.na()&&e.ra()&&(i=2):(o=new dF,i=e.ra()?0:1);try{switch(i){case 0:o.ea=await t.onListen(s,!0);break;case 1:o.ea=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(l){const c=VE(l,`Initialization of query '${Tl(e.query)}' failed`);return void e.onError(c)}t.queries.set(s,o),o.ta.push(e),e.sa(t.onlineState),o.ea&&e.oa(o.ea)&&jE(t)}async function mF(n,e){const t=De(n),i=e.query;let s=3;const o=t.queries.get(i);if(o){const l=o.ta.indexOf(e);l>=0&&(o.ta.splice(l,1),o.ta.length===0?s=e.ra()?0:1:!o.na()&&e.ra()&&(s=2))}switch(s){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function gF(n,e){const t=De(n);let i=!1;for(const s of e){const o=s.query,l=t.queries.get(o);if(l){for(const c of l.ta)c.oa(s)&&(i=!0);l.ea=s}}i&&jE(t)}function yF(n,e,t){const i=De(n),s=i.queries.get(e);if(s)for(const o of s.ta)o.onError(t);i.queries.delete(e)}function jE(n){n.ia.forEach(e=>{e.next()})}var x_,MC;(MC=x_||(x_={}))._a="default",MC.Cache="cache";class vF{constructor(e,t,i){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new nu(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const i=t!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=nu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==x_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e){this.key=e}}class sP{constructor(e){this.key=e}}class _F{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=qe(),this.mutatedKeys=qe(),this.ya=SN(e),this.wa=new Ul(this.ya)}get Sa(){return this.fa}ba(e,t){const i=t?t.Da:new PC,s=t?t.wa:this.wa;let o=t?t.mutatedKeys:this.mutatedKeys,l=s,c=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((g,v)=>{const _=s.get(g),w=Sm(this.query,v)?v:null,x=!!_&&this.mutatedKeys.has(_.key),O=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let V=!1;_&&w?_.data.isEqual(w.data)?x!==O&&(i.track({type:3,doc:w}),V=!0):this.va(_,w)||(i.track({type:2,doc:w}),V=!0,(h&&this.ya(w,h)>0||f&&this.ya(w,f)<0)&&(c=!0)):!_&&w?(i.track({type:0,doc:w}),V=!0):_&&!w&&(i.track({type:1,doc:_}),V=!0,(h||f)&&(c=!0)),V&&(w?(l=l.add(w),o=O?o.add(g):o.delete(g)):(l=l.delete(g),o=o.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),o=o.delete(g.key),i.track({type:1,doc:g})}return{wa:l,Da:i,ls:c,mutatedKeys:o}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,s){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((g,v)=>function(w,x){const O=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie()}};return O(w)-O(x)}(g.type,v.type)||this.ya(g.doc,v.doc)),this.Ca(i),s=s!=null&&s;const c=t&&!s?this.Fa():[],h=this.pa.size===0&&this.current&&!s?1:0,f=h!==this.ga;return this.ga=h,l.length!==0||f?{snapshot:new nu(this.query,e.wa,o,l,e.mutatedKeys,h===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new PC,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=qe(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const t=[];return e.forEach(i=>{this.pa.has(i)||t.push(new sP(i))}),this.pa.forEach(i=>{e.has(i)||t.push(new iP(i))}),t}Oa(e){this.fa=e.gs,this.pa=qe();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return nu.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const UE="SyncEngine";class EF{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class TF{constructor(e){this.key=e,this.Ba=!1}}class wF{constructor(e,t,i,s,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new Io(c=>bN(c),bm),this.qa=new Map,this.Qa=new Set,this.$a=new St(Se.comparator),this.Ka=new Map,this.Ua=new RE,this.Wa={},this.Ga=new Map,this.za=tu.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function bF(n,e,t=!0){const i=cP(n);let s;const o=i.ka.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.Na()):s=await rP(i,e,t,!0),s}async function SF(n,e){const t=cP(n);await rP(t,e,!0,!1)}async function rP(n,e,t,i){const s=await zz(n.localStore,fs(e)),o=s.targetId,l=n.sharedClientState.addLocalQueryTarget(o,t);let c;return i&&(c=await xF(n,e,o,l==="current",s.resumeToken)),n.isPrimaryClient&&t&&XN(n.remoteStore,s),c}async function xF(n,e,t,i,s){n.Ha=(v,_,w)=>async function(O,V,D,I){let N=V.view.ba(D);N.ls&&(N=await xC(O.localStore,V.query,!1).then(({documents:k})=>V.view.ba(k,N)));const H=I&&I.targetChanges.get(V.targetId),q=I&&I.targetMismatches.get(V.targetId)!=null,Z=V.view.applyChanges(N,O.isPrimaryClient,H,q);return kC(O,V.targetId,Z.Ma),Z.snapshot}(n,v,_,w);const o=await xC(n.localStore,e,!0),l=new _F(e,o.gs),c=l.ba(o.documents),h=Hh.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",s),f=l.applyChanges(c,n.isPrimaryClient,h);kC(n,t,f.Ma);const g=new EF(e,t,l);return n.ka.set(e,g),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),f.snapshot}async function CF(n,e,t){const i=De(n),s=i.ka.get(e),o=i.qa.get(s.targetId);if(o.length>1)return i.qa.set(s.targetId,o.filter(l=>!bm(l,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await b_(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),t&&DE(i.remoteStore,s.targetId),C_(i,s.targetId)}).catch(gu)):(C_(i,s.targetId),await b_(i.localStore,s.targetId,!0))}async function AF(n,e){const t=De(n),i=t.ka.get(e),s=t.qa.get(i.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),DE(t.remoteStore,i.targetId))}async function RF(n,e,t){const i=kF(n);try{const s=await function(l,c){const h=De(l),f=Zt.now(),g=c.reduce((w,x)=>w.add(x.key),qe());let v,_;return h.persistence.runTransaction("Locally write mutations","readwrite",w=>{let x=ur(),O=qe();return h.ds.getEntries(w,g).next(V=>{x=V,x.forEach((D,I)=>{I.isValidDocument()||(O=O.add(D))})}).next(()=>h.localDocuments.getOverlayedDocuments(w,x)).next(V=>{v=V;const D=[];for(const I of c){const N=BB(I,v.get(I.key).overlayedDocument);N!=null&&D.push(new Aa(I.key,N,gN(N.value.mapValue),Ui.exists(!0)))}return h.mutationQueue.addMutationBatch(w,f,D,c)}).next(V=>{_=V;const D=V.applyToLocalDocumentSet(v,O);return h.documentOverlayCache.saveOverlays(w,V.batchId,D)})}).then(()=>({batchId:_.batchId,changes:CN(v)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(l,c,h){let f=l.Wa[l.currentUser.toKey()];f||(f=new St(Ke)),f=f.insert(c,h),l.Wa[l.currentUser.toKey()]=f}(i,s.batchId,t),await Gh(i,s.changes),await Nm(i.remoteStore)}catch(s){const o=VE(s,"Failed to persist write");t.reject(o)}}async function aP(n,e){const t=De(n);try{const i=await jz(t.localStore,e);e.targetChanges.forEach((s,o)=>{const l=t.Ka.get(o);l&&(at(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.Ba=!0:s.modifiedDocuments.size>0?at(l.Ba):s.removedDocuments.size>0&&(at(l.Ba),l.Ba=!1))}),await Gh(t,i,e)}catch(i){await gu(i)}}function OC(n,e,t){const i=De(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const s=[];i.ka.forEach((o,l)=>{const c=l.view.sa(e);c.snapshot&&s.push(c.snapshot)}),function(l,c){const h=De(l);h.onlineState=c;let f=!1;h.queries.forEach((g,v)=>{for(const _ of v.ta)_.sa(c)&&(f=!0)}),f&&jE(h)}(i.eventManager,e),s.length&&i.La.p_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function IF(n,e,t){const i=De(n);i.sharedClientState.updateQueryState(e,"rejected",t);const s=i.Ka.get(e),o=s&&s.key;if(o){let l=new St(Se.comparator);l=l.insert(o,Pn.newNoDocument(o,Ne.min()));const c=qe().add(o),h=new Am(Ne.min(),new Map,new St(Ke),l,c);await aP(i,h),i.$a=i.$a.remove(o),i.Ka.delete(e),BE(i)}else await b_(i.localStore,e,!1).then(()=>C_(i,e,t)).catch(gu)}async function NF(n,e){const t=De(n),i=e.batch.batchId;try{const s=await Vz(t.localStore,e);lP(t,i,null),oP(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Gh(t,s)}catch(s){await gu(s)}}async function PF(n,e,t){const i=De(n);try{const s=await function(l,c){const h=De(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let g;return h.mutationQueue.lookupMutationBatch(f,c).next(v=>(at(v!==null),g=v.keys(),h.mutationQueue.removeMutationBatch(f,v))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,g,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g)).next(()=>h.localDocuments.getDocuments(f,g))})}(i.localStore,e);lP(i,e,t),oP(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Gh(i,s)}catch(s){await gu(s)}}function oP(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function lP(n,e,t){const i=De(n);let s=i.Wa[i.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),i.Wa[i.currentUser.toKey()]=s}}function C_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.qa.get(e))n.ka.delete(i),t&&n.La.Ja(i,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.br(e).forEach(i=>{n.Ua.containsKey(i)||uP(n,i)})}function uP(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(DE(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),BE(n))}function kC(n,e,t){for(const i of t)i instanceof iP?(n.Ua.addReference(i.key,e),DF(n,i)):i instanceof sP?(me(UE,"Document no longer in limbo: "+i.key),n.Ua.removeReference(i.key,e),n.Ua.containsKey(i.key)||uP(n,i.key)):Ie()}function DF(n,e){const t=e.key,i=t.path.canonicalString();n.$a.get(t)||n.Qa.has(i)||(me(UE,"New document in limbo: "+t),n.Qa.add(i),BE(n))}function BE(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Se(vt.fromString(e)),i=n.za.next();n.Ka.set(i,new TF(t)),n.$a=n.$a.insert(t,i),XN(n.remoteStore,new na(fs(wE(t.path)),i,"TargetPurposeLimboResolution",_m.ae))}}async function Gh(n,e,t){const i=De(n),s=[],o=[],l=[];i.ka.isEmpty()||(i.ka.forEach((c,h)=>{l.push(i.Ha(h,e,t).then(f=>{var g;if((f||t)&&i.isPrimaryClient){const v=f?!f.fromCache:(g=t==null?void 0:t.targetChanges.get(h.targetId))===null||g===void 0?void 0:g.current;i.sharedClientState.updateQueryState(h.targetId,v?"current":"not-current")}if(f){s.push(f);const v=NE.Yi(h.targetId,f);o.push(v)}}))}),await Promise.all(l),i.La.p_(s),await async function(h,f){const g=De(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>ne.forEach(f,_=>ne.forEach(_.Hi,w=>g.persistence.referenceDelegate.addReference(v,_.targetId,w)).next(()=>ne.forEach(_.Ji,w=>g.persistence.referenceDelegate.removeReference(v,_.targetId,w)))))}catch(v){if(!yu(v))throw v;me(PE,"Failed to update sequence numbers: "+v)}for(const v of f){const _=v.targetId;if(!v.fromCache){const w=g.Ts.get(_),x=w.snapshotVersion,O=w.withLastLimboFreeSnapshotVersion(x);g.Ts=g.Ts.insert(_,O)}}}(i.localStore,o))}async function MF(n,e){const t=De(n);if(!t.currentUser.isEqual(e)){me(UE,"User change. New user:",e.toKey());const i=await KN(t.localStore,e);t.currentUser=e,function(o,l){o.Ga.forEach(c=>{c.forEach(h=>{h.reject(new be(oe.CANCELLED,l))})}),o.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Gh(t,i.Rs)}}function OF(n,e){const t=De(n),i=t.Ka.get(e);if(i&&i.Ba)return qe().add(i.key);{let s=qe();const o=t.qa.get(e);if(!o)return s;for(const l of o){const c=t.ka.get(l);s=s.unionWith(c.view.Sa)}return s}}function cP(n){const e=De(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=aP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=IF.bind(null,e),e.La.p_=gF.bind(null,e.eventManager),e.La.Ja=yF.bind(null,e.eventManager),e}function kF(n){const e=De(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=NF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=PF.bind(null,e),e}class jp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rm(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return Lz(this.persistence,new Mz,e.initialUser,this.serializer)}Xa(e){return new $N(IE.ri,this.serializer)}Za(e){return new Hz}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jp.provider={build:()=>new jp};class LF extends jp{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){at(this.persistence.referenceDelegate instanceof Lp);const i=this.persistence.referenceDelegate.garbageCollector;return new vz(i,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?$n.withCacheSize(this.cacheSizeBytes):$n.DEFAULT;return new $N(i=>Lp.ri(i,t),this.serializer)}}class A_{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>OC(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=MF.bind(null,this.syncEngine),await hF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new fF}()}createDatastore(e){const t=Rm(e.databaseInfo.databaseId),i=function(o){return new Wz(o)}(e.databaseInfo);return function(o,l,c,h){return new Zz(o,l,c,h)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,s,o,l,c){return new eF(i,s,o,l,c)}(this.localStore,this.datastore,e.asyncQueue,t=>OC(this.syncEngine,t,0),function(){return RC.D()?new RC:new qz}())}createSyncEngine(e,t){return function(s,o,l,c,h,f,g){const v=new wF(s,o,l,c,h,f);return g&&(v.ja=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const o=De(s);me(To,"RemoteStore shutting down."),o.W_.add(5),await qh(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}A_.provider={build:()=>new A_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):lr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa="FirestoreClient";class jF{constructor(e,t,i,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=s,this.user=Nn.UNAUTHENTICATED,this.clientId=aN.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async l=>{me(wa,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(i,l=>(me(wa,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ua;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=VE(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function yv(n,e){n.asyncQueue.verifyOperationInProgress(),me(wa,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async s=>{i.isEqual(s)||(await KN(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function LC(n,e){n.asyncQueue.verifyOperationInProgress();const t=await UF(n);me(wa,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>NC(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>NC(e.remoteStore,s)),n._onlineComponents=e}async function UF(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){me(wa,"Using user provided OfflineComponentProvider");try{await yv(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===oe.FAILED_PRECONDITION||s.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Xl("Error using user provided cache. Falling back to memory cache: "+t),await yv(n,new jp)}}else me(wa,"Using default OfflineComponentProvider"),await yv(n,new LF(void 0));return n._offlineComponents}async function hP(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(me(wa,"Using user provided OnlineComponentProvider"),await LC(n,n._uninitializedComponentsProvider._online)):(me(wa,"Using default OnlineComponentProvider"),await LC(n,new A_))),n._onlineComponents}function BF(n){return hP(n).then(e=>e.syncEngine)}async function zF(n){const e=await hP(n),t=e.eventManager;return t.onListen=bF.bind(null,e.syncEngine),t.onUnlisten=CF.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=SF.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=AF.bind(null,e.syncEngine),t}function FF(n,e,t={}){const i=new ua;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,c,h,f){const g=new VF({next:_=>{g.su(),l.enqueueAndForget(()=>mF(o,v));const w=_.docs.has(c);!w&&_.fromCache?f.reject(new be(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&_.fromCache&&h&&h.source==="server"?f.reject(new be(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(_)},error:_=>f.reject(_)}),v=new vF(wE(c.path),g,{includeMetadataChanges:!0,Ta:!0});return pF(o,v)}(await zF(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(n,e,t){if(!t)throw new be(oe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function HF(n,e,t,i){if(e===!0&&i===!0)throw new be(oe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function jC(n){if(!Se.isDocumentKey(n))throw new be(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function UC(n){if(Se.isDocumentKey(n))throw new be(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function zE(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ie()}function wo(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new be(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=zE(n);throw new be(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP="firestore.googleapis.com",BC=!0;class zC{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new be(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pP,this.ssl=BC}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:BC;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=GN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<gz)throw new be(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}HF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dP((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new be(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new be(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new be(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pm{constructor(e,t,i,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zC({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zC(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new $U;switch(i.type){case"firstParty":return new QU(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new be(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=VC.get(t);i&&(me("ComponentProvider","Removing Datastore"),VC.delete(t),i.terminate())}(this),Promise.resolve()}}function qF(n,e,t,i={}){var s;const o=(n=wo(n,Pm))._getSettings(),l=`${e}:${t}`;if(o.host!==pP&&o.host!==l&&Xl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:l,ssl:!1})),i.mockUserToken){let c,h;if(typeof i.mockUserToken=="string")c=i.mockUserToken,h=Nn.MOCK_USER;else{c=eR(i.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new be(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Nn(f)}n._authCredentials=new KU(new rN(c,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new FE(this.firestore,e,this._query)}}class ai{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ca(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ai(this.firestore,e,this._key)}}class ca extends FE{constructor(e,t,i){super(e,t,wE(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ai(this.firestore,null,new Se(e))}withConverter(e){return new ca(this.firestore,e,this._path)}}function GF(n,e,...t){if(n=Vt(n),fP("collection","path",e),n instanceof Pm){const i=vt.fromString(e,...t);return UC(i),new ca(n,null,i)}{if(!(n instanceof ai||n instanceof ca))throw new be(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(vt.fromString(e,...t));return UC(i),new ca(n.firestore,null,i)}}function R_(n,e,...t){if(n=Vt(n),arguments.length===1&&(e=aN.newId()),fP("doc","path",e),n instanceof Pm){const i=vt.fromString(e,...t);return jC(i),new ai(n,null,new Se(i))}{if(!(n instanceof ai||n instanceof ca))throw new be(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(vt.fromString(e,...t));return jC(i),new ai(n.firestore,n instanceof ca?n.converter:null,new Se(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC="AsyncQueue";class HC{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new YN(this,"async_queue_retry"),this.Su=()=>{const i=gv();i&&me(FC,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const t=gv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=gv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new ua;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!yu(e))throw e;me(FC,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const s=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(i);throw lr("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.pu=!1,i))));return this.bu=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const s=LE.createAndSchedule(this,e,t,i,o=>this.Fu(o));return this.fu.push(s),s}Du(){this.gu&&Ie()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class $h extends Pm{constructor(e,t,i,s){super(e,t,i,s),this.type="firestore",this._queue=new HC,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new HC(e),this._firestoreClient=void 0,await e}}}function $F(n,e){const t=typeof n=="object"?n:w0(),i=typeof n=="string"?n:Ip,s=im(t,"firestore").getImmediate({identifier:i});if(!s._initialized){const o=XA("firestore");o&&qF(s,...o)}return s}function mP(n){if(n._terminated)throw new be(oe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||KF(n),n._firestoreClient}function KF(n){var e,t,i;const s=n._freezeSettings(),o=function(c,h,f,g){return new cB(c,h,f,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,dP(g.experimentalLongPollingOptions),g.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new jF(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new iu(bn.fromBase64String(e))}catch(t){throw new be(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new iu(bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new be(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new be(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new be(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==s[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WF=/^__.*__$/;class YF{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Aa(e,this.data,this.fieldMask,t,this.fieldTransforms):new Fh(e,this.data,t,this.fieldTransforms)}}class gP{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Aa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function yP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie()}}class $E{constructor(e,t,i,s,o,l){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=s,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new $E(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:i,Qu:!1});return s.$u(e),s}Ku(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:i,Qu:!1});return s.Bu(),s}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Up(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(yP(this.Lu)&&WF.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class QF{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Rm(e)}ju(e,t,i,s=!1){return new $E({Lu:e,methodName:t,zu:i,path:Tn.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vP(n){const e=n._freezeSettings(),t=Rm(n._databaseId);return new QF(n._databaseId,!!e.ignoreUndefinedProperties,t)}function XF(n,e,t,i,s,o={}){const l=n.ju(o.merge||o.mergeFields?2:0,e,t,s);KE("Data must be an object, but it was:",l,i);const c=_P(i,l);let h,f;if(o.merge)h=new si(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const g=[];for(const v of o.mergeFields){const _=I_(e,v,t);if(!l.contains(_))throw new be(oe.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);TP(g,_)||g.push(_)}h=new si(g),f=l.fieldTransforms.filter(v=>h.covers(v.field))}else h=null,f=l.fieldTransforms;return new YF(new Kn(c),h,f)}class Mm extends HE{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mm}}function ZF(n,e,t,i){const s=n.ju(1,e,t);KE("Data must be an object, but it was:",s,i);const o=[],l=Kn.empty();Ca(i,(h,f)=>{const g=WE(e,h,t);f=Vt(f);const v=s.Ku(g);if(f instanceof Mm)o.push(g);else{const _=Om(f,v);_!=null&&(o.push(g),l.set(g,_))}});const c=new si(o);return new gP(l,c,s.fieldTransforms)}function JF(n,e,t,i,s,o){const l=n.ju(1,e,t),c=[I_(e,i,t)],h=[s];if(o.length%2!=0)throw new be(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)c.push(I_(e,o[_])),h.push(o[_+1]);const f=[],g=Kn.empty();for(let _=c.length-1;_>=0;--_)if(!TP(f,c[_])){const w=c[_];let x=h[_];x=Vt(x);const O=l.Ku(w);if(x instanceof Mm)f.push(w);else{const V=Om(x,O);V!=null&&(f.push(w),g.set(w,V))}}const v=new si(f);return new gP(g,v,l.fieldTransforms)}function Om(n,e){if(EP(n=Vt(n)))return KE("Unsupported field value:",e,n),_P(n,e);if(n instanceof HE)return function(i,s){if(!yP(s.Lu))throw s.Wu(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,s){const o=[];let l=0;for(const c of i){let h=Om(c,s.Uu(l));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),l++}return{arrayValue:{values:o}}}(n,e)}return function(i,s){if((i=Vt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return OB(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=Zt.fromDate(i);return{timestampValue:kp(s.serializer,o)}}if(i instanceof Zt){const o=new Zt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:kp(s.serializer,o)}}if(i instanceof qE)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof iu)return{bytesValue:jN(s.serializer,i._byteString)};if(i instanceof ai){const o=s.databaseId,l=i.firestore._databaseId;if(!l.isEqual(o))throw s.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:AE(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof GE)return function(l,c){return{mapValue:{fields:{[pN]:{stringValue:mN},[Np]:{arrayValue:{values:l.toArray().map(f=>{if(typeof f!="number")throw c.Wu("VectorValues must only contain numeric values.");return bE(c.serializer,f)})}}}}}}(i,s);throw s.Wu(`Unsupported field value: ${zE(i)}`)}(n,e)}function _P(n,e){const t={};return lN(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ca(n,(i,s)=>{const o=Om(s,e.qu(i));o!=null&&(t[i]=o)}),{mapValue:{fields:t}}}function EP(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Zt||n instanceof qE||n instanceof iu||n instanceof ai||n instanceof HE||n instanceof GE)}function KE(n,e,t){if(!EP(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const i=zE(t);throw i==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+i)}}function I_(n,e,t){if((e=Vt(e))instanceof Dm)return e._internalPath;if(typeof e=="string")return WE(n,e);throw Up("Field path arguments must be of type string or ",n,!1,void 0,t)}const eH=new RegExp("[~\\*/\\[\\]]");function WE(n,e,t){if(e.search(eH)>=0)throw Up(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Dm(...e.split("."))._internalPath}catch{throw Up(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Up(n,e,t,i,s){const o=i&&!i.isEmpty(),l=s!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(o||l)&&(h+=" (found",o&&(h+=` in field ${i}`),l&&(h+=` in document ${s}`),h+=")"),new be(oe.INVALID_ARGUMENT,c+n+h)}function TP(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e,t,i,s,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ai(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(bP("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class tH extends wP{data(){return super.data()}}function bP(n,e){return typeof e=="string"?WE(n,e):e instanceof Dm?e._internalPath:e._delegate._internalPath}class nH{convertValue(e,t="none"){switch(Ea(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_a(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Ca(e,(s,o)=>{i[s]=this.convertValue(o,t)}),i}convertVectorValue(e){var t,i,s;const o=(s=(i=(t=e.fields)===null||t===void 0?void 0:t[Np].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(l=>Lt(l.doubleValue));return new GE(o)}convertGeoPoint(e){return new qE(Lt(e.latitude),Lt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Tm(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Th(e));default:return null}}convertTimestamp(e){const t=va(e);return new Zt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=vt.fromString(e);at(qN(i));const s=new wh(i.get(1),i.get(3)),o=new Se(i.popFirst(5));return s.isEqual(t)||lr(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iH(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sH{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class SP extends wP{constructor(e,t,i,s,o,l){super(e,t,i,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new rH(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(bP("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class rH extends SP{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aH(n){n=wo(n,ai);const e=wo(n.firestore,$h);return FF(mP(e),n._key).then(t=>hH(e,n,t))}class oH extends nH{constructor(e){super(),this.firestore=e}convertBytes(e){return new iu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ai(this.firestore,null,t)}}function lH(n,e,t,...i){n=wo(n,ai);const s=wo(n.firestore,$h),o=vP(s);let l;return l=typeof(e=Vt(e))=="string"||e instanceof Dm?JF(o,"updateDoc",n._key,e,t,i):ZF(o,"updateDoc",n._key,e),YE(s,[l.toMutation(n._key,Ui.exists(!0))])}function uH(n){return YE(wo(n.firestore,$h),[new SE(n._key,Ui.none())])}function cH(n,e){const t=wo(n.firestore,$h),i=R_(n),s=iH(n.converter,e);return YE(t,[XF(vP(n.firestore),"addDoc",i._key,s,n.converter!==null,{}).toMutation(i._key,Ui.exists(!1))]).then(()=>i)}function YE(n,e){return function(i,s){const o=new ua;return i.asyncQueue.enqueueAndForget(async()=>RF(await BF(i),s,o)),o.promise}(mP(n),e)}function hH(n,e,t){const i=t.docs.get(e._key),s=new oH(n);return new SP(n,s,e._key,i,new sH(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){mu=s})(xo),po(new pa("firestore",(i,{instanceIdentifier:s,options:o})=>{const l=i.getProvider("app").getImmediate(),c=new $h(new WU(i.getProvider("auth-internal")),new XU(l,i.getProvider("app-check-internal")),function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new be(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wh(f.options.projectId,g)}(l,s),l);return o=Object.assign({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),us(Qx,Xx,e),us(Qx,Xx,"esm2017")})();const dH={apiKey:"AIzaSyC_aTfZtrXc8cFufHlvEjQJ5R_wl9Rgnas",authDomain:"chasam-5d05c.firebaseapp.com",databaseURL:"https://chasam-5d05c-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"chasam-5d05c",storageBucket:"chasam-5d05c.firebasestorage.app",messagingSenderId:"883788806730",appId:"1:883788806730:web:99454d79d47dc23bca04b3",measurementId:"G-HXZWJ24E34"},QE=rR(dH),fH=qU(QE),vv=$F(QE),Qt=vI(QE);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pH=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xP=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gH=U.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:s="",children:o,iconNode:l,...c},h)=>U.createElement("svg",{ref:h,...mH,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:xP("lucide",s),...c},[...l.map(([f,g])=>U.createElement(f,g)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=(n,e)=>{const t=U.forwardRef(({className:i,...s},o)=>U.createElement(gH,{ref:o,iconNode:e,className:xP(`lucide-${pH(n)}`,i),...s}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yH=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],CP=XE("ChevronLeft",yH);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],AP=XE("ChevronRight",vH);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _H=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],EH=XE("X",_H),TH=({openPopUp:n,setOpenPopUp:e,productId:t})=>{const[i,s]=U.useState(null),[o,l]=U.useState(!0),[c,h]=U.useState(!1),[f,g]=U.useState(0),[v,_]=U.useState([]),[w,x]=U.useState(null);if(U.useEffect(()=>{if(!t)return;l(!0);const H=Ft(Qt,`products/${t}`),q=cs(H,Z=>{const k=Z.val();if(k){s({id:t,...k}),k.bgImage&&x(k.bgImage),console.log("Product data:",k);let A=[];k.images&&(typeof k.images=="object"&&!Array.isArray(k.images)?A=Object.values(k.images).filter(C=>C&&typeof C=="string"):Array.isArray(k.images)&&(A=k.images.filter(C=>C&&typeof C=="string"))),A.length===0&&k.image&&typeof k.image=="string"&&(A=[k.image]),console.log("Images array:",A),_(A)}else s(null),_([]),x(null);l(!1)});return()=>q()},[t]),o)return T.jsx("div",{className:"fixed top-0 bottom-0 left-0 right-0 bg-[#178000] z-[999] flex justify-center items-center",children:T.jsx("div",{className:"bg-white p-6 rounded-lg",children:T.jsx("p",{children:"Loading product details..."})})});if(!i)return T.jsx("div",{className:"fixed top-0 bottom-0 left-0 right-0 bg-[#178000] z-[999] flex justify-center items-center",children:T.jsx("div",{className:"bg-white p-6 rounded-lg",children:T.jsx("p",{children:"Product not found"})})});let O=0;const V=()=>{g(H=>H>0?H-1:v.length-1)},D=()=>{g(H=>H<v.length-1?H+1:0)},I=H=>{O=H.touches[0].clientX},N=H=>{const q=H.changedTouches[0].clientX,Z=O-q;Z>50?D():Z<-50&&V()};return T.jsxs("div",{className:"fixed top-0 bottom-0 left-0 right-0 bg-[#178000] z-[999]",children:[T.jsxs("div",{className:"absolute w-full bottom-0 py-2 bg-[#fff] z-[999] flex justify-center items-center gap-5 BoxShadow",children:[T.jsxs("button",{className:"TextFont BoxShadow font-semibold px-10 py-2 rounded-lg bg-[#178000] text-[#fff] flex items-center gap-1 text-sm",children:[T.jsx(y2,{}),"Mail Us"]}),T.jsxs("button",{className:"TextFont BoxShadow px-10 py-2 font-semibold rounded-lg bg-[#178000] text-[#fff] flex items-center gap-1 text-sm",children:[T.jsx(d4,{}),"Contact Us"]})]}),T.jsx("div",{className:"px-2",children:T.jsx(VS.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1,transition:{duration:1.2,ease:"backInOut"}},className:"fixed w-[95%] mx-auto top-2 bottom-0 rounded-t-3xl z-[998] popUpBg bg-[#fff] backdrop-blur-sm overflow-y-auto scrollBar",children:T.jsxs("div",{children:[T.jsx("div",{className:"flex pt-4 pl-4 mb-5",children:T.jsx("span",{className:"bg-[#0000] p-1 rounded-full text-[#178000] text-xl",onClick:()=>e(!1),children:T.jsx(p2,{})})}),T.jsxs("div",{className:"w-full flex justify-center items-center rounded-2xl h-[340px] backdrop-blur-sm mb-2 BoxShadow relative overflow-hidden",onTouchStart:I,onTouchEnd:N,children:[T.jsx("div",{className:"w-full h-full flex justify-center items-center z-10",children:T.jsx(VS.img,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3,ease:"easeInOut"},src:v.length>0?v[f]:YO,alt:`${(i==null?void 0:i.name)||"Product"} - Image ${f+1}`,className:"w-full h-full object-contain drop-shadow-md"},f)}),v.length>1&&T.jsxs(T.Fragment,{children:[T.jsx("button",{onClick:V,className:"absolute left-4 top-1/2 transform -translate-y-1/2 z-20 bg-green-600 text-white rounded-full p-2 opacity-80 hover:opacity-100","aria-label":"Previous image",children:T.jsx(CP,{size:20})}),T.jsx("button",{onClick:D,className:"absolute right-4 top-1/2 transform -translate-y-1/2 z-20 bg-green-600 text-white rounded-full p-2 opacity-80 hover:opacity-100","aria-label":"Next image",children:T.jsx(AP,{size:20})})]}),v.length>1&&T.jsx("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center space-x-2 z-20",children:v.map((H,q)=>T.jsx("button",{onClick:()=>g(q),className:`w-2 h-2 rounded-full ${f===q?"bg-white":"bg-gray-400"}`,"aria-label":`Go to image ${q+1}`},q))})]}),v.length>1&&T.jsx("div",{className:"overflow-x-auto w-full scrollBar px-2 py-1",children:T.jsx("div",{className:"flex gap-2 mb-3 w-max ",children:v.map((H,q)=>T.jsx("div",{onClick:()=>g(q),className:`w-[100px] h-[100px]  bg-[#fff] shadow-2xl rounded-md cursor-pointer overflow-hidden ${f===q?"ring-2 ring-green-600":""}`,children:T.jsx("img",{src:H,alt:`Thumbnail ${q+1}`,className:"w-full h-full object-contain"})},q))})}),T.jsxs("div",{className:"px-4 py-2 mb-2 BoxShadow",children:[T.jsx("div",{className:"text-xl font-bold text-[#000000] TextFont1",children:i.name}),T.jsx("div",{className:"text-sm font-semibold text-[#6e736d]",children:i.category}),T.jsxs("div",{className:"flex items-center font-bold TextFont",children:[T.jsx(g2,{}),T.jsx("span",{className:"text-lg",children:i.price})]})]}),T.jsxs("div",{className:"px-4 py-4 text-[12px] text-[#000000] mb-3 font-semibold BoxShadow",children:[T.jsx("h3",{className:"text-[16px] font-bold mb-2",children:"Indication"}),T.jsx("div",{className:"flex flex-col gap-1 ",children:i.features&&i.features.length>0?i.features.map((H,q)=>T.jsx("div",{className:"flex items-start",children:T.jsx("span",{children:H})},q)):T.jsx("div",{className:"flex items-start",children:T.jsx("span",{children:i.description||"No description available"})})})]}),T.jsxs("div",{className:`px-4 BoxShadow pb-2 ${c?"mb-5":"mb-20"}`,children:[T.jsxs("div",{className:"relative",children:[T.jsx("div",{className:"font-bold mb-2",children:"Usage"}),T.jsx("div",{className:"font-semibold text-[12px]",children:i.usage||"Usage information not available"})]}),T.jsx("div",{className:"text-[12px] font-semibold items-center flex justify-end right-0",children:T.jsx("div",{className:"flex items-center cursor-pointer",onClick:()=>h(!c),children:c?T.jsxs("div",{className:"flex items-center gap-0.5",children:[T.jsx(UV,{}),"Less"]}):T.jsxs("div",{className:"flex items-center gap-0.5",children:[T.jsx(BV,{}),"More"]})})})]}),c&&T.jsxs("div",{className:"px-4 text-sm text-[#000000] mb-20 font-semibold",children:[T.jsx("div",{className:"TextFont font-bold text-xl mb-2",children:"Other Information"}),T.jsxs("ul",{className:"flex flex-col gap-1",children:[T.jsxs("li",{className:"flex items-start w-full gap-2",children:[T.jsxs("div",{className:"w-[40%] flex text-[12px] items-center font-bold",children:[T.jsx("span",{className:"text-2xl",children:T.jsx(Cc,{})}),"MRP"]}),T.jsxs("div",{className:"w-[60%] text-[12px]",children:[": Rs. ",i.price,".00 inclusive of all taxes"," ",T.jsx("span",{className:"block",children:"(MRP changes as per size selection)"})]})]}),T.jsxs("li",{className:"flex items-start w-full gap-2",children:[T.jsxs("div",{className:"w-[40%] flex text-[12px] items-center font-bold",children:[T.jsx("span",{className:"text-2xl",children:T.jsx(Cc,{})}),"Net Qty"]}),T.jsxs("div",{className:"w-[60%] text-[12px]",children:[": ",i.quantity||"1 N"]})]}),T.jsxs("li",{className:"flex items-start w-full gap-2",children:[T.jsxs("div",{className:"w-[40%] flex text-[12px] items-center font-bold",children:[T.jsx("span",{className:"text-2xl",children:T.jsx(Cc,{})}),"Manufactured By"]}),T.jsxs("div",{className:"w-[60%] text-[12px]",children:[":"," ",i.manufacturer||"Chasam Ayurvedic Clinic, Vythiri, Wayanad, Kerala"]})]}),T.jsxs("li",{className:"flex items-center w-full gap-2",children:[T.jsxs("div",{className:"w-[40%] flex text-[12px] items-center font-bold",children:[T.jsx("span",{className:"text-2xl",children:T.jsx(Cc,{})}),"Country Of Origin"]}),T.jsxs("div",{className:"w-[60%] text-[12px]",children:[": ",i.country||"India"]})]}),T.jsxs("li",{className:"flex items-center w-full gap-2",children:[T.jsxs("div",{className:"w-[40%] flex text-[12px] items-center font-bold",children:[T.jsx("span",{className:"text-2xl",children:T.jsx(Cc,{})}),"Customer Care Address"]}),T.jsxs("div",{className:"w-[60%] text-[12px]",children:[": ",i.customerCare||"India"]})]})]})]})]})})})]})},wH="/assets/homeimage1-DZ5e7-BS.png",bH="/assets/homeimage2-CzomThMO.png",SH="/assets/homeimage3-wFBo2ORF.png";function xH(n){return Je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.31 48 48 141.32 48 256c0 114.86 93.14 208 208 208 114.69 0 208-93.31 208-208 0-114.87-93.13-208-208-208zm94 219a94 94 0 1 1-94-94h4.21l-24-24L256 129.2l59.8 59.8-59.8 59.8-19.8-19.8 27.92-27.92c-2.4-.08-5.12-.08-8.12-.08a66 66 0 1 0 66 66v-14h28z"},child:[]}]})(n)}function qC(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function ZE(n,e){n===void 0&&(n={}),e===void 0&&(e={});const t=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>t.indexOf(i)<0).forEach(i=>{typeof n[i]>"u"?n[i]=e[i]:qC(e[i])&&qC(n[i])&&Object.keys(e[i]).length>0&&ZE(n[i],e[i])})}const RP={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function ms(){const n=typeof document<"u"?document:{};return ZE(n,RP),n}const CH={document:RP,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function zn(){const n=typeof window<"u"?window:{};return ZE(n,CH),n}function AH(n){return n===void 0&&(n=""),n.trim().split(" ").filter(e=>!!e.trim())}function RH(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function N_(n,e){return e===void 0&&(e=0),setTimeout(n,e)}function Bp(){return Date.now()}function IH(n){const e=zn();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function NH(n,e){e===void 0&&(e="x");const t=zn();let i,s,o;const l=IH(n);return t.WebKitCSSMatrix?(s=l.transform||l.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(c=>c.replace(",",".")).join(", ")),o=new t.WebKitCSSMatrix(s==="none"?"":s)):(o=l.MozTransform||l.OTransform||l.MsTransform||l.msTransform||l.transform||l.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=o.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?s=o.m41:i.length===16?s=parseFloat(i[12]):s=parseFloat(i[4])),e==="y"&&(t.WebKitCSSMatrix?s=o.m42:i.length===16?s=parseFloat(i[13]):s=parseFloat(i[5])),s||0}function Rf(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function PH(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function ii(){const n=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const i=t<0||arguments.length<=t?void 0:arguments[t];if(i!=null&&!PH(i)){const s=Object.keys(Object(i)).filter(o=>e.indexOf(o)<0);for(let o=0,l=s.length;o<l;o+=1){const c=s[o],h=Object.getOwnPropertyDescriptor(i,c);h!==void 0&&h.enumerable&&(Rf(n[c])&&Rf(i[c])?i[c].__swiper__?n[c]=i[c]:ii(n[c],i[c]):!Rf(n[c])&&Rf(i[c])?(n[c]={},i[c].__swiper__?n[c]=i[c]:ii(n[c],i[c])):n[c]=i[c])}}}return n}function If(n,e,t){n.style.setProperty(e,t)}function IP(n){let{swiper:e,targetPosition:t,side:i}=n;const s=zn(),o=-e.translate;let l=null,c;const h=e.params.speed;e.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(e.cssModeFrameID);const f=t>o?"next":"prev",g=(_,w)=>f==="next"&&_>=w||f==="prev"&&_<=w,v=()=>{c=new Date().getTime(),l===null&&(l=c);const _=Math.max(Math.min((c-l)/h,1),0),w=.5-Math.cos(_*Math.PI)/2;let x=o+w*(t-o);if(g(x,t)&&(x=t),e.wrapperEl.scrollTo({[i]:x}),g(x,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[i]:x})}),s.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=s.requestAnimationFrame(v)};v()}function as(n,e){e===void 0&&(e="");const t=zn(),i=[...n.children];return t.HTMLSlotElement&&n instanceof HTMLSlotElement&&i.push(...n.assignedElements()),e?i.filter(s=>s.matches(e)):i}function DH(n,e){const t=[e];for(;t.length>0;){const i=t.shift();if(n===i)return!0;t.push(...i.children,...i.shadowRoot?i.shadowRoot.children:[],...i.assignedElements?i.assignedElements():[])}}function MH(n,e){const t=zn();let i=e.contains(n);return!i&&t.HTMLSlotElement&&e instanceof HTMLSlotElement&&(i=[...e.assignedElements()].includes(n),i||(i=DH(n,e))),i}function zp(n){try{console.warn(n);return}catch{}}function Fp(n,e){e===void 0&&(e=[]);const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:AH(e)),t}function OH(n,e){const t=[];for(;n.previousElementSibling;){const i=n.previousElementSibling;e?i.matches(e)&&t.push(i):t.push(i),n=i}return t}function kH(n,e){const t=[];for(;n.nextElementSibling;){const i=n.nextElementSibling;e?i.matches(e)&&t.push(i):t.push(i),n=i}return t}function ia(n,e){return zn().getComputedStyle(n,null).getPropertyValue(e)}function Hp(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function NP(n,e){const t=[];let i=n.parentElement;for(;i;)e?i.matches(e)&&t.push(i):t.push(i),i=i.parentElement;return t}function P_(n,e,t){const i=zn();return n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function Ks(n){return(Array.isArray(n)?n:[n]).filter(e=>!!e)}let _v;function LH(){const n=zn(),e=ms();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function PP(){return _v||(_v=LH()),_v}let Ev;function VH(n){let{userAgent:e}=n===void 0?{}:n;const t=PP(),i=zn(),s=i.navigator.platform,o=e||i.navigator.userAgent,l={ios:!1,android:!1},c=i.screen.width,h=i.screen.height,f=o.match(/(Android);?[\s\/]+([\d.]+)?/);let g=o.match(/(iPad).*OS\s([\d_]+)/);const v=o.match(/(iPod)(.*OS\s([\d_]+))?/),_=!g&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),w=s==="Win32";let x=s==="MacIntel";const O=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!g&&x&&t.touch&&O.indexOf(`${c}x${h}`)>=0&&(g=o.match(/(Version)\/([\d.]+)/),g||(g=[0,1,"13_0_0"]),x=!1),f&&!w&&(l.os="android",l.android=!0),(g||_||v)&&(l.os="ios",l.ios=!0),l}function DP(n){return n===void 0&&(n={}),Ev||(Ev=VH(n)),Ev}let Tv;function jH(){const n=zn(),e=DP();let t=!1;function i(){const c=n.navigator.userAgent.toLowerCase();return c.indexOf("safari")>=0&&c.indexOf("chrome")<0&&c.indexOf("android")<0}if(i()){const c=String(n.navigator.userAgent);if(c.includes("Version/")){const[h,f]=c.split("Version/")[1].split(" ")[0].split(".").map(g=>Number(g));t=h<16||h===16&&f<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),o=i(),l=o||s&&e.ios;return{isSafari:t||o,needPerspectiveFix:t,need3dFix:l,isWebView:s}}function MP(){return Tv||(Tv=jH()),Tv}function UH(n){let{swiper:e,on:t,emit:i}=n;const s=zn();let o=null,l=null;const c=()=>{!e||e.destroyed||!e.initialized||(i("beforeResize"),i("resize"))},h=()=>{!e||e.destroyed||!e.initialized||(o=new ResizeObserver(v=>{l=s.requestAnimationFrame(()=>{const{width:_,height:w}=e;let x=_,O=w;v.forEach(V=>{let{contentBoxSize:D,contentRect:I,target:N}=V;N&&N!==e.el||(x=I?I.width:(D[0]||D).inlineSize,O=I?I.height:(D[0]||D).blockSize)}),(x!==_||O!==w)&&c()})}),o.observe(e.el))},f=()=>{l&&s.cancelAnimationFrame(l),o&&o.unobserve&&e.el&&(o.unobserve(e.el),o=null)},g=()=>{!e||e.destroyed||!e.initialized||i("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof s.ResizeObserver<"u"){h();return}s.addEventListener("resize",c),s.addEventListener("orientationchange",g)}),t("destroy",()=>{f(),s.removeEventListener("resize",c),s.removeEventListener("orientationchange",g)})}function BH(n){let{swiper:e,extendParams:t,on:i,emit:s}=n;const o=[],l=zn(),c=function(g,v){v===void 0&&(v={});const _=l.MutationObserver||l.WebkitMutationObserver,w=new _(x=>{if(e.__preventObserver__)return;if(x.length===1){s("observerUpdate",x[0]);return}const O=function(){s("observerUpdate",x[0])};l.requestAnimationFrame?l.requestAnimationFrame(O):l.setTimeout(O,0)});w.observe(g,{attributes:typeof v.attributes>"u"?!0:v.attributes,childList:e.isElement||(typeof v.childList>"u"?!0:v).childList,characterData:typeof v.characterData>"u"?!0:v.characterData}),o.push(w)},h=()=>{if(e.params.observer){if(e.params.observeParents){const g=NP(e.hostEl);for(let v=0;v<g.length;v+=1)c(g[v])}c(e.hostEl,{childList:e.params.observeSlideChildren}),c(e.wrapperEl,{attributes:!1})}},f=()=>{o.forEach(g=>{g.disconnect()}),o.splice(0,o.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",h),i("destroy",f)}var zH={on(n,e,t){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;const s=t?"unshift":"push";return n.split(" ").forEach(o=>{i.eventsListeners[o]||(i.eventsListeners[o]=[]),i.eventsListeners[o][s](e)}),i},once(n,e,t){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;function s(){i.off(n,s),s.__emitterProxy&&delete s.__emitterProxy;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];e.apply(i,l)}return s.__emitterProxy=e,i.on(n,s,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;const i=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[i](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(i=>{typeof e>"u"?t.eventsListeners[i]=[]:t.eventsListeners[i]&&t.eventsListeners[i].forEach((s,o)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&t.eventsListeners[i].splice(o,1)})}),t},emit(){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let e,t,i;for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];return typeof o[0]=="string"||Array.isArray(o[0])?(e=o[0],t=o.slice(1,o.length),i=n):(e=o[0].events,t=o[0].data,i=o[0].context||n),t.unshift(i),(Array.isArray(e)?e:e.split(" ")).forEach(h=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(f=>{f.apply(i,[h,...t])}),n.eventsListeners&&n.eventsListeners[h]&&n.eventsListeners[h].forEach(f=>{f.apply(i,t)})}),n}};function FH(){const n=this;let e,t;const i=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=i.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=i.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(ia(i,"padding-left")||0,10)-parseInt(ia(i,"padding-right")||0,10),t=t-parseInt(ia(i,"padding-top")||0,10)-parseInt(ia(i,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function HH(){const n=this;function e(R,j){return parseFloat(R.getPropertyValue(n.getDirectionLabel(j))||0)}const t=n.params,{wrapperEl:i,slidesEl:s,size:o,rtlTranslate:l,wrongRTL:c}=n,h=n.virtual&&t.virtual.enabled,f=h?n.virtual.slides.length:n.slides.length,g=as(s,`.${n.params.slideClass}, swiper-slide`),v=h?n.virtual.slides.length:g.length;let _=[];const w=[],x=[];let O=t.slidesOffsetBefore;typeof O=="function"&&(O=t.slidesOffsetBefore.call(n));let V=t.slidesOffsetAfter;typeof V=="function"&&(V=t.slidesOffsetAfter.call(n));const D=n.snapGrid.length,I=n.slidesGrid.length;let N=t.spaceBetween,H=-O,q=0,Z=0;if(typeof o>"u")return;typeof N=="string"&&N.indexOf("%")>=0?N=parseFloat(N.replace("%",""))/100*o:typeof N=="string"&&(N=parseFloat(N)),n.virtualSize=-N,g.forEach(R=>{l?R.style.marginLeft="":R.style.marginRight="",R.style.marginBottom="",R.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(If(i,"--swiper-centered-offset-before",""),If(i,"--swiper-centered-offset-after",""));const k=t.grid&&t.grid.rows>1&&n.grid;k?n.grid.initSlides(g):n.grid&&n.grid.unsetSlides();let A;const C=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(R=>typeof t.breakpoints[R].slidesPerView<"u").length>0;for(let R=0;R<v;R+=1){A=0;let j;if(g[R]&&(j=g[R]),k&&n.grid.updateSlide(R,j,g),!(g[R]&&ia(j,"display")==="none")){if(t.slidesPerView==="auto"){C&&(g[R].style[n.getDirectionLabel("width")]="");const z=getComputedStyle(j),L=j.style.transform,de=j.style.webkitTransform;if(L&&(j.style.transform="none"),de&&(j.style.webkitTransform="none"),t.roundLengths)A=n.isHorizontal()?P_(j,"width"):P_(j,"height");else{const _e=e(z,"width"),ae=e(z,"padding-left"),he=e(z,"padding-right"),re=e(z,"margin-left"),ye=e(z,"margin-right"),F=z.getPropertyValue("box-sizing");if(F&&F==="border-box")A=_e+re+ye;else{const{clientWidth:ie,offsetWidth:ge}=j;A=_e+ae+he+re+ye+(ge-ie)}}L&&(j.style.transform=L),de&&(j.style.webkitTransform=de),t.roundLengths&&(A=Math.floor(A))}else A=(o-(t.slidesPerView-1)*N)/t.slidesPerView,t.roundLengths&&(A=Math.floor(A)),g[R]&&(g[R].style[n.getDirectionLabel("width")]=`${A}px`);g[R]&&(g[R].swiperSlideSize=A),x.push(A),t.centeredSlides?(H=H+A/2+q/2+N,q===0&&R!==0&&(H=H-o/2-N),R===0&&(H=H-o/2-N),Math.abs(H)<1/1e3&&(H=0),t.roundLengths&&(H=Math.floor(H)),Z%t.slidesPerGroup===0&&_.push(H),w.push(H)):(t.roundLengths&&(H=Math.floor(H)),(Z-Math.min(n.params.slidesPerGroupSkip,Z))%n.params.slidesPerGroup===0&&_.push(H),w.push(H),H=H+A+N),n.virtualSize+=A+N,q=A,Z+=1}}if(n.virtualSize=Math.max(n.virtualSize,o)+V,l&&c&&(t.effect==="slide"||t.effect==="coverflow")&&(i.style.width=`${n.virtualSize+N}px`),t.setWrapperSize&&(i.style[n.getDirectionLabel("width")]=`${n.virtualSize+N}px`),k&&n.grid.updateWrapperSize(A,_),!t.centeredSlides){const R=[];for(let j=0;j<_.length;j+=1){let z=_[j];t.roundLengths&&(z=Math.floor(z)),_[j]<=n.virtualSize-o&&R.push(z)}_=R,Math.floor(n.virtualSize-o)-Math.floor(_[_.length-1])>1&&_.push(n.virtualSize-o)}if(h&&t.loop){const R=x[0]+N;if(t.slidesPerGroup>1){const j=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/t.slidesPerGroup),z=R*t.slidesPerGroup;for(let L=0;L<j;L+=1)_.push(_[_.length-1]+z)}for(let j=0;j<n.virtual.slidesBefore+n.virtual.slidesAfter;j+=1)t.slidesPerGroup===1&&_.push(_[_.length-1]+R),w.push(w[w.length-1]+R),n.virtualSize+=R}if(_.length===0&&(_=[0]),N!==0){const R=n.isHorizontal()&&l?"marginLeft":n.getDirectionLabel("marginRight");g.filter((j,z)=>!t.cssMode||t.loop?!0:z!==g.length-1).forEach(j=>{j.style[R]=`${N}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let R=0;x.forEach(z=>{R+=z+(N||0)}),R-=N;const j=R>o?R-o:0;_=_.map(z=>z<=0?-O:z>j?j+V:z)}if(t.centerInsufficientSlides){let R=0;x.forEach(z=>{R+=z+(N||0)}),R-=N;const j=(t.slidesOffsetBefore||0)+(t.slidesOffsetAfter||0);if(R+j<o){const z=(o-R-j)/2;_.forEach((L,de)=>{_[de]=L-z}),w.forEach((L,de)=>{w[de]=L+z})}}if(Object.assign(n,{slides:g,snapGrid:_,slidesGrid:w,slidesSizesGrid:x}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){If(i,"--swiper-centered-offset-before",`${-_[0]}px`),If(i,"--swiper-centered-offset-after",`${n.size/2-x[x.length-1]/2}px`);const R=-n.snapGrid[0],j=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(z=>z+R),n.slidesGrid=n.slidesGrid.map(z=>z+j)}if(v!==f&&n.emit("slidesLengthChange"),_.length!==D&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),w.length!==I&&n.emit("slidesGridLengthChange"),t.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!h&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const R=`${t.containerModifierClass}backface-hidden`,j=n.el.classList.contains(R);v<=t.maxBackfaceHiddenSlides?j||n.el.classList.add(R):j&&n.el.classList.remove(R)}}function qH(n){const e=this,t=[],i=e.virtual&&e.params.virtual.enabled;let s=0,o;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);const l=c=>i?e.slides[e.getSlideIndexByData(c)]:e.slides[c];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(c=>{t.push(c)});else for(o=0;o<Math.ceil(e.params.slidesPerView);o+=1){const c=e.activeIndex+o;if(c>e.slides.length&&!i)break;t.push(l(c))}else t.push(l(e.activeIndex));for(o=0;o<t.length;o+=1)if(typeof t[o]<"u"){const c=t[o].offsetHeight;s=c>s?c:s}(s||s===0)&&(e.wrapperEl.style.height=`${s}px`)}function GH(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let i=0;i<e.length;i+=1)e[i].swiperSlideOffset=(n.isHorizontal()?e[i].offsetLeft:e[i].offsetTop)-t-n.cssOverflowAdjustment()}const GC=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function $H(n){n===void 0&&(n=this&&this.translate||0);const e=this,t=e.params,{slides:i,rtlTranslate:s,snapGrid:o}=e;if(i.length===0)return;typeof i[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let l=-n;s&&(l=n),e.visibleSlidesIndexes=[],e.visibleSlides=[];let c=t.spaceBetween;typeof c=="string"&&c.indexOf("%")>=0?c=parseFloat(c.replace("%",""))/100*e.size:typeof c=="string"&&(c=parseFloat(c));for(let h=0;h<i.length;h+=1){const f=i[h];let g=f.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(g-=i[0].swiperSlideOffset);const v=(l+(t.centeredSlides?e.minTranslate():0)-g)/(f.swiperSlideSize+c),_=(l-o[0]+(t.centeredSlides?e.minTranslate():0)-g)/(f.swiperSlideSize+c),w=-(l-g),x=w+e.slidesSizesGrid[h],O=w>=0&&w<=e.size-e.slidesSizesGrid[h],V=w>=0&&w<e.size-1||x>1&&x<=e.size||w<=0&&x>=e.size;V&&(e.visibleSlides.push(f),e.visibleSlidesIndexes.push(h)),GC(f,V,t.slideVisibleClass),GC(f,O,t.slideFullyVisibleClass),f.progress=s?-v:v,f.originalProgress=s?-_:_}}function KH(n){const e=this;if(typeof n>"u"){const g=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*g||0}const t=e.params,i=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:o,isEnd:l,progressLoop:c}=e;const h=o,f=l;if(i===0)s=0,o=!0,l=!0;else{s=(n-e.minTranslate())/i;const g=Math.abs(n-e.minTranslate())<1,v=Math.abs(n-e.maxTranslate())<1;o=g||s<=0,l=v||s>=1,g&&(s=0),v&&(s=1)}if(t.loop){const g=e.getSlideIndexByData(0),v=e.getSlideIndexByData(e.slides.length-1),_=e.slidesGrid[g],w=e.slidesGrid[v],x=e.slidesGrid[e.slidesGrid.length-1],O=Math.abs(n);O>=_?c=(O-_)/x:c=(O+x-w)/x,c>1&&(c-=1)}Object.assign(e,{progress:s,progressLoop:c,isBeginning:o,isEnd:l}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),o&&!h&&e.emit("reachBeginning toEdge"),l&&!f&&e.emit("reachEnd toEdge"),(h&&!o||f&&!l)&&e.emit("fromEdge"),e.emit("progress",s)}const wv=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function WH(){const n=this,{slides:e,params:t,slidesEl:i,activeIndex:s}=n,o=n.virtual&&t.virtual.enabled,l=n.grid&&t.grid&&t.grid.rows>1,c=v=>as(i,`.${t.slideClass}${v}, swiper-slide${v}`)[0];let h,f,g;if(o)if(t.loop){let v=s-n.virtual.slidesBefore;v<0&&(v=n.virtual.slides.length+v),v>=n.virtual.slides.length&&(v-=n.virtual.slides.length),h=c(`[data-swiper-slide-index="${v}"]`)}else h=c(`[data-swiper-slide-index="${s}"]`);else l?(h=e.find(v=>v.column===s),g=e.find(v=>v.column===s+1),f=e.find(v=>v.column===s-1)):h=e[s];h&&(l||(g=kH(h,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!g&&(g=e[0]),f=OH(h,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!f===0&&(f=e[e.length-1]))),e.forEach(v=>{wv(v,v===h,t.slideActiveClass),wv(v,v===g,t.slideNextClass),wv(v,v===f,t.slidePrevClass)}),n.emitSlidesClasses()}const Kf=(n,e)=>{if(!n||n.destroyed||!n.params)return;const t=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,i=e.closest(t());if(i){let s=i.querySelector(`.${n.params.lazyPreloaderClass}`);!s&&n.isElement&&(i.shadowRoot?s=i.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{i.shadowRoot&&(s=i.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),s&&s.remove())})),s&&s.remove()}},bv=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},D_=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const i=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),s=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const l=s,c=[l-e];c.push(...Array.from({length:e}).map((h,f)=>l+i+f)),n.slides.forEach((h,f)=>{c.includes(h.column)&&bv(n,f)});return}const o=s+i-1;if(n.params.rewind||n.params.loop)for(let l=s-e;l<=o+e;l+=1){const c=(l%t+t)%t;(c<s||c>o)&&bv(n,c)}else for(let l=Math.max(s-e,0);l<=Math.min(o+e,t-1);l+=1)l!==s&&(l>o||l<s)&&bv(n,l)};function YH(n){const{slidesGrid:e,params:t}=n,i=n.rtlTranslate?n.translate:-n.translate;let s;for(let o=0;o<e.length;o+=1)typeof e[o+1]<"u"?i>=e[o]&&i<e[o+1]-(e[o+1]-e[o])/2?s=o:i>=e[o]&&i<e[o+1]&&(s=o+1):i>=e[o]&&(s=o);return t.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function QH(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:i,params:s,activeIndex:o,realIndex:l,snapIndex:c}=e;let h=n,f;const g=w=>{let x=w-e.virtual.slidesBefore;return x<0&&(x=e.virtual.slides.length+x),x>=e.virtual.slides.length&&(x-=e.virtual.slides.length),x};if(typeof h>"u"&&(h=YH(e)),i.indexOf(t)>=0)f=i.indexOf(t);else{const w=Math.min(s.slidesPerGroupSkip,h);f=w+Math.floor((h-w)/s.slidesPerGroup)}if(f>=i.length&&(f=i.length-1),h===o&&!e.params.loop){f!==c&&(e.snapIndex=f,e.emit("snapIndexChange"));return}if(h===o&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=g(h);return}const v=e.grid&&s.grid&&s.grid.rows>1;let _;if(e.virtual&&s.virtual.enabled&&s.loop)_=g(h);else if(v){const w=e.slides.find(O=>O.column===h);let x=parseInt(w.getAttribute("data-swiper-slide-index"),10);Number.isNaN(x)&&(x=Math.max(e.slides.indexOf(w),0)),_=Math.floor(x/s.grid.rows)}else if(e.slides[h]){const w=e.slides[h].getAttribute("data-swiper-slide-index");w?_=parseInt(w,10):_=h}else _=h;Object.assign(e,{previousSnapIndex:c,snapIndex:f,previousRealIndex:l,realIndex:_,previousIndex:o,activeIndex:h}),e.initialized&&D_(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(l!==_&&e.emit("realIndexChange"),e.emit("slideChange"))}function XH(n,e){const t=this,i=t.params;let s=n.closest(`.${i.slideClass}, swiper-slide`);!s&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(c=>{!s&&c.matches&&c.matches(`.${i.slideClass}, swiper-slide`)&&(s=c)});let o=!1,l;if(s){for(let c=0;c<t.slides.length;c+=1)if(t.slides[c]===s){o=!0,l=c;break}}if(s&&o)t.clickedSlide=s,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=l;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}i.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var ZH={updateSize:FH,updateSlides:HH,updateAutoHeight:qH,updateSlidesOffset:GH,updateSlidesProgress:$H,updateProgress:KH,updateSlidesClasses:WH,updateActiveIndex:QH,updateClickedSlide:XH};function JH(n){n===void 0&&(n=this.isHorizontal()?"x":"y");const e=this,{params:t,rtlTranslate:i,translate:s,wrapperEl:o}=e;if(t.virtualTranslate)return i?-s:s;if(t.cssMode)return s;let l=NH(o,n);return l+=e.cssOverflowAdjustment(),i&&(l=-l),l||0}function eq(n,e){const t=this,{rtlTranslate:i,params:s,wrapperEl:o,progress:l}=t;let c=0,h=0;const f=0;t.isHorizontal()?c=i?-n:n:h=n,s.roundLengths&&(c=Math.floor(c),h=Math.floor(h)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?c:h,s.cssMode?o[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-c:-h:s.virtualTranslate||(t.isHorizontal()?c-=t.cssOverflowAdjustment():h-=t.cssOverflowAdjustment(),o.style.transform=`translate3d(${c}px, ${h}px, ${f}px)`);let g;const v=t.maxTranslate()-t.minTranslate();v===0?g=0:g=(n-t.minTranslate())/v,g!==l&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function tq(){return-this.snapGrid[0]}function nq(){return-this.snapGrid[this.snapGrid.length-1]}function iq(n,e,t,i,s){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),i===void 0&&(i=!0);const o=this,{params:l,wrapperEl:c}=o;if(o.animating&&l.preventInteractionOnTransition)return!1;const h=o.minTranslate(),f=o.maxTranslate();let g;if(i&&n>h?g=h:i&&n<f?g=f:g=n,o.updateProgress(g),l.cssMode){const v=o.isHorizontal();if(e===0)c[v?"scrollLeft":"scrollTop"]=-g;else{if(!o.support.smoothScroll)return IP({swiper:o,targetPosition:-g,side:v?"left":"top"}),!0;c.scrollTo({[v?"left":"top"]:-g,behavior:"smooth"})}return!0}return e===0?(o.setTransition(0),o.setTranslate(g),t&&(o.emit("beforeTransitionStart",e,s),o.emit("transitionEnd"))):(o.setTransition(e),o.setTranslate(g),t&&(o.emit("beforeTransitionStart",e,s),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(_){!o||o.destroyed||_.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,o.animating=!1,t&&o.emit("transitionEnd"))}),o.wrapperEl.addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd))),!0}var sq={getTranslate:JH,setTranslate:eq,minTranslate:tq,maxTranslate:nq,translateTo:iq};function rq(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`,t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function OP(n){let{swiper:e,runCallbacks:t,direction:i,step:s}=n;const{activeIndex:o,previousIndex:l}=e;let c=i;if(c||(o>l?c="next":o<l?c="prev":c="reset"),e.emit(`transition${s}`),t&&o!==l){if(c==="reset"){e.emit(`slideResetTransition${s}`);return}e.emit(`slideChangeTransition${s}`),c==="next"?e.emit(`slideNextTransition${s}`):e.emit(`slidePrevTransition${s}`)}}function aq(n,e){n===void 0&&(n=!0);const t=this,{params:i}=t;i.cssMode||(i.autoHeight&&t.updateAutoHeight(),OP({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function oq(n,e){n===void 0&&(n=!0);const t=this,{params:i}=t;t.animating=!1,!i.cssMode&&(t.setTransition(0),OP({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var lq={setTransition:rq,transitionStart:aq,transitionEnd:oq};function uq(n,e,t,i,s){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const o=this;let l=n;l<0&&(l=0);const{params:c,snapGrid:h,slidesGrid:f,previousIndex:g,activeIndex:v,rtlTranslate:_,wrapperEl:w,enabled:x}=o;if(!x&&!i&&!s||o.destroyed||o.animating&&c.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=o.params.speed);const O=Math.min(o.params.slidesPerGroupSkip,l);let V=O+Math.floor((l-O)/o.params.slidesPerGroup);V>=h.length&&(V=h.length-1);const D=-h[V];if(c.normalizeSlideIndex)for(let k=0;k<f.length;k+=1){const A=-Math.floor(D*100),C=Math.floor(f[k]*100),R=Math.floor(f[k+1]*100);typeof f[k+1]<"u"?A>=C&&A<R-(R-C)/2?l=k:A>=C&&A<R&&(l=k+1):A>=C&&(l=k)}if(o.initialized&&l!==v&&(!o.allowSlideNext&&(_?D>o.translate&&D>o.minTranslate():D<o.translate&&D<o.minTranslate())||!o.allowSlidePrev&&D>o.translate&&D>o.maxTranslate()&&(v||0)!==l))return!1;l!==(g||0)&&t&&o.emit("beforeSlideChangeStart"),o.updateProgress(D);let I;l>v?I="next":l<v?I="prev":I="reset";const N=o.virtual&&o.params.virtual.enabled;if(!(N&&s)&&(_&&-D===o.translate||!_&&D===o.translate))return o.updateActiveIndex(l),c.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),c.effect!=="slide"&&o.setTranslate(D),I!=="reset"&&(o.transitionStart(t,I),o.transitionEnd(t,I)),!1;if(c.cssMode){const k=o.isHorizontal(),A=_?D:-D;if(e===0)N&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),N&&!o._cssModeVirtualInitialSet&&o.params.initialSlide>0?(o._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{w[k?"scrollLeft":"scrollTop"]=A})):w[k?"scrollLeft":"scrollTop"]=A,N&&requestAnimationFrame(()=>{o.wrapperEl.style.scrollSnapType="",o._immediateVirtual=!1});else{if(!o.support.smoothScroll)return IP({swiper:o,targetPosition:A,side:k?"left":"top"}),!0;w.scrollTo({[k?"left":"top"]:A,behavior:"smooth"})}return!0}const Z=MP().isSafari;return N&&!s&&Z&&o.isElement&&o.virtual.update(!1,!1,l),o.setTransition(e),o.setTranslate(D),o.updateActiveIndex(l),o.updateSlidesClasses(),o.emit("beforeTransitionStart",e,i),o.transitionStart(t,I),e===0?o.transitionEnd(t,I):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(A){!o||o.destroyed||A.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(t,I))}),o.wrapperEl.addEventListener("transitionend",o.onSlideToWrapperTransitionEnd)),!0}function cq(n,e,t,i){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const s=this;if(s.destroyed)return;typeof e>"u"&&(e=s.params.speed);const o=s.grid&&s.params.grid&&s.params.grid.rows>1;let l=n;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)l=l+s.virtual.slidesBefore;else{let c;if(o){const _=l*s.params.grid.rows;c=s.slides.find(w=>w.getAttribute("data-swiper-slide-index")*1===_).column}else c=s.getSlideIndexByData(l);const h=o?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:f}=s.params;let g=s.params.slidesPerView;g==="auto"?g=s.slidesPerViewDynamic():(g=Math.ceil(parseFloat(s.params.slidesPerView,10)),f&&g%2===0&&(g=g+1));let v=h-c<g;if(f&&(v=v||c<Math.ceil(g/2)),i&&f&&s.params.slidesPerView!=="auto"&&!o&&(v=!1),v){const _=f?c<s.activeIndex?"prev":"next":c-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:_,slideTo:!0,activeSlideIndex:_==="next"?c+1:c-h+1,slideRealIndex:_==="next"?s.realIndex:void 0})}if(o){const _=l*s.params.grid.rows;l=s.slides.find(w=>w.getAttribute("data-swiper-slide-index")*1===_).column}else l=s.getSlideIndexByData(l)}return requestAnimationFrame(()=>{s.slideTo(l,e,t,i)}),s}function hq(n,e,t){e===void 0&&(e=!0);const i=this,{enabled:s,params:o,animating:l}=i;if(!s||i.destroyed)return i;typeof n>"u"&&(n=i.params.speed);let c=o.slidesPerGroup;o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(c=Math.max(i.slidesPerViewDynamic("current",!0),1));const h=i.activeIndex<o.slidesPerGroupSkip?1:c,f=i.virtual&&o.virtual.enabled;if(o.loop){if(l&&!f&&o.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&o.cssMode)return requestAnimationFrame(()=>{i.slideTo(i.activeIndex+h,n,e,t)}),!0}return o.rewind&&i.isEnd?i.slideTo(0,n,e,t):i.slideTo(i.activeIndex+h,n,e,t)}function dq(n,e,t){e===void 0&&(e=!0);const i=this,{params:s,snapGrid:o,slidesGrid:l,rtlTranslate:c,enabled:h,animating:f}=i;if(!h||i.destroyed)return i;typeof n>"u"&&(n=i.params.speed);const g=i.virtual&&s.virtual.enabled;if(s.loop){if(f&&!g&&s.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}const v=c?i.translate:-i.translate;function _(I){return I<0?-Math.floor(Math.abs(I)):Math.floor(I)}const w=_(v),x=o.map(I=>_(I)),O=s.freeMode&&s.freeMode.enabled;let V=o[x.indexOf(w)-1];if(typeof V>"u"&&(s.cssMode||O)){let I;o.forEach((N,H)=>{w>=N&&(I=H)}),typeof I<"u"&&(V=O?o[I]:o[I>0?I-1:I])}let D=0;if(typeof V<"u"&&(D=l.indexOf(V),D<0&&(D=i.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(D=D-i.slidesPerViewDynamic("previous",!0)+1,D=Math.max(D,0))),s.rewind&&i.isBeginning){const I=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(I,n,e,t)}else if(s.loop&&i.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{i.slideTo(D,n,e,t)}),!0;return i.slideTo(D,n,e,t)}function fq(n,e,t){e===void 0&&(e=!0);const i=this;if(!i.destroyed)return typeof n>"u"&&(n=i.params.speed),i.slideTo(i.activeIndex,n,e,t)}function pq(n,e,t,i){e===void 0&&(e=!0),i===void 0&&(i=.5);const s=this;if(s.destroyed)return;typeof n>"u"&&(n=s.params.speed);let o=s.activeIndex;const l=Math.min(s.params.slidesPerGroupSkip,o),c=l+Math.floor((o-l)/s.params.slidesPerGroup),h=s.rtlTranslate?s.translate:-s.translate;if(h>=s.snapGrid[c]){const f=s.snapGrid[c],g=s.snapGrid[c+1];h-f>(g-f)*i&&(o+=s.params.slidesPerGroup)}else{const f=s.snapGrid[c-1],g=s.snapGrid[c];h-f<=(g-f)*i&&(o-=s.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,s.slidesGrid.length-1),s.slideTo(o,n,e,t)}function mq(){const n=this;if(n.destroyed)return;const{params:e,slidesEl:t}=n,i=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView;let s=n.clickedIndex,o;const l=n.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(n.animating)return;o=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?s<n.loopedSlides-i/2||s>n.slides.length-n.loopedSlides+i/2?(n.loopFix(),s=n.getSlideIndex(as(t,`${l}[data-swiper-slide-index="${o}"]`)[0]),N_(()=>{n.slideTo(s)})):n.slideTo(s):s>n.slides.length-i?(n.loopFix(),s=n.getSlideIndex(as(t,`${l}[data-swiper-slide-index="${o}"]`)[0]),N_(()=>{n.slideTo(s)})):n.slideTo(s)}else n.slideTo(s)}var gq={slideTo:uq,slideToLoop:cq,slideNext:hq,slidePrev:dq,slideReset:fq,slideToClosest:pq,slideToClickedSlide:mq};function yq(n){const e=this,{params:t,slidesEl:i}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;const s=()=>{as(i,`.${t.slideClass}, swiper-slide`).forEach((v,_)=>{v.setAttribute("data-swiper-slide-index",_)})},o=e.grid&&t.grid&&t.grid.rows>1,l=t.slidesPerGroup*(o?t.grid.rows:1),c=e.slides.length%l!==0,h=o&&e.slides.length%t.grid.rows!==0,f=g=>{for(let v=0;v<g;v+=1){const _=e.isElement?Fp("swiper-slide",[t.slideBlankClass]):Fp("div",[t.slideClass,t.slideBlankClass]);e.slidesEl.append(_)}};if(c){if(t.loopAddBlankSlides){const g=l-e.slides.length%l;f(g),e.recalcSlides(),e.updateSlides()}else zp("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(h){if(t.loopAddBlankSlides){const g=t.grid.rows-e.slides.length%t.grid.rows;f(g),e.recalcSlides(),e.updateSlides()}else zp("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();e.loopFix({slideRealIndex:n,direction:t.centeredSlides?void 0:"next"})}function vq(n){let{slideRealIndex:e,slideTo:t=!0,direction:i,setTranslate:s,activeSlideIndex:o,byController:l,byMousewheel:c}=n===void 0?{}:n;const h=this;if(!h.params.loop)return;h.emit("beforeLoopFix");const{slides:f,allowSlidePrev:g,allowSlideNext:v,slidesEl:_,params:w}=h,{centeredSlides:x}=w;if(h.allowSlidePrev=!0,h.allowSlideNext=!0,h.virtual&&w.virtual.enabled){t&&(!w.centeredSlides&&h.snapIndex===0?h.slideTo(h.virtual.slides.length,0,!1,!0):w.centeredSlides&&h.snapIndex<w.slidesPerView?h.slideTo(h.virtual.slides.length+h.snapIndex,0,!1,!0):h.snapIndex===h.snapGrid.length-1&&h.slideTo(h.virtual.slidesBefore,0,!1,!0)),h.allowSlidePrev=g,h.allowSlideNext=v,h.emit("loopFix");return}let O=w.slidesPerView;O==="auto"?O=h.slidesPerViewDynamic():(O=Math.ceil(parseFloat(w.slidesPerView,10)),x&&O%2===0&&(O=O+1));const V=w.slidesPerGroupAuto?O:w.slidesPerGroup;let D=V;D%V!==0&&(D+=V-D%V),D+=w.loopAdditionalSlides,h.loopedSlides=D;const I=h.grid&&w.grid&&w.grid.rows>1;f.length<O+D?zp("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):I&&w.grid.fill==="row"&&zp("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const N=[],H=[];let q=h.activeIndex;typeof o>"u"?o=h.getSlideIndex(f.find(L=>L.classList.contains(w.slideActiveClass))):q=o;const Z=i==="next"||!i,k=i==="prev"||!i;let A=0,C=0;const R=I?Math.ceil(f.length/w.grid.rows):f.length,z=(I?f[o].column:o)+(x&&typeof s>"u"?-O/2+.5:0);if(z<D){A=Math.max(D-z,V);for(let L=0;L<D-z;L+=1){const de=L-Math.floor(L/R)*R;if(I){const _e=R-de-1;for(let ae=f.length-1;ae>=0;ae-=1)f[ae].column===_e&&N.push(ae)}else N.push(R-de-1)}}else if(z+O>R-D){C=Math.max(z-(R-D*2),V);for(let L=0;L<C;L+=1){const de=L-Math.floor(L/R)*R;I?f.forEach((_e,ae)=>{_e.column===de&&H.push(ae)}):H.push(de)}}if(h.__preventObserver__=!0,requestAnimationFrame(()=>{h.__preventObserver__=!1}),k&&N.forEach(L=>{f[L].swiperLoopMoveDOM=!0,_.prepend(f[L]),f[L].swiperLoopMoveDOM=!1}),Z&&H.forEach(L=>{f[L].swiperLoopMoveDOM=!0,_.append(f[L]),f[L].swiperLoopMoveDOM=!1}),h.recalcSlides(),w.slidesPerView==="auto"?h.updateSlides():I&&(N.length>0&&k||H.length>0&&Z)&&h.slides.forEach((L,de)=>{h.grid.updateSlide(de,L,h.slides)}),w.watchSlidesProgress&&h.updateSlidesOffset(),t){if(N.length>0&&k){if(typeof e>"u"){const L=h.slidesGrid[q],_e=h.slidesGrid[q+A]-L;c?h.setTranslate(h.translate-_e):(h.slideTo(q+Math.ceil(A),0,!1,!0),s&&(h.touchEventsData.startTranslate=h.touchEventsData.startTranslate-_e,h.touchEventsData.currentTranslate=h.touchEventsData.currentTranslate-_e))}else if(s){const L=I?N.length/w.grid.rows:N.length;h.slideTo(h.activeIndex+L,0,!1,!0),h.touchEventsData.currentTranslate=h.translate}}else if(H.length>0&&Z)if(typeof e>"u"){const L=h.slidesGrid[q],_e=h.slidesGrid[q-C]-L;c?h.setTranslate(h.translate-_e):(h.slideTo(q-C,0,!1,!0),s&&(h.touchEventsData.startTranslate=h.touchEventsData.startTranslate-_e,h.touchEventsData.currentTranslate=h.touchEventsData.currentTranslate-_e))}else{const L=I?H.length/w.grid.rows:H.length;h.slideTo(h.activeIndex-L,0,!1,!0)}}if(h.allowSlidePrev=g,h.allowSlideNext=v,h.controller&&h.controller.control&&!l){const L={slideRealIndex:e,direction:i,setTranslate:s,activeSlideIndex:o,byController:!0};Array.isArray(h.controller.control)?h.controller.control.forEach(de=>{!de.destroyed&&de.params.loop&&de.loopFix({...L,slideTo:de.params.slidesPerView===w.slidesPerView?t:!1})}):h.controller.control instanceof h.constructor&&h.controller.control.params.loop&&h.controller.control.loopFix({...L,slideTo:h.controller.control.params.slidesPerView===w.slidesPerView?t:!1})}h.emit("loopFix")}function _q(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const i=[];n.slides.forEach(s=>{const o=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;i[o]=s}),n.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),i.forEach(s=>{t.append(s)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var Eq={loopCreate:yq,loopFix:vq,loopDestroy:_q};function Tq(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function wq(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var bq={setGrabCursor:Tq,unsetGrabCursor:wq};function Sq(n,e){e===void 0&&(e=this);function t(i){if(!i||i===ms()||i===zn())return null;i.assignedSlot&&(i=i.assignedSlot);const s=i.closest(n);return!s&&!i.getRootNode?null:s||t(i.getRootNode().host)}return t(e)}function $C(n,e,t){const i=zn(),{params:s}=n,o=s.edgeSwipeDetection,l=s.edgeSwipeThreshold;return o&&(t<=l||t>=i.innerWidth-l)?o==="prevent"?(e.preventDefault(),!0):!1:!0}function xq(n){const e=this,t=ms();let i=n;i.originalEvent&&(i=i.originalEvent);const s=e.touchEventsData;if(i.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==i.pointerId)return;s.pointerId=i.pointerId}else i.type==="touchstart"&&i.targetTouches.length===1&&(s.touchId=i.targetTouches[0].identifier);if(i.type==="touchstart"){$C(e,i,i.targetTouches[0].pageX);return}const{params:o,touches:l,enabled:c}=e;if(!c||!o.simulateTouch&&i.pointerType==="mouse"||e.animating&&o.preventInteractionOnTransition)return;!e.animating&&o.cssMode&&o.loop&&e.loopFix();let h=i.target;if(o.touchEventsTarget==="wrapper"&&!MH(h,e.wrapperEl)||"which"in i&&i.which===3||"button"in i&&i.button>0||s.isTouched&&s.isMoved)return;const f=!!o.noSwipingClass&&o.noSwipingClass!=="",g=i.composedPath?i.composedPath():i.path;f&&i.target&&i.target.shadowRoot&&g&&(h=g[0]);const v=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`,_=!!(i.target&&i.target.shadowRoot);if(o.noSwiping&&(_?Sq(v,h):h.closest(v))){e.allowClick=!0;return}if(o.swipeHandler&&!h.closest(o.swipeHandler))return;l.currentX=i.pageX,l.currentY=i.pageY;const w=l.currentX,x=l.currentY;if(!$C(e,i,w))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),l.startX=w,l.startY=x,s.touchStartTime=Bp(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,o.threshold>0&&(s.allowThresholdMove=!1);let O=!0;h.matches(s.focusableElements)&&(O=!1,h.nodeName==="SELECT"&&(s.isTouched=!1)),t.activeElement&&t.activeElement.matches(s.focusableElements)&&t.activeElement!==h&&(i.pointerType==="mouse"||i.pointerType!=="mouse"&&!h.matches(s.focusableElements))&&t.activeElement.blur();const V=O&&e.allowTouchMove&&o.touchStartPreventDefault;(o.touchStartForcePreventDefault||V)&&!h.isContentEditable&&i.preventDefault(),o.freeMode&&o.freeMode.enabled&&e.freeMode&&e.animating&&!o.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",i)}function Cq(n){const e=ms(),t=this,i=t.touchEventsData,{params:s,touches:o,rtlTranslate:l,enabled:c}=t;if(!c||!s.simulateTouch&&n.pointerType==="mouse")return;let h=n;if(h.originalEvent&&(h=h.originalEvent),h.type==="pointermove"&&(i.touchId!==null||h.pointerId!==i.pointerId))return;let f;if(h.type==="touchmove"){if(f=[...h.changedTouches].find(q=>q.identifier===i.touchId),!f||f.identifier!==i.touchId)return}else f=h;if(!i.isTouched){i.startMoving&&i.isScrolling&&t.emit("touchMoveOpposite",h);return}const g=f.pageX,v=f.pageY;if(h.preventedByNestedSwiper){o.startX=g,o.startY=v;return}if(!t.allowTouchMove){h.target.matches(i.focusableElements)||(t.allowClick=!1),i.isTouched&&(Object.assign(o,{startX:g,startY:v,currentX:g,currentY:v}),i.touchStartTime=Bp());return}if(s.touchReleaseOnEdges&&!s.loop){if(t.isVertical()){if(v<o.startY&&t.translate<=t.maxTranslate()||v>o.startY&&t.translate>=t.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else if(g<o.startX&&t.translate<=t.maxTranslate()||g>o.startX&&t.translate>=t.minTranslate())return}if(e.activeElement&&e.activeElement.matches(i.focusableElements)&&e.activeElement!==h.target&&h.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&h.target===e.activeElement&&h.target.matches(i.focusableElements)){i.isMoved=!0,t.allowClick=!1;return}i.allowTouchCallbacks&&t.emit("touchMove",h),o.previousX=o.currentX,o.previousY=o.currentY,o.currentX=g,o.currentY=v;const _=o.currentX-o.startX,w=o.currentY-o.startY;if(t.params.threshold&&Math.sqrt(_**2+w**2)<t.params.threshold)return;if(typeof i.isScrolling>"u"){let q;t.isHorizontal()&&o.currentY===o.startY||t.isVertical()&&o.currentX===o.startX?i.isScrolling=!1:_*_+w*w>=25&&(q=Math.atan2(Math.abs(w),Math.abs(_))*180/Math.PI,i.isScrolling=t.isHorizontal()?q>s.touchAngle:90-q>s.touchAngle)}if(i.isScrolling&&t.emit("touchMoveOpposite",h),typeof i.startMoving>"u"&&(o.currentX!==o.startX||o.currentY!==o.startY)&&(i.startMoving=!0),i.isScrolling||h.type==="touchmove"&&i.preventTouchMoveFromPointerMove){i.isTouched=!1;return}if(!i.startMoving)return;t.allowClick=!1,!s.cssMode&&h.cancelable&&h.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&h.stopPropagation();let x=t.isHorizontal()?_:w,O=t.isHorizontal()?o.currentX-o.previousX:o.currentY-o.previousY;s.oneWayMovement&&(x=Math.abs(x)*(l?1:-1),O=Math.abs(O)*(l?1:-1)),o.diff=x,x*=s.touchRatio,l&&(x=-x,O=-O);const V=t.touchesDirection;t.swipeDirection=x>0?"prev":"next",t.touchesDirection=O>0?"prev":"next";const D=t.params.loop&&!s.cssMode,I=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!i.isMoved){if(D&&I&&t.loopFix({direction:t.swipeDirection}),i.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const q=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(q)}i.allowMomentumBounce=!1,s.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",h)}if(new Date().getTime(),s._loopSwapReset!==!1&&i.isMoved&&i.allowThresholdMove&&V!==t.touchesDirection&&D&&I&&Math.abs(x)>=1){Object.assign(o,{startX:g,startY:v,currentX:g,currentY:v,startTranslate:i.currentTranslate}),i.loopSwapReset=!0,i.startTranslate=i.currentTranslate;return}t.emit("sliderMove",h),i.isMoved=!0,i.currentTranslate=x+i.startTranslate;let N=!0,H=s.resistanceRatio;if(s.touchReleaseOnEdges&&(H=0),x>0?(D&&I&&i.allowThresholdMove&&i.currentTranslate>(s.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(s.slidesPerView!=="auto"&&t.slides.length-s.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>t.minTranslate()&&(N=!1,s.resistance&&(i.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+i.startTranslate+x)**H))):x<0&&(D&&I&&i.allowThresholdMove&&i.currentTranslate<(s.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(s.slidesPerView!=="auto"&&t.slides.length-s.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(s.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),i.currentTranslate<t.maxTranslate()&&(N=!1,s.resistance&&(i.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-i.startTranslate-x)**H))),N&&(h.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(i.currentTranslate=i.startTranslate),s.threshold>0)if(Math.abs(x)>s.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,i.currentTranslate=i.startTranslate,o.diff=t.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY;return}}else{i.currentTranslate=i.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&t.freeMode||s.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(i.currentTranslate),t.setTranslate(i.currentTranslate))}function Aq(n){const e=this,t=e.touchEventsData;let i=n;i.originalEvent&&(i=i.originalEvent);let s;if(i.type==="touchend"||i.type==="touchcancel"){if(s=[...i.changedTouches].find(q=>q.identifier===t.touchId),!s||s.identifier!==t.touchId)return}else{if(t.touchId!==null||i.pointerId!==t.pointerId)return;s=i}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(i.type)&&!(["pointercancel","contextmenu"].includes(i.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:l,touches:c,rtlTranslate:h,slidesGrid:f,enabled:g}=e;if(!g||!l.simulateTouch&&i.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",i),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&l.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}l.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const v=Bp(),_=v-t.touchStartTime;if(e.allowClick){const q=i.path||i.composedPath&&i.composedPath();e.updateClickedSlide(q&&q[0]||i.target,q),e.emit("tap click",i),_<300&&v-t.lastClickTime<300&&e.emit("doubleTap doubleClick",i)}if(t.lastClickTime=Bp(),N_(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||c.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let w;if(l.followFinger?w=h?e.translate:-e.translate:w=-t.currentTranslate,l.cssMode)return;if(l.freeMode&&l.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:w});return}const x=w>=-e.maxTranslate()&&!e.params.loop;let O=0,V=e.slidesSizesGrid[0];for(let q=0;q<f.length;q+=q<l.slidesPerGroupSkip?1:l.slidesPerGroup){const Z=q<l.slidesPerGroupSkip-1?1:l.slidesPerGroup;typeof f[q+Z]<"u"?(x||w>=f[q]&&w<f[q+Z])&&(O=q,V=f[q+Z]-f[q]):(x||w>=f[q])&&(O=q,V=f[f.length-1]-f[f.length-2])}let D=null,I=null;l.rewind&&(e.isBeginning?I=l.virtual&&l.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(D=0));const N=(w-f[O])/V,H=O<l.slidesPerGroupSkip-1?1:l.slidesPerGroup;if(_>l.longSwipesMs){if(!l.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(N>=l.longSwipesRatio?e.slideTo(l.rewind&&e.isEnd?D:O+H):e.slideTo(O)),e.swipeDirection==="prev"&&(N>1-l.longSwipesRatio?e.slideTo(O+H):I!==null&&N<0&&Math.abs(N)>l.longSwipesRatio?e.slideTo(I):e.slideTo(O))}else{if(!l.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(i.target===e.navigation.nextEl||i.target===e.navigation.prevEl)?i.target===e.navigation.nextEl?e.slideTo(O+H):e.slideTo(O):(e.swipeDirection==="next"&&e.slideTo(D!==null?D:O+H),e.swipeDirection==="prev"&&e.slideTo(I!==null?I:O))}}function KC(){const n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:s,snapGrid:o}=n,l=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const c=l&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!c?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!l?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=s,n.allowSlideNext=i,n.params.watchOverflow&&o!==n.snapGrid&&n.checkOverflow()}function Rq(n){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function Iq(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:i}=n;if(!i)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let s;const o=n.maxTranslate()-n.minTranslate();o===0?s=0:s=(n.translate-n.minTranslate())/o,s!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function Nq(n){const e=this;Kf(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function Pq(){const n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}const kP=(n,e)=>{const t=ms(),{params:i,el:s,wrapperEl:o,device:l}=n,c=!!i.nested,h=e==="on"?"addEventListener":"removeEventListener",f=e;!s||typeof s=="string"||(t[h]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:c}),s[h]("touchstart",n.onTouchStart,{passive:!1}),s[h]("pointerdown",n.onTouchStart,{passive:!1}),t[h]("touchmove",n.onTouchMove,{passive:!1,capture:c}),t[h]("pointermove",n.onTouchMove,{passive:!1,capture:c}),t[h]("touchend",n.onTouchEnd,{passive:!0}),t[h]("pointerup",n.onTouchEnd,{passive:!0}),t[h]("pointercancel",n.onTouchEnd,{passive:!0}),t[h]("touchcancel",n.onTouchEnd,{passive:!0}),t[h]("pointerout",n.onTouchEnd,{passive:!0}),t[h]("pointerleave",n.onTouchEnd,{passive:!0}),t[h]("contextmenu",n.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&s[h]("click",n.onClick,!0),i.cssMode&&o[h]("scroll",n.onScroll),i.updateOnWindowResize?n[f](l.ios||l.android?"resize orientationchange observerUpdate":"resize observerUpdate",KC,!0):n[f]("observerUpdate",KC,!0),s[h]("load",n.onLoad,{capture:!0}))};function Dq(){const n=this,{params:e}=n;n.onTouchStart=xq.bind(n),n.onTouchMove=Cq.bind(n),n.onTouchEnd=Aq.bind(n),n.onDocumentTouchStart=Pq.bind(n),e.cssMode&&(n.onScroll=Iq.bind(n)),n.onClick=Rq.bind(n),n.onLoad=Nq.bind(n),kP(n,"on")}function Mq(){kP(this,"off")}var Oq={attachEvents:Dq,detachEvents:Mq};const WC=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function kq(){const n=this,{realIndex:e,initialized:t,params:i,el:s}=n,o=i.breakpoints;if(!o||o&&Object.keys(o).length===0)return;const l=ms(),c=i.breakpointsBase==="window"||!i.breakpointsBase?i.breakpointsBase:"container",h=["window","container"].includes(i.breakpointsBase)||!i.breakpointsBase?n.el:l.querySelector(i.breakpointsBase),f=n.getBreakpoint(o,c,h);if(!f||n.currentBreakpoint===f)return;const v=(f in o?o[f]:void 0)||n.originalParams,_=WC(n,i),w=WC(n,v),x=n.params.grabCursor,O=v.grabCursor,V=i.enabled;_&&!w?(s.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),n.emitContainerClasses()):!_&&w&&(s.classList.add(`${i.containerModifierClass}grid`),(v.grid.fill&&v.grid.fill==="column"||!v.grid.fill&&i.grid.fill==="column")&&s.classList.add(`${i.containerModifierClass}grid-column`),n.emitContainerClasses()),x&&!O?n.unsetGrabCursor():!x&&O&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(Z=>{if(typeof v[Z]>"u")return;const k=i[Z]&&i[Z].enabled,A=v[Z]&&v[Z].enabled;k&&!A&&n[Z].disable(),!k&&A&&n[Z].enable()});const D=v.direction&&v.direction!==i.direction,I=i.loop&&(v.slidesPerView!==i.slidesPerView||D),N=i.loop;D&&t&&n.changeDirection(),ii(n.params,v);const H=n.params.enabled,q=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),V&&!H?n.disable():!V&&H&&n.enable(),n.currentBreakpoint=f,n.emit("_beforeBreakpoint",v),t&&(I?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!N&&q?(n.loopCreate(e),n.updateSlides()):N&&!q&&n.loopDestroy()),n.emit("breakpoint",v)}function Lq(n,e,t){if(e===void 0&&(e="window"),!n||e==="container"&&!t)return;let i=!1;const s=zn(),o=e==="window"?s.innerHeight:t.clientHeight,l=Object.keys(n).map(c=>{if(typeof c=="string"&&c.indexOf("@")===0){const h=parseFloat(c.substr(1));return{value:o*h,point:c}}return{value:c,point:c}});l.sort((c,h)=>parseInt(c.value,10)-parseInt(h.value,10));for(let c=0;c<l.length;c+=1){const{point:h,value:f}=l[c];e==="window"?s.matchMedia(`(min-width: ${f}px)`).matches&&(i=h):f<=t.clientWidth&&(i=h)}return i||"max"}var Vq={setBreakpoint:kq,getBreakpoint:Lq};function jq(n,e){const t=[];return n.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(s=>{i[s]&&t.push(e+s)}):typeof i=="string"&&t.push(e+i)}),t}function Uq(){const n=this,{classNames:e,params:t,rtl:i,el:s,device:o}=n,l=jq(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:i},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:o.android},{ios:o.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...l),s.classList.add(...e),n.emitContainerClasses()}function Bq(){const n=this,{el:e,classNames:t}=n;!e||typeof e=="string"||(e.classList.remove(...t),n.emitContainerClasses())}var zq={addClasses:Uq,removeClasses:Bq};function Fq(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:i}=t;if(i){const s=n.slides.length-1,o=n.slidesGrid[s]+n.slidesSizesGrid[s]+i*2;n.isLocked=n.size>o}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var Hq={checkOverflow:Fq},M_={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function qq(n,e){return function(i){i===void 0&&(i={});const s=Object.keys(i)[0],o=i[s];if(typeof o!="object"||o===null){ii(e,i);return}if(n[s]===!0&&(n[s]={enabled:!0}),s==="navigation"&&n[s]&&n[s].enabled&&!n[s].prevEl&&!n[s].nextEl&&(n[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&n[s]&&n[s].enabled&&!n[s].el&&(n[s].auto=!0),!(s in n&&"enabled"in o)){ii(e,i);return}typeof n[s]=="object"&&!("enabled"in n[s])&&(n[s].enabled=!0),n[s]||(n[s]={enabled:!1}),ii(e,i)}}const Sv={eventsEmitter:zH,update:ZH,translate:sq,transition:lq,slide:gq,loop:Eq,grabCursor:bq,events:Oq,breakpoints:Vq,checkOverflow:Hq,classes:zq},xv={};let JE=class Ys{constructor(){let e,t;for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];s.length===1&&s[0].constructor&&Object.prototype.toString.call(s[0]).slice(8,-1)==="Object"?t=s[0]:[e,t]=s,t||(t={}),t=ii({},t),e&&!t.el&&(t.el=e);const l=ms();if(t.el&&typeof t.el=="string"&&l.querySelectorAll(t.el).length>1){const g=[];return l.querySelectorAll(t.el).forEach(v=>{const _=ii({},t,{el:v});g.push(new Ys(_))}),g}const c=this;c.__swiper__=!0,c.support=PP(),c.device=DP({userAgent:t.userAgent}),c.browser=MP(),c.eventsListeners={},c.eventsAnyListeners=[],c.modules=[...c.__modules__],t.modules&&Array.isArray(t.modules)&&c.modules.push(...t.modules);const h={};c.modules.forEach(g=>{g({params:t,swiper:c,extendParams:qq(t,h),on:c.on.bind(c),once:c.once.bind(c),off:c.off.bind(c),emit:c.emit.bind(c)})});const f=ii({},M_,h);return c.params=ii({},f,xv,t),c.originalParams=ii({},c.params),c.passedParams=ii({},t),c.params&&c.params.on&&Object.keys(c.params.on).forEach(g=>{c.on(g,c.params.on[g])}),c.params&&c.params.onAny&&c.onAny(c.params.onAny),Object.assign(c,{enabled:c.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return c.params.direction==="horizontal"},isVertical(){return c.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:c.params.allowSlideNext,allowSlidePrev:c.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:c.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:c.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),c.emit("_swiper"),c.params.init&&c.init(),c}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:i}=this,s=as(t,`.${i.slideClass}, swiper-slide`),o=Hp(s[0]);return Hp(e)-o}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>t.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:t,params:i}=e;e.slides=as(t,`.${i.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const i=this;e=Math.min(Math.max(e,0),1);const s=i.minTranslate(),l=(i.maxTranslate()-s)*e+s;i.translateTo(l,typeof t>"u"?0:t),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(i=>{const s=e.getSlideClasses(i);t.push({slideEl:i,classNames:s}),e.emit("_slideClass",i,s)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);const i=this,{params:s,slides:o,slidesGrid:l,slidesSizesGrid:c,size:h,activeIndex:f}=i;let g=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let v=o[f]?Math.ceil(o[f].swiperSlideSize):0,_;for(let w=f+1;w<o.length;w+=1)o[w]&&!_&&(v+=Math.ceil(o[w].swiperSlideSize),g+=1,v>h&&(_=!0));for(let w=f-1;w>=0;w-=1)o[w]&&!_&&(v+=o[w].swiperSlideSize,g+=1,v>h&&(_=!0))}else if(e==="current")for(let v=f+1;v<o.length;v+=1)(t?l[v]+c[v]-l[f]<h:l[v]-l[f]<h)&&(g+=1);else for(let v=f-1;v>=0;v-=1)l[f]-l[v]<h&&(g+=1);return g}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:i}=e;i.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(l=>{l.complete&&Kf(e,l)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){const l=e.rtlTranslate?e.translate*-1:e.translate,c=Math.min(Math.max(l,e.maxTranslate()),e.minTranslate());e.setTranslate(c),e.updateActiveIndex(),e.updateSlidesClasses()}let o;if(i.freeMode&&i.freeMode.enabled&&!i.cssMode)s(),i.autoHeight&&e.updateAutoHeight();else{if((i.slidesPerView==="auto"||i.slidesPerView>1)&&e.isEnd&&!i.centeredSlides){const l=e.virtual&&i.virtual.enabled?e.virtual.slides:e.slides;o=e.slideTo(l.length-1,0,!1,!0)}else o=e.slideTo(e.activeIndex,0,!1,!0);o||s()}i.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);const i=this,s=i.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(i.el.classList.remove(`${i.params.containerModifierClass}${s}`),i.el.classList.add(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.forEach(o=>{e==="vertical"?o.style.width="":o.style.height=""}),i.emit("changeDirection"),t&&i.update()),i}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let i=e||t.params.el;if(typeof i=="string"&&(i=document.querySelector(i)),!i)return!1;i.swiper=t,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const s=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let l=i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(s()):as(i,s())[0];return!l&&t.params.createElements&&(l=Fp("div",t.params.wrapperClass),i.append(l),as(i,`.${t.params.slideClass}`).forEach(c=>{l.append(c)})),Object.assign(t,{el:i,wrapperEl:l,slidesEl:t.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:l,hostEl:t.isElement?i.parentNode.host:i,mounted:!0,rtl:i.dir.toLowerCase()==="rtl"||ia(i,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(i.dir.toLowerCase()==="rtl"||ia(i,"direction")==="rtl"),wrongRTL:ia(l,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(),t.attachEvents();const s=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&s.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(o=>{o.complete?Kf(t,o):o.addEventListener("load",l=>{Kf(t,l.target)})}),D_(t),t.initialized=!0,D_(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);const i=this,{params:s,el:o,wrapperEl:l,slides:c}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),s.loop&&i.loopDestroy(),t&&(i.removeClasses(),o&&typeof o!="string"&&o.removeAttribute("style"),l&&l.removeAttribute("style"),c&&c.length&&c.forEach(h=>{h.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),h.removeAttribute("style"),h.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(h=>{i.off(h)}),e!==!1&&(i.el&&typeof i.el!="string"&&(i.el.swiper=null),RH(i)),i.destroyed=!0),null}static extendDefaults(e){ii(xv,e)}static get extendedDefaults(){return xv}static get defaults(){return M_}static installModule(e){Ys.prototype.__modules__||(Ys.prototype.__modules__=[]);const t=Ys.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>Ys.installModule(t)),Ys):(Ys.installModule(e),Ys)}};Object.keys(Sv).forEach(n=>{Object.keys(Sv[n]).forEach(e=>{JE.prototype[e]=Sv[n][e]})});JE.use([UH,BH]);const LP=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function bo(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"&&!n.__swiper__}function Bl(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>t.indexOf(i)<0).forEach(i=>{typeof n[i]>"u"?n[i]=e[i]:bo(e[i])&&bo(n[i])&&Object.keys(e[i]).length>0?e[i].__swiper__?n[i]=e[i]:Bl(n[i],e[i]):n[i]=e[i]})}function VP(n){return n===void 0&&(n={}),n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}function jP(n){return n===void 0&&(n={}),n.pagination&&typeof n.pagination.el>"u"}function UP(n){return n===void 0&&(n={}),n.scrollbar&&typeof n.scrollbar.el>"u"}function BP(n){n===void 0&&(n="");const e=n.split(" ").map(i=>i.trim()).filter(i=>!!i),t=[];return e.forEach(i=>{t.indexOf(i)<0&&t.push(i)}),t.join(" ")}function Gq(n){return n===void 0&&(n=""),n?n.includes("swiper-wrapper")?n:`swiper-wrapper ${n}`:"swiper-wrapper"}function $q(n){let{swiper:e,slides:t,passedParams:i,changedParams:s,nextEl:o,prevEl:l,scrollbarEl:c,paginationEl:h}=n;const f=s.filter(C=>C!=="children"&&C!=="direction"&&C!=="wrapperClass"),{params:g,pagination:v,navigation:_,scrollbar:w,virtual:x,thumbs:O}=e;let V,D,I,N,H,q,Z,k;s.includes("thumbs")&&i.thumbs&&i.thumbs.swiper&&!i.thumbs.swiper.destroyed&&g.thumbs&&(!g.thumbs.swiper||g.thumbs.swiper.destroyed)&&(V=!0),s.includes("controller")&&i.controller&&i.controller.control&&g.controller&&!g.controller.control&&(D=!0),s.includes("pagination")&&i.pagination&&(i.pagination.el||h)&&(g.pagination||g.pagination===!1)&&v&&!v.el&&(I=!0),s.includes("scrollbar")&&i.scrollbar&&(i.scrollbar.el||c)&&(g.scrollbar||g.scrollbar===!1)&&w&&!w.el&&(N=!0),s.includes("navigation")&&i.navigation&&(i.navigation.prevEl||l)&&(i.navigation.nextEl||o)&&(g.navigation||g.navigation===!1)&&_&&!_.prevEl&&!_.nextEl&&(H=!0);const A=C=>{e[C]&&(e[C].destroy(),C==="navigation"?(e.isElement&&(e[C].prevEl.remove(),e[C].nextEl.remove()),g[C].prevEl=void 0,g[C].nextEl=void 0,e[C].prevEl=void 0,e[C].nextEl=void 0):(e.isElement&&e[C].el.remove(),g[C].el=void 0,e[C].el=void 0))};s.includes("loop")&&e.isElement&&(g.loop&&!i.loop?q=!0:!g.loop&&i.loop?Z=!0:k=!0),f.forEach(C=>{if(bo(g[C])&&bo(i[C]))Object.assign(g[C],i[C]),(C==="navigation"||C==="pagination"||C==="scrollbar")&&"enabled"in i[C]&&!i[C].enabled&&A(C);else{const R=i[C];(R===!0||R===!1)&&(C==="navigation"||C==="pagination"||C==="scrollbar")?R===!1&&A(C):g[C]=i[C]}}),f.includes("controller")&&!D&&e.controller&&e.controller.control&&g.controller&&g.controller.control&&(e.controller.control=g.controller.control),s.includes("children")&&t&&x&&g.virtual.enabled?(x.slides=t,x.update(!0)):s.includes("virtual")&&x&&g.virtual.enabled&&(t&&(x.slides=t),x.update(!0)),s.includes("children")&&t&&g.loop&&(k=!0),V&&O.init()&&O.update(!0),D&&(e.controller.control=g.controller.control),I&&(e.isElement&&(!h||typeof h=="string")&&(h=document.createElement("div"),h.classList.add("swiper-pagination"),h.part.add("pagination"),e.el.appendChild(h)),h&&(g.pagination.el=h),v.init(),v.render(),v.update()),N&&(e.isElement&&(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-scrollbar"),c.part.add("scrollbar"),e.el.appendChild(c)),c&&(g.scrollbar.el=c),w.init(),w.updateSize(),w.setTranslate()),H&&(e.isElement&&((!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-next"),o.innerHTML=e.hostEl.constructor.nextButtonSvg,o.part.add("button-next"),e.el.appendChild(o)),(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-button-prev"),l.innerHTML=e.hostEl.constructor.prevButtonSvg,l.part.add("button-prev"),e.el.appendChild(l))),o&&(g.navigation.nextEl=o),l&&(g.navigation.prevEl=l),_.init(),_.update()),s.includes("allowSlideNext")&&(e.allowSlideNext=i.allowSlideNext),s.includes("allowSlidePrev")&&(e.allowSlidePrev=i.allowSlidePrev),s.includes("direction")&&e.changeDirection(i.direction,!1),(q||k)&&e.loopDestroy(),(Z||k)&&e.loopCreate(),e.update()}function Kq(n,e){n===void 0&&(n={}),e===void 0&&(e=!0);const t={on:{}},i={},s={};Bl(t,M_),t._emitClasses=!0,t.init=!1;const o={},l=LP.map(h=>h.replace(/_/,"")),c=Object.assign({},n);return Object.keys(c).forEach(h=>{typeof n[h]>"u"||(l.indexOf(h)>=0?bo(n[h])?(t[h]={},s[h]={},Bl(t[h],n[h]),Bl(s[h],n[h])):(t[h]=n[h],s[h]=n[h]):h.search(/on[A-Z]/)===0&&typeof n[h]=="function"?e?i[`${h[2].toLowerCase()}${h.substr(3)}`]=n[h]:t.on[`${h[2].toLowerCase()}${h.substr(3)}`]=n[h]:o[h]=n[h])}),["navigation","pagination","scrollbar"].forEach(h=>{t[h]===!0&&(t[h]={}),t[h]===!1&&delete t[h]}),{params:t,passedParams:s,rest:o,events:i}}function Wq(n,e){let{el:t,nextEl:i,prevEl:s,paginationEl:o,scrollbarEl:l,swiper:c}=n;VP(e)&&i&&s&&(c.params.navigation.nextEl=i,c.originalParams.navigation.nextEl=i,c.params.navigation.prevEl=s,c.originalParams.navigation.prevEl=s),jP(e)&&o&&(c.params.pagination.el=o,c.originalParams.pagination.el=o),UP(e)&&l&&(c.params.scrollbar.el=l,c.originalParams.scrollbar.el=l),c.init(t)}function Yq(n,e,t,i,s){const o=[];if(!e)return o;const l=h=>{o.indexOf(h)<0&&o.push(h)};if(t&&i){const h=i.map(s),f=t.map(s);h.join("")!==f.join("")&&l("children"),i.length!==t.length&&l("children")}return LP.filter(h=>h[0]==="_").map(h=>h.replace(/_/,"")).forEach(h=>{if(h in n&&h in e)if(bo(n[h])&&bo(e[h])){const f=Object.keys(n[h]),g=Object.keys(e[h]);f.length!==g.length?l(h):(f.forEach(v=>{n[h][v]!==e[h][v]&&l(h)}),g.forEach(v=>{n[h][v]!==e[h][v]&&l(h)}))}else n[h]!==e[h]&&l(h)}),o}const Qq=n=>{!n||n.destroyed||!n.params.virtual||n.params.virtual&&!n.params.virtual.enabled||(n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.parallax&&n.params.parallax&&n.params.parallax.enabled&&n.parallax.setTranslate())};function qp(){return qp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},qp.apply(this,arguments)}function zP(n){return n.type&&n.type.displayName&&n.type.displayName.includes("SwiperSlide")}function FP(n){const e=[];return ht.Children.toArray(n).forEach(t=>{zP(t)?e.push(t):t.props&&t.props.children&&FP(t.props.children).forEach(i=>e.push(i))}),e}function Xq(n){const e=[],t={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return ht.Children.toArray(n).forEach(i=>{if(zP(i))e.push(i);else if(i.props&&i.props.slot&&t[i.props.slot])t[i.props.slot].push(i);else if(i.props&&i.props.children){const s=FP(i.props.children);s.length>0?s.forEach(o=>e.push(o)):t["container-end"].push(i)}else t["container-end"].push(i)}),{slides:e,slots:t}}function Zq(n,e,t){if(!t)return null;const i=g=>{let v=g;return g<0?v=e.length+g:v>=e.length&&(v=v-e.length),v},s=n.isHorizontal()?{[n.rtlTranslate?"right":"left"]:`${t.offset}px`}:{top:`${t.offset}px`},{from:o,to:l}=t,c=n.params.loop?-e.length:0,h=n.params.loop?e.length*2:e.length,f=[];for(let g=c;g<h;g+=1)g>=o&&g<=l&&f.push(e[i(g)]);return f.map((g,v)=>ht.cloneElement(g,{swiper:n,style:s,key:g.props.virtualIndex||g.key||`slide-${v}`}))}function eh(n,e){return typeof window>"u"?U.useEffect(n,e):U.useLayoutEffect(n,e)}const YC=U.createContext(null),Jq=U.createContext(null),eT=U.forwardRef(function(n,e){let{className:t,tag:i="div",wrapperTag:s="div",children:o,onSwiper:l,...c}=n===void 0?{}:n,h=!1;const[f,g]=U.useState("swiper"),[v,_]=U.useState(null),[w,x]=U.useState(!1),O=U.useRef(!1),V=U.useRef(null),D=U.useRef(null),I=U.useRef(null),N=U.useRef(null),H=U.useRef(null),q=U.useRef(null),Z=U.useRef(null),k=U.useRef(null),{params:A,passedParams:C,rest:R,events:j}=Kq(c),{slides:z,slots:L}=Xq(o),de=()=>{x(!w)};Object.assign(A.on,{_containerClasses(ye,F){g(F)}});const _e=()=>{Object.assign(A.on,j),h=!0;const ye={...A};if(delete ye.wrapperClass,D.current=new JE(ye),D.current.virtual&&D.current.params.virtual.enabled){D.current.virtual.slides=z;const F={cache:!1,slides:z,renderExternal:_,renderExternalUpdate:!1};Bl(D.current.params.virtual,F),Bl(D.current.originalParams.virtual,F)}};V.current||_e(),D.current&&D.current.on("_beforeBreakpoint",de);const ae=()=>{h||!j||!D.current||Object.keys(j).forEach(ye=>{D.current.on(ye,j[ye])})},he=()=>{!j||!D.current||Object.keys(j).forEach(ye=>{D.current.off(ye,j[ye])})};U.useEffect(()=>()=>{D.current&&D.current.off("_beforeBreakpoint",de)}),U.useEffect(()=>{!O.current&&D.current&&(D.current.emitSlidesClasses(),O.current=!0)}),eh(()=>{if(e&&(e.current=V.current),!!V.current)return D.current.destroyed&&_e(),Wq({el:V.current,nextEl:H.current,prevEl:q.current,paginationEl:Z.current,scrollbarEl:k.current,swiper:D.current},A),l&&!D.current.destroyed&&l(D.current),()=>{D.current&&!D.current.destroyed&&D.current.destroy(!0,!1)}},[]),eh(()=>{ae();const ye=Yq(C,I.current,z,N.current,F=>F.key);return I.current=C,N.current=z,ye.length&&D.current&&!D.current.destroyed&&$q({swiper:D.current,slides:z,passedParams:C,changedParams:ye,nextEl:H.current,prevEl:q.current,scrollbarEl:k.current,paginationEl:Z.current}),()=>{he()}}),eh(()=>{Qq(D.current)},[v]);function re(){return A.virtual?Zq(D.current,z,v):z.map((ye,F)=>ht.cloneElement(ye,{swiper:D.current,swiperSlideIndex:F}))}return ht.createElement(i,qp({ref:V,className:BP(`${f}${t?` ${t}`:""}`)},R),ht.createElement(Jq.Provider,{value:D.current},L["container-start"],ht.createElement(s,{className:Gq(A.wrapperClass)},L["wrapper-start"],re(),L["wrapper-end"]),VP(A)&&ht.createElement(ht.Fragment,null,ht.createElement("div",{ref:q,className:"swiper-button-prev"}),ht.createElement("div",{ref:H,className:"swiper-button-next"})),UP(A)&&ht.createElement("div",{ref:k,className:"swiper-scrollbar"}),jP(A)&&ht.createElement("div",{ref:Z,className:"swiper-pagination"}),L["container-end"]))});eT.displayName="Swiper";const tT=U.forwardRef(function(n,e){let{tag:t="div",children:i,className:s="",swiper:o,zoom:l,lazy:c,virtualIndex:h,swiperSlideIndex:f,...g}=n===void 0?{}:n;const v=U.useRef(null),[_,w]=U.useState("swiper-slide"),[x,O]=U.useState(!1);function V(H,q,Z){q===v.current&&w(Z)}eh(()=>{if(typeof f<"u"&&(v.current.swiperSlideIndex=f),e&&(e.current=v.current),!(!v.current||!o)){if(o.destroyed){_!=="swiper-slide"&&w("swiper-slide");return}return o.on("_slideClass",V),()=>{o&&o.off("_slideClass",V)}}}),eh(()=>{o&&v.current&&!o.destroyed&&w(o.getSlideClasses(v.current))},[o]);const D={isActive:_.indexOf("swiper-slide-active")>=0,isVisible:_.indexOf("swiper-slide-visible")>=0,isPrev:_.indexOf("swiper-slide-prev")>=0,isNext:_.indexOf("swiper-slide-next")>=0},I=()=>typeof i=="function"?i(D):i,N=()=>{O(!0)};return ht.createElement(t,qp({ref:v,className:BP(`${_}${s?` ${s}`:""}`),"data-swiper-slide-index":h,onLoad:N},g),l&&ht.createElement(YC.Provider,{value:D},ht.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof l=="number"?l:void 0},I(),c&&!x&&ht.createElement("div",{className:"swiper-lazy-preloader"}))),!l&&ht.createElement(YC.Provider,{value:D},I(),c&&!x&&ht.createElement("div",{className:"swiper-lazy-preloader"})))});tT.displayName="SwiperSlide";function eG(n,e,t,i){return n.params.createElements&&Object.keys(i).forEach(s=>{if(!t[s]&&t.auto===!0){let o=as(n.el,`.${i[s]}`)[0];o||(o=Fp("div",i[s]),o.className=i[s],n.el.append(o)),t[s]=o,e[s]=o}}),t}function Dc(n){return n===void 0&&(n=""),`.${n.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function HP(n){let{swiper:e,extendParams:t,on:i,emit:s}=n;const o="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:I=>I,formatFractionTotal:I=>I,bulletClass:`${o}-bullet`,bulletActiveClass:`${o}-bullet-active`,modifierClass:`${o}-`,currentClass:`${o}-current`,totalClass:`${o}-total`,hiddenClass:`${o}-hidden`,progressbarFillClass:`${o}-progressbar-fill`,progressbarOppositeClass:`${o}-progressbar-opposite`,clickableClass:`${o}-clickable`,lockClass:`${o}-lock`,horizontalClass:`${o}-horizontal`,verticalClass:`${o}-vertical`,paginationDisabledClass:`${o}-disabled`}}),e.pagination={el:null,bullets:[]};let l,c=0;function h(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function f(I,N){const{bulletActiveClass:H}=e.params.pagination;I&&(I=I[`${N==="prev"?"previous":"next"}ElementSibling`],I&&(I.classList.add(`${H}-${N}`),I=I[`${N==="prev"?"previous":"next"}ElementSibling`],I&&I.classList.add(`${H}-${N}-${N}`)))}function g(I,N,H){if(I=I%H,N=N%H,N===I+1)return"next";if(N===I-1)return"previous"}function v(I){const N=I.target.closest(Dc(e.params.pagination.bulletClass));if(!N)return;I.preventDefault();const H=Hp(N)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===H)return;const q=g(e.realIndex,H,e.slides.length);q==="next"?e.slideNext():q==="previous"?e.slidePrev():e.slideToLoop(H)}else e.slideTo(H)}function _(){const I=e.rtl,N=e.params.pagination;if(h())return;let H=e.pagination.el;H=Ks(H);let q,Z;const k=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,A=e.params.loop?Math.ceil(k/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(Z=e.previousRealIndex||0,q=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(q=e.snapIndex,Z=e.previousSnapIndex):(Z=e.previousIndex||0,q=e.activeIndex||0),N.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const C=e.pagination.bullets;let R,j,z;if(N.dynamicBullets&&(l=P_(C[0],e.isHorizontal()?"width":"height"),H.forEach(L=>{L.style[e.isHorizontal()?"width":"height"]=`${l*(N.dynamicMainBullets+4)}px`}),N.dynamicMainBullets>1&&Z!==void 0&&(c+=q-(Z||0),c>N.dynamicMainBullets-1?c=N.dynamicMainBullets-1:c<0&&(c=0)),R=Math.max(q-c,0),j=R+(Math.min(C.length,N.dynamicMainBullets)-1),z=(j+R)/2),C.forEach(L=>{const de=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(_e=>`${N.bulletActiveClass}${_e}`)].map(_e=>typeof _e=="string"&&_e.includes(" ")?_e.split(" "):_e).flat();L.classList.remove(...de)}),H.length>1)C.forEach(L=>{const de=Hp(L);de===q?L.classList.add(...N.bulletActiveClass.split(" ")):e.isElement&&L.setAttribute("part","bullet"),N.dynamicBullets&&(de>=R&&de<=j&&L.classList.add(...`${N.bulletActiveClass}-main`.split(" ")),de===R&&f(L,"prev"),de===j&&f(L,"next"))});else{const L=C[q];if(L&&L.classList.add(...N.bulletActiveClass.split(" ")),e.isElement&&C.forEach((de,_e)=>{de.setAttribute("part",_e===q?"bullet-active":"bullet")}),N.dynamicBullets){const de=C[R],_e=C[j];for(let ae=R;ae<=j;ae+=1)C[ae]&&C[ae].classList.add(...`${N.bulletActiveClass}-main`.split(" "));f(de,"prev"),f(_e,"next")}}if(N.dynamicBullets){const L=Math.min(C.length,N.dynamicMainBullets+4),de=(l*L-l)/2-z*l,_e=I?"right":"left";C.forEach(ae=>{ae.style[e.isHorizontal()?_e:"top"]=`${de}px`})}}H.forEach((C,R)=>{if(N.type==="fraction"&&(C.querySelectorAll(Dc(N.currentClass)).forEach(j=>{j.textContent=N.formatFractionCurrent(q+1)}),C.querySelectorAll(Dc(N.totalClass)).forEach(j=>{j.textContent=N.formatFractionTotal(A)})),N.type==="progressbar"){let j;N.progressbarOpposite?j=e.isHorizontal()?"vertical":"horizontal":j=e.isHorizontal()?"horizontal":"vertical";const z=(q+1)/A;let L=1,de=1;j==="horizontal"?L=z:de=z,C.querySelectorAll(Dc(N.progressbarFillClass)).forEach(_e=>{_e.style.transform=`translate3d(0,0,0) scaleX(${L}) scaleY(${de})`,_e.style.transitionDuration=`${e.params.speed}ms`})}N.type==="custom"&&N.renderCustom?(C.innerHTML=N.renderCustom(e,q+1,A),R===0&&s("paginationRender",C)):(R===0&&s("paginationRender",C),s("paginationUpdate",C)),e.params.watchOverflow&&e.enabled&&C.classList[e.isLocked?"add":"remove"](N.lockClass)})}function w(){const I=e.params.pagination;if(h())return;const N=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let H=e.pagination.el;H=Ks(H);let q="";if(I.type==="bullets"){let Z=e.params.loop?Math.ceil(N/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&Z>N&&(Z=N);for(let k=0;k<Z;k+=1)I.renderBullet?q+=I.renderBullet.call(e,k,I.bulletClass):q+=`<${I.bulletElement} ${e.isElement?'part="bullet"':""} class="${I.bulletClass}"></${I.bulletElement}>`}I.type==="fraction"&&(I.renderFraction?q=I.renderFraction.call(e,I.currentClass,I.totalClass):q=`<span class="${I.currentClass}"></span> / <span class="${I.totalClass}"></span>`),I.type==="progressbar"&&(I.renderProgressbar?q=I.renderProgressbar.call(e,I.progressbarFillClass):q=`<span class="${I.progressbarFillClass}"></span>`),e.pagination.bullets=[],H.forEach(Z=>{I.type!=="custom"&&(Z.innerHTML=q||""),I.type==="bullets"&&e.pagination.bullets.push(...Z.querySelectorAll(Dc(I.bulletClass)))}),I.type!=="custom"&&s("paginationRender",H[0])}function x(){e.params.pagination=eG(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const I=e.params.pagination;if(!I.el)return;let N;typeof I.el=="string"&&e.isElement&&(N=e.el.querySelector(I.el)),!N&&typeof I.el=="string"&&(N=[...document.querySelectorAll(I.el)]),N||(N=I.el),!(!N||N.length===0)&&(e.params.uniqueNavElements&&typeof I.el=="string"&&Array.isArray(N)&&N.length>1&&(N=[...e.el.querySelectorAll(I.el)],N.length>1&&(N=N.find(H=>NP(H,".swiper")[0]===e.el))),Array.isArray(N)&&N.length===1&&(N=N[0]),Object.assign(e.pagination,{el:N}),N=Ks(N),N.forEach(H=>{I.type==="bullets"&&I.clickable&&H.classList.add(...(I.clickableClass||"").split(" ")),H.classList.add(I.modifierClass+I.type),H.classList.add(e.isHorizontal()?I.horizontalClass:I.verticalClass),I.type==="bullets"&&I.dynamicBullets&&(H.classList.add(`${I.modifierClass}${I.type}-dynamic`),c=0,I.dynamicMainBullets<1&&(I.dynamicMainBullets=1)),I.type==="progressbar"&&I.progressbarOpposite&&H.classList.add(I.progressbarOppositeClass),I.clickable&&H.addEventListener("click",v),e.enabled||H.classList.add(I.lockClass)}))}function O(){const I=e.params.pagination;if(h())return;let N=e.pagination.el;N&&(N=Ks(N),N.forEach(H=>{H.classList.remove(I.hiddenClass),H.classList.remove(I.modifierClass+I.type),H.classList.remove(e.isHorizontal()?I.horizontalClass:I.verticalClass),I.clickable&&(H.classList.remove(...(I.clickableClass||"").split(" ")),H.removeEventListener("click",v))})),e.pagination.bullets&&e.pagination.bullets.forEach(H=>H.classList.remove(...I.bulletActiveClass.split(" ")))}i("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const I=e.params.pagination;let{el:N}=e.pagination;N=Ks(N),N.forEach(H=>{H.classList.remove(I.horizontalClass,I.verticalClass),H.classList.add(e.isHorizontal()?I.horizontalClass:I.verticalClass)})}),i("init",()=>{e.params.pagination.enabled===!1?D():(x(),w(),_())}),i("activeIndexChange",()=>{typeof e.snapIndex>"u"&&_()}),i("snapIndexChange",()=>{_()}),i("snapGridLengthChange",()=>{w(),_()}),i("destroy",()=>{O()}),i("enable disable",()=>{let{el:I}=e.pagination;I&&(I=Ks(I),I.forEach(N=>N.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),i("lock unlock",()=>{_()}),i("click",(I,N)=>{const H=N.target,q=Ks(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&q&&q.length>0&&!H.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&H===e.navigation.nextEl||e.navigation.prevEl&&H===e.navigation.prevEl))return;const Z=q[0].classList.contains(e.params.pagination.hiddenClass);s(Z===!0?"paginationShow":"paginationHide"),q.forEach(k=>k.classList.toggle(e.params.pagination.hiddenClass))}});const V=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:I}=e.pagination;I&&(I=Ks(I),I.forEach(N=>N.classList.remove(e.params.pagination.paginationDisabledClass))),x(),w(),_()},D=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:I}=e.pagination;I&&(I=Ks(I),I.forEach(N=>N.classList.add(e.params.pagination.paginationDisabledClass))),O()};Object.assign(e.pagination,{enable:V,disable:D,render:w,update:_,init:x,destroy:O})}function qP(n){let{swiper:e,extendParams:t,on:i,emit:s,params:o}=n;e.autoplay={running:!1,paused:!1,timeLeft:0},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let l,c,h=o&&o.autoplay?o.autoplay.delay:3e3,f=o&&o.autoplay?o.autoplay.delay:3e3,g,v=new Date().getTime(),_,w,x,O,V,D,I;function N(re){!e||e.destroyed||!e.wrapperEl||re.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",N),!(I||re.detail&&re.detail.bySwiperTouchMove)&&R())}const H=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?_=!0:_&&(f=g,_=!1);const re=e.autoplay.paused?g:v+f-new Date().getTime();e.autoplay.timeLeft=re,s("autoplayTimeLeft",re,re/h),c=requestAnimationFrame(()=>{H()})},q=()=>{let re;return e.virtual&&e.params.virtual.enabled?re=e.slides.find(F=>F.classList.contains("swiper-slide-active")):re=e.slides[e.activeIndex],re?parseInt(re.getAttribute("data-swiper-autoplay"),10):void 0},Z=re=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(c),H();let ye=typeof re>"u"?e.params.autoplay.delay:re;h=e.params.autoplay.delay,f=e.params.autoplay.delay;const F=q();!Number.isNaN(F)&&F>0&&typeof re>"u"&&(ye=F,h=F,f=F),g=ye;const ie=e.params.speed,ge=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(ie,!0,!0),s("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,ie,!0,!0),s("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(ie,!0,!0),s("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,ie,!0,!0),s("autoplay")),e.params.cssMode&&(v=new Date().getTime(),requestAnimationFrame(()=>{Z()})))};return ye>0?(clearTimeout(l),l=setTimeout(()=>{ge()},ye)):requestAnimationFrame(()=>{ge()}),ye},k=()=>{v=new Date().getTime(),e.autoplay.running=!0,Z(),s("autoplayStart")},A=()=>{e.autoplay.running=!1,clearTimeout(l),cancelAnimationFrame(c),s("autoplayStop")},C=(re,ye)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(l),re||(D=!0);const F=()=>{s("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",N):R()};if(e.autoplay.paused=!0,ye){V&&(g=e.params.autoplay.delay),V=!1,F();return}g=(g||e.params.autoplay.delay)-(new Date().getTime()-v),!(e.isEnd&&g<0&&!e.params.loop)&&(g<0&&(g=0),F())},R=()=>{e.isEnd&&g<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(v=new Date().getTime(),D?(D=!1,Z(g)):Z(),e.autoplay.paused=!1,s("autoplayResume"))},j=()=>{if(e.destroyed||!e.autoplay.running)return;const re=ms();re.visibilityState==="hidden"&&(D=!0,C(!0)),re.visibilityState==="visible"&&R()},z=re=>{re.pointerType==="mouse"&&(D=!0,I=!0,!(e.animating||e.autoplay.paused)&&C(!0))},L=re=>{re.pointerType==="mouse"&&(I=!1,e.autoplay.paused&&R())},de=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",z),e.el.addEventListener("pointerleave",L))},_e=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",z),e.el.removeEventListener("pointerleave",L))},ae=()=>{ms().addEventListener("visibilitychange",j)},he=()=>{ms().removeEventListener("visibilitychange",j)};i("init",()=>{e.params.autoplay.enabled&&(de(),ae(),k())}),i("destroy",()=>{_e(),he(),e.autoplay.running&&A()}),i("_freeModeStaticRelease",()=>{(x||D)&&R()}),i("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?A():C(!0,!0)}),i("beforeTransitionStart",(re,ye,F)=>{e.destroyed||!e.autoplay.running||(F||!e.params.autoplay.disableOnInteraction?C(!0,!0):A())}),i("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){A();return}w=!0,x=!1,D=!1,O=setTimeout(()=>{D=!0,x=!0,C(!0)},200)}}),i("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!w)){if(clearTimeout(O),clearTimeout(l),e.params.autoplay.disableOnInteraction){x=!1,w=!1;return}x&&e.params.cssMode&&R(),x=!1,w=!1}}),i("slideChange",()=>{e.destroyed||!e.autoplay.running||(V=!0)}),Object.assign(e.autoplay,{start:k,stop:A,pause:C,resume:R})}const tG=()=>{const[n,e]=U.useState([]),t=Es();U.useEffect(()=>{const l=Ft(Qt,"banners"),c=cs(l,h=>{if(h.exists()){const f=h.val(),g=Object.keys(f).map(v=>({id:v,...f[v]})).filter(v=>v.status==="active");e(g)}else e([])});return()=>c()},[]);const[i,s]=U.useState([]);U.useEffect(()=>{const l=vI(),c=Ft(l,"categories");cs(c,h=>{if(h.exists()){const f=h.val(),g=Object.keys(f).map(v=>({id:v,...f[v]}));s(g)}})},[]);const o=l=>{t(`/products?category=${l}`)};return T.jsxs("div",{className:"overflow-hidden relative w-full",children:[T.jsx("div",{className:"absolute top-0 bottom-0 left-0 right-0",children:T.jsx("img",{src:"https://img.freepik.com/free-vector/hand-drawn-olive-green-background_23-2149725222.jpg?t=st=1739964142~exp=1739967742~hmac=2bc705054c2a2430867275dad61e87e6b18ad0dda207c3f165ca54f906f8a593&w=1060",alt:"",className:"w-full h-full object-cover opacity-20"})}),T.jsx("section",{className:"relative overflow-hidden",children:T.jsxs("div",{children:[T.jsx("div",{className:"w-[600px] md:w-[1200px] md:h-[1200px] lg:w-[1600px] lg:h-[1600px] BannerCircle lg:top-[-900px] z-0 absolute h-[600px] rounded-full md:top-[-550px] top-[-290px] bgGradient overflow-hidden"}),T.jsx("div",{className:"w-[600px] md:w-[1200px] md:h-[1200px] -z-10 absolute h-[600px] BannerCircle2 rounded-full top-[-270px] lg:top-[-880px] md:top-[-520px] bgGradient opacity-30 "}),T.jsx("div",{className:" absolute w-[70px] h-[70px]  left-[10px] top-2 drop-shadow-md",children:T.jsx("img",{src:h2,alt:""})}),T.jsxs("div",{className:"relative text-[#fff] pr-2 pt-5 leading-tight",children:[T.jsx("div",{className:"text-[12px]  text-[#B1C29E] text-end font-semibold",children:"Leading Spice Retailer in Wayanad"}),T.jsx("div",{className:"text-2xl text-end font-bold TextFont1 ",children:"Chasam Ayurvedic"}),T.jsx("div",{className:"text-[12px] text-[#B1C29E] text-end font-semibold",children:"Authentic Ayurvedic & Spice Products"})]}),T.jsxs("div",{className:"overflow-x-auto mx-auto max-w-[1400px] scrollBar md:flex md:justify-center md:items-center md:gap-5 md:px-4",children:[T.jsxs("div",{className:"flex justify-between md:justify-center items-center gap-5 relative pt-[50px] px-2 mb-5",children:[T.jsxs("div",{className:"w-[100px] relative h-[100px] flex justify-center items-center flex-col gap-2 overflow-hidden bg-[#EFE3C2] border border-[#fff] rounded-xl HeaderElements",children:[T.jsx("div",{className:"w-[100px] HeaderElementsimg relative h-[60px]  overflow-hidden rounded-xl",children:T.jsx("img",{src:wH,alt:"",className:"w-full h-full object-contain drop-shadow-md"})}),T.jsx("div",{className:"text-center font-bold text-[10px] leading-tight bottom-1 HeaderElementstext",children:"100% Organic"})]}),T.jsxs("div",{className:"w-[100px] relative h-[100px] HeaderElements flex justify-center items-center flex-col gap-2 overflow-hidden bg-[#EFE3C2] border border-[#fff] rounded-xl",children:[T.jsx("div",{className:"w-[100px] HeaderElementsimg relative h-[60px] overflow-hidden rounded-xl",children:T.jsx("img",{src:bH,alt:"",className:"w-full h-full object-contain drop-shadow-md"})}),T.jsx("div",{className:"text-center font-bold text-[10px] leading-tight bottom-1 HeaderElementstext",children:"Genuine Product"})]}),T.jsxs("div",{className:"w-[100px] relative h-[100px] HeaderElements flex justify-center items-center flex-col gap-2 overflow-hidden bg-[#EFE3C2] border border-[#fff] rounded-xl",children:[T.jsx("div",{className:"w-[100px] HeaderElementsimg relative h-[60px] overflow-hidden rounded-xl",children:T.jsx("img",{src:SH,alt:"",className:"w-full h-full object-contain drop-shadow-md"})}),T.jsx("div",{className:"text-center font-bold text-[10px] leading-tight bottom-1 HeaderElementstext",children:"Quality Guranteed"})]})]}),T.jsx("div",{className:"hidden md:flex md:relative text-[#fff]",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Impedit adipisci corrupti itaque unde, cum reiciendis labore optio fugit pariatur voluptate asperiores perferendis Lorem ipsum dolor sit amet consectetur adipisicing elit. Velit exercitationem doloremque deleniti ut pariatur fugiat maxime magni, explicabo tenetur iusto libero, odit a vel officia tempore in amet earum! Laudantium!"})]}),T.jsx("div",{className:"px-2 mb-3 relative",children:n.length>1?T.jsx(eT,{modules:[HP,qP],pagination:{clickable:!0,renderBullet:(l,c)=>`
          <span class="${c}" style="background-color: #95CD41; width: 10px; height: 10px; margin-bottom: 10px;"></span>
        `},autoplay:{delay:3e3,disableOnInteraction:!1},loop:!0,className:"w-full h-auto md:h-auto BoxShadow border-[#fff] border rounded-xl overflow-hidden",children:n.map(l=>T.jsx(tT,{children:T.jsx("img",{src:l.image,alt:"Banner",className:"w-full h-auto object-cover"})},l.id))}):n.length===1?T.jsx("div",{className:"w-full h-auto md:h-auto BoxShadow border-[#fff] border rounded-xl overflow-hidden",children:T.jsx("img",{src:n[0].image,alt:"Banner",className:"w-full h-auto object-cover"})}):T.jsx("p",{children:"No active banners"})}),T.jsxs("div",{className:"grid grid-cols-2 px-2 gap-2 mb-5",children:[i.map(l=>T.jsx("div",{onClick:()=>o(l.id),className:"cursor-pointer",children:T.jsxs("div",{className:"w-full h-[150px] md:h-[200px] lg:h-[300px] rounded-3xl overflow-hidden relative BoxShadow border border-[#fff]",children:[T.jsx("div",{className:"absolute w-full h-full bg-[#06660c48]"}),T.jsx("div",{className:"absolute bottom-1 text-[#fff] text-center px-2 w-full md:text-3xl",children:l.name}),T.jsx("img",{src:l.image||"default-image-url.jpg",className:"w-full h-full object-cover",alt:l.name})]})},l.id)),T.jsx(Dl,{to:"/products",children:T.jsxs("div",{className:"w-full h-[150px] md:h-[200px] lg:h-[300px] rounded-3xl overflow-hidden relative BoxShadow border border-[#fff]",children:[T.jsx("div",{className:"absolute w-full h-full bg-[#06660c48]"}),T.jsx("span",{className:"text-5xl md:text-8xl relative flex justify-center items-center h-full",children:T.jsx(xH,{className:"border border-[#fff] rounded-full"})}),T.jsx("div",{className:"absolute bottom-1 text-[#fff] text-center px-2 w-full md:text-3xl",children:"See More"})]})})]})]})}),T.jsx("section",{className:"w-full flex flex-col justify-center items-center bg-[#000000] h-auto mb-[53px] lg:mb-[90px]",children:T.jsx("div",{className:" w-full  backdrop-blur-3xl",children:T.jsxs("div",{className:"w-full h-full `rounded-[calc(1.5rem-1px)] bg-[#000] py-5",children:[T.jsx("div",{className:"text-center font-bold text-lg text-[#fff] lg:text-4xl lg:mb-2",children:"Vythiri Care"}),T.jsx("div",{className:"text-center px-2 text-[13px] text-[#fff] lg:text-xl",children:"Chasam Ayurvedic & Spices Garden Shop in Wayanad is one of the leading businesses in the Spice Retailers."})]})})})]})};function nG(n){return Je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M399 384.2C376.9 345.8 335.4 320 288 320l-64 0c-47.4 0-88.9 25.8-111 64.2c35.2 39.2 86.2 63.8 143 63.8s107.8-24.7 143-63.8zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm256 16a72 72 0 1 0 0-144 72 72 0 1 0 0 144z"},child:[]}]})(n)}function iG(n){return Je({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304l-91.4 0z"},child:[]}]})(n)}function sG(n){return Je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M211.1 33c-25.9 0-49.4 2.68-65.7 6.76-8.2 2.04-14.6 4.51-18.2 6.65-1.3.78-1.7 1.18-2.1 1.59.4.41.8.81 2.1 1.59 3.6 2.14 10 4.61 18.2 6.65 16.3 4.08 39.8 6.76 65.7 6.76 25.9 0 49.4-2.68 65.7-6.76 8.2-2.04 14.6-4.51 18.2-6.65 1.3-.78 1.7-1.18 2.1-1.59-.4-.41-.8-.81-2.1-1.59-3.6-2.14-10-4.61-18.2-6.65C260.5 35.68 237 33 211.1 33zm-87 35.13v40.07c6.5 3.3 15 6.6 21.3 8.2 16.3 4.1 39.8 6.8 65.7 6.8 25.9 0 49.4-2.7 65.7-6.8 12-2.9 13.4-3.2 21.3-8.2V68.13c-4.9 2.16-10.5 3.97-16.9 5.57-18.5 4.61-43 7.3-70.1 7.3-27.1 0-51.6-2.69-70.1-7.3-6.4-1.6-12-3.41-16.9-5.57zm8.6 63.47c-8.3 2.9-16.5 8.1-23.2 14.8C98.88 156.9 92.1 171 92.1 184v64c0 5 2.2 9.3 7.86 14.2 5.64 4.8 14.74 9.5 25.94 13.3 22.6 7.5 53.9 11.5 85.2 11.5 31.2 0 62.6-4 85.2-11.5 11.2-3.8 20.3-8.5 25.9-13.3 5.7-4.9 7.9-9.2 7.9-14.2v-64c0-13-6.8-27.1-17.4-37.6-6.7-6.7-14.8-11.9-23.2-14.8-2.6.8-5.4 1.6-8.3 2.3-18.5 4.6-43 7.3-70.1 7.3-27.1 0-51.6-2.7-70.1-7.3-2.9-.7-5.7-1.5-8.3-2.3zM92.1 278.9V344c0 5 2.2 9.3 7.86 14.2 5.64 4.8 14.74 9.5 25.94 13.3 22.6 7.5 53.9 11.5 85.2 11.5 31.2 0 62.6-4 85.2-11.5 11.2-3.8 20.3-8.5 25.9-13.3 5.7-4.9 7.9-9.2 7.9-14.2v-65.1c-7.8 5.6-17.3 10-28.2 13.6-25.4 8.5-58.1 12.5-90.8 12.5-32.8 0-65.4-4-90.8-12.5-10.9-3.6-20.45-8-28.2-13.6zm0 96V440c0 5 2.2 9.3 7.86 14.2 5.64 4.8 14.74 9.5 25.94 13.3 22.6 7.5 53.9 11.5 85.2 11.5 17.5 0 35.2-1.3 51.2-3.7-3.2-4.5-5.2-9.6-5.2-15.4 0-11.8 8.3-21.1 18.7-26.9 6.3-3.6 13.8-6.1 22-7.6 2.2-8.9 9.4-16 17.9-20.8 4.3-2.4 9.2-4.4 14.4-5.9v-23.8c-7.8 5.6-17.3 10-28.2 13.6-25.4 8.5-58.1 12.5-90.8 12.5-32.8 0-65.4-4-90.8-12.5-10.9-3.6-20.45-8-28.2-13.6zM354 413.6c-11.9 0-22.6 2.8-29.5 6.7-2.3 1.3-4 2.6-5.4 3.8 12.6.7 24.2 3.8 33.3 8.9 6.2 3.5 11.7 8.2 15 13.9 3-7.5 9.4-13.6 17-17.8 2-1.1 4.1-2.1 6.3-3.1-1.5-1.8-3.8-3.8-7.2-5.7-6.9-3.9-17.6-6.7-29.5-6.7zm68.7 24.5c-11.9 0-22.6 2.8-29.5 6.7-7 3.9-9.5 8.1-9.5 11.2 0 3.1 2.5 7.3 9.5 11.2 6.9 3.9 17.6 6.7 29.5 6.7 11.9 0 22.6-2.8 29.5-6.7 7-3.9 9.5-8.1 9.5-11.2 0-3.1-2.5-7.3-9.5-11.2-6.9-3.9-17.6-6.7-29.5-6.7zM314.1 442c-11.9 0-22.6 2.8-29.5 6.7-7 3.9-9.5 8.1-9.5 11.2 0 3.1 2.5 7.3 9.5 11.2 6.9 3.9 17.6 6.7 29.5 6.7 11.9 0 22.6-2.8 29.5-6.7 7-3.9 9.5-8.1 9.5-11.2 0-3.1-2.5-7.3-9.5-11.2-6.9-3.9-17.6-6.7-29.5-6.7z"},child:[]}]})(n)}function rG(n){return Je({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m13 16 5-4-5-4v3H4v2h9z"},child:[]},{tag:"path",attr:{d:"M20 3h-9c-1.103 0-2 .897-2 2v4h2V5h9v14h-9v-4H9v4c0 1.103.897 2 2 2h9c1.103 0 2-.897 2-2V5c0-1.103-.897-2-2-2z"},child:[]}]})(n)}function Gp(n){return Je({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M6 22h12a2 2 0 0 0 2-2V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2zm7-18 5 5h-5V4zm-4.5 7a1.5 1.5 0 1 1-.001 3.001A1.5 1.5 0 0 1 8.5 11zm.5 5 1.597 1.363L13 13l4 6H7l2-3z"},child:[]}]})(n)}function aG(n){return Je({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.001 2.002c-5.522 0-9.999 4.477-9.999 9.999 0 4.99 3.656 9.126 8.437 9.879v-6.988h-2.54v-2.891h2.54V9.798c0-2.508 1.493-3.891 3.776-3.891 1.094 0 2.24.195 2.24.195v2.459h-1.264c-1.24 0-1.628.772-1.628 1.563v1.875h2.771l-.443 2.891h-2.328v6.988C18.344 21.129 22 16.992 22 12.001c0-5.522-4.477-9.999-9.999-9.999z"},child:[]}]})(n)}const oG=()=>{const n=Es(),e=()=>{n("/login")};return T.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-[997]",children:T.jsx("div",{children:T.jsx("nav",{className:"w-full bg-[#3E7B27] text-[#fff] font-medium bg-gradient-to-r from-[#8d8d8d] via-[#ffffff] to-[#3E7B27] pt-[5px]  backdrop-blur-3xl",children:T.jsx("div",{className:" w-full h-full bg-[#000]",children:T.jsxs("ul",{className:"flex justify-evenly items-start gap-10 py-3 px-4 text-2xl lg:text-6xl",children:[T.jsx(Dl,{to:"/",children:T.jsx("li",{className:"flex flex-col justify-center items-center",children:T.jsx(m2,{})})}),T.jsx(Dl,{to:"/products",children:T.jsx("li",{children:T.jsx(sG,{})})}),T.jsx(Dl,{to:"/contact",children:T.jsxs("li",{className:"flex flex-col justify-center items-center",children:[" ",T.jsx(nG,{})]})}),T.jsxs("li",{className:"flex flex-col justify-center items-center",onClick:e,children:[" ",T.jsx(rG,{})]})]})})})})})},lG="/assets/an-BR3wQVO_.webm",uG=()=>T.jsx("div",{className:"bg-[#ffffff] h-screen w-full flex flex-col justify-center items-center fixed top-0 bottom-0 left-0 right-0 z-[999]",children:T.jsx("div",{children:T.jsx("div",{className:"w-[100px] h-[100px]",children:T.jsx("video",{src:lG,playsInline:!0,autoPlay:!0,loop:!0,muted:!0,className:"w-full h-full object-contain drop-shadow-md"})})})}),Kh="/assets/chasam-B6Fz_ORD.png";function cG(n){return Je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M217.9 256L345 129c9.4-9.4 9.4-24.6 0-33.9-9.4-9.4-24.6-9.3-34 0L167 239c-9.1 9.1-9.3 23.7-.7 33.1L310.9 417c4.7 4.7 10.9 7 17 7s12.3-2.3 17-7c9.4-9.4 9.4-24.6 0-33.9L217.9 256z"},child:[]}]})(n)}function hG(n){return Je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M295.6 163.7c-5.1 5-5.1 13.3-.1 18.4l60.8 60.9H124.9c-7.1 0-12.9 5.8-12.9 13s5.8 13 12.9 13h231.3l-60.8 60.9c-5 5.1-4.9 13.3.1 18.4 5.1 5 13.2 5 18.3-.1l82.4-83c1.1-1.2 2-2.5 2.7-4.1.7-1.6 1-3.3 1-5 0-3.4-1.3-6.6-3.7-9.1l-82.4-83c-4.9-5.2-13.1-5.3-18.2-.3z"},child:[]}]})(n)}function dG(n){return Je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M435.9 64.9l-367.1 160c-6.5 3.1-6.3 12.4.3 15.3l99.3 56.1c5.9 3.3 13.2 2.6 18.3-1.8l195.8-168.8c1.3-1.1 4.4-3.2 5.6-2 1.3 1.3-.7 4.3-1.8 5.6L216.9 320.1c-4.7 5.3-5.4 13.1-1.6 19.1l64.9 104.1c3.2 6.3 12.3 6.2 15.2-.2L447.2 76c3.3-7.2-4.2-14.5-11.3-11.1z"},child:[]}]})(n)}function fG(n){return Je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M260.062 32C138.605 32 40.134 129.701 40.134 250.232c0 41.23 11.532 79.79 31.559 112.687L32 480l121.764-38.682c31.508 17.285 67.745 27.146 106.298 27.146C381.535 468.464 480 370.749 480 250.232 480 129.701 381.535 32 260.062 32zm109.362 301.11c-5.174 12.827-28.574 24.533-38.899 25.072-10.314.547-10.608 7.994-66.84-16.434-56.225-24.434-90.052-83.844-92.719-87.67-2.669-3.812-21.78-31.047-20.749-58.455 1.038-27.413 16.047-40.346 21.404-45.725 5.351-5.387 11.486-6.352 15.232-6.413 4.428-.072 7.296-.132 10.573-.011 3.274.124 8.192-.685 12.45 10.639 4.256 11.323 14.443 39.153 15.746 41.989 1.302 2.839 2.108 6.126.102 9.771-2.012 3.653-3.042 5.935-5.961 9.083-2.935 3.148-6.174 7.042-8.792 9.449-2.92 2.665-5.97 5.572-2.9 11.269 3.068 5.693 13.653 24.356 29.779 39.736 20.725 19.771 38.598 26.329 44.098 29.317 5.515 3.004 8.806 2.67 12.226-.929 3.404-3.599 14.639-15.746 18.596-21.169 3.955-5.438 7.661-4.373 12.742-2.329 5.078 2.052 32.157 16.556 37.673 19.551 5.51 2.989 9.193 4.529 10.51 6.9 1.317 2.38.901 13.531-4.271 26.359z"},child:[]}]})(n)}function km(n){return Je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M192 277.4h189.7l-43.6 44.7L368 352l96-96-96-96-31 29.9 44.7 44.7H192v42.8z"},child:[]},{tag:"path",attr:{d:"M255.7 421.3c-44.1 0-85.5-17.2-116.7-48.4-31.2-31.2-48.3-72.7-48.3-116.9 0-44.1 17.2-85.7 48.3-116.9 31.2-31.2 72.6-48.4 116.7-48.4 44 0 85.3 17.1 116.5 48.2l30.3-30.3c-8.5-8.4-17.8-16.2-27.7-23.2C339.7 61 298.6 48 255.7 48 141.2 48 48 141.3 48 256s93.2 208 207.7 208c42.9 0 84-13 119-37.5 10-7 19.2-14.7 27.7-23.2l-30.2-30.2c-31.1 31.1-72.5 48.2-116.5 48.2zM448.004 256.847l-.849-.848.849-.849.848.849z"},child:[]}]})(n)}const pG=()=>{const[n,e]=U.useState(""),[t,i]=U.useState(""),[s,o]=U.useState(""),[l,c]=U.useState(!1),h=Es(),f=async g=>{g.preventDefault(),c(!0),o("");try{const _=(await P7(fH,n,t)).user;n==="admin@gmail.com"&&t==="123456"?h("/admin"):o("Unauthorized access. Only admins can log in.")}catch{o("Failed to log in. Check your credentials.")}finally{c(!1)}};return T.jsx("div",{className:"w-full h-screen flex items-center justify-center bg-gray-100 px-4",children:T.jsxs("div",{className:"bg-white relative p-6 rounded-2xl shadow-lg w-full max-w-sm",children:[T.jsx("div",{className:" absolute left-2 top-4",children:T.jsx("span",{onClick:()=>h("/"),className:"cursor-pointer",children:T.jsx(cG,{className:"text-[#178000] text-2xl"})})}),T.jsx("div",{className:"flex justify-center mb-6",children:T.jsx("img",{src:Kh,alt:"Logo",className:"w-24 h-24"})}),T.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-6",children:"Sign In"}),s&&T.jsx("p",{className:"text-red-500 text-center mb-4",children:s}),T.jsxs("form",{onSubmit:f,children:[T.jsxs("div",{className:"relative mb-4",children:[T.jsx(r4,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),T.jsx("input",{type:"email",placeholder:"Enter your email",value:n,onChange:g=>e(g.target.value),className:"w-full pl-10 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),T.jsxs("div",{className:"relative mb-4",children:[T.jsx(l4,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),T.jsx("input",{type:"password",placeholder:"Enter your password",value:t,onChange:g=>i(g.target.value),className:"w-full pl-10 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),T.jsx("button",{type:"submit",className:"w-full bg-green-500 text-white p-3 rounded-lg text-lg font-semibold hover:bg-green-600 transition disabled:bg-gray-400",disabled:l,children:l?"Signing In...":"Sign In"})]})]})})},mG="/assets/adminbg-G0YSHEFU.jpeg",Lm=({})=>{const n=Es(),e=t=>{n(t)};return T.jsxs("nav",{className:"flex flex-col items-center justify-center space-y-6  mt-[-100px] h-full",children:[T.jsx("button",{className:"p-3 pt-0 rounded-lg hover:bg-green-100",onClick:()=>e("/admin"),children:T.jsx(m2,{className:"text-white text-2xl"})}),T.jsx("button",{className:"p-3 rounded-lg hover:bg-green-100",onClick:()=>e("/imagebanner"),children:T.jsx(a4,{className:"text-white text-2xl"})}),T.jsx("button",{className:"p-3 rounded-lg hover:bg-green-100",onClick:()=>e("/product"),children:T.jsx(i4,{className:"text-white text-2xl"})}),T.jsx("button",{className:"p-3 rounded-lg hover:bg-green-100",onClick:()=>e("/category"),children:T.jsx(o4,{className:"text-white text-2xl"})})]})},gG=({})=>{const n=Es(),[e,t]=U.useState(!1),i=h=>{h.stopPropagation(),t(f=>!f)},s=h=>{!h.target.closest(".sidebar")&&!h.target.closest(".menu-btn")&&t(!1)},o=()=>{n("/login")},[l,c]=U.useState(!1);return U.useEffect(()=>{const h=()=>{window.scrollY>50?c(!0):c(!1)};return window.addEventListener("scroll",h),()=>window.removeEventListener("scroll",h)},[]),T.jsxs("div",{className:"flex h-screen relative overflow-hidden",onClick:s,children:[T.jsx("div",{className:`sidebar fixed top-0 left-0 h-full z-[998] bg-[#00000007] backdrop-blur-sm shadow-lg w-14 transform transition-transform ${e?"translate-x-0":"-translate-x-full"}`,children:T.jsx(Lm,{closeMenu:()=>t(!1)})}),T.jsx("div",{className:"fixed inset-0 w-full h-full -z-20",children:T.jsx("img",{src:mG,alt:"Background",className:"h-full w-full object-cover opacity-90"})}),T.jsxs("div",{className:"flex flex-col w-full pb-10",children:[T.jsxs("div",{className:`flex items-center py-4 px-0 z-[999] sticky top-0 w-full transition-colors duration-300 ${l?"bg-white shadow-md rounded-b-3xl":"bg-transparent"}`,children:[T.jsx("button",{className:"menu-btn text-gray-700 text-2xl p-4 focus:outline-none ml-0",onClick:i,children:T.jsx(Wp,{className:`text-3xl ${l?"text-black":"text-white"}`})}),T.jsx("div",{className:"ml-[-5px] flex justify-center",children:T.jsx("img",{src:Kh,alt:"Logo",className:"w-14"})}),T.jsx("div",{className:"flex justify-center ml-auto pr-3 text-2xl",onClick:o,children:T.jsx(km,{className:`text-3xl ${l?"text-black":"text-white"}`})})]}),T.jsxs("div",{className:"flex flex-col items-center justify-center w-full mt-5 px-4",children:[T.jsxs("div",{className:"max-w-4xl text-center bg-black/20 backdrop-blur-sm p-5 rounded-lg",children:[T.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-white",children:["🌿 Nature’s 🌿",T.jsx("span",{className:"block",children:"Wellness Hub!"})]}),T.jsx("p",{className:"mt-4 text-lg md:text-xl text-white font-medium",children:"Chasam Ayurvedic & Spice Garden Shop offers pure Ayurvedic products, exotic spices, and natural remedies sourced from nature. We provide herbal supplements, organic spices, essential oils, and handcrafted wellness products to support a healthy lifestyle."}),T.jsx("p",{className:"mt-2 text-lg md:text-xl text-white font-medium",children:"Discover healing herbs, aromatic spices, and Ayurvedic beauty essentials – all sustainably sourced for your well-being. Step into Chasam and embrace the power of nature! 🌱✨"})]}),T.jsx("div",{className:"mt-10 max-w-4xl w-full"})]})]})]})},yG="/assets/imgb1-DyqoLXDI.jpeg",vG="/assets/imgb2-BJd5ULGS.jpeg",nT="/assets/imgbg-BEyhKrRX.jpeg",_G=()=>{const n=Es(),[e,t]=U.useState(!1),[i,s]=U.useState(!1),[o,l]=U.useState(!1),[c,h]=U.useState(null),[f,g]=U.useState({});U.useEffect(()=>{const N=Ft(Qt,"banners");cs(N,H=>{const q=H.val();g(q||{})})},[]);const v=()=>{n("/login")},_=N=>{N.stopPropagation(),t(H=>!H)},w=N=>{const H=N.target.files[0];if(H){const q=new FileReader;q.readAsDataURL(H),q.onloadend=()=>{h(q.result)}}},x=async()=>{if(!c){alert("Please select an image!");return}const N={image:c,date:new Date().toLocaleString(),status:"active"};try{const H=Ft(Qt,"banners");await sE(H,N),alert("Banner added successfully!"),s(!1),h(null)}catch(H){console.error("Error uploading banner:",H),alert("Failed to upload banner.")}},O=async(N,H)=>{try{await wp(Ft(Qt,`banners/${N}`),{status:H==="active"?"inactive":"active"})}catch(q){console.error("Error updating banner status:",q),alert("Failed to update banner status.")}},V=async N=>{if(window.confirm("Are you sure you want to delete this banner?"))try{await rE(Ft(Qt,`banners/${N}`)),alert("Banner deleted successfully!")}catch(H){console.error("Error deleting banner:",H),alert("Failed to delete banner.")}},[D,I]=U.useState(!1);return U.useEffect(()=>{const N=()=>{window.scrollY>50?I(!0):I(!1)};return window.addEventListener("scroll",N),()=>window.removeEventListener("scroll",N)},[]),T.jsxs("div",{className:"min-h-screen w-full relative",children:[T.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-60",style:{backgroundImage:`url(${nT})`}}),T.jsx("div",{className:"relative z-10",children:T.jsxs("div",{className:"flex h-auto",children:[T.jsx("div",{className:`fixed top-0 z-[998] left-0 h-full bg-[#00000007] backdrop-blur-sm shadow-lg w-14 transition-transform ${e?"translate-x-0":"-translate-x-full"}`,children:T.jsx(Lm,{closeMenu:()=>t(!1)})}),T.jsx("div",{className:"flex flex-1 items-center w-full",children:T.jsxs("div",{className:`flex items-center py-4 px-0 z-[999] fixed top-0 w-full transition-colors duration-300 ${D?"bg-white shadow-md rounded-b-3xl":"bg-transparent"}`,children:[T.jsx("button",{className:"menu-btn text-gray-700 text-2xl p-4 focus:outline-none ml-0",onClick:_,children:T.jsx(Wp,{className:`text-3xl ${D?"text-black":"text-white"}`})}),T.jsx("div",{className:"ml-[-5px] flex justify-center",children:T.jsx("img",{src:Kh,alt:"Logo",className:"w-14"})}),T.jsx("div",{className:"flex justify-center ml-auto pr-3 text-2xl",onClick:v,children:T.jsx(km,{className:`text-3xl ${D?"text-black":"text-white"}`})})]})}),T.jsxs("div",{className:"w-full flex flex-col h-auto px-2 mt-[80px]",children:[T.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center justify-center pt-5",children:"MANAGE BANNERS"}),T.jsxs("div",{className:"flex gap-2 w-full",children:[T.jsxs("div",{className:"relative w-[50%] h-[180px] flex justify-center items-center rounded-3xl bg-cover bg-center cursor-pointer",style:{backgroundImage:`url(${yG})`},onClick:()=>{s(N=>!N),l(!1)},children:[T.jsx("div",{className:"bg-black absolute inset-0 w-full h-full opacity-30 rounded-3xl"}),T.jsx("button",{className:"text-white relative px-6 py-3 text-2xl font-black",children:"ADD BANNER"})]}),T.jsxs("div",{className:"relative w-[50%] h-[180px] flex justify-center items-center rounded-3xl bg-cover bg-center cursor-pointer",style:{backgroundImage:`url(${vG})`},onClick:()=>{l(N=>!N),s(!1)},children:[T.jsx("div",{className:"bg-black absolute inset-0 w-full h-full opacity-30 rounded-3xl"}),T.jsx("button",{className:"text-white relative px-6 py-3 text-2xl font-black",children:"VIEW BANNERS"})]})]}),i&&T.jsxs("div",{className:"w-full max-w-md bg-[#CBBA9E] p-6 mt-6 rounded-lg shadow-lg mb-3",children:[T.jsx("h3",{className:"text-2xl font-bold text-white mb-4 text-center",children:"ADD NEW BANNER"}),T.jsxs("div",{className:"relative flex items-center",children:[T.jsx("div",{className:"absolute right-2",children:T.jsx(Gp,{})}),T.jsx("input",{type:"file",className:"w-full border border-[#51372A] bg-white p-2 rounded-lg focus:outline-none",onChange:w})]}),c&&T.jsxs("div",{className:"mt-4",children:[T.jsx("p",{className:"text-white text-sm ",children:"Preview:"}),T.jsx("img",{src:c,alt:"Preview",className:"w-full h-40 object-cover rounded-lg border border-gray-300 mt-2"})]}),T.jsxs("div",{className:"mt-4 flex justify-center gap-2 w-full",children:[T.jsx("button",{className:"px-4 py-2 bg-[#8B6254] text-white rounded-lg w-full",onClick:()=>{s(!1),h(null)},children:"Cancel"}),T.jsx("button",{className:"px-4 py-2 bg-[#435933] hover:bg-[#304421] text-white rounded-lg w-full",onClick:x,children:"Submit"})]})]}),o&&T.jsxs("div",{className:"mt-8 w-full relative",children:[T.jsx("div",{className:"absolute inset-0 bg-[#ffffff79] bg-opacity-10 backdrop-blur-xl rounded-lg"}),T.jsxs("div",{className:"relative z-10 p-4 rounded-lg shadow-lg",children:[T.jsx("h3",{className:"text-xl font-bold text-black mb-4 text-center",children:"UPLOADED BANNERS"}),Object.keys(f).length===0?T.jsx("p",{className:"text-black",children:"No banners uploaded yet."}):T.jsx("div",{className:"grid grid-cols-1 gap-4",children:Object.entries(f).map(([N,H])=>T.jsxs("div",{className:"shadow-lg bg-[#ab8c59] rounded-lg overflow-hidden",children:[T.jsx("img",{src:H.image,alt:"Banner",className:"w-full h-40 object-cover"}),T.jsxs("div",{className:"p-3 flex justify-between items-center",children:[T.jsx("button",{onClick:()=>O(N,H.status),className:`px-3 py-1 rounded ${H.status==="active"?"bg-green-500":"bg-red-500"} text-white`,children:H.status}),T.jsx("button",{onClick:()=>V(N),className:"px-3 py-1 bg-red-600 text-white rounded",children:"Delete"})]})]},N))})]})]})]})]})})]})},EG="/assets/pbg1-vF5Ze8HB.jpeg",TG="/assets/pbg2-BikijSuf.jpeg";function wG(n){return Je({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"},child:[]}]})(n)}const bG=()=>{const n=Es(),[e,t]=U.useState(!1),[i,s]=U.useState(!1),[o,l]=U.useState(!1),[c,h]=U.useState([]),[f,g]=U.useState(""),[v,_]=U.useState([]),[w,x]=U.useState(!1),[O,V]=U.useState(null),[D,I]=U.useState({name:"",category:"",price:"",purpose:"",description:"",usage:"",netQty:"",images:[],mainImageIndex:0,status:"active"}),[N,H]=U.useState(!1);U.useEffect(()=>{const le=()=>{window.scrollY>50?H(!0):H(!1)};return window.addEventListener("scroll",le),()=>window.removeEventListener("scroll",le)},[]);const[q,Z]=U.useState([]),[k,A]=U.useState([]),[C,R]=U.useState(!1),[j,z]=U.useState([]),[L,de]=U.useState(0);let _e=0;U.useEffect(()=>{const le=Ft(Qt,"products");cs(le,Ge=>{const We=Ge.val();if(We){const Ht=Object.entries(We).map(([fn,Hn])=>({id:fn,...Hn}));h(Ht)}else h([])});const we=Ft(Qt,"categories");cs(we,Ge=>{const We=Ge.val();_(We?Object.values(We):[])})},[]);const ae=()=>n("/login"),he=le=>{I({...D,[le.target.name]:le.target.value})},re=le=>new Promise((we,Ge)=>{const We=new FileReader;We.readAsDataURL(le),We.onload=()=>we(We.result),We.onerror=Ht=>Ge(Ht)}),ye=le=>{I(we=>({...we,mainImageIndex:le}))},F=(le,we)=>{if(!le||le.length===0)return[];if(we===0||we===void 0)return le;const Ge=[...le],We=Ge.splice(we,1)[0];return Ge.unshift(We),Ge},ie=async()=>{if(!D.name||!D.price){alert("Please fill all required fields");return}try{const le=F(D.images,D.mainImageIndex),we={...D,images:le,mainImageIndex:0,status:w?D.status:"active"};if(w&&O){const Ge=Ft(Qt,`products/${O.id}`);await wp(Ge,we);const We=R_(vv,"productImages",O.id);(await aH(We)).exists()?await lH(We,{images:le}):console.warn("No existing Firestore document found, skipping update."),alert("Product updated successfully!")}else{const Ge=Ft(Qt,"products"),We=await sE(Ge,we);if(le.length>0){const Ht={productId:We.key,images:le};await cH(GF(vv,"productImages"),Ht)}alert("Product added successfully!")}Be(),s(!1),x(!1),Z([]),V(null),I({name:"",category:"",price:"",purpose:"",description:"",usage:"",netQty:"",images:[],mainImageIndex:0,status:"active"})}catch(le){console.error("Error saving product:",le),alert("Error saving product. Please try again.")}},ge=async le=>{if(window.confirm("Are you sure you want to delete this product?"))try{const we=Ft(Qt,`products/${le}`);await rE(we);const Ge=R_(vv,"productImages",le);await uH(Ge),alert("Product deleted successfully!")}catch(we){console.error("Error deleting product:",we),alert("Error deleting product. Please try again.")}},fe=le=>{V(le);const we={...le};we.bgImage&&delete we.bgImage,we.mainImageIndex===void 0&&(we.mainImageIndex=0),I(we),x(!0),s(!0),l(!1),le.images&&le.images.length>0&&(Z(le.images),A(le.images.map((Ge,We)=>`image-${We+1}.jpg`)))},pe=async le=>{const we=Array.from(le.target.files);if(we.length>6){alert("You can only upload up to 6 images.");return}const Ge=we.map(We=>URL.createObjectURL(We));Z(Ge);try{const We=await Promise.all(we.map(async Ht=>{const fn=await xt(Ht,800);return await re(fn)}));I({...D,images:We,mainImageIndex:0}),A(we.map(Ht=>Ht.name))}catch(We){console.error("Error processing images:",We),alert("Error processing images. Please try again with smaller files.")}},Oe=le=>{!le.target.closest(".sidebar")&&!le.target.closest(".menu-btn")&&t(!1)},Me=le=>{le.stopPropagation(),t(we=>!we)},xt=(le,we)=>new Promise(Ge=>{const We=new FileReader;We.readAsDataURL(le),We.onload=Ht=>{const fn=new Image;fn.src=Ht.target.result,fn.onload=()=>{const Hn=document.createElement("canvas");let oi=fn.width,fr=fn.height;oi>we&&(fr=we*fr/oi,oi=we),Hn.width=oi,Hn.height=fr,Hn.getContext("2d").drawImage(fn,0,0,oi,fr),Hn.toBlob(Sn=>{Ge(new File([Sn],le.name,{type:"image/jpeg",lastModified:Date.now()}))},"image/jpeg",.7)}}}),Be=()=>{Z([]),A([]),I({name:"",category:"",price:"",purpose:"",description:"",usage:"",netQty:"",images:[],mainImageIndex:0,status:"active"}),x(!1),V(null)},yt=(le,we=0)=>{le&&le.length>0&&(z(le),de(we),R(!0))},et=()=>{de(le=>le>0?le-1:j.length-1)},en=()=>{de(le=>le<j.length-1?le+1:0)},Ri=le=>{_e=le.touches[0].clientX},Fn=le=>{const we=le.changedTouches[0].clientX,Ge=_e-we;Math.abs(Ge)>50&&(Ge>0?en():et())};return T.jsxs("div",{className:"min-h-screen w-full relative",children:[T.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-60",style:{backgroundImage:`url(${nT})`}}),T.jsxs("div",{className:"relative z-10",children:[T.jsxs("div",{className:"flex h-auto",onClick:Oe,children:[T.jsx("div",{className:`sidebar fixed top-0 left-0 h-full z-[998] bg-[#00000007] backdrop-blur-sm shadow-lg w-14 transform transition-transform ${e?"translate-x-0":"-translate-x-full"}`,children:T.jsx(Lm,{closeMenu:()=>t(!1)})}),T.jsx("div",{className:"flex flex-1 items-center w-full",children:T.jsxs("div",{className:`flex items-center py-4 px-0 z-[999] fixed top-0 w-full transition-colors duration-300 ${N?"bg-white shadow-md rounded-b-3xl":"bg-transparent"}`,children:[T.jsx("button",{className:"menu-btn text-gray-700 text-2xl p-4 focus:outline-none ml-0",onClick:Me,children:T.jsx(Wp,{className:`text-3xl ${N?"text-black":"text-white"}`})}),T.jsx("div",{className:"ml-[-5px] flex justify-center",children:T.jsx("img",{src:Kh,alt:"Logo",className:"w-14"})}),T.jsx("div",{className:"flex justify-center ml-auto pr-3 text-2xl",onClick:ae,children:T.jsx(km,{className:`text-3xl ${N?"text-black":"text-white"}`})})]})})]}),T.jsxs("div",{className:"w-full flex flex-col h-auto px-2 mt-[80px]",children:[T.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center justify-center pt-5",children:"MANAGE PRODUCTS"}),T.jsxs("div",{className:"flex gap-2 w-full ",children:[T.jsxs("div",{className:"relative w-[50%] h-[180px] flex justify-center items-center rounded-3xl bg-cover bg-center cursor-pointer",style:{backgroundImage:`url(${EG})`},onClick:()=>{s(!i),l(!1),i||(Be(),x(!1),V(null))},children:[T.jsx("div",{className:"bg-[#000] absolute inset-0 w-full h-full -z-0 mix-blend-multiply opacity-30 rounded-3xl"}),T.jsx("button",{className:"text-white relative px-6 py-3 rounded-lg text-2xl font-black",children:"ADD PRODUCT"})]}),T.jsxs("div",{className:"relative w-[50%] h-[180px] flex justify-center items-center rounded-3xl bg-cover bg-center cursor-pointer",style:{backgroundImage:`url(${TG})`},onClick:()=>{l(!o),s(!1),Z([]),Be()},children:[T.jsx("div",{className:"bg-[#000] absolute inset-0 w-full h-full -z-0 mix-blend-multiply opacity-30 rounded-3xl"}),T.jsx("button",{className:"text-white relative px-6 py-3 rounded-lg text-2xl font-black",children:"VIEW PRODUCTS"})]})]}),i&&T.jsxs("div",{className:"mb-8",children:[T.jsx("h3",{className:"text-xl font-bold text-black mb-4 text-center",children:w?"EDIT PRODUCT":"ADD NEW PRODUCT"}),T.jsx("div",{children:T.jsxs("label",{className:"w-full border cursor-pointer p-2 rounded-lg mb-2 flex justify-center items-center gap-2 bg-white",children:[T.jsx(Gp,{size:20}),T.jsx("span",{children:k.length?k.join(", "):"Product Images"}),T.jsx("input",{type:"file",multiple:!0,className:"hidden",onChange:pe,accept:"image/*"})]})}),q.length>0&&T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-center mb-2",children:"Click on a star icon to set as main product image"}),T.jsx("div",{className:"grid grid-cols-3 gap-2 mb-4",children:q.map((le,we)=>T.jsxs("div",{className:"relative",children:[T.jsx("img",{src:le,alt:`Preview ${we}`,className:"h-16 w-16 object-cover rounded"}),T.jsx("button",{className:"absolute top-1 right-1 bg-white rounded-full p-1",onClick:()=>ye(we),children:T.jsx(wG,{size:12,className:D.mainImageIndex===we?"text-yellow-500":"text-gray-300"})})]},we))})]}),T.jsxs("select",{name:"category",value:D.category,onChange:he,className:"w-full border p-2 rounded-lg mb-2 bg-white",children:[T.jsx("option",{value:"",disabled:!0,children:"Select Category"}),v.map((le,we)=>T.jsx("option",{value:le.name,children:le.name},we))]}),T.jsx("input",{type:"text",name:"name",placeholder:"Product Name",value:D.name,onChange:he,className:"w-full border p-2 rounded-lg mb-2 bg-white"}),T.jsx("input",{type:"text",name:"price",placeholder:"Price",value:D.price,onChange:he,className:"w-full border p-2 rounded-lg mb-2 bg-white"}),T.jsx("textarea",{name:"description",placeholder:"Description",value:D.description,onChange:he,className:"w-full border p-2 rounded-lg mb-2 bg-white"}),T.jsx("textarea",{name:"usage",placeholder:"Product Usage Instructions",value:D.usage,onChange:he,className:"w-full border p-2 rounded-lg mb-2 bg-white"}),T.jsx("input",{type:"text",name:"purpose",placeholder:"Purpose",value:D.purpose,onChange:he,className:"w-full border p-2 rounded-lg mb-2 bg-white"}),T.jsx("input",{type:"text",name:"netQty",placeholder:"Net Qty",value:D.netQty,onChange:he,className:"w-full border p-2 rounded-lg mb-2 bg-white"}),T.jsxs("div",{className:"mt-4 flex justify-center gap-2 w-full",children:[T.jsx("button",{className:"px-4 py-2 bg-[#8B6254] text-white rounded-lg w-full",onClick:()=>{s(!1),x(!1),V(null),Be()},children:"Cancel"}),T.jsx("button",{className:"px-4 py-2 bg-[#435933] hover:bg-[#304421] text-white rounded-lg w-full",onClick:ie,children:w?"Update":"Submit"})]})]}),o&&T.jsxs("div",{className:"mt-8 w-full backdrop-blur-xl p-4 rounded-lg shadow-lg",children:[T.jsx("h3",{className:"text-xl font-bold text-black mb-4 text-center",children:"PRODUCT LIST"}),T.jsx("div",{className:"overflow-auto max-h-[500px]",children:T.jsxs("table",{className:"w-full min-w-[1000px] bg-white border rounded-lg",children:[T.jsx("thead",{className:"sticky top-0 bg-gray-200 z-10 shadow-md",children:T.jsxs("tr",{children:[T.jsx("th",{className:"p-2",children:"Images"}),T.jsx("th",{className:"p-2",children:"Name"}),T.jsx("th",{className:"p-2",children:"Category"}),T.jsx("th",{className:"p-2",children:"Price"}),T.jsx("th",{className:"p-2",children:"Description"}),T.jsx("th",{className:"p-2",children:"Purpose"}),T.jsx("th",{className:"p-2",children:"Usage"}),T.jsx("th",{className:"p-2",children:"Net Qty"}),T.jsx("th",{className:"p-2",children:"Status"}),T.jsx("th",{className:"p-2",children:"Actions"})]})}),T.jsx("tbody",{children:c.map(le=>T.jsxs("tr",{className:"border-b border-r text-center",children:[T.jsx("td",{className:"p-2",children:le.images&&le.images.length>0?T.jsx("div",{className:"w-12 h-12 cursor-pointer",children:T.jsx("img",{src:le.images[0],alt:"Thumbnail",className:"w-full h-full object-cover rounded",onClick:()=>yt(le.images,0)})}):T.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded flex items-center justify-center",children:T.jsx(Gp,{size:20,className:"text-gray-400"})})}),T.jsx("td",{className:"p-2",children:le.name}),T.jsx("td",{className:"p-2",children:le.category}),T.jsx("td",{className:"p-2",children:le.price}),T.jsx("td",{className:"p-2 max-w-[200px]",children:T.jsx("div",{className:"truncate",children:le.description})}),T.jsx("td",{className:"p-2",children:le.purpose}),T.jsx("td",{className:"p-2",children:le.usage}),T.jsx("td",{className:"p-2",children:le.netQty}),T.jsx("td",{className:"p-2",children:T.jsx("button",{className:`px-3 py-1 rounded-full text-sm ${le.status==="active"?"bg-green-500 text-white":"bg-red-500 text-white"}`,onClick:()=>{const we=le.status==="active"?"inactive":"active",Ge=Ft(Qt,`products/${le.id}`);wp(Ge,{status:we})},children:le.status==="active"?"Active":"Inactive"})}),T.jsx("td",{className:"p-2",children:T.jsxs("div",{className:"flex justify-center gap-2",children:[T.jsx("button",{className:"bg-yellow-500 hover:bg-yellow-600 text-white px-3 py-1 rounded-md text-sm",onClick:()=>fe(le),children:"Edit"}),T.jsx("button",{className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded-md text-sm",onClick:()=>ge(le.id),children:"Delete"})]})})]},le.id))})]})})]})]})]}),C&&T.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 backdrop-blur-sm",onClick:()=>R(!1),children:T.jsxs("div",{className:"relative max-w-4xl w-full h-full flex items-center justify-center",onClick:le=>le.stopPropagation(),onTouchStart:Ri,onTouchEnd:Fn,children:[T.jsx("button",{className:"absolute top-4 right-4 z-20 bg-gray-200 rounded-full p-1",onClick:()=>R(!1),children:T.jsx(EH,{size:24})}),T.jsx("button",{className:"absolute left-4 z-20 bg-gray-200 rounded-full p-2 opacity-80 hover:opacity-100",onClick:le=>{le.stopPropagation(),et()},children:T.jsx(CP,{size:24})}),T.jsxs("div",{className:"relative max-h-screen max-w-full p-4",children:[T.jsx("img",{src:j[L],alt:"Product View",className:"max-h-[90vh] max-w-full object-contain"}),T.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-gray-200 px-3 py-1 rounded-full text-sm",children:[L+1," / ",j.length]})]}),T.jsx("button",{className:"absolute right-4 z-20 bg-gray-200 rounded-full p-2 opacity-80 hover:opacity-100",onClick:le=>{le.stopPropagation(),en()},children:T.jsx(AP,{size:24})})]})})]})},SG="/assets/catbg1-CSrqY68K.jpg",xG="/assets/catbg2-B8U5fr-g.jpg",CG=()=>{const n=Es(),[e,t]=U.useState(!1),[i,s]=U.useState(!1),[o,l]=U.useState(!1),[c,h]=U.useState(null),[f,g]=U.useState(""),[v,_]=U.useState([]),[w,x]=U.useState(!1),[O,V]=U.useState(null);U.useEffect(()=>{const R=Ft(Qt,"categories");cs(R,j=>{const z=j.val();if(z){const L=Object.entries(z).map(([de,_e])=>({id:de,..._e}));_(L)}else _([])})},[]);const D=()=>{n("/login")},I=R=>{R.stopPropagation(),t(j=>!j)},N=R=>{const j=R.target.files[0];if(j){const z=new FileReader;z.readAsDataURL(j),z.onloadend=()=>{h(z.result)}}},H=()=>{s(!1),h(null),g(""),x(!1),V(null)},q=async()=>{if(!c||!f){alert("Please enter category name and select an image!");return}const R={image:c,name:f,date:new Date().toLocaleString()};try{if(w&&O){const j=Ft(Qt,`categories/${O}`);await wp(j,R),alert("Category updated successfully!")}else{const j=Ft(Qt,"categories");await sE(j,R),alert("Category added successfully!")}H()}catch(j){console.error("Error saving category:",j),alert("Failed to save category.")}},Z=R=>{x(!0),V(R.id),g(R.name),h(R.image),s(!0),l(!1)},k=async R=>{if(window.confirm("Are you sure you want to delete this category?"))try{const j=Ft(Qt,`categories/${R}`);await rE(j),alert("Category deleted successfully!")}catch(j){console.error("Error deleting category:",j),alert("Failed to delete category.")}},[A,C]=U.useState(!1);return U.useEffect(()=>{const R=()=>{window.scrollY>50?C(!0):C(!1)};return window.addEventListener("scroll",R),()=>window.removeEventListener("scroll",R)},[]),T.jsxs("div",{className:"min-h-screen w-full relative",children:[T.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-60",style:{backgroundImage:`url(${nT})`}}),T.jsx("div",{className:"relative z-10",children:T.jsxs("div",{className:"flex h-auto",children:[T.jsx("div",{className:`sidebar fixed top-0 left-0 h-full z-[998] bg-[#00000007] backdrop-blur-sm shadow-lg w-14 transform transition-transform ${e?"translate-x-0":"-translate-x-full"}`,children:T.jsx(Lm,{closeMenu:()=>t(!1)})}),T.jsx("div",{className:"flex flex-1 items-center w-full",children:T.jsxs("div",{className:`flex items-center py-4 px-0 z-[999] fixed top-0 w-full transition-colors duration-300 ${A?"bg-white shadow-md rounded-b-3xl":"bg-transparent"}`,children:[T.jsx("button",{className:"menu-btn text-gray-700 text-2xl p-4 focus:outline-none ml-0",onClick:I,children:T.jsx(Wp,{className:`text-3xl ${A?"text-black":"text-white"}`})}),T.jsx("div",{className:"ml-[-5px] flex justify-center",children:T.jsx("img",{src:Kh,alt:"Logo",className:"w-14"})}),T.jsx("div",{className:"flex justify-center ml-auto pr-3 text-2xl",onClick:D,children:T.jsx(km,{className:`text-3xl ${A?"text-black":"text-white"}`})})]})}),T.jsxs("div",{className:"w-full flex flex-col h-auto px-2 mt-[80px]",children:[T.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center justify-center pt-5",children:"MANAGE CATEGORIES"}),T.jsxs("div",{className:"flex gap-2 w-full",children:[T.jsxs("div",{className:"relative w-[50%] h-[180px] flex justify-center overflow-hidden items-center rounded-3xl bg-cover bg-center cursor-pointer",style:{backgroundImage:`url(${SG})`},onClick:()=>{H(),s(!0),l(!1)},children:[T.jsx("div",{className:"bg-[#000] absolute inset-0 w-full h-full -z-0 mix-blend-multiply opacity-30"}),T.jsx("button",{className:"text-white relative px-6 py-3 rounded-lg text-2xl font-black transition",children:"ADD CATEGORY"})]}),T.jsxs("div",{className:"relative w-[50%] h-[180px] flex justify-center overflow-hidden items-center rounded-3xl bg-cover bg-center cursor-pointer",style:{backgroundImage:`url(${xG})`},onClick:()=>{l(R=>!R),s(!1)},children:[T.jsx("div",{className:"bg-[#000] absolute inset-0 w-full h-full -z-0 mix-blend-multiply opacity-30"}),T.jsx("button",{className:"text-white relative px-6 py-3 rounded-lg text-2xl font-black transition",children:"VIEW CATEGORIES"})]})]}),i&&T.jsxs("div",{className:"w-full max-w-md bg-[#CBBA9E] p-6 mt-6 rounded-lg shadow-lg",children:[T.jsx("h3",{className:"text-2xl font-bold text-white mb-4 text-center",children:w?"EDIT CATEGORY":"ADD NEW CATEGORY"}),T.jsx("input",{type:"text",placeholder:"Category Name",className:"w-full border p-2 rounded-lg",value:f,onChange:R=>g(R.target.value)}),T.jsxs("div",{className:"mt-2 relative border rounded-lg p-2 bg-white",children:[T.jsx("input",{type:"file",id:"categoryImage",className:"opacity-0 absolute inset-0 w-full h-full cursor-pointer",onChange:N}),T.jsxs("div",{className:"flex items-center justify-center",children:[T.jsx(Gp,{className:"text-gray-500 mr-2"}),T.jsx("span",{className:"text-gray-500",children:c?"Change Image":"Select Image"})]})]}),c&&T.jsxs("div",{className:"mt-2",children:[T.jsx("p",{className:"text-white text-sm mb-1",children:"Image Preview:"}),T.jsx("img",{src:c,alt:"Preview",className:"w-full h-40 object-cover rounded-lg"})]}),T.jsxs("div",{className:"mt-4 flex justify-center gap-2 w-full",children:[T.jsx("button",{className:"px-4 py-2 bg-[#8B6254] text-white rounded-lg w-full",onClick:H,children:"Cancel"}),T.jsx("button",{className:"px-4 py-2 bg-[#435933] hover:bg-[#304421] text-white rounded-lg w-full",onClick:q,children:w?"Update":"Submit"})]})]}),o&&T.jsxs("div",{className:"mt-8 w-full mb-5",children:[T.jsx("h3",{className:"text-xl font-bold text-black mb-4 text-center",children:"UPLOADED CATEGORIES"}),v.length===0?T.jsx("p",{className:"text-black",children:"No categories uploaded yet."}):T.jsx("div",{className:"grid grid-cols-2 gap-4",children:v.map(R=>T.jsxs("div",{className:"bg-[#aea08f] p-4 rounded-lg shadow-lg relative",children:[T.jsx("img",{src:R.image,alt:"Category",className:"w-full h-40 object-cover rounded-lg"}),T.jsx("p",{className:"text-black text-center mt-2 font-bold",children:R.name}),T.jsxs("div",{className:" justify-center items-center flex gap-2",children:[T.jsx("button",{onClick:()=>Z(R),className:" p-2 rounded-full text-blue-600 ",children:T.jsx(s4,{})}),T.jsx("button",{onClick:()=>k(R.id),className:" p-2 rounded-full text-red-600 ",children:T.jsx(u4,{})})]})]},R.id))})]})]})]})})]})};function AG(n){return Je({attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M18.319 14.4326C20.7628 11.2941 20.542 6.75347 17.6569 3.86829C14.5327 0.744098 9.46734 0.744098 6.34315 3.86829C3.21895 6.99249 3.21895 12.0578 6.34315 15.182C9.22833 18.0672 13.769 18.2879 16.9075 15.8442C16.921 15.8595 16.9351 15.8745 16.9497 15.8891L21.1924 20.1317C21.5829 20.5223 22.2161 20.5223 22.6066 20.1317C22.9971 19.7412 22.9971 19.1081 22.6066 18.7175L18.364 14.4749C18.3493 14.4603 18.3343 14.4462 18.319 14.4326ZM16.2426 5.28251C18.5858 7.62565 18.5858 11.4246 16.2426 13.7678C13.8995 16.1109 10.1005 16.1109 7.75736 13.7678C5.41421 11.4246 5.41421 7.62565 7.75736 5.28251C10.1005 2.93936 13.8995 2.93936 16.2426 5.28251Z",fill:"currentColor"},child:[]}]})(n)}const RG=()=>{const[n,e]=U.useState([]),[t,i]=U.useState([]),[s,o]=U.useState(null),[l,c]=U.useState(!1),[h,f]=U.useState([]),[g,v]=U.useState(""),[_,w]=U.useState([]),[x,O]=U.useState(!1);U.useRef(null);const V=hr(),D=Es();U.useEffect(()=>{const A=new URLSearchParams(V.search).get("category");A&&o(A)},[V]),U.useEffect(()=>{const k=Ft(Qt,"categories");cs(k,A=>{const C=A.val();if(C){const R=Object.entries(C).map(([j,z])=>({id:j,...z}));e(R)}})},[]),U.useEffect(()=>{const k=Ft(Qt,"products");cs(k,A=>{const C=A.val();if(C){const R=Object.entries(C).map(([j,z])=>({id:j,...z})).filter(j=>j.status!=="inactive");i(R),I(R,s)}else i([]),w([])})},[]),U.useEffect(()=>{I(t,s);const k=new URLSearchParams(V.search);s?k.set("category",s):k.delete("category"),D({pathname:V.pathname,search:k.toString()},{replace:!0})},[s,t]);const I=(k,A)=>{if(!A){w(k);return}const C=n.find(j=>j.id===A);if(!C){w(k);return}const R=k.filter(j=>j.category===C.name);w(R)},N=k=>{const A=k.target.value.toLowerCase();if(v(A),A.trim()==="")I(t,s);else{const C=_.filter(R=>R.name.toLowerCase().includes(A));w(C)}},H=k=>{o(k),v(""),window.scrollTo({top:-50,behavior:"smooth"})};U.useEffect(()=>{const k=Ft(Qt,"banners"),A=cs(k,C=>{if(C.exists()){const R=C.val(),j=Object.keys(R).map(z=>({id:z,...R[z]})).filter(z=>z.status==="active");f(j)}else f([])});return()=>A()},[]);const[q,Z]=U.useState(null);return T.jsxs("div",{className:"overflow-hidden relative w-full",children:[T.jsx("div",{className:"absolute top-0 bottom-0 left-0 right-0",children:T.jsx("img",{src:"https://img.freepik.com/free-vector/hand-drawn-olive-green-background_23-2149725222.jpg?t=st=1739964142~exp=1739967742~hmac=2bc705054c2a2430867275dad61e87e6b18ad0dda207c3f165ca54f906f8a593&w=1060",alt:"",className:"w-full h-full object-cover opacity-20"})}),T.jsx("section",{className:"relative overflow-hidden ",children:T.jsxs("div",{children:[T.jsx("div",{className:"w-[600px] md:w-[1200px] md:h-[1200px] lg:w-[1600px] lg:h-[1600px] BannerCircle lg:top-[-900px] z-0 absolute h-[600px] rounded-full md:top-[-550px] top-[-290px] bgGradient overflow-hidden"}),T.jsx("div",{className:"w-[600px] md:w-[1200px] md:h-[1200px] -z-10 absolute h-[600px] BannerCircle2 rounded-full top-[-270px] lg:top-[-880px] md:top-[-520px] bgGradient opacity-30 "}),T.jsx("div",{className:" absolute w-[70px] h-[70px]  left-[10px] top-2 drop-shadow-md pb-5",children:T.jsx("img",{src:h2,alt:""})}),T.jsxs("div",{className:"relative text-[#fff] pr-2 pt-5 leading-tight mb-5",children:[T.jsx("div",{className:"text-[12px]  text-[#B1C29E] text-end font-semibold",children:"Leading Spice Retailer in Wayanad"}),T.jsx("div",{className:"text-2xl text-end font-bold TextFont1 ",children:"Chasam Ayurvedic"}),T.jsx("div",{className:"text-[12px] text-[#B1C29E] text-end font-semibold",children:"Authentic Ayurvedic & Spice Products"})]}),T.jsx("div",{className:"px-2 mb-3  relative mt-2",children:h.length>1?T.jsx(eT,{modules:[HP,qP],pagination:{clickable:!0,renderBullet:(k,A)=>`
          <span class="${A}" style="background-color: #95CD41; width: 10px; height: 10px; margin-bottom: 10px;"></span>
        `},autoplay:{delay:3e3,disableOnInteraction:!1},loop:!0,className:"w-full h-auto md:h-auto BoxShadow border-[#fff] border rounded-xl overflow-hidden",children:h.map(k=>T.jsx(tT,{children:T.jsx("img",{src:k.image,alt:"Banner",className:"w-full h-full object-cover"})},k.id))}):h.length===1?T.jsx("div",{className:"w-full h-auto md:h-auto BoxShadow border-[#fff] border rounded-xl overflow-hidden",children:T.jsx("img",{src:h[0].image,alt:"Banner",className:"w-full h-full object-cover"})}):T.jsx("p",{children:"No active banners"})}),T.jsx("div",{className:"px-2 w-full mb-3 max-w-[1200px] mx-auto",children:T.jsx("div",{className:"bg-gradient-to-r from-[#13c200] via-[#7eff87] to-[#006000] rounded-3xl p-[1px]",children:T.jsxs("div",{className:"relative w-full flex justify- items-center bg-[#fff] py-3 lg:py-4 rounded-3xl",children:[T.jsx("input",{type:"text",placeholder:"Search Product...",className:"border-none w-full outline-none px-4 text-[#5B913B]",value:g,onChange:N}),T.jsx("div",{className:" absolute right-5 text-2xl text-[#5B913B]",children:T.jsx(AG,{})})]})})}),T.jsx("div",{className:"mb-5 overflow-x-auto relative whitespace-nowrap w-full scrollBar",children:T.jsxs("ul",{className:"flex items-center lg:justify-center gap-2 font-semibold flex-shrink-0 min-w-fit px-4",children:[T.jsxs("li",{className:"flex justify-center items-center flex-col text-[12px] font-semibold gap-1 cursor-pointer",onClick:()=>H(null),children:[T.jsx("div",{className:`w-[80px] h-[80px] rounded-full border-[2px] overflow-hidden bgGradient ${s===null?"border-yellow-400":"border-[#00aa0b]"}`,children:T.jsx("div",{className:"w-full h-full flex items-center justify-center text-center",children:T.jsx("span",{className:"text-white text-lg font-bold",children:"ALL"})})}),T.jsx("span",{className:`text-nowrap ${s===null?"font-bold text-yellow-400":"text-[#00aa0b]"}`,children:"All Products"})]}),n.map(k=>T.jsxs("li",{className:"flex justify-center items-center flex-col text-[12px] font-semibold gap-1 cursor-pointer",onClick:()=>H(k.id),children:[T.jsx("div",{className:`w-[80px] h-[80px] rounded-full border-[2px] overflow-hidden bg-[#1A1A19] ${s===k.id?"border-yellow-400":"border-[#00aa0b]"}`,children:T.jsx("img",{src:k.image,className:"w-full h-full object-cover",alt:k.name})}),T.jsx("span",{className:`text-nowrap ${s===k.id?"font-bold text-yellow-400":"text-[#00aa0b]"}`,children:k.name})]},k.id))]})})]})}),T.jsx("section",{className:"w-full px-2 mb-16 md:py-8",children:T.jsx("div",{className:"w-full grid grid-cols-2 place-items-center  md:grid md:grid-cols-2 gap-2 relative z-20 mb-2",children:_.length>0?_.map(k=>T.jsx("div",{className:"w-full ",children:T.jsxs("div",{className:"w-full relative flex flex-col gap-3 drop-shadow-sm h-[250px] p-1  backdrop-blur-sm rounded-xl border border-[#fff] bg-[#fff]",onClick:()=>{Z(k.id),c(!0)},children:[T.jsx("div",{className:"w-full h-[150px] rounded-xl border-[#fff] border overflow-hidden ",children:T.jsx("img",{src:k.image||k.images&&k.images[0],alt:k.name,className:"w-full h-full object-cover"})}),T.jsxs("div",{className:"flex flex-col gap- bg-amber-100 w-full px-2  rounded-b-xl",children:[T.jsx("div",{className:"text-[#000] font-bold TextFont1",children:k.name}),T.jsxs("div",{className:"text-[#000] font-base flex items-center",children:[T.jsx(g2,{}),T.jsx("span",{className:"text-[17px] font-bold",children:k.price})]}),T.jsxs("div",{className:"flex justify-start items-center gap-0.5 text-sm font-medium mb-2",children:["View More ",T.jsx(hG,{className:"text-xl"})]})]})]})},k.id)):T.jsx("div",{className:"text-center text-white text-lg py-4",children:"No products found"})})}),l&&T.jsx(TH,{openPopUp:l,setOpenPopUp:c,productId:q})]})};function IG(n){return Je({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13.0281 2.00073C14.1535 2.00259 14.7238 2.00855 15.2166 2.02322L15.4107 2.02956C15.6349 2.03753 15.8561 2.04753 16.1228 2.06003C17.1869 2.1092 17.9128 2.27753 18.5503 2.52503C19.2094 2.7792 19.7661 3.12253 20.3219 3.67837C20.8769 4.2342 21.2203 4.79253 21.4753 5.45003C21.7219 6.0867 21.8903 6.81337 21.9403 7.87753C21.9522 8.1442 21.9618 8.3654 21.9697 8.58964L21.976 8.78373C21.9906 9.27647 21.9973 9.84686 21.9994 10.9723L22.0002 11.7179C22.0003 11.809 22.0003 11.903 22.0003 12L22.0002 12.2821L21.9996 13.0278C21.9977 14.1532 21.9918 14.7236 21.9771 15.2163L21.9707 15.4104C21.9628 15.6347 21.9528 15.8559 21.9403 16.1225C21.8911 17.1867 21.7219 17.9125 21.4753 18.55C21.2211 19.2092 20.8769 19.7659 20.3219 20.3217C19.7661 20.8767 19.2069 21.22 18.5503 21.475C17.9128 21.7217 17.1869 21.89 16.1228 21.94C15.8561 21.9519 15.6349 21.9616 15.4107 21.9694L15.2166 21.9757C14.7238 21.9904 14.1535 21.997 13.0281 21.9992L12.2824 22C12.1913 22 12.0973 22 12.0003 22L11.7182 22L10.9725 21.9993C9.8471 21.9975 9.27672 21.9915 8.78397 21.9768L8.58989 21.9705C8.36564 21.9625 8.14444 21.9525 7.87778 21.94C6.81361 21.8909 6.08861 21.7217 5.45028 21.475C4.79194 21.2209 4.23444 20.8767 3.67861 20.3217C3.12278 19.7659 2.78028 19.2067 2.52528 18.55C2.27778 17.9125 2.11028 17.1867 2.06028 16.1225C2.0484 15.8559 2.03871 15.6347 2.03086 15.4104L2.02457 15.2163C2.00994 14.7236 2.00327 14.1532 2.00111 13.0278L2.00098 10.9723C2.00284 9.84686 2.00879 9.27647 2.02346 8.78373L2.02981 8.58964C2.03778 8.3654 2.04778 8.1442 2.06028 7.87753C2.10944 6.81253 2.27778 6.08753 2.52528 5.45003C2.77944 4.7917 3.12278 4.2342 3.67861 3.67837C4.23444 3.12253 4.79278 2.78003 5.45028 2.52503C6.08778 2.27753 6.81278 2.11003 7.87778 2.06003C8.14444 2.04816 8.36564 2.03847 8.58989 2.03062L8.78397 2.02433C9.27672 2.00969 9.8471 2.00302 10.9725 2.00086L13.0281 2.00073ZM12.0003 7.00003C9.23738 7.00003 7.00028 9.23956 7.00028 12C7.00028 14.7629 9.23981 17 12.0003 17C14.7632 17 17.0003 14.7605 17.0003 12C17.0003 9.23713 14.7607 7.00003 12.0003 7.00003ZM12.0003 9.00003C13.6572 9.00003 15.0003 10.3427 15.0003 12C15.0003 13.6569 13.6576 15 12.0003 15C10.3434 15 9.00028 13.6574 9.00028 12C9.00028 10.3431 10.3429 9.00003 12.0003 9.00003ZM17.2503 5.50003C16.561 5.50003 16.0003 6.05994 16.0003 6.74918C16.0003 7.43843 16.5602 7.9992 17.2503 7.9992C17.9395 7.9992 18.5003 7.4393 18.5003 6.74918C18.5003 6.05994 17.9386 5.49917 17.2503 5.50003Z"},child:[]}]})(n)}const Nf="/assets/waveorg-COFwNQey.png",NG=()=>{const[n,e]=ht.useState(""),t=async i=>{i.preventDefault(),e("Sending....");const s=new FormData(i.target);s.append("access_key","3e557a00-0b21-45e5-b274-496427ac9210");const l=await(await fetch("https://api.web3forms.com/submit",{method:"POST",body:s})).json();l.success?(e("Message Sent Successfully!"),i.target.reset(),setTimeout(()=>{e("")},3e3)):(console.log("Error",l),e(l.message),setTimeout(()=>{e("")},3e3))};return T.jsxs("div",{className:"ContactBg relative bgGradient mix-blend-multiply w-full h-screen py-10 flex flex-col justify-center items-center overflow-hidden",children:[T.jsx("a",{href:"/",children:T.jsx("div",{className:" absolute top-4 left-4 text-xl bg-[#fff] p-1 rounded-full",children:T.jsx(p2,{})})}),T.jsxs("div",{className:"relative",children:[T.jsx("img",{src:Nf,alt:""}),T.jsx("img",{src:Nf,alt:"",className:"opacity-10 absolute top-2 drop-shadow-sm rotate-3"})]}),T.jsx("div",{className:"text-center mb-3 text-3xl drop-shadow-2xl font-bold text-[#fff]",children:"Contact Us"}),T.jsxs("div",{className:"md:flex md:justify-center md:items-center w-full md:gap-10 px-2 md:px-6 max-w-[1200px] mx-auto",children:[T.jsxs("div",{className:"flex flex-col justify-center items-center w-full px-2 md:w-[60%]",children:[T.jsxs("form",{action:"",className:"w-full flex flex-col gap-2 mb-5",onSubmit:t,children:[T.jsxs("div",{className:"relative flex items-center w-full",children:[T.jsx("input",{type:"text",placeholder:"First Name",className:"w-full px-8 py-2 rounded-3xl border-[2px] border-[#fff] backdrop-blur-sm outline-none text-[#fff]",name:"firstname"}),T.jsx("span",{className:" absolute right-4 text-[#fff]",children:T.jsx(iG,{})})]}),T.jsxs("div",{className:"relative flex items-center w-full",children:[T.jsx("input",{type:"number",placeholder:"Phone Number",className:"w-full px-8 py-2 rounded-3xl border-[2px] border-[#fff] backdrop-blur-sm outline-none text-[#fff]",name:"phonenumber"}),T.jsx("span",{className:" absolute right-4 text-[#fff]",children:T.jsx(h4,{})})]}),T.jsxs("div",{className:"relative flex items-center w-full",children:[T.jsx("input",{type:"email",placeholder:"Email",className:"w-full px-8 py-2 rounded-3xl border-[2px] border-[#fff] backdrop-blur-sm outline-none text-[#fff]",name:"email"}),T.jsx("span",{className:"absolute right-4 text-[#fff]",children:T.jsx(y2,{})})]}),T.jsxs("div",{className:"relative flex items-start w-full",children:[T.jsx("textarea",{name:"message",placeholder:"Message",id:"",className:"w-full px-8 py-2 rounded-3xl border-[2px] border-[#fff] backdrop-blur-sm outline-none text-[#fff]"}),T.jsx("span",{className:"absolute right-4 text-[#fff] top-2",children:T.jsx(c4,{})})]}),T.jsx("div",{className:"flex justify-between w-full rounded-2xl bg-[#fff]",children:T.jsxs("button",{className:"flex items-center textGradient2 justify-center font-bold gap-2 px-10 w-full py-2 rounded-2xl",children:["Submit ",T.jsx(dG,{className:"text-[#00af0f]"})]})})]}),T.jsx("span",{children:n}),T.jsxs("div",{className:"flex justify-center items-center gap-4 border-t w-full pt-3 border-[#fff]",children:[T.jsx("div",{className:"text-2xl text-[#fff]",children:T.jsx(aG,{})}),T.jsx("a",{href:"https://www.instagram.com/chasamayurvedicspicesgarden?utm_source=ig_web_button_share_sheet&igsh=ZDNlZDc0MzIxNw==",target:"_blank",rel:"noopener noreferrer",className:"text-2xl text-[#fff]",children:T.jsx(IG,{})}),T.jsx("a",{href:"https://wa.me/919072423493",target:"_blank",rel:"noopener noreferrer",className:"text-2xl text-[#fff]",children:T.jsx(fG,{})})]})]}),T.jsxs("div",{className:"hidden md:flex md:flex-col md:w-[40%]",children:[T.jsx("div",{className:"mb-2 text-3xl font-semibold text-[#fff]",children:"🌿 Experience the Essence of Ayurveda & Pure Spices 🌿"}),T.jsxs("div",{className:"text-[#fff]",children:["We are always here to assist you! Whether you have questions about our Ayurvedic products, need guidance on our organic spices, or want to visit our store, feel free to reach out.",T.jsx("span",{className:"block font-bold",children:"📍 Address "}),"  📌 Chasam Ayurvedic & Spices Garden Vythiri, Wayanad, Kerala, India",T.jsx("span",{className:"block font-bold",children:"📲 Get in Touch"}),"  📞 Phone: +91 90724 23493 ",T.jsx("span",{className:"block",children:"✉️ Email: chasamayurvedic@gmail.com"})]})]})]}),T.jsxs("div",{className:"relative",children:[T.jsx("img",{src:Nf,alt:""}),T.jsx("img",{src:Nf,alt:"",className:"opacity-10 absolute top-2 drop-shadow-sm rotate-3"})]})]})},PG=()=>T.jsx(UO,{children:T.jsx(DG,{})}),DG=()=>{const n=hr(),e=["/login","/admin","/imagebanner","/product","/category"],[t,i]=U.useState(!1);return U.useEffect(()=>{if(n.pathname==="/"){i(!0);const s=setTimeout(()=>{i(!1)},3e3);return()=>clearTimeout(s)}else i(!1)},[n.pathname]),T.jsxs(T.Fragment,{children:[!e.includes(n.pathname)&&T.jsx(oG,{}),t?T.jsx(uG,{}):T.jsxs(mO,{children:[T.jsx(Ws,{path:"/",element:T.jsx(tG,{})}),T.jsx(Ws,{path:"/login",element:T.jsx(pG,{})}),T.jsx(Ws,{path:"/admin",element:T.jsx(gG,{})}),T.jsx(Ws,{path:"/imagebanner",element:T.jsx(_G,{})}),T.jsx(Ws,{path:"/product",element:T.jsx(bG,{})}),T.jsx(Ws,{path:"/category",element:T.jsx(CG,{})}),T.jsx(Ws,{path:"/products",element:T.jsx(RG,{})}),T.jsx(Ws,{path:"/contact",element:T.jsx(NG,{})})]})]})};xM.createRoot(document.getElementById("root")).render(T.jsx(U.StrictMode,{children:T.jsx(PG,{})}));
